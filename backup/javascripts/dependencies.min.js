!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Z.type(e);return"function"!==n&&!Z.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function r(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ae.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return U.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=he[e]={};return Z.each(e.match(de)||[],function(e,n){t[n]=!0}),t}function s(){J.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+a.uid++}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(be,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:xe.test(n)?Z.parseJSON(n):n)}catch(e){}ye.set(e,t,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function f(){try{return J.activeElement}catch(e){}}function p(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function d(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=Pe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,r=e.length;n<r;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function m(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(ve.hasData(e)&&(o=ve.access(e),s=ve.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)Z.event.add(t,i,l[i][n])}ye.hasData(e)&&(a=ye.access(e),u=Z.extend({},a),ye.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ne.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function x(t,n){var r,i=Z(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:Z.css(i[0],"display");return i.detach(),o}function b(e){var t=J,n=$e[e];return n||(n=x(e,t),"none"!==n&&n||(We=(We||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=We[0].contentDocument,t.write(),t.close(),n=x(e,t),We.detach()),$e[e]=n),n}function w(e,t,n){var r,i,o,s,a=e.style;return n=n||_e(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||Z.contains(e.ownerDocument,e)||(s=Z.style(e,t)),Be.test(s)&&Ie.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function T(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ge.length;i--;)if(t=Ge[i]+n,t in e)return t;return r}function N(e,t,n){var r=Xe.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function k(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=Z.css(e,n+Te[o],!0,i)),r?("content"===n&&(s-=Z.css(e,"padding"+Te[o],!0,i)),"margin"!==n&&(s-=Z.css(e,"border"+Te[o]+"Width",!0,i))):(s+=Z.css(e,"padding"+Te[o],!0,i),"padding"!==n&&(s+=Z.css(e,"border"+Te[o]+"Width",!0,i)));return s}function E(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=_e(e),s="border-box"===Z.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=w(e,t,o),(i<0||null==i)&&(i=e.style[t]),Be.test(i))return i;r=s&&(Q.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+k(e,t,n||(s?"border":"content"),r,o)+"px"}function S(e,t){for(var n,r,i,o=[],s=0,a=e.length;s<a;s++)r=e[s],r.style&&(o[s]=ve.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Ce(r)&&(o[s]=ve.access(r,"olddisplay",b(r.nodeName)))):(i=Ce(r),"none"===n&&i||ve.set(r,"olddisplay",i?n:Z.css(r,"display"))));for(s=0;s<a;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function D(e,t,n,r,i){return new D.prototype.init(e,t,n,r,i)}function j(){return setTimeout(function(){Qe=void 0}),Qe=Z.now()}function A(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Te[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function L(e,t,n){for(var r,i=(nt[t]||[]).concat(nt["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function q(e,t,n){var r,i,o,s,a,u,l,c,f=this,p={},d=e.style,h=e.nodeType&&Ce(e),g=ve.get(e,"fxshow");n.queue||(a=Z._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,Z.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=Z.css(e,"display"),c="none"===l?ve.get(e,"olddisplay")||b(e.nodeName):l,"inline"===c&&"none"===Z.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Ke.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;h=!0}p[r]=g&&g[r]||Z.style(e,r)}else l=void 0;if(Z.isEmptyObject(p))"inline"===("none"===l?b(e.nodeName):l)&&(d.display=l);else{g?"hidden"in g&&(h=g.hidden):g=ve.access(e,"fxshow",{}),o&&(g.hidden=!h),h?Z(e).show():f.done(function(){Z(e).hide()}),f.done(function(){var t;ve.remove(e,"fxshow");for(t in p)Z.style(e,t,p[t])});for(r in p)s=L(h?g[r]:0,r,f),r in g||(g[r]=s.start,h&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function H(e,t){var n,r,i,o,s;for(n in e)if(r=Z.camelCase(n),i=t[r],o=e[n],Z.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=Z.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function O(e,t,n){var r,i,o=0,s=tt.length,a=Z.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Qe||j(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;s<u;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),o<1&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Qe||j(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Z.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(H(c,l.opts.specialEasing);o<s;o++)if(r=tt[o].call(l,e,c,l.opts))return r;return Z.map(c,L,l),Z.isFunction(l.opts.start)&&l.opts.start.call(e,l),Z.fx.timer(Z.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function F(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(de)||[];if(Z.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function P(e,t,n,r){function i(a){var u;return o[a]=!0,Z.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},s=e===xt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function R(e,t){var n,r,i=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Z.extend(!0,e,r),e}function M(e,t,n){for(var r,i,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}function W(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[i]:l[i]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function $(e,t,n,r){var i;if(Z.isArray(t))Z.each(t,function(t,i){n||Nt.test(e)?r(e,i):$(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==Z.type(t))r(e,t);else for(i in t)$(e+"["+i+"]",t[i],n,r)}function I(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var B=[],_=B.slice,z=B.concat,X=B.push,U=B.indexOf,V={},Y=V.toString,G=V.hasOwnProperty,Q={},J=e.document,K="2.1.4",Z=function(e,t){return new Z.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:K,constructor:Z,selector:"",length:0,toArray:function(){return _.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:_.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(_.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:B.sort,splice:B.splice},Z.extend=Z.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||Z.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(Z.isPlainObject(r)||(i=Z.isArray(r)))?(i?(i=!1,o=n&&Z.isArray(n)?n:[]):o=n&&Z.isPlainObject(n)?n:{},s[t]=Z.extend(l,o,r)):void 0!==r&&(s[t]=r));return s},Z.extend({expando:"jQuery"+(K+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===Z.type(e)&&!e.nodeType&&!Z.isWindow(e)&&!(e.constructor&&!G.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?V[Y.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=J.createElement("script"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,s=e.length,a=n(e);if(r){if(a)for(;o<s&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(a)for(;o<s&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?Z.merge(r,"string"==typeof e?[e]:e):X.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:U.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,s=e.length,a=!n;o<s;o++)r=!t(e[o],o),r!==a&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,s=e.length,a=n(e),u=[];if(a)for(;o<s;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return z.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e))return r=_.call(arguments,2),i=function(){return e.apply(t||this,r.concat(_.call(arguments)))},i.guid=e.guid=e.guid||Z.guid++,i},now:Date.now,support:Q}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()});var ie=function(e){function t(e,t,n,r){var i,o,s,a,u,l,f,d,h,g;if((t?t.ownerDocument||t:$)!==q&&L(t),t=t||q,n=n||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!r&&O){if(11!==a&&(i=ye.exec(e)))if(s=i[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&M(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((s=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(s)),n}if(w.qsa&&(!F||!F.test(e))){if(d=f=W,h=t,g=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(l=k(e),(f=t.getAttribute("id"))?d=f.replace(be,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+p(l[u]);h=xe.test(e)&&c(t.parentNode)||t,g=l.join(",")}if(g)try{return K.apply(n,h.querySelectorAll(g)),n}catch(e){}finally{f||t.removeAttribute("id")}}}return S(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[W]=!0,e}function i(e){var t=q.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function p(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=B++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,u,l=[I,o];if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[W]||(t[W]={}),(a=u[r])&&a[0]===I&&a[1]===o)return l[2]=a[2];if(u[r]=l,l[2]=e(t,n,s))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function m(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,l=null!=t;a<u;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),l&&t.push(a)));return s}function v(e,t,n,i,o,s){return i&&!i[W]&&(i=v(i)),o&&!o[W]&&(o=v(o,s)),r(function(r,s,a,u){var l,c,f,p=[],d=[],h=s.length,v=r||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!r&&t?v:m(v,p,e,a,u),x=n?o||(r?e:h||i)?[]:s:y;if(n&&n(y,x,a,u),i)for(l=m(x,d),i(l,[],a,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(y[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(y[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?ee(r,f):p[c])>-1&&(r[l]=!(s[l]=f))}}else x=m(x===s?x.splice(h,x.length):x),o?o(null,s,x,u):K.apply(s,x)})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],s=o||T.relative[" "],a=o?1:0,u=d(function(e){return e===t},s,!0),l=d(function(e){return ee(t,e)>-1},s,!0),c=[function(e,n,r){var i=!o&&(r||n!==D)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];a<i;a++)if(n=T.relative[e[a].type])c=[d(h(c),n)];else{if(n=T.filter[e[a].type].apply(null,e[a].matches),n[W]){for(r=++a;r<i&&!T.relative[e[r].type];r++);return v(a>1&&h(c),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ue,"$1"),n,a<r&&y(e.slice(a,r)),r<i&&y(e=e.slice(r)),r<i&&p(e))}c.push(n)}return h(c)}function x(e,n){var i=n.length>0,o=e.length>0,s=function(r,s,a,u,l){var c,f,p,d=0,h="0",g=r&&[],v=[],y=D,x=r||o&&T.find.TAG("*",l),b=I+=null==y?1:Math.random()||.1,w=x.length;for(l&&(D=s!==q&&s);h!==w&&null!=(c=x[h]);h++){if(o&&c){for(f=0;p=e[f++];)if(p(c,s,a)){u.push(c);break}l&&(I=b)}i&&((c=!p&&c)&&d--,r&&g.push(c))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(g,v,s,a);if(r){if(d>0)for(;h--;)g[h]||v[h]||(v[h]=Q.call(u));v=m(v)}K.apply(u,v),l&&!r&&v.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(I=b,D=y),g};return i?r(s):s}var b,w,T,C,N,k,E,S,D,j,A,L,q,H,O,F,P,R,M,W="sizzle"+1*new Date,$=e.document,I=0,B=0,_=n(),z=n(),X=n(),U=function(e,t){return e===t&&(A=!0),0},V=1<<31,Y={}.hasOwnProperty,G=[],Q=G.pop,J=G.push,K=G.push,Z=G.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",se=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),fe=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),pe=new RegExp(se),de=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xe=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){L()};try{K.apply(G=Z.call($.childNodes),$.childNodes),G[$.childNodes.length].nodeType}catch(e){K={apply:G.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:$;return r!==q&&9===r.nodeType&&r.documentElement?(q=r,H=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),O=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(r.getElementsByClassName),w.getById=i(function(e){return H.appendChild(e).id=W,!r.getElementsByName||!r.getElementsByName(W).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){if(O)return t.getElementsByClassName(e)},P=[],F=[],(w.qsa=ve.test(r.querySelectorAll))&&(i(function(e){H.appendChild(e).innerHTML="<a id='"+W+"'></a><select id='"+W+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+W+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+W+"+*").length||F.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(w.matchesSelector=ve.test(R=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&i(function(e){w.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),P.push("!=",se)}),F=F.length&&new RegExp(F.join("|")),P=P.length&&new RegExp(P.join("|")),t=ve.test(H.compareDocumentPosition),M=t||ve.test(H.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===$&&M($,e)?-1:t===r||t.ownerDocument===$&&M($,t)?1:j?ee(j,e)-ee(j,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,i=0,o=e.parentNode,a=t.parentNode,u=[e],l=[t];if(!o||!a)return e===r?-1:t===r?1:o?-1:a?1:j?ee(j,e)-ee(j,t):0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?s(u[i],l[i]):u[i]===$?-1:l[i]===$?1:0},r):q},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==q&&L(e),n=n.replace(fe,"='$1']"),w.matchesSelector&&O&&(!P||!P.test(n))&&(!F||!F.test(n)))try{var r=R.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,q,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==q&&L(e),M(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==q&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&Y.call(T.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:w.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!w.detectDuplicates,j=!w.sortStable&&e.slice(0),e.sort(U),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return j=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&_(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!u&&!a;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?m.firstChild:m.lastChild],s&&y){for(c=m[W]||(m[W]={}),l=c[e]||[],d=l[0]===I&&l[1],p=l[0]===I&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(p=d=0)||h.pop();)if(1===f.nodeType&&++p&&f===t){c[e]=[I,d,p];break}}else if(y&&(l=(t[W]||(t[W]={}))[e])&&l[0]===I)p=l[1];else for(;(f=++d&&f&&f[g]||(p=d=0)||h.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++p||(y&&((f[W]||(f[W]={}))[e]=[I,p]),f!==t)););return p-=i,p===r||p%r===0&&p/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[W]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),s=i.length;s--;)r=ee(e,i[s]),e[r]=!(t[r]=i[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=E(e.replace(ue,"$1"));return i[W]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,Te),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Te).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===H},focus:function(e){return e===q.activeElement&&(!q.hasFocus||q.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})T.pseudos[b]=u(b);return f.prototype=T.filters=T.pseudos,T.setFilters=new f,k=t.tokenize=function(e,n){var r,i,o,s,a,u,l,c=z[e+" "];if(c)return n?0:c.slice(0);for(a=e,u=[],l=T.preFilter;a;){r&&!(i=le.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=ce.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),a=a.slice(r.length));for(s in T.filter)!(i=he[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):z(e,u).slice(0)},E=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)o=y(t[n]),o[W]?r.push(o):i.push(o);o=X(e,x(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,s,a,u,l="function"==typeof e&&e,f=!r&&k(e=l.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===t.nodeType&&O&&T.relative[o[1].type]){if(t=(T.find.ID(s.matches[0].replace(we,Te),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(s=o[i],!T.relative[a=s.type]);)if((u=T.find[a])&&(r=u(s.matches[0].replace(we,Te),xe.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&p(o),!e)return K.apply(n,r),n;break}}return(l||E(e,f))(r,t,!O,n,xe.test(e)&&c(t.parentNode)||t),n},w.sortStable=W.split("").sort(U).join("")===W,w.detectDuplicates=!!A,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(q.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Z.find=ie,Z.expr=ie.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=ie.uniqueSort,Z.text=ie.getText,Z.isXMLDoc=ie.isXML,Z.contains=ie.contains;var oe=Z.expr.match.needsContext,se=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ae=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Z.find.matchesSelector(r,e)?[r]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){
for(t=0;t<n;t++)if(Z.contains(i[t],this))return!0}));for(t=0;t<n;t++)Z.find(e,i[t],r);return r=this.pushStack(n>1?Z.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&oe.test(e)?Z(e):e||[],!1).length}});var ue,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=Z.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:le.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ue).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),se.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=J.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof ue.ready?ue.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};ce.prototype=Z.fn,ue=Z(J);var fe=/^(?:parents|prev(?:Until|All))/,pe={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Z(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=oe.test(e)||"string"!=typeof e?Z(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Z.unique(o):o)},index:function(e){return e?"string"==typeof e?U.call(Z(e),this[0]):U.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,r){var i=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Z.filter(r,i)),this.length>1&&(pe[e]||Z.unique(i),fe.test(e)&&i.reverse()),this.pushStack(i)}});var de=/\S+/g,he={};Z.Callbacks=function(e){e="string"==typeof e?he[e]||o(e):Z.extend({},e);var t,n,r,i,s,a,u=[],l=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,a=i||0,i=0,s=u.length,r=!0;u&&a<s;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(l?l.length&&c(l.shift()):t?u=[]:f.disable())},f={add:function(){if(u){var n=u.length;!function t(n){Z.each(n,function(n,r){var i=Z.type(r);"function"===i?e.unique&&f.has(r)||u.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),r?s=u.length:t&&(i=n,c(t))}return this},remove:function(){return u&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,u,n))>-1;)u.splice(n,1),r&&(n<=s&&s--,n<=a&&a--)}),this},has:function(e){return e?Z.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=l=t=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,t||f.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],r?l.push(t):c(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,o){var s=Z.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,r):r}},i={};return r.pipe=r.then,Z.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=_.call(arguments),s=o.length,a=1!==s||e&&Z.isFunction(e.promise)?s:0,u=1===a?e:Z.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?_.call(arguments):i,r===t?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);i<s;i++)o[i]&&Z.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--a;return a||u.resolveWith(r,o),u.promise()}});var ge;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(ge.resolveWith(J,[Z]),Z.fn.triggerHandler&&(Z(J).triggerHandler("ready"),Z(J).off("ready"))))}}),Z.ready.promise=function(t){return ge||(ge=Z.Deferred(),"complete"===J.readyState?setTimeout(Z.ready):(J.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1))),ge.promise(t)},Z.ready.promise();var me=Z.access=function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===Z.type(n)){i=!0;for(a in n)Z.access(e,t,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,Z.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(Z(e),n)})),t))for(;a<u;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=a.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(Z.isEmptyObject(o))Z.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),s=this.cache[o];if(void 0===t)this.cache[o]={};else{Z.isArray(t)?r=t.concat(t.map(Z.camelCase)):(i=Z.camelCase(t),t in s?r=[t,i]:(r=i,r=r in s?[r]:r.match(de)||[])),n=r.length;for(;n--;)delete s[r[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new a,ye=new a,xe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,be=/([A-Z])/g;Z.extend({hasData:function(e){return ye.hasData(e)||ve.hasData(e)},data:function(e,t,n){return ye.access(e,t,n)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=ye.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=Z.camelCase(r.slice(5)),u(o,r,i[r])));ve.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ye.set(this,e)}):me(this,function(t){var n,r=Z.camelCase(e);if(o&&void 0===t){if(n=ye.get(o,e),void 0!==n)return n;if(n=ye.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,r);ye.set(this,r,t),e.indexOf("-")!==-1&&void 0!==n&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ve.get(e,t),n&&(!r||Z.isArray(n)?r=ve.access(e,t,Z.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),r=n.length,i=n.shift(),o=Z._queueHooks(e,t),s=function(){Z.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:Z.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Z.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=ve.get(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Te=["Top","Right","Bottom","Left"],Ce=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},Ne=/^(?:checkbox|radio)$/i;!function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),Q.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Q.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var ke="undefined";Q.focusinBubbles="onfocusin"in e;var Ee=/^key/,Se=/^(?:mouse|pointer|contextmenu)|click/,De=/^(?:focusinfocus|focusoutblur)$/,je=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=ve.get(e);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Z.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(t){return typeof Z!==ke&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(de)||[""],l=t.length;l--;)a=je.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d&&(f=Z.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=Z.event.special[d]||{},c=Z.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Z.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,h,s)!==!1||e.addEventListener&&e.addEventListener(d,s,!1)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),Z.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=ve.hasData(e)&&ve.get(e);if(m&&(u=m.events)){for(t=(t||"").match(de)||[""],l=t.length;l--;)if(a=je.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d){for(f=Z.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));s&&!p.length&&(f.teardown&&f.teardown.call(e,h,m.handle)!==!1||Z.removeEvent(e,d,m.handle),delete u[d])}else for(d in u)Z.event.remove(e,d+t[l],n,r,!0);Z.isEmptyObject(u)&&(delete m.handle,ve.remove(e,"events"))}},trigger:function(t,n,r,i){var o,s,a,u,l,c,f,p=[r||J],d=G.call(t,"type")?t.type:t,h=G.call(t,"namespace")?t.namespace.split("."):[];if(s=a=r=r||J,3!==r.nodeType&&8!==r.nodeType&&!De.test(d+Z.event.triggered)&&(d.indexOf(".")>=0&&(h=d.split("."),d=h.shift(),h.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[Z.expando]?t:new Z.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Z.makeArray(n,[t]),f=Z.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!Z.isWindow(r)){for(u=f.delegateType||d,De.test(u+d)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(r.ownerDocument||J)&&p.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||d,c=(ve.get(s,"events")||{})[t.type]&&ve.get(s,"handle"),c&&c.apply(s,n),c=l&&s[l],c&&c.apply&&Z.acceptData(s)&&(t.result=c.apply(s,n),t.result===!1&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),n)!==!1||!Z.acceptData(r)||l&&Z.isFunction(r[d])&&!Z.isWindow(r)&&(a=r[l],a&&(r[l]=null),Z.event.triggered=d,r[d](),Z.event.triggered=void 0,a&&(r[l]=a)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,r,i,o,s=[],a=_.call(arguments),u=(ve.get(this,"events")||{})[e.type]||[],l=Z.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(s=Z.event.handlers.call(this,e,u),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(o.namespace)||(e.handleObj=o,e.data=o.data,r=((Z.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;n<a;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Z(i,this).index(u)>=0:Z.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||J,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Se.test(i)?this.mouseHooks:Ee.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new Z.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===f()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&Z.nodeName(this,"input"))return this.click(),!1},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Z.event.trigger(i,null,t):Z.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?l:c):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=l,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||Z.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Q.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ve.access(r,t);i||r.addEventListener(e,n,!0),ve.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ve.access(r,t)-1;i?ve.access(r,t,i):(r.removeEventListener(e,n,!0),ve.remove(r,t))}}}),Z.fn.extend({on:function(e,t,n,r,i){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(e){return Z().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Z(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=c),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Z.event.trigger(e,t,n,!0)}});var Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Le=/<([\w:]+)/,qe=/<|&#?\w+;/,He=/<(?:script|style|link)/i,Oe=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^$|\/(?:java|ecma)script/i,Pe=/^true\/(.*)/,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Me={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Me.optgroup=Me.option,Me.tbody=Me.tfoot=Me.colgroup=Me.caption=Me.thead,Me.th=Me.td,Z.extend({clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=Z.contains(e.ownerDocument,e);if(!(Q.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(s=v(a),o=v(e),r=0,i=o.length;r<i;r++)y(o[r],s[r]);if(t)if(n)for(o=o||v(e),s=s||v(a),r=0,i=o.length;r<i;r++)m(o[r],s[r]);else m(e,a);return s=v(a,"script"),s.length>0&&g(s,!u&&v(e,"script")),a},buildFragment:function(e,t,n,r){for(var i,o,s,a,u,l,c=t.createDocumentFragment(),f=[],p=0,d=e.length;p<d;p++)if(i=e[p],i||0===i)if("object"===Z.type(i))Z.merge(f,i.nodeType?[i]:i);else if(qe.test(i)){for(o=o||c.appendChild(t.createElement("div")),s=(Le.exec(i)||["",""])[1].toLowerCase(),a=Me[s]||Me._default,o.innerHTML=a[1]+i.replace(Ae,"<$1></$2>")+a[2],l=a[0];l--;)o=o.lastChild;Z.merge(f,o.childNodes),o=c.firstChild,o.textContent=""}else f.push(t.createTextNode(i));for(c.textContent="",p=0;i=f[p++];)if((!r||Z.inArray(i,r)===-1)&&(u=Z.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),u&&g(o),n))for(l=0;i=o[l++];)Fe.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o=Z.event.special,s=0;void 0!==(n=e[s]);s++){if(Z.acceptData(n)&&(i=n[ve.expando],i&&(t=ve.cache[i]))){if(t.events)for(r in t.events)o[r]?Z.event.remove(n,r):Z.removeEvent(n,r,t.handle);ve.cache[i]&&delete ve.cache[i]}delete ye.cache[n[ye.expando]]}}}),Z.fn.extend({text:function(e){return me(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?Z.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||Z.cleanData(v(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return me(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!He.test(e)&&!Me[(Le.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ae,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=z.apply([],e);var n,r,i,o,s,a,u=0,l=this.length,c=this,f=l-1,p=e[0],g=Z.isFunction(p);if(g||l>1&&"string"==typeof p&&!Q.checkClone&&Oe.test(p))return this.each(function(n){var r=c.eq(n);g&&(e[0]=p.call(this,n,r.html())),r.domManip(e,t)});if(l&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Z.map(v(n,"script"),d),o=i.length;u<l;u++)s=n,u!==f&&(s=Z.clone(s,!0,!0),o&&Z.merge(i,v(s,"script"))),t.call(this[u],s,u);if(o)for(a=i[i.length-1].ownerDocument,Z.map(i,h),u=0;u<o;u++)s=i[u],Fe.test(s.type||"")&&!ve.access(s,"globalEval")&&Z.contains(a,s)&&(s.src?Z._evalUrl&&Z._evalUrl(s.src):Z.globalEval(s.textContent.replace(Re,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,r=[],i=Z(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),Z(i[s])[t](n),X.apply(r,n.get());return this.pushStack(r)}});var We,$e={},Ie=/^margin/,Be=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),_e=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",i.appendChild(o);var t=e.getComputedStyle(s,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(o)}var n,r,i=J.documentElement,o=J.createElement("div"),s=J.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",Q.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),e.getComputedStyle&&Z.extend(Q,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=s.appendChild(J.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",i.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(o),s.removeChild(n),t}}))}(),Z.swap=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i};var ze=/^(none|table(?!-c[ea]).+)/,Xe=new RegExp("^("+we+")(.*)$","i"),Ue=new RegExp("^([+-])=("+we+")","i"),Ve={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=Z.camelCase(t),u=e.style;return t=Z.cssProps[a]||(Z.cssProps[a]=C(u,a)),s=Z.cssHooks[t]||Z.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:u[t]:(o=typeof n,"string"===o&&(i=Ue.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Z.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||Z.cssNumber[a]||(n+="px"),Q.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,s,a=Z.camelCase(t);return t=Z.cssProps[a]||(Z.cssProps[a]=C(e.style,a)),s=Z.cssHooks[t]||Z.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=w(e,t,r)),"normal"===i&&t in Ye&&(i=Ye[t]),""===n||n?(o=parseFloat(i),n===!0||Z.isNumeric(o)?o||0:i):i}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,r){if(n)return ze.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,Ve,function(){return E(e,t,r)}):E(e,t,r)},set:function(e,n,r){var i=r&&_e(e);return N(e,n,r?k(e,t,r,"border-box"===Z.css(e,"boxSizing",!1,i),i):0)}}}),Z.cssHooks.marginRight=T(Q.reliableMarginRight,function(e,t){if(t)return Z.swap(e,{display:"inline-block"},w,[e,"marginRight"])}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Te[r]+t]=o[r]||o[r-2]||o[0];return i}},Ie.test(e)||(Z.cssHooks[e+t].set=N)}),Z.fn.extend({css:function(e,t){return me(this,function(e,t,n){var r,i,o={},s=0;if(Z.isArray(t)){for(r=_e(e),i=t.length;s<i;s++)o[t[s]]=Z.css(e,t[s],!1,r);return o}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ce(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=D,D.prototype={constructor:D,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Z.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.options.duration?this.pos=t=Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=D.prototype.init,Z.fx.step={};var Qe,Je,Ke=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[q],nt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Ze.exec(t),o=i&&i[3]||(Z.cssNumber[e]?"":"px"),s=(Z.cssNumber[e]||"px"!==o&&+r)&&Ze.exec(Z.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,Z.style(n.elem,e,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};Z.Animation=Z.extend(O,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Z.speed=function(e,t,n){var r=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return r.duration=Z.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Z.fx.speeds?Z.fx.speeds[r.duration]:Z.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){Z.isFunction(r.old)&&r.old.call(this),r.queue&&Z.dequeue(this,r.queue)},r},Z.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Z.isEmptyObject(e),o=Z.speed(t,n,r),s=function(){var t=O(this,Z.extend({},e),o);(i||ve.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Z.timers,s=ve.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&et.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Z.timers,s=r?r.length:0;for(n.finish=!0,Z.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));
for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(A(t,!0),e,r,i)}}),Z.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Qe=Z.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Qe=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Je||(Je=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Je),Je=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),n=t.appendChild(J.createElement("option"));e.type="checkbox",Q.checkOn=""!==e.value,Q.optSelected=n.selected,t.disabled=!0,Q.optDisabled=!n.disabled,e=J.createElement("input"),e.value="t",e.type="radio",Q.radioValue="t"===e.value}();var rt,it,ot=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return me(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===ke?Z.prop(e,t,n):(1===o&&Z.isXMLDoc(e)||(t=t.toLowerCase(),r=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?it:rt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=Z.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void Z.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(de);if(o&&1===e.nodeType)for(;n=o[i++];)r=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!Q.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),it={set:function(e,t,n){return t===!1?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||Z.find.attr;ot[t]=function(e,t,r){var i,o;return r||(o=ot[t],ot[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,ot[t]=o),i}});var st=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return me(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!Z.isXMLDoc(e),o&&(t=Z.propFix[t]||t,i=Z.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||st.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Q.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var at=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,r,i,o,s,a="string"==typeof e&&e,u=0,l=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(de)||[];u<l;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(at," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=Z.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,r,i,o,s,a=0===arguments.length||"string"==typeof e&&e,u=0,l=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(de)||[];u<l;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(at," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=e?Z.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):Z.isFunction(e)?this.each(function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=Z(this),o=e.match(de)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else n!==ke&&"boolean"!==n||(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(at," ").indexOf(t)>=0)return!0;return!1}});var ut=/\r/g;Z.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=Z.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Z(this).val()):e,null==i?i="":"number"==typeof i?i+="":Z.isArray(i)&&(i=Z.map(i,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=Z.valHooks[i.type]||Z.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ut,""):null==n?"":n)}}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,s=o?null:[],a=o?i+1:r.length,u=i<0?a:o?i:0;u<a;u++)if(n=r[u],(n.selected||u===i)&&(Q.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=Z.makeArray(t),s=i.length;s--;)r=i[s],(r.selected=Z.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){if(Z.isArray(t))return e.checked=Z.inArray(Z(e).val(),t)>=0}},Q.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var lt=Z.now(),ct=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||Z.error("Invalid XML: "+e),t};var ft=/#.*$/,pt=/([?&])_=[^&]*/,dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ht=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gt=/^(?:GET|HEAD)$/,mt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yt={},xt={},bt="*/".concat("*"),wt=e.location.href,Tt=vt.exec(wt.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt,type:"GET",isLocal:ht.test(Tt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,Z.ajaxSettings),t):R(Z.ajaxSettings,e)},ajaxPrefilter:F(yt),ajaxTransport:F(xt),ajax:function(e,t){function n(e,t,n,s){var u,c,v,y,b,T=t;2!==x&&(x=2,a&&clearTimeout(a),r=void 0,o=s||"",w.readyState=e>0?4:0,u=e>=200&&e<300||304===e,n&&(y=M(f,w,n)),y=W(f,y,w,u),u?(f.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(Z.lastModified[i]=b),b=w.getResponseHeader("etag"),b&&(Z.etag[i]=b)),204===e||"HEAD"===f.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,u=!v)):(v=T,!e&&T||(T="error",e<0&&(e=0))),w.status=e,w.statusText=(t||T)+"",u?h.resolveWith(p,[c,T,w]):h.rejectWith(p,[w,T,v]),w.statusCode(m),m=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[w,f,u?c:v]),g.fireWith(p,[w,T]),l&&(d.trigger("ajaxComplete",[w,f]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,s,a,u,l,c,f=Z.ajaxSetup({},t),p=f.context||f,d=f.context&&(p.nodeType||p.jquery)?Z(p):Z.event,h=Z.Deferred(),g=Z.Callbacks("once memory"),m=f.statusCode||{},v={},y={},x=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!s)for(s={};t=dt.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return x||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return r&&r.abort(t),n(0,t),this}};if(h.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,f.url=((e||f.url||wt)+"").replace(ft,"").replace(mt,Tt[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=Z.trim(f.dataType||"*").toLowerCase().match(de)||[""],null==f.crossDomain&&(u=vt.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===Tt[1]&&u[2]===Tt[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(Tt[3]||("http:"===Tt[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Z.param(f.data,f.traditional)),P(yt,f,t,w),2===x)return w;l=Z.event&&f.global,l&&0===Z.active++&&Z.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!gt.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(ct.test(i)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=pt.test(i)?i.replace(pt,"$1_="+lt++):i+(ct.test(i)?"&":"?")+"_="+lt++)),f.ifModified&&(Z.lastModified[i]&&w.setRequestHeader("If-Modified-Since",Z.lastModified[i]),Z.etag[i]&&w.setRequestHeader("If-None-Match",Z.etag[i])),(f.data&&f.hasContent&&f.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+bt+"; q=0.01":""):f.accepts["*"]);for(c in f.headers)w.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(f.beforeSend.call(p,w,f)===!1||2===x))return w.abort();b="abort";for(c in{success:1,error:1,complete:1})w[c](f[c]);if(r=P(xt,f,t,w)){w.readyState=1,l&&d.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},f.timeout));try{x=1,r.send(v,n)}catch(e){if(!(x<2))throw e;n(-1,e)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,r,i){return Z.isFunction(n)&&(i=i||r,r=n,n=void 0),Z.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return Z.isFunction(e)?this.each(function(t){Z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var Ct=/%20/g,Nt=/\[\]$/,kt=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var n,r=[],i=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){i(this.name,this.value)});else for(n in e)$(n,e[n],t,i);return r.join("&").replace(Ct,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&St.test(this.nodeName)&&!Et.test(e)&&(this.checked||!Ne.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Dt=0,jt={},At={0:200,1223:204},Lt=Z.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in jt)jt[e]()}),Q.cors=!!Lt&&"withCredentials"in Lt,Q.ajax=Lt=!!Lt,Z.ajaxTransport(function(e){var t;if(Q.cors||Lt&&!e.crossDomain)return{send:function(n,r){var i,o=e.xhr(),s=++Dt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete jt[s],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(At[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=jt[s]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}}});var qt=[],Ht=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=qt.pop()||Z.expando+"_"+lt++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=t.jsonp!==!1&&(Ht.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ht.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ht,"$1"+i):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||Z.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,qt.push(i)),s&&Z.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var r=se.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=Z.buildFragment([e],t,i),i&&i.length&&Z(i).remove(),Z.merge([],r.childNodes))};var Ot=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&Ot)return Ot.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>=0&&(r=Z.trim(e.slice(a)),e=e.slice(0,a)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&Z.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?Z("<div>").append(Z.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Ft=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l,c=Z.css(e,"position"),f=Z(e),p={};"static"===c&&(e.style.position="relative"),a=f.offset(),o=Z.css(e,"top"),u=Z.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),Z.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+i),"using"in t?t.using.call(e,p):f.css(p)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,Z.contains(t,r)?(typeof r.getBoundingClientRect!==ke&&(i=r.getBoundingClientRect()),n=I(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(r=e.offset()),r.top+=Z.css(e[0],"borderTopWidth",!0),r.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-Z.css(n,"marginTop",!0),left:t.left-r.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Ft;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Ft})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;Z.fn[t]=function(i){return me(this,function(t,i,o){var s=I(t);return void 0===o?s?s[n]:t[i]:void(s?s.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=T(Q.pixelPosition,function(e,n){if(n)return n=w(e,t),Be.test(n)?Z(e).position()[t]+"px":n})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Z.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return me(this,function(t,n,r){var i;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?Z.css(t,n,s):Z.style(t,n,r,s)},t,o?r:void 0,o,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Pt=e.jQuery,Rt=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=Rt),t&&e.jQuery===Z&&(e.jQuery=Pt),Z},typeof t===ke&&(e.jQuery=e.$=Z),Z});
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one("bsTransitionEnd",function(){i=!0});var n=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),n=i.data("bs.alert");n||i.data("bs.alert",n=new o(this)),"string"==typeof e&&n[e].call(i)})}var i='[data-dismiss="alert"]',o=function(e){t(e).on("click",i,this.close)};o.VERSION="3.3.6",o.TRANSITION_DURATION=150,o.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var n=t(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var a=t(s);e&&e.preventDefault(),a.length||(a=n.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(o.TRANSITION_DURATION):i())};var n=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",i,o.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.button"),s="object"==typeof e&&e;n||o.data("bs.button",n=new i(this,s)),"toggle"==e?n.toggle():e&&n.setState(e)})}var i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.isLoading=!1};i.VERSION="3.3.6",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",o=this.$element,n=o.is("input")?"val":"html",s=o.data();e+="Text",null==s.resetText&&o.data("resetText",o[n]()),setTimeout(t.proxy(function(){o[n](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,o.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,o.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var o=t(i.target);o.hasClass("btn")||(o=o.closest(".btn")),e.call(o,"toggle"),t(i.target).is('input[type="radio"]')||t(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.carousel"),s=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e),a="string"==typeof e?e:s.slide;n||o.data("bs.carousel",n=new i(this,s)),"number"==typeof e?n.to(e):a?n[a]():s.interval&&n.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),o="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(o&&!this.options.wrap)return e;var n="prev"==t?-1:1,s=(i+n)%this.$items.length;return this.$items.eq(s)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(e,o){var n=this.$element.find(".item.active"),s=o||this.getItemForDirection(e,n),a=this.interval,r="next"==e?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var h=s[0],d=t.Event("slide.bs.carousel",{relatedTarget:h,direction:r});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=t(this.$indicators.children()[this.getItemIndex(s)]);p&&p.addClass("active")}var c=t.Event("slid.bs.carousel",{relatedTarget:h,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,n.addClass(r),s.addClass(r),n.one("bsTransitionEnd",function(){s.removeClass([e,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(c)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(c)),a&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this};var n=function(i){var o,n=t(this),s=t(n.attr("data-target")||(o=n.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var a=t.extend({},s.data(),n.data()),r=n.attr("data-slide-to");r&&(a.interval=!1),e.call(s,a),r&&s.data("bs.carousel").to(r),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,o=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(o)}function i(e){return this.each(function(){var i=t(this),n=i.data("bs.collapse"),s=t.extend({},o.DEFAULTS,i.data(),"object"==typeof e&&e);!n&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),n||i.data("bs.collapse",n=new o(this,s)),"string"==typeof e&&n[e]()})}var o=function(e,i){this.$element=t(e),this.options=t.extend({},o.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.3.6",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,n=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(n&&n.length&&(e=n.data("bs.collapse"),e&&e.transitioning))){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){n&&n.length&&(i.call(n,"hide"),e||n.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[a](this.$element[0][l])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(n,this)).emulateTransitionEnd(o.TRANSITION_DURATION):n.call(this)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,o){var n=t(o);this.addAriaAndCollapsedClass(e(n),n)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var n=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=o,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var n=t(this);n.attr("data-target")||o.preventDefault();var s=e(n),a=s.data("bs.collapse"),r=a?"toggle":n.data();i.call(s,r)})}(jQuery),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}function i(i){i&&3===i.which||(t(n).remove(),t(s).each(function(){var o=t(this),n=e(o),s={relatedTarget:this};n.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(n[0],i.target)||(n.trigger(i=t.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(o.attr("aria-expanded","false"),n.removeClass("open").trigger(t.Event("hidden.bs.dropdown",s)))))}))}function o(e){return this.each(function(){var i=t(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new a(this)),"string"==typeof e&&o[e].call(i)})}var n=".dropdown-backdrop",s='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.6",a.prototype.toggle=function(o){var n=t(this);if(!n.is(".disabled, :disabled")){var s=e(n),a=s.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var r={relatedTarget:this};if(s.trigger(o=t.Event("show.bs.dropdown",r)),o.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger(t.Event("shown.bs.dropdown",r))}return!1}},a.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var o=t(this);if(i.preventDefault(),i.stopPropagation(),!o.is(".disabled, :disabled")){var n=e(o),a=n.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&n.find(s).trigger("focus"),o.trigger("click");var r=" li:not(.disabled):visible a",l=n.find(".dropdown-menu"+r);if(l.length){var h=l.index(i.target);38==i.which&&h>0&&h--,40==i.which&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,a.prototype.toggle).on("keydown.bs.dropdown.data-api",s,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,o){return this.each(function(){var n=t(this),s=n.data("bs.modal"),a=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);s||n.data("bs.modal",s=new i(this,a)),"string"==typeof e?s[e](o):a.show&&s.show(o)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var o=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var n=t.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),n&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});n?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):o.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var o=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&n;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){o.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var o=t(this),n=o.attr("href"),s=t(o.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),a=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),o.data());o.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(s,a,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tooltip"),s="object"==typeof e&&e;!n&&/destroy|hide/.test(e)||(n||o.data("bs.tooltip",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,o){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),s=n.length;s--;){var a=n[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),!i.isInStateTrue())return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var o=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!o)return;var n=this,s=this.tip(),a=this.getUID(this.type);this.setContent(),s.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(r);h&&(r=r.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),p=s[0].offsetWidth,c=s[0].offsetHeight;if(h){var f=r,u=this.getPosition(this.$viewport);r="bottom"==r&&d.bottom+c>u.bottom?"top":"top"==r&&d.top-c<u.top?"bottom":"right"==r&&d.right+p>u.width?"left":"left"==r&&d.left-p<u.left?"right":r,s.removeClass(f).addClass(r)}var g=this.getCalculatedOffset(r,d,p,c);this.applyPlacement(g,r);var m=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m()}},i.prototype.applyPlacement=function(e,i){var o=this.tip(),n=o[0].offsetWidth,s=o[0].offsetHeight,a=parseInt(o.css("margin-top"),10),r=parseInt(o.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),e.top+=a,e.left+=r,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,h=o[0].offsetHeight;"top"==i&&h!=s&&(e.top=e.top+s-h);var d=this.getViewportAdjustedDelta(i,e,l,h);d.left?e.left+=d.left:e.top+=d.top;var p=/top|bottom/.test(i),c=p?2*d.left-n+l:2*d.top-s+h,f=p?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(c,o[0][f],p)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function o(){"in"!=n.hoverState&&s.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,s=t(this.$tip),a=t.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),this.hoverState=null,this},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],o="BODY"==i.tagName,n=i.getBoundingClientRect();null==n.width&&(n=t.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var s=o?{top:0,left:0}:e.offset(),a={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},n,a,r,s)},i.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,o){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-s-a.scroll,l=e.top+s-a.scroll+o;r<a.top?n.top=a.top-r:l>a.top+a.height&&(n.top=a.top+a.height-l)}else{var h=e.left-s,d=e.left+s+i;h<a.left?n.left=a.left-h:d>a.right&&(n.left=a.left+a.width-d)}return n},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.popover"),s="object"==typeof e&&e;!n&&/destroy|hide/.test(e)||(n||o.data("bs.popover",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.6",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery),+function(t){"use strict";function e(i,o){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var o=t(this),n=o.data("bs.scrollspy"),s="object"==typeof i&&i;n||o.data("bs.scrollspy",n=new e(this,s)),"string"==typeof i&&n[i]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),n=e.data("target")||e.attr("href"),s=/^#./.test(n)&&t(n);return s&&s.length&&s.is(":visible")&&[[s[i]().top+o,n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),o=this.options.offset+i-this.$scrollElement.height(),n=this.offsets,s=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=o)return a!=(t=s[s.length-1])&&this.activate(t);if(a&&e<n[0])return this.activeTarget=null,this.clear();for(t=n.length;t--;)a!=s[t]&&e>=n[t]&&(void 0===n[t+1]||e<n[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),
o.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tab");n||o.data("bs.tab",n=new i(this)),"string"==typeof e&&n[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(s),e.trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){var r=t(o);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},i.prototype.activate=function(e,o,n){function s(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var a=o.find("> .active"),r=n&&t.support.transition&&(a.length&&a.hasClass("fade")||!!o.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),a.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=o,this};var n=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.affix"),s="object"==typeof e&&e;n||o.data("bs.affix",n=new i(this,s)),"string"==typeof e&&n[e]()})}var i=function(e,o){this.options=t.extend({},i.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.6",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,o){var n=this.$target.scrollTop(),s=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return n<i&&"top";if("bottom"==this.affixed)return null!=i?!(n+this.unpin<=s.top)&&"bottom":!(n+a<=t-o)&&"bottom";var r=null==this.affixed,l=r?n:s.top,h=r?a:e;return null!=i&&n<=i?"top":null!=o&&l+h>=t-o&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),o=this.options.offset,n=o.top,s=o.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof o&&(s=n=o),"function"==typeof n&&(n=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var r=this.getState(a,e,n,s);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),h=t.Event(l+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:a-e-s})}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),o=i.data();o.offset=o.offset||{},null!=o.offsetBottom&&(o.offset.bottom=o.offsetBottom),null!=o.offsetTop&&(o.offset.top=o.offsetTop),e.call(i,o)})})}(jQuery);
!function(t){"use strict";function e(t){return function(){var e,n=arguments[0];for(e="["+(t?t+":":"")+n+"] http://errors.angularjs.org/1.5.7/"+(t?t+"/":"")+n,n=1;n<arguments.length;n++){e=e+(1==n?"?":"&")+"p"+(n-1)+"=";var r,i=encodeURIComponent;r=arguments[n],r="function"==typeof r?r.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof r?"undefined":"string"!=typeof r?JSON.stringify(r):r,e+=i(r)}return Error(e)}}function n(t){if(null==t||E(t))return!1;if(ar(t)||b(t)||zn&&t instanceof zn)return!0;var e="length"in Object(t)&&t.length;return w(e)&&(0<=e&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function r(t,e,i){var o,a;if(t)if(S(t))for(o in t)"prototype"==o||"length"==o||"name"==o||t.hasOwnProperty&&!t.hasOwnProperty(o)||e.call(i,t[o],o,t);else if(ar(t)||n(t)){var s="object"!=typeof t;for(o=0,a=t.length;o<a;o++)(s||o in t)&&e.call(i,t[o],o,t)}else if(t.forEach&&t.forEach!==r)t.forEach(e,i,t);else if(y(t))for(o in t)e.call(i,t[o],o,t);else if("function"==typeof t.hasOwnProperty)for(o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t);else for(o in t)Jn.call(t,o)&&e.call(i,t[o],o,t);return t}function i(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function o(t){return function(e,n){t(n,e)}}function a(){return++or}function s(t,e,n){for(var r=t.$$hashKey,i=0,o=e.length;i<o;++i){var a=e[i];if(g(a)||S(a))for(var u=Object.keys(a),c=0,l=u.length;c<l;c++){var f=u[c],h=a[f];n&&g(h)?x(h)?t[f]=new Date(h.valueOf()):C(h)?t[f]=new RegExp(h):h.nodeName?t[f]=h.cloneNode(!0):M(h)?t[f]=h.clone():(g(t[f])||(t[f]=ar(h)?[]:{}),s(t[f],[h],!0)):t[f]=h}}return r?t.$$hashKey=r:delete t.$$hashKey,t}function u(t){return s(t,Xn.call(arguments,1),!1)}function c(t){return s(t,Xn.call(arguments,1),!0)}function l(t){return parseInt(t,10)}function f(t,e){return u(Object.create(t),e)}function h(){}function p(t){return t}function d(t){return function(){return t}}function $(t){return S(t.toString)&&t.toString!==er}function m(t){return"undefined"==typeof t}function v(t){return"undefined"!=typeof t}function g(t){return null!==t&&"object"==typeof t}function y(t){return null!==t&&"object"==typeof t&&!nr(t)}function b(t){return"string"==typeof t}function w(t){return"number"==typeof t}function x(t){return"[object Date]"===er.call(t)}function S(t){return"function"==typeof t}function C(t){return"[object RegExp]"===er.call(t)}function E(t){return t&&t.window===t}function A(t){return t&&t.$evalAsync&&t.$watch}function k(t){return"boolean"==typeof t}function O(t){return t&&w(t.length)&&sr.test(er.call(t))}function M(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function N(t){var e={};t=t.split(",");var n;for(n=0;n<t.length;n++)e[t[n]]=!0;return e}function T(t){return Kn(t.nodeName||t[0]&&t[0].nodeName)}function V(t,e){var n=t.indexOf(e);return 0<=n&&t.splice(n,1),n}function j(t,e){function n(t,e){var n,r=e.$$hashKey;if(ar(t)){n=0;for(var o=t.length;n<o;n++)e.push(i(t[n]))}else if(y(t))for(n in t)e[n]=i(t[n]);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=i(t[n]));else for(n in t)Jn.call(t,n)&&(e[n]=i(t[n]));return r?e.$$hashKey=r:delete e.$$hashKey,e}function i(t){if(!g(t))return t;var e=a.indexOf(t);if(-1!==e)return s[e];if(E(t)||A(t))throw rr("cpws");var e=!1,r=o(t);return void 0===r&&(r=ar(t)?[]:Object.create(nr(t)),e=!0),a.push(t),s.push(r),e?n(t,r):r}function o(t){switch(er.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(i(t.buffer));case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":return e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex,e;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(S(t.cloneNode))return t.cloneNode(!0)}var a=[],s=[];if(e){if(O(e)||"[object ArrayBuffer]"===er.call(e))throw rr("cpta");if(t===e)throw rr("cpi");return ar(e)?e.length=0:r(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),a.push(t),s.push(e),n(t,e)}return i(t)}function I(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,r=typeof t;if(r==typeof e&&"object"==r){if(!ar(t)){if(x(t))return!!x(e)&&I(t.getTime(),e.getTime());if(C(t))return!!C(e)&&t.toString()==e.toString();if(A(t)||A(e)||E(t)||E(e)||ar(e)||x(e)||C(e))return!1;r=at();for(n in t)if("$"!==n.charAt(0)&&!S(t[n])){if(!I(t[n],e[n]))return!1;r[n]=!0}for(n in e)if(!(n in r)&&"$"!==n.charAt(0)&&v(e[n])&&!S(e[n]))return!1;return!0}if(!ar(e))return!1;if((r=t.length)==e.length){for(n=0;n<r;n++)if(!I(t[n],e[n]))return!1;return!0}}return!1}function D(t,e,n){return t.concat(Xn.call(e,n))}function P(t,e){var n=2<arguments.length?Xn.call(arguments,2):[];return!S(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,D(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function R(e,n){var r=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=void 0:E(n)?r="$WINDOW":n&&t.document===n?r="$DOCUMENT":A(n)&&(r="$SCOPE"),r}function F(t,e){if(!m(t))return w(e)||(e=e?2:null),JSON.stringify(t,R,e)}function U(t){return b(t)?JSON.parse(t):t}function _(t,e){t=t.replace(hr,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function q(t,e,n){n=n?-1:1;var r=t.getTimezoneOffset();return e=_(e,r),n*=e-r,t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+n),t}function L(t){t=zn(t).clone();try{t.empty()}catch(t){}var e=zn("<div>").append(t).html();try{return t[0].nodeType===mr?Kn(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+Kn(e)})}catch(t){return Kn(e)}}function B(t){try{return decodeURIComponent(t)}catch(t){}}function H(t){var e={};return r((t||"").split("&"),function(t){var n,r,i;t&&(r=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),-1!==n&&(r=t.substring(0,n),i=t.substring(n+1)),r=B(r),v(r)&&(i=!v(i)||B(i),Jn.call(e,r)?ar(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i))}),e}function z(t){var e=[];return r(t,function(t,n){ar(t)?r(t,function(t){e.push(G(n,!0)+(!0===t?"":"="+G(t,!0)))}):e.push(G(n,!0)+(!0===t?"":"="+G(t,!0)))}),e.length?e.join("&"):""}function W(t){return G(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function G(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function Z(t,e){var n,r,i=pr.length;for(r=0;r<i;++r)if(n=pr[r]+e,b(n=t.getAttribute(n)))return n;return null}function J(t,e){var n,i,o={};r(pr,function(e){e+="app",!n&&t.hasAttribute&&t.hasAttribute(e)&&(n=t,i=t.getAttribute(e))}),r(pr,function(e){e+="app";var r;!n&&(r=t.querySelector("["+e.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(e))}),n&&(o.strictDi=null!==Z(n,"strict-di"),e(n,i?[i]:[],o))}function K(e,n,i){g(i)||(i={}),i=u({strictDi:!1},i);var o=function(){if(e=zn(e),e.injector()){var r=e[0]===t.document?"document":L(e);throw rr("btstrpd",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}return n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",e)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng"),r=Ut(n,i.strictDi),r.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),r},a=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;return t&&a.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(a,"")),t&&!s.test(t.name)?o():(t.name=t.name.replace(s,""),ir.resumeBootstrap=function(t){return r(t,function(t){n.push(t)}),o()},void(S(ir.resumeDeferredBootstrap)&&ir.resumeDeferredBootstrap()))}function Y(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function X(t){if(t=ir.element(t).injector(),!t)throw rr("test");return t.get("$$testability")}function Q(t,e){return e=e||"_",t.replace(dr,function(t,n){return(n?e:"")+t.toLowerCase()})}function tt(){var e;if(!$r){var n=fr();(Wn=m(n)?t.jQuery:n?t[n]:void 0)&&Wn.fn.on?(zn=Wn,u(Wn.fn,{scope:Nr.scope,isolateScope:Nr.isolateScope,controller:Nr.controller,injector:Nr.injector,inheritedData:Nr.inheritedData}),e=Wn.cleanData,Wn.cleanData=function(t){for(var n,r,i=0;null!=(r=t[i]);i++)(n=Wn._data(r,"events"))&&n.$destroy&&Wn(r).triggerHandler("$destroy");e(t)}):zn=dt,ir.element=zn,$r=!0}}function et(t,e,n){if(!t)throw rr("areq",e||"?",n||"required");return t}function nt(t,e,n){return n&&ar(t)&&(t=t[t.length-1]),et(S(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function rt(t,e){if("hasOwnProperty"===t)throw rr("badname",e)}function it(t,e,n){if(!e)return t;e=e.split(".");for(var r,i=t,o=e.length,a=0;a<o;a++)r=e[a],t&&(t=(i=t)[r]);return!n&&S(t)?P(i,t):t}function ot(t){for(var e,n=t[0],r=t[t.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(e||t[i]!==n)&&(e||(e=zn(Xn.call(t,0,i))),e.push(n));return e||t}function at(){return Object.create(null)}function st(t){function n(t,e,n){return t[e]||(t[e]=n())}var r=e("$injector"),i=e("ng");return t=n(t,"angular",Object),t.$$minErr=t.$$minErr||e,n(t,"module",function(){var t={};return function(e,o,a){if("hasOwnProperty"===e)throw i("badname","module");return o&&t.hasOwnProperty(e)&&(t[e]=null),n(t,e,function(){function t(t,e,n,r){return r||(r=i),function(){return r[n||"push"]([t,e,arguments]),l}}function n(t,n){return function(r,o){return o&&S(o)&&(o.$$moduleName=e),i.push([t,n,arguments]),l}}if(!o)throw r("nomod",e);var i=[],s=[],u=[],c=t("$injector","invoke","push",s),l={_invokeQueue:i,_configBlocks:s,_runBlocks:u,requires:o,name:e,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:c,run:function(t){return u.push(t),this}};return a&&c(a),l})}})}function ut(t,e){if(ar(t)){e=e||[];for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}else if(g(t))for(n in e=e||{},t)"$"===n.charAt(0)&&"$"===n.charAt(1)||(e[n]=t[n]);return e||t}function ct(n){u(n,{bootstrap:K,copy:j,extend:u,merge:c,equals:I,element:zn,forEach:r,injector:Ut,noop:h,bind:P,toJson:F,fromJson:U,identity:p,isUndefined:m,isDefined:v,isString:b,isFunction:S,isObject:g,isNumber:w,isElement:M,isArray:ar,version:vr,isDate:x,lowercase:Kn,uppercase:Yn,callbacks:{counter:0},getTestability:X,$$minErr:e,$$csp:lr,reloadWithDebugInfo:Y}),(Gn=st(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Ye}),t.provider("$compile",Zt).directive({a:Di,input:Xi,textarea:Xi,form:Ui,script:Lo,select:zo,style:Go,option:Wo,ngBind:eo,ngBindHtml:ro,ngBindTemplate:no,ngClass:oo,ngClassEven:so,ngClassOdd:ao,ngCloak:uo,ngController:co,ngForm:_i,ngHide:Do,ngIf:ho,ngInclude:po,ngInit:mo,ngNonBindable:Oo,ngPluralize:Vo,ngRepeat:jo,ngShow:Io,ngStyle:Po,ngSwitch:Ro,ngSwitchWhen:Fo,ngSwitchDefault:Uo,ngOptions:To,ngTransclude:qo,ngModel:Eo,ngList:vo,ngChange:io,pattern:Jo,ngPattern:Jo,required:Zo,ngRequired:Zo,minlength:Yo,ngMinlength:Yo,maxlength:Ko,ngMaxlength:Ko,ngValue:to,ngModelOptions:ko}).directive({ngInclude:$o}).directive(Pi).directive(lo),t.provider({$anchorScroll:_t,$animate:Hr,$animateCss:Gr,$$animateJs:Lr,$$animateQueue:Br,$$AnimateRunner:Wr,$$animateAsyncRun:zr,$browser:zt,$cacheFactory:Wt,$controller:te,$document:ee,$exceptionHandler:ne,$filter:hn,$$forceReflow:Qr,$interpolate:de,$interval:$e,$http:le,$httpParamSerializer:ie,$httpParamSerializerJQLike:oe,$httpBackend:he,$xhrFactory:fe,$location:ke,$log:Oe,$parse:ze,$rootScope:Ke,$q:We,$$q:Ge,$sce:en,$sceDelegate:tn,$sniffer:nn,$templateCache:Gt,$templateRequest:rn,$$testability:on,$timeout:an,$window:cn,$$rAF:Je,$$jqLite:It,$$HashMap:Ir,$$cookieReader:fn})}])}function lt(t){return t.replace(br,function(t,e,n,r){return r?n.toUpperCase():n}).replace(wr,"Moz$1")}function ft(t){return t=t.nodeType,1===t||!t||9===t}function ht(t,e){var n,i,o=e.createDocumentFragment(),a=[];if(Er.test(t)){for(n=n||o.appendChild(e.createElement("div")),i=(Ar.exec(t)||["",""])[1].toLowerCase(),i=Or[i]||Or._default,n.innerHTML=i[1]+t.replace(kr,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;a=D(a,n.childNodes),n=o.firstChild,n.textContent=""}else a.push(e.createTextNode(t));return o.textContent="",o.innerHTML="",r(a,function(t){o.appendChild(t)}),o}function pt(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function dt(e){if(e instanceof dt)return e;var n;if(b(e)&&(e=ur(e),n=!0),!(this instanceof dt)){if(n&&"<"!=e.charAt(0))throw Sr("nosel");return new dt(e)}if(n){n=t.document;var r;e=(r=Cr.exec(e))?[n.createElement(r[1])]:(r=ht(e,n))?r.childNodes:[]}Ct(this,e)}function $t(t){return t.cloneNode(!0)}function mt(t,e){if(e||gt(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),r=0,i=n.length;r<i;r++)gt(n[r])}function vt(t,e,n,i){if(v(i))throw Sr("offargs");var o=(i=yt(t))&&i.events,a=i&&i.handle;if(a)if(e){var s=function(e){var r=o[e];v(n)&&V(r||[],n),v(n)&&r&&0<r.length||(t.removeEventListener(e,a,!1),delete o[e])};r(e.split(" "),function(t){s(t),xr[t]&&s(xr[t])})}else for(e in o)"$destroy"!==e&&t.removeEventListener(e,a,!1),delete o[e]}function gt(t,e){var n=t.ng339,r=n&&gr[n];r&&(e?delete r.data[e]:(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),vt(t)),delete gr[n],t.ng339=void 0))}function yt(t,e){var n=t.ng339,n=n&&gr[n];return e&&!n&&(t.ng339=n=++yr,n=gr[n]={events:{},data:{},handle:void 0}),n}function bt(t,e,n){if(ft(t)){var r=v(n),i=!r&&e&&!g(e),o=!e;if(t=(t=yt(t,!i))&&t.data,r)t[e]=n;else{if(o)return t;if(i)return t&&t[e];u(t,e)}}}function wt(t,e){return!!t.getAttribute&&-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")}function xt(t,e){e&&t.setAttribute&&r(e.split(" "),function(e){t.setAttribute("class",ur((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ur(e)+" "," ")))})}function St(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(e.split(" "),function(t){t=ur(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",ur(n))}}function Ct(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;r<n;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function Et(t,e){return At(t,"$"+(e||"ngController")+"Controller")}function At(t,e,n){for(9==t.nodeType&&(t=t.documentElement),e=ar(e)?e:[e];t;){for(var r=0,i=e.length;r<i;r++)if(v(n=zn.data(t,e[r])))return n;t=t.parentNode||11===t.nodeType&&t.host}}function kt(t){for(mt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Ot(t,e){e||mt(t);var n=t.parentNode;n&&n.removeChild(t)}function Mt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):zn(n).on("load",e)}function Nt(t,e){var n=Tr[e.toLowerCase()];return n&&Vr[T(t)]&&n}function Tt(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(m(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=i.specialHandlerWrapper||Vt;1<o&&(i=ut(i));for(var u=0;u<o;u++)n.isImmediatePropagationStopped()||s(t,n,i[u])}};return n.elem=t,n}function Vt(t,e,n){n.call(t,e)}function jt(t,e,n){var r=e.relatedTarget;r&&(r===t||Mr.call(t,r))||n.call(t,e)}function It(){this.$get=function(){return u(dt,{hasClass:function(t,e){return t.attr&&(t=t[0]),wt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),St(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),xt(t,e)}})}}function Dt(t,e){var n=t&&t.$$hashKey;return n?("function"==typeof n&&(n=t.$$hashKey()),n):(n=typeof t,n="function"==n||"object"==n&&null!==t?t.$$hashKey=n+":"+(e||a)():n+":"+t)}function Pt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}r(t,this.put,this)}function Rt(t){return t=(Function.prototype.toString.call(t)+" ").replace(Ur,""),t.match(Dr)||t.match(Pr)}function Ft(t){return(t=Rt(t))?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Ut(t,e){function n(t){return function(e,n){return g(e)?void r(e,o(t)):t(e,n)}}function i(t,e){if(rt(t,"service"),(S(e)||ar(e))&&(e=$.instantiate(e)),!e.$get)throw _r("pget",t);return p[t+"Provider"]=e}function a(t,e){return function(){var n=w.invoke(e,this);if(m(n))throw _r("undef",t);return n}}function s(t,e,n){return i(t,{$get:!1!==n?a(t,e):e})}function u(t){et(m(t)||ar(t),"modulesToLoad","not an array");var e,n=[];return r(t,function(t){function r(t){var e,n;for(e=0,n=t.length;e<n;e++){var r=t[e],i=$.get(r[0]);i[r[1]].apply(i,r[2])}}if(!h.get(t)){h.put(t,!0);try{b(t)?(e=Gn(t),n=n.concat(u(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):S(t)?n.push($.invoke(t)):ar(t)?n.push($.invoke(t)):nt(t,"module")}catch(e){throw ar(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),_r("modulerr",t,e.stack||e.message||e)}}}),n}function c(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===l)throw _r("cdep",e+" <- "+f.join(" <- "));return t[e]}try{return f.unshift(e),t[e]=l,t[e]=n(e,r)}catch(n){throw t[e]===l&&delete t[e],n}finally{f.shift()}}function i(t,n,i){var o=[];t=Ut.$$annotate(t,e,i);for(var a=0,s=t.length;a<s;a++){var u=t[a];if("string"!=typeof u)throw _r("itkn",u);o.push(n&&n.hasOwnProperty(u)?n[u]:r(u,i))}return o}return{invoke:function(t,e,n,r){return"string"==typeof n&&(r=n,n=null),n=i(t,n,r),ar(t)&&(t=t[t.length-1]),r=!(11>=Hn)&&("function"==typeof t&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(t)+" ")),r?(n.unshift(null),new(Function.prototype.bind.apply(t,n))):t.apply(e,n)},instantiate:function(t,e,n){var r=ar(t)?t[t.length-1]:t;return t=i(t,e,n),t.unshift(null),new(Function.prototype.bind.apply(r,t))},get:r,annotate:Ut.$$annotate,has:function(e){return p.hasOwnProperty(e+"Provider")||t.hasOwnProperty(e)}}}e=!0===e;var l={},f=[],h=new Pt([],(!0)),p={$provide:{provider:n(i),factory:n(s),service:n(function(t,e){return s(t,["$injector",function(t){return t.instantiate(e)}])}),value:n(function(t,e){return s(t,d(e),!1)}),constant:n(function(t,e){rt(t,"constant"),p[t]=e,v[t]=e}),decorator:function(t,e){var n=$.get(t+"Provider"),r=n.$get;n.$get=function(){var t=w.invoke(r,n);return w.invoke(e,null,{$delegate:t})}}}},$=p.$injector=c(p,function(t,e){throw ir.isString(e)&&f.push(e),_r("unpr",f.join(" <- "))}),v={},y=c(v,function(t,e){var n=$.get(t+"Provider",e);return w.invoke(n.$get,n,void 0,t)}),w=y;p.$injectorProvider={$get:d(y)};var x=u(t),w=y.get("$injector");return w.strictDi=e,r(x,function(t){t&&w.invoke(t)}),w}function _t(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===T(t))return e=t,!0}),e}function o(t){if(t){t.scrollIntoView();var n;n=a.yOffset,S(n)?n=n():M(n)?(n=n[0],n="fixed"!==e.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):w(n)||(n=0),n&&(t=t.getBoundingClientRect().top,e.scrollBy(0,t-n))}else e.scrollTo(0,0)}function a(t){t=b(t)?t:n.hash();var e;t?(e=s.getElementById(t))?o(e):(e=i(s.getElementsByName(t)))?o(e):"top"===t&&o(null):o(null)}var s=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Mt(function(){r.$evalAsync(a)})}),a}]}function qt(t,e){return t||e?t?e?(ar(t)&&(t=t.join(" ")),ar(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function Lt(t){b(t)&&(t=t.split(" "));var e=at();return r(t,function(t){t.length&&(e[t]=!0)}),e}function Bt(t){return g(t)?t:{}}function Ht(t,e,n,i){function o(t){try{t.apply(null,Xn.call(arguments,1))}finally{if(v--,0===v)for(;g.length;)try{g.pop()()}catch(t){n.error(t)}}}function a(){S=null,s(),u()}function s(){y=C(),y=m(y)?null:y,I(y,k)&&(y=k),k=y}function u(){w===c.url()&&b===y||(w=c.url(),b=y,r(E,function(t){t(c.url(),y)}))}var c=this,l=t.location,f=t.history,p=t.setTimeout,d=t.clearTimeout,$={};c.isMock=!1;var v=0,g=[];c.$$completeOutstandingRequest=o,c.$$incOutstandingRequestCount=function(){v++},c.notifyWhenNoOutstandingRequests=function(t){0===v?t():g.push(t)};var y,b,w=l.href,x=e.find("base"),S=null,C=i.history?function(){try{return f.state}catch(t){}}:h;s(),b=y,c.url=function(e,n,r){if(m(r)&&(r=null),l!==t.location&&(l=t.location),f!==t.history&&(f=t.history),e){var o=b===r;if(w===e&&(!i.history||o))return c;var a=w&&be(w)===be(e);return w=e,b=r,!i.history||a&&o?(a||(S=e),n?l.replace(e):a?(n=l,r=e.indexOf("#"),r=-1===r?"":e.substr(r),n.hash=r):l.href=e,l.href!==e&&(S=e)):(f[n?"replaceState":"pushState"](r,"",e),s(),b=y),S&&(S=e),c}return S||l.href.replace(/%27/g,"'")},c.state=function(){return y};var E=[],A=!1,k=null;c.onUrlChange=function(e){return A||(i.history&&zn(t).on("popstate",a),zn(t).on("hashchange",a),A=!0),E.push(e),e},c.$$applicationDestroyed=function(){zn(t).off("hashchange popstate",a)},c.$$checkUrlChange=u,c.baseHref=function(){var t=x.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},c.defer=function(t,e){var n;return v++,n=p(function(){delete $[n],o(t)},e||0),$[n]=!0,n},c.defer.cancel=function(t){return!!$[t]&&(delete $[t],d(t),o(h),!0)}}function zt(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new Ht(t,r,e,n)}]}function Wt(){this.$get=function(){function t(t,r){function i(t){t!=h&&(p?p==t&&(p=t.n):p=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in n)throw e("$cacheFactory")("iid",t);var a=0,s=u({},r,{id:t}),c=at(),l=r&&r.capacity||Number.MAX_VALUE,f=at(),h=null,p=null;return n[t]={put:function(t,e){if(!m(e)){if(l<Number.MAX_VALUE){var n=f[t]||(f[t]={key:t});i(n)}return t in c||a++,c[t]=e,a>l&&this.remove(p.key),e}},get:function(t){if(l<Number.MAX_VALUE){var e=f[t];if(!e)return;i(e)}return c[t]},remove:function(t){if(l<Number.MAX_VALUE){var e=f[t];if(!e)return;e==h&&(h=e.p),e==p&&(p=e.n),o(e.n,e.p),delete f[t]}t in c&&(delete c[t],a--)},removeAll:function(){c=at(),a=0,f=at(),h=p=null},destroy:function(){f=s=c=null,delete n[t]},info:function(){return u({},s,{size:a})}}}var n={};return t.info=function(){var t={};return r(n,function(e,n){t[n]=e.info()}),t},t.get=function(t){return n[t]},t}}function Gt(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Zt(e,n){function i(t,e,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=at();return r(t,function(t,r){if(t in C)o[r]=C[t];else{var a=t.match(i);if(!a)throw Zr("iscp",e,r,t,n?"controller bindings definition":"isolate scope definition");o[r]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||r},a[4]&&(C[t]=o[r])}}),o}function a(t){var e=t.charAt(0);if(!e||e!==Kn(e))throw Zr("baddir",t);if(t!==t.trim())throw Zr("baddir",t)}function s(t){var e=t.require||t.controller&&t.name;return!ar(e)&&g(e)&&r(e,function(t,n){var r=t.match(w);t.substring(r[0].length)||(e[n]=r[0]+n)}),e}var c={},l=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,$=/(([\w\-]+)(?:\:([^;]+))?;?)/,y=N("ngSrc,ngSrcset,src,srcset"),w=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,x=/^(on[a-z]+|formaction)$/,C=at();this.directive=function t(n,i){return rt(n,"directive"),b(n)?(a(n),et(i,"directiveFactory"),c.hasOwnProperty(n)||(c[n]=[],e.factory(n+"Directive",["$injector","$exceptionHandler",function(t,e){var i=[];return r(c[n],function(r,o){try{var a=t.invoke(r);S(a)?a={compile:d(a)}:!a.compile&&a.link&&(a.compile=d(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=s(a),a.restrict=a.restrict||"EA",a.$$moduleName=r.$$moduleName,i.push(a)}catch(t){e(t)}}),i}])),c[n].push(i)):r(n,o(t)),this},this.component=function(t,e){function n(t){function n(e){return S(e)||ar(e)?function(n,r){return t.invoke(e,this,{$element:n,$attrs:r})}:e}var o=e.template||e.templateUrl?e.template:"",a={controller:i,controllerAs:Qt(e.controller)||e.controllerAs||"$ctrl",template:n(o),templateUrl:n(e.templateUrl),transclude:e.transclude,scope:{},bindToController:e.bindings||{},restrict:"E",require:e.require};return r(e,function(t,e){"$"===e.charAt(0)&&(a[e]=t)}),a}var i=e.controller||function(){};return r(e,function(t,e){"$"===e.charAt(0)&&(n[e]=t,S(i)&&(i[e]=t))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(t){return v(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return v(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var E=!0;this.debugInfoEnabled=function(t){return v(t)?(E=t,this):E};var O=10;this.onChangesTtl=function(t){return arguments.length?(O=t,this):O},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,o,a,s,d,C,M,N,j){function D(){try{if(!--bt)throw vt=void 0,Zr("infchng",O);C.$apply(function(){for(var t=[],e=0,n=vt.length;e<n;++e)try{vt[e]()}catch(e){t.push(e)}if(vt=void 0,t.length)throw t})}finally{bt++}}function R(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t}function F(t,e,n){yt.innerHTML="<span "+e+">",e=yt.firstChild.attributes;var r=e[0];e.removeNamedItem(r.name),r.value=n,t.attributes.setNamedItem(r)}function U(t,e){try{t.addClass(e)}catch(t){}}function _(e,n,r,i,o){e instanceof zn||(e=zn(e));for(var a=/\S+/,s=0,u=e.length;s<u;s++){var c=e[s];c.nodeType===mr&&c.nodeValue.match(a)&&pt(c,e[s]=t.document.createElement("span"))}var l=q(e,n,e,r,i,o);_.$$addScopeClass(e);var f=null;return function(t,n,r){et(t,"scope"),o&&o.needsNewScope&&(t=t.$parent.$new()),r=r||{};var i=r.parentBoundTranscludeFn,a=r.transcludeControllers;if(r=r.futureParentElement,i&&i.$$boundTransclude&&(i=i.$$boundTransclude),f||(f=(r=r&&r[0])&&"foreignobject"!==T(r)&&er.call(r).match(/SVG/)?"svg":"html"),r="html"!==f?zn(ut(f,zn("<div>").append(e).html())):n?Nr.clone.call(e):e,a)for(var s in a)r.data("$"+s+"Controller",a[s].instance);return _.$$addScopeInfo(r,t),n&&n(r,t),l&&l(t,r,r,i),r}}function q(t,e,n,r,i,o){function a(t,n,r,i){var o,a,s,u,c,l,p;if(f)for(p=Array(n.length),u=0;u<h.length;u+=3)o=h[u],p[o]=n[o];else p=n;for(u=0,c=h.length;u<c;)a=p[h[u++]],n=h[u++],o=h[u++],n?(n.scope?(s=t.$new(),_.$$addScopeInfo(zn(a),s)):s=t,l=n.transcludeOnThisElement?B(t,n.transclude,i):!n.templateOnThisElement&&i?i:!i&&e?B(t,e):null,n(o,s,a,r,l)):o&&o(t,a.childNodes,void 0,i)}for(var s,u,c,l,f,h=[],p=0;p<t.length;p++)s=new R,u=H(t[p],[],s,0===p?r:void 0,i),(o=u.length?Z(u,t[p],s,e,n,null,[],[],o):null)&&o.scope&&_.$$addScopeClass(s.$$element),s=o&&o.terminal||!(c=t[p].childNodes)||!c.length?null:q(c,o?(o.transcludeOnThisElement||!o.templateOnThisElement)&&o.transclude:e),(o||s)&&(h.push(p,o,s),l=!0,f=f||o),o=null;return l?a:null}function B(t,e,n){function r(r,i,o,a,s){return r||(r=t.$new(!1,s),r.$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i,o=r.$$slots=at();for(i in e.$$slots)o[i]=e.$$slots[i]?B(t,e.$$slots[i],n):null;return r}function H(t,e,n,r,i){var o,a=n.$attr;switch(t.nodeType){case 1:X(e,Kt(T(t)),"E",r,i);for(var s,u,c,f=t.attributes,h=0,p=f&&f.length;h<p;h++){var d=!1,m=!1;s=f[h],o=s.name,u=ur(s.value),s=Kt(o),(c=Ct.test(s))&&(o=o.replace(Kr,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()})),(s=s.match(Et))&&tt(s[1])&&(d=o,m=o.substr(0,o.length-5)+"end",o=o.substr(0,o.length-6)),s=Kt(o.toLowerCase()),a[s]=o,!c&&n.hasOwnProperty(s)||(n[s]=u,Nt(t,s)&&(n[s]=!0)),lt(t,e,u,s,c),X(e,s,"A",r,i,d,m)}if(t=t.className,g(t)&&(t=t.animVal),b(t)&&""!==t)for(;o=$.exec(t);)s=Kt(o[2]),X(e,s,"C",r,i)&&(n[s]=ur(o[3])),t=t.substr(o.index+o[0].length);break;case mr:if(11===Hn)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===mr;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);st(e,t.nodeValue);break;case 8:try{(o=l.exec(t.nodeValue))&&(s=Kt(o[1]),X(e,s,"M",r,i)&&(n[s]=ur(o[2])))}catch(t){}}return e.sort(it),e}function z(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Zr("uterdir",e,n);1==t.nodeType&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(0<i)}else r.push(t);return zn(r)}function W(t,e,n){return function(r,i,o,a,s){return i=z(i[0],e,n),t(r,i,o,a,s)}}function G(t,e,n,r,i,o){var a;return t?_(e,n,r,i,o):function(){return a||(a=_(e,n,r,i,o),e=n=o=null),a.apply(this,arguments)}}function Z(t,e,n,i,a,s,c,l,f){function h(t,e,n,r){t&&(n&&(t=W(t,n,r)),t.require=d.require,t.directiveName=$,(E===d||d.$$isolateScope)&&(t=ht(t,{isolateScope:!0})),c.push(t)),e&&(n&&(e=W(e,n,r)),e.require=d.require,e.directiveName=$,(E===d||d.$$isolateScope)&&(e=ht(e,{isolateScope:!0})),l.push(e))}function p(t,i,a,s,f){function h(t,e,n,r){var i;if(A(t)||(r=n,n=e,e=t,t=void 0),V&&(i=b),n||(n=V?O.parent():O),!r)return f(t,e,i,n,T);var o=f.$$slots[r];if(o)return o(t,e,i,n,T);if(m(o))throw Zr("noslot",r,L(O))}var p,d,$,v,y,b,w,O;e===a?(s=n,O=n.$$element):(O=zn(a),s=new R(O,n)),y=i,E?v=i.$new(!0):x&&(y=i.$parent),f&&(w=h,w.$$boundTransclude=f,w.isSlotFilled=function(t){return!!f.$$slots[t]}),C&&(b=K(O,s,w,C,v,i,E)),E&&(_.$$addScopeInfo(O,v,!0,!(k&&(k===E||k===E.$$originalDirective))),_.$$addScopeClass(O,!0),v.$$isolateBindings=E.$$isolateBindings,d=mt(i,s,v,v.$$isolateBindings,E),d.removeWatches&&v.$on("$destroy",d.removeWatches));for(p in b){d=C[p],$=b[p];var M=d.$$bindings.bindToController;$.bindingInfo=$.identifier&&M?mt(y,s,$.instance,M,d):{};var N=$();N!==$.instance&&($.instance=N,O.data("$"+d.name+"Controller",N),$.bindingInfo.removeWatches&&$.bindingInfo.removeWatches(),$.bindingInfo=mt(y,s,$.instance,M,d))}for(r(C,function(t,e){var n=t.require;t.bindToController&&!ar(n)&&g(n)&&u(b[e].instance,J(e,n,O,b))}),r(b,function(t){var e=t.instance;if(S(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){o(t)}if(S(e.$onInit))try{e.$onInit()}catch(t){o(t)}S(e.$onDestroy)&&y.$on("$destroy",function(){e.$onDestroy()})}),p=0,d=c.length;p<d;p++)$=c[p],dt($,$.isolateScope?v:i,O,s,$.require&&J($.directiveName,$.require,O,b),w);var T=i;for(E&&(E.template||null===E.templateUrl)&&(T=v),t&&t(T,a.childNodes,void 0,f),p=l.length-1;0<=p;p--)$=l[p],dt($,$.isolateScope?v:i,O,s,$.require&&J($.directiveName,$.require,O,b),w);r(b,function(t){t=t.instance,S(t.$postLink)&&t.$postLink()})}f=f||{};for(var d,$,v,y,b,w=-Number.MAX_VALUE,x=f.newScopeDirective,C=f.controllerDirectives,E=f.newIsolateScopeDirective,k=f.templateDirective,O=f.nonTlbTranscludeDirective,M=!1,N=!1,V=f.hasElementTranscludeDirective,j=n.$$element=zn(e),I=i,D=!1,F=!1,U=0,q=t.length;U<q;U++){d=t[U];var B=d.$$start,Z=d.$$end;if(B&&(j=z(e,B,Z)),v=void 0,w>d.priority)break;if((b=d.scope)&&(d.templateUrl||(g(b)?(ot("new/isolated scope",E||x,d,j),E=d):ot("new/isolated scope",E,d,j)),x=x||d),$=d.name,!D&&(d.replace&&(d.templateUrl||d.template)||d.transclude&&!d.$$tlb)){for(b=U+1;D=t[b++];)if(D.transclude&&!D.$$tlb||D.replace&&(D.templateUrl||D.template)){F=!0;break}D=!0}if(!d.templateUrl&&d.controller&&(b=d.controller,C=C||at(),ot("'"+$+"' controller",C[$],d,j),C[$]=d),b=d.transclude)if(M=!0,d.$$tlb||(ot("transclusion",O,d,j),O=d),"element"==b)V=!0,w=d.priority,v=j,j=n.$$element=zn(_.$$createComment($,n[$])),e=j[0],ft(a,Xn.call(v,0),e),v[0].$$parentNode=v[0].parentNode,I=G(F,v,i,w,s&&s.name,{nonTlbTranscludeDirective:O});else{var X=at();if(v=zn($t(e)).contents(),g(b)){v=[];var Q=at(),tt=at();r(b,function(t,e){
var n="?"===t.charAt(0);t=n?t.substring(1):t,Q[t]=e,X[e]=null,tt[e]=n}),r(j.contents(),function(t){var e=Q[Kt(T(t))];e?(tt[e]=!0,X[e]=X[e]||[],X[e].push(t)):v.push(t)}),r(tt,function(t,e){if(!t)throw Zr("reqslot",e)});for(var et in X)X[et]&&(X[et]=G(F,X[et],i))}j.empty(),I=G(F,v,i,void 0,void 0,{needsNewScope:d.$$isolateScope||d.$$newScope}),I.$$slots=X}if(d.template)if(N=!0,ot("template",k,d,j),k=d,b=S(d.template)?d.template(j,n):d.template,b=St(b),d.replace){if(s=d,v=Er.test(b)?Xt(ut(d.templateNamespace,ur(b))):[],e=v[0],1!=v.length||1!==e.nodeType)throw Zr("tplrt",$,"");ft(a,j,e),q={$attr:{}},b=H(e,[],q);var it=t.splice(U+1,t.length-(U+1));(E||x)&&Y(b,E,x),t=t.concat(b).concat(it),nt(n,q),q=t.length}else j.html(b);if(d.templateUrl)N=!0,ot("template",k,d,j),k=d,d.replace&&(s=d),p=rt(t.splice(U,t.length-U),j,n,a,M&&I,c,l,{controllerDirectives:C,newScopeDirective:x!==d&&x,newIsolateScopeDirective:E,templateDirective:k,nonTlbTranscludeDirective:O}),q=t.length;else if(d.compile)try{y=d.compile(j,n,I);var st=d.$$originalDirective||d;S(y)?h(null,P(st,y),B,Z):y&&h(P(st,y.pre),P(st,y.post),B,Z)}catch(t){o(t,L(j))}d.terminal&&(p.terminal=!0,w=Math.max(w,d.priority))}return p.scope=x&&!0===x.scope,p.transcludeOnThisElement=M,p.templateOnThisElement=N,p.transclude=I,f.hasElementTranscludeDirective=V,p}function J(t,e,n,i){var o;if(b(e)){var a=e.match(w);e=e.substring(a[0].length);var s=a[1]||a[3],a="?"===a[2];if("^^"===s?n=n.parent():o=(o=i&&i[e])&&o.instance,!o){var u="$"+e+"Controller";o=s?n.inheritedData(u):n.data(u)}if(!o&&!a)throw Zr("ctreq",e,t)}else if(ar(e))for(o=[],s=0,a=e.length;s<a;s++)o[s]=J(t,e[s],n,i);else g(e)&&(o={},r(e,function(e,r){o[r]=J(t,e,n,i)}));return o||null}function K(t,e,n,r,i,o,a){var s,u=at();for(s in r){var c=r[s],l={$scope:c===a||c.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:n},f=c.controller;"@"==f&&(f=e[c.name]),l=d(f,l,!0,c.controllerAs),u[c.name]=l,t.data("$"+c.name+"Controller",l.instance)}return u}function Y(t,e,n){for(var r=0,i=t.length;r<i;r++)t[r]=f(t[r],{$$isolateScope:e,$$newScope:n})}function X(t,n,r,a,s,u,l){if(n===s)return null;if(s=null,c.hasOwnProperty(n)){var h;n=e.get(n+"Directive");for(var p=0,d=n.length;p<d;p++)try{if(h=n[p],(m(a)||a>h.priority)&&-1!=h.restrict.indexOf(r)){if(u&&(h=f(h,{$$start:u,$$end:l})),!h.$$bindings){var $=h,v=h,y=h.name,b={isolateScope:null,bindToController:null};if(g(v.scope)&&(!0===v.bindToController?(b.bindToController=i(v.scope,y,!0),b.isolateScope={}):b.isolateScope=i(v.scope,y,!1)),g(v.bindToController)&&(b.bindToController=i(v.bindToController,y,!0)),g(b.bindToController)){var w=v.controller,x=v.controllerAs;if(!w)throw Zr("noctrl",y);if(!Qt(w,x))throw Zr("noident",y)}var S=$.$$bindings=b;g(S.isolateScope)&&(h.$$isolateBindings=S.isolateScope)}t.push(h),s=h}}catch(t){o(t)}}return s}function tt(t){if(c.hasOwnProperty(t))for(var n=e.get(t+"Directive"),r=0,i=n.length;r<i;r++)if(t=n[r],t.multiElement)return!0;return!1}function nt(t,e){var n=e.$attr,i=t.$attr;r(t,function(r,i){"$"!=i.charAt(0)&&(e[i]&&e[i]!==r&&(r+=("style"===i?";":" ")+e[i]),t.$set(i,r,!0,n[i]))}),r(e,function(e,r){t.hasOwnProperty(r)||"$"===r.charAt(0)||(t[r]=e,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function rt(t,e,n,i,o,s,u,c){var l,h,p=[],d=e[0],$=t.shift(),m=f($,{templateUrl:null,transclude:null,replace:null,$$originalDirective:$}),v=S($.templateUrl)?$.templateUrl(e,n):$.templateUrl,y=$.templateNamespace;return e.empty(),a(v).then(function(a){var f,b;if(a=St(a),$.replace){if(a=Er.test(a)?Xt(ut(y,ur(a))):[],f=a[0],1!=a.length||1!==f.nodeType)throw Zr("tplrt",$.name,v);a={$attr:{}},ft(i,e,f);var w=H(f,[],a);g($.scope)&&Y(w,!0),t=w.concat(t),nt(n,a)}else f=d,e.html(a);for(t.unshift(m),l=Z(t,f,n,o,e,$,s,u,c),r(i,function(t,n){t==f&&(i[n]=e[0])}),h=q(e[0].childNodes,o);p.length;){a=p.shift(),b=p.shift();var x=p.shift(),S=p.shift(),w=e[0];if(!a.$$destroyed){if(b!==d){var C=b.className;c.hasElementTranscludeDirective&&$.replace||(w=$t(f)),ft(x,zn(b),w),U(zn(w),C)}b=l.transcludeOnThisElement?B(a,l.transclude,S):S,l(h,a,w,i,b)}}p=null}),function(t,e,n,r,i){t=i,e.$$destroyed||(p?p.push(e,n,r,t):(l.transcludeOnThisElement&&(t=B(e,l.transclude,i)),l(h,e,n,r,t)))}}function it(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function ot(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e)throw Zr("multidir",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,L(r))}function st(t,e){var r=n(e,!0);r&&t.push({priority:0,compile:function(t){t=t.parent();var e=!!t.length;return e&&_.$$addBindingClass(t),function(t,n){var i=n.parent();e||_.$$addBindingClass(i),_.$$addBindingInfo(i,r.expressions),t.$watch(r,function(t){n[0].nodeValue=t})}}})}function ut(e,n){switch(e=Kn(e||"html")){case"svg":case"math":var r=t.document.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function ct(t,e){if("srcdoc"==e)return M.HTML;var n=T(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?M.RESOURCE_URL:void 0}function lt(t,e,r,i,o){var a=ct(t,i);o=y[i]||o;var s=n(r,!0,a,o);if(s){if("multiple"===i&&"select"===T(t))throw Zr("selmulti",L(t));e.push({priority:100,compile:function(){return{pre:function(t,e,u){if(e=u.$$observers||(u.$$observers=at()),x.test(i))throw Zr("nodomevents");var c=u[i];c!==r&&(s=c&&n(c,!0,a,o),r=c),s&&(u[i]=s(t),(e[i]||(e[i]=[])).$$inter=!0,(u.$$observers&&u.$$observers[i].$$scope||t).$watch(s,function(t,e){"class"===i&&t!=e?u.$updateClass(t,e):u.$set(i,t)}))}}}})}}function ft(e,n,r){var i,o,a=n[0],s=n.length,u=a.parentNode;if(e)for(i=0,o=e.length;i<o;i++)if(e[i]==a){e[i++]=r,o=i+s-1;for(var c=e.length;i<c;i++,o++)o<c?e[i]=e[o]:delete e[i];e.length-=s-1,e.context===a&&(e.context=r);break}for(u&&u.replaceChild(r,a),e=t.document.createDocumentFragment(),i=0;i<s;i++)e.appendChild(n[i]);for(zn.hasData(a)&&(zn.data(r,zn.data(a)),zn(a).off("$destroy")),zn.cleanData(e.querySelectorAll("*")),i=1;i<s;i++)delete n[i];n[0]=r,n.length=1}function ht(t,e){return u(function(){return t.apply(null,arguments)},t,e)}function dt(t,e,n,r,i,a){try{t(e,n,r,i,a)}catch(t){o(t,L(n))}}function mt(t,e,i,o,a){function u(e,n,r){S(i.$onChanges)&&n!==r&&(vt||(t.$$postDigest(D),vt=[]),l||(l={},vt.push(c)),l[e]&&(r=l[e].previousValue),l[e]=new Jt(r,n))}function c(){i.$onChanges(l),l=void 0}var l,f=[],p={};return r(o,function(r,o){var c,l,d,$,m=r.attrName,v=r.optional;switch(r.mode){case"@":v||Jn.call(e,m)||(i[o]=e[m]=void 0),e.$observe(m,function(t){(b(t)||k(t))&&(u(o,t,i[o]),i[o]=t)}),e.$$observers[m].$$scope=t,c=e[m],b(c)?i[o]=n(c)(t):k(c)&&(i[o]=c),p[o]=new Jt(Jr,i[o]);break;case"=":if(!Jn.call(e,m)){if(v)break;e[m]=void 0}if(v&&!e[m])break;l=s(e[m]),$=l.literal?I:function(t,e){return t===e||t!==t&&e!==e},d=l.assign||function(){throw c=i[o]=l(t),Zr("nonassign",e[m],m,a.name)},c=i[o]=l(t),v=function(e){return $(e,i[o])||($(e,c)?d(t,e=i[o]):i[o]=e),c=e},v.$stateful=!0,v=r.collection?t.$watchCollection(e[m],v):t.$watch(s(e[m],v),null,l.literal),f.push(v);break;case"<":if(!Jn.call(e,m)){if(v)break;e[m]=void 0}if(v&&!e[m])break;l=s(e[m]);var g=i[o]=l(t);p[o]=new Jt(Jr,i[o]),v=t.$watch(l,function(t,e){if(e===t){if(e===g)return;e=g}u(o,t,e),i[o]=t},l.literal),f.push(v);break;case"&":if(l=e.hasOwnProperty(m)?s(e[m]):h,l===h&&v)break;i[o]=function(e){return l(t,e)}}}),{initialChanges:p,removeWatches:f.length&&function(){for(var t=0,e=f.length;t<e;++t)f[t]()}}}var vt,gt=/^\w/,yt=t.document.createElement("div"),bt=O;R.prototype={$normalize:Kt,$addClass:function(t){t&&0<t.length&&N.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&N.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Yt(t,e);n&&n.length&&N.addClass(this.$$element,n),(n=Yt(e,t))&&n.length&&N.removeClass(this.$$element,n)},$set:function(t,e,n,i){var a=Nt(this.$$element[0],t),s=jr[t],u=t;if(a?(this.$$element.prop(t,e),i=a):s&&(this[s]=e,u=s),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=Q(t,"-")),a=T(this.$$element),"a"===a&&("href"===t||"xlinkHref"===t)||"img"===a&&"src"===t)this[t]=e=j(e,"src"===t);else if("img"===a&&"srcset"===t&&v(e)){for(var a="",s=ur(e),c=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,c=/\s/.test(s)?c:/(,)/,s=s.split(c),c=Math.floor(s.length/2),l=0;l<c;l++)var f=2*l,a=a+j(ur(s[f]),!0),a=a+(" "+ur(s[f+1]));s=ur(s[2*l]).split(/\s/),a+=j(ur(s[0]),!0),2===s.length&&(a+=" "+ur(s[1])),this[t]=e=a}!1!==n&&(null===e||m(e)?this.$$element.removeAttr(i):gt.test(i)?this.$$element.attr(i,e):F(this.$$element[0],i,e)),(t=this.$$observers)&&r(t[u],function(t){try{t(e)}catch(t){o(t)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=at()),i=r[t]||(r[t]=[]);return i.push(e),C.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(t)||m(n[t])||e(n[t])}),function(){V(i,e)}}};var wt=n.startSymbol(),xt=n.endSymbol(),St="{{"==wt&&"}}"==xt?p:function(t){return t.replace(/\{\{/g,wt).replace(/}}/g,xt)},Ct=/^ngAttr[A-Z]/,Et=/^(.+)Start$/;return _.$$addBindingInfo=E?function(t,e){var n=t.data("$binding")||[];ar(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:h,_.$$addBindingClass=E?function(t){U(t,"ng-binding")}:h,_.$$addScopeInfo=E?function(t,e,n,r){t.data(n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",e)}:h,_.$$addScopeClass=E?function(t,e){U(t,e?"ng-isolate-scope":"ng-scope")}:h,_.$$createComment=function(e,n){var r="";return E&&(r=" "+(e||"")+": ",n&&(r+=n+" ")),t.document.createComment(r)},_}]}function Jt(t,e){this.previousValue=t,this.currentValue=e}function Kt(t){return lt(t.replace(Kr,""))}function Yt(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/),o=0;t:for(;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue t;n+=(0<n.length?" ":"")+a}return n}function Xt(t){t=zn(t);var e=t.length;if(1>=e)return t;for(;e--;)8===t[e].nodeType&&Qn.call(t,e,1);return t}function Qt(t,e){if(e&&b(e))return e;if(b(t)){var n=Xr.exec(t);if(n)return n[3]}}function te(){var t={},n=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){rt(e,"controller"),g(e)?u(t,e):t[e]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,i){function o(t,n,r,i){if(!t||!g(t.$scope))throw e("$controller")("noscp",i,n);t.$scope[n]=r}return function(e,a,s,c){var l,f,h;if(s=!0===s,c&&b(c)&&(h=c),b(e)){if(c=e.match(Xr),!c)throw Yr("ctrlfmt",e);f=c[1],h=h||c[3],e=t.hasOwnProperty(f)?t[f]:it(a.$scope,f,!0)||(n?it(i,f,!0):void 0),nt(e,f,!0)}return s?(s=(ar(e)?e[e.length-1]:e).prototype,l=Object.create(s||null),h&&o(a,h,l,f||e.name),u(function(){var t=r.invoke(e,l,a,f);return t!==l&&(g(t)||S(t))&&(l=t,h&&o(a,h,l,f||e.name)),l},{instance:l,identifier:h})):(l=r.instantiate(e,a,f),h&&o(a,h,l,f||e.name),l)}}]}function ee(){this.$get=["$window",function(t){return zn(t.document)}]}function ne(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function re(t){return g(t)?x(t)?t.toISOString():F(t):t}function ie(){this.$get=function(){return function(t){if(!t)return"";var e=[];return i(t,function(t,n){null===t||m(t)||(ar(t)?r(t,function(t){e.push(G(n)+"="+G(re(t)))}):e.push(G(n)+"="+G(re(t))))}),e.join("&")}}}function oe(){this.$get=function(){return function(t){function e(t,o,a){null===t||m(t)||(ar(t)?r(t,function(t,n){e(t,o+"["+(g(t)?n:"")+"]")}):g(t)&&!x(t)?i(t,function(t,n){e(t,o+(a?"":"[")+n+(a?"":"]"))}):n.push(G(o)+"="+G(re(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function ae(t,e){if(b(t)){var n=t.replace(ii,"").trim();if(n){var r=e("Content-Type");(r=r&&0===r.indexOf(ti))||(r=(r=n.match(ni))&&ri[r[0]].test(n)),r&&(t=U(n))}}return t}function se(t){var e,n=at();return b(t)?r(t.split("\n"),function(t){e=t.indexOf(":");var r=Kn(ur(t.substr(0,e)));t=ur(t.substr(e+1)),r&&(n[r]=n[r]?n[r]+", "+t:t)}):g(t)&&r(t,function(t,e){var r=Kn(e),i=ur(t);r&&(n[r]=n[r]?n[r]+", "+i:i)}),n}function ue(t){var e;return function(n){return e||(e=se(t)),n?(n=e[Kn(n)],void 0===n&&(n=null),n):e}}function ce(t,e,n,i){return S(i)?i(t,e,n):(r(i,function(r){t=r(t,e,n)}),t)}function le(){var t=this.defaults={transformResponse:[ae],transformRequest:[function(t){return g(t)&&"[object File]"!==er.call(t)&&"[object Blob]"!==er.call(t)&&"[object FormData]"!==er.call(t)?F(t):t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ut(ei),put:ut(ei),patch:ut(ei)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(t){return v(t)?(n=!!t,this):n};var i=!0;this.useLegacyPromiseExtensions=function(t){return v(t)?(i=!!t,this):i};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,c,l,f,h){function p(n){function o(t){var e=u({},t);return e.data=ce(t.data,t.headers,t.status,s.transformResponse),t=t.status,200<=t&&300>t?e:f.reject(e)}function a(t,e){var n,i={};return r(t,function(t,r){S(t)?(n=t(e),null!=n&&(i[r]=n)):i[r]=t}),i}if(!g(n))throw e("$http")("badreq",n);if(!b(n.url))throw e("$http")("badreq",n.url);var s=u({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},n);s.headers=function(e){var n,r,i,o=t.headers,s=u({},e.headers),o=u({},o.common,o[Kn(e.method)]);t:for(n in o){r=Kn(n);for(i in s)if(Kn(i)===r)continue t;s[n]=o[n]}return a(s,ut(e))}(n),s.method=Yn(s.method),s.paramSerializer=b(s.paramSerializer)?h.get(s.paramSerializer):s.paramSerializer;var c=[function(e){var n=e.headers,i=ce(e.data,ue(n),void 0,e.transformRequest);return m(i)&&r(n,function(t,e){"content-type"===Kn(e)&&delete n[e]}),m(e.withCredentials)&&!m(t.withCredentials)&&(e.withCredentials=t.withCredentials),d(e,i).then(o,o)},void 0],l=f.when(s);for(r(w,function(t){(t.request||t.requestError)&&c.unshift(t.request,t.requestError),(t.response||t.responseError)&&c.push(t.response,t.responseError)});c.length;){n=c.shift();var p=c.shift(),l=l.then(n,p)}return i?(l.success=function(t){return nt(t,"fn"),l.then(function(e){t(e.data,e.status,e.headers,s)}),l},l.error=function(t){return nt(t,"fn"),l.then(null,function(e){t(e.data,e.status,e.headers,s)}),l}):(l.success=ai("success"),l.error=ai("error")),l}function d(e,i){function o(t){if(t){var e={};return r(t,function(t,r){e[r]=function(e){function r(){t(e)}n?l.$applyAsync(r):l.$$phase?r():l.$apply(r)}}),e}}function u(t,e,r,i){function o(){c(e,t,r,i)}b&&(200<=t&&300>t?b.put(A,[t,e,se(r),i]):b.remove(A)),n?l.$applyAsync(o):(o(),l.$$phase||l.$apply())}function c(t,n,r,i){n=-1<=n?n:0,(200<=n&&300>n?x.resolve:x.reject)({data:t,status:n,headers:ue(r),config:e,statusText:i})}function h(t){c(t.data,t.status,ut(t.headers()),t.statusText)}function d(){var t=p.pendingRequests.indexOf(e);-1!==t&&p.pendingRequests.splice(t,1)}var b,w,x=f.defer(),C=x.promise,E=e.headers,A=$(e.url,e.paramSerializer(e.params));return p.pendingRequests.push(e),C.then(d,d),!e.cache&&!t.cache||!1===e.cache||"GET"!==e.method&&"JSONP"!==e.method||(b=g(e.cache)?e.cache:g(t.cache)?t.cache:y),b&&(w=b.get(A),v(w)?w&&S(w.then)?w.then(h,h):ar(w)?c(w[1],w[0],ut(w[2]),w[3]):c(w,200,{},"OK"):b.put(A,C)),m(w)&&((w=un(e.url)?s()[e.xsrfCookieName||t.xsrfCookieName]:void 0)&&(E[e.xsrfHeaderName||t.xsrfHeaderName]=w),a(e.method,A,i,u,E,e.timeout,e.withCredentials,e.responseType,o(e.eventHandlers),o(e.uploadEventHandlers))),C}function $(t,e){return 0<e.length&&(t+=(-1==t.indexOf("?")?"?":"&")+e),t}var y=c("$http");t.paramSerializer=b(t.paramSerializer)?h.get(t.paramSerializer):t.paramSerializer;var w=[];return r(o,function(t){w.unshift(b(t)?h.get(t):h.invoke(t))}),p.pendingRequests=[],function(t){r(arguments,function(t){p[t]=function(e,n){return p(u({},n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(t){r(arguments,function(t){p[t]=function(e,n,r){return p(u({},r||{},{method:t,url:e,data:n}))}})}("post","put","patch"),p.defaults=t,p}]}function fe(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function he(){this.$get=["$browser","$window","$document","$xhrFactory",function(t,e,n,r){return pe(t,r,t.defer,e.angular.callbacks,n[0])}]}function pe(t,e,n,i,o){function a(t,e,n){var r=o.createElement("script"),a=null;return r.type="text/javascript",r.src=t,r.async=!0,a=function(t){r.removeEventListener("load",a,!1),r.removeEventListener("error",a,!1),o.body.removeChild(r),r=null;var s=-1,u="unknown";t&&("load"!==t.type||i[e].called||(t={type:"error"}),u=t.type,s="error"===t.type?404:200),n&&n(s,u)},r.addEventListener("load",a,!1),r.addEventListener("error",a,!1),o.body.appendChild(r),a}return function(o,s,u,c,l,f,p,d,$,g){function y(){x&&x(),C&&C.abort()}function b(e,r,i,o,a){v(E)&&n.cancel(E),x=C=null,e(r,i,o,a),t.$$completeOutstandingRequest(h)}if(t.$$incOutstandingRequestCount(),s=s||t.url(),"jsonp"==Kn(o)){var w="_"+(i.counter++).toString(36);i[w]=function(t){i[w].data=t,i[w].called=!0};var x=a(s.replace("JSON_CALLBACK","angular.callbacks."+w),w,function(t,e){b(c,t,i[w].data,"",e),i[w]=h})}else{var C=e(o,s);if(C.open(o,s,!0),r(l,function(t,e){v(t)&&C.setRequestHeader(e,t)}),C.onload=function(){var t=C.statusText||"",e="response"in C?C.response:C.responseText,n=1223===C.status?204:C.status;0===n&&(n=e?200:"file"==sn(s).protocol?404:0),b(c,n,e,C.getAllResponseHeaders(),t)},o=function(){b(c,-1,null,null,"")},C.onerror=o,C.onabort=o,r($,function(t,e){C.addEventListener(e,t)}),r(g,function(t,e){C.upload.addEventListener(e,t)}),p&&(C.withCredentials=!0),d)try{C.responseType=d}catch(t){if("json"!==d)throw t}C.send(m(u)?null:u)}if(0<f)var E=n(y,f);else f&&S(f.then)&&f.then(y)}}function de(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function a(n){return n.replace(h,t).replace(p,e)}function s(t,e,n,r){var i;return i=t.$watch(function(t){return i(),r(t)},e,n)}function c(o,c,h,p){function $(t){try{var e=t;t=h?i.getTrusted(h,e):i.valueOf(e);var n;if(p&&!v(t))n=t;else if(null==t)n="";else{switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=F(t)}n=t}return n}catch(t){r(si.interr(o,t))}}if(!o.length||-1===o.indexOf(t)){var g;return c||(c=a(o),g=d(c),g.exp=o,g.expressions=[],g.$$watchDelegate=s),g}p=!!p;var y,b,w=0,x=[],C=[];g=o.length;for(var E=[],A=[];w<g;){if(-1==(y=o.indexOf(t,w))||-1==(b=o.indexOf(e,y+l))){w!==g&&E.push(a(o.substring(w)));break}w!==y&&E.push(a(o.substring(w,y))),w=o.substring(y+l,b),x.push(w),C.push(n(w,$)),w=b+f,A.push(E.length),E.push("")}if(h&&1<E.length&&si.throwNoconcat(o),!c||x.length){var k=function(t){for(var e=0,n=x.length;e<n;e++){if(p&&m(t[e]))return;E[A[e]]=t[e]}return E.join("")};return u(function(t){var e=0,n=x.length,i=Array(n);try{for(;e<n;e++)i[e]=C[e](t);return k(i)}catch(t){r(si.interr(o,t))}},{exp:o,expressions:x,$$watchDelegate:function(t,e){var n;return t.$watchGroup(C,function(r,i){var o=k(r);S(e)&&e.call(this,o,r!==i?n:o,t),n=o})}})}}var l=t.length,f=e.length,h=new RegExp(t.replace(/./g,o),"g"),p=new RegExp(e.replace(/./g,o),"g");return c.startSymbol=function(){return t},c.endSymbol=function(){return e},c}]}function $e(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,r,i){function o(o,s,u,c){function l(){f?o.apply(null,h):o($)}var f=4<arguments.length,h=f?Xn.call(arguments,4):[],p=e.setInterval,d=e.clearInterval,$=0,m=v(c)&&!c,g=(m?r:n).defer(),y=g.promise;return u=v(u)?u:0,y.$$intervalId=p(function(){m?i.defer(l):t.$evalAsync(l),g.notify($++),0<u&&$>=u&&(g.resolve($),d(y.$$intervalId),delete a[y.$$intervalId]),m||t.$apply()},s),a[y.$$intervalId]=g,y}var a={};return o.cancel=function(t){return!!(t&&t.$$intervalId in a)&&(a[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete a[t.$$intervalId],!0)},o}]}function me(t){t=t.split("/");for(var e=t.length;e--;)t[e]=W(t[e]);return t.join("/")}function ve(t,e){var n=sn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=l(n.port)||ci[n.protocol]||null}function ge(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var r=sn(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=H(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function ye(t,e){if(0===e.lastIndexOf(t,0))return e.substr(t.length)}function be(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function we(t){return t.replace(/(#.+)|#$/,"$1")}function xe(t,e,n){this.$$html5=!0,n=n||"",ve(t,this),this.$$parse=function(t){var n=ye(e,t);if(!b(n))throw li("ipthprfx",t,e);ge(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=z(this.$$search),n=this.$$hash?"#"+W(this.$$hash):"";this.$$url=me(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return v(o=ye(t,r))?(a=o,a=v(o=ye(n,o))?e+(ye("/",o)||o):t+a):v(o=ye(e,r))?a=e+o:e==r+"/"&&(a=e),a&&this.$$parse(a),!!a}}function Se(t,e,n){ve(t,this),this.$$parse=function(r){var i,o=ye(t,r)||ye(e,r);m(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",m(o)&&(t=r,this.replace())):(i=ye(n,o),m(i)&&(i=o)),ge(i,this),r=this.$$path;var o=t,a=/^\/[A-Z]:(\/.*)/;0===i.lastIndexOf(o,0)&&(i=i.replace(o,"")),a.exec(i)||(r=(i=a.exec(r))?i[1]:r),this.$$path=r,this.$$compose()},this.$$compose=function(){var e=z(this.$$search),r=this.$$hash?"#"+W(this.$$hash):"";this.$$url=me(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return be(t)==be(e)&&(this.$$parse(e),!0)}}function Ce(t,e,n){this.$$html5=!0,Se.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return t==be(r)?o=r:(a=ye(e,r))?o=t+n+a:e===r+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=z(this.$$search),r=this.$$hash?"#"+W(this.$$hash):"";this.$$url=me(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+n+this.$$url}}function Ee(t){return function(){return this[t]}}function Ae(t,e){return function(n){return m(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function ke(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return v(e)?(t=e,this):t},this.html5Mode=function(t){return k(t)?(e.enabled=t,this):g(t)?(k(t.enabled)&&(e.enabled=t.enabled),k(t.requireBase)&&(e.requireBase=t.requireBase),k(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(t,e,n){var i=c.url(),o=c.$$state;try{r.url(t,e,n),c.$$state=r.state()}catch(t){throw c.url(i),c.$$state=o,t}}function u(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,l;l=r.baseHref();var f,h=r.url();if(e.enabled){if(!l&&e.requireBase)throw li("nobase");f=h.substring(0,h.indexOf("/",h.indexOf("//")+2))+(l||"/"),l=i.history?xe:Ce}else f=be(h),l=Se;var p=f.substr(0,be(f).lastIndexOf("/")+1);c=new l(f,p,"#"+t),c.$$parseLinkUrl(h,h),c.$$state=r.state();var d=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var i=zn(t.target);"a"!==T(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),u=i.attr("href")||i.attr("xlink:href");g(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=sn(s.animVal).href),d.test(s)||!s||i.attr("target")||t.isDefaultPrevented()||!c.$$parseLinkUrl(s,u)||(t.preventDefault(),c.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),we(c.absUrl())!=we(h)&&r.url(c.absUrl(),!0);var $=!0;return r.onUrlChange(function(t,e){m(ye(p,t))?a.location.href=t:(n.$evalAsync(function(){var r,i=c.absUrl(),o=c.$$state;t=we(t),c.$$parse(t),c.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,c.absUrl()===t&&(r?(c.$$parse(i),c.$$state=o,s(i,!1,o)):($=!1,u(i,o)))}),n.$$phase||n.$digest())}),n.$watch(function(){var t=we(r.url()),e=we(c.absUrl()),o=r.state(),a=c.$$replace,l=t!==e||c.$$html5&&i.history&&o!==c.$$state;($||l)&&($=!1,n.$evalAsync(function(){var e=c.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,c.$$state,o).defaultPrevented;c.absUrl()===e&&(r?(c.$$parse(t),c.$$state=o):(l&&s(e,a,o===c.$$state?null:c.$$state),u(t,o)))})),c.$$replace=!1}),c}]}function Oe(){var t=!0,e=this;this.debugEnabled=function(e){return v(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function o(t){var e=n.console||{},o=e[t]||e.log||h;t=!1;try{t=!!o.apply}catch(t){}return t?function(){var t=[];return r(arguments,function(e){t.push(i(e))}),o.apply(e,t)}:function(t,e){o(t,null==e?"":e)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function Me(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw hi("isecfld",e);return t}function Ne(t){return t+""}function Te(t,e){if(t){if(t.constructor===t)throw hi("isecfn",e);if(t.window===t)throw hi("isecwindow",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw hi("isecdom",e);if(t===Object)throw hi("isecobj",e)}return t}function Ve(t,e){if(t){if(t.constructor===t)throw hi("isecfn",e);if(t===pi||t===di||t===$i)throw hi("isecff",e)}}function je(t,e){if(t&&(t===(0).constructor||t===(!1).constructor||t==="".constructor||t==={}.constructor||t===[].constructor||t===Function.constructor))throw hi("isecaf",e)}function Ie(t,e){return"undefined"!=typeof t?t:e}function De(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function Pe(t,e){var n,i;switch(t.type){case yi.Program:n=!0,r(t.body,function(t){Pe(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case yi.Literal:t.constant=!0,t.toWatch=[];break;case yi.UnaryExpression:Pe(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case yi.BinaryExpression:Pe(t.left,e),Pe(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case yi.LogicalExpression:Pe(t.left,e),Pe(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case yi.ConditionalExpression:Pe(t.test,e),Pe(t.alternate,e),Pe(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case yi.Identifier:t.constant=!1,t.toWatch=[t];break;case yi.MemberExpression:Pe(t.object,e),t.computed&&Pe(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case yi.CallExpression:n=!!t.filter&&!e(t.callee.name).$stateful,i=[],r(t.arguments,function(t){Pe(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&!e(t.callee.name).$stateful?i:[t];break;case yi.AssignmentExpression:Pe(t.left,e),Pe(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case yi.ArrayExpression:n=!0,i=[],r(t.elements,function(t){Pe(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=i;break;case yi.ObjectExpression:n=!0,i=[],r(t.properties,function(t){Pe(t.value,e),n=n&&t.value.constant&&!t.computed,t.value.constant||i.push.apply(i,t.value.toWatch)}),t.constant=n,t.toWatch=i;break;case yi.ThisExpression:t.constant=!1,t.toWatch=[];break;case yi.LocalsExpression:t.constant=!1,t.toWatch=[]}}function Re(t){if(1==t.length){t=t[0].expression;var e=t.toWatch;return 1!==e.length?e:e[0]!==t?e:void 0}}function Fe(t){return t.type===yi.Identifier||t.type===yi.MemberExpression}function Ue(t){if(1===t.body.length&&Fe(t.body[0].expression))return{type:yi.AssignmentExpression,left:t.body[0].expression,right:{type:yi.NGValueParameter},operator:"="}}function _e(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===yi.Literal||t.body[0].expression.type===yi.ArrayExpression||t.body[0].expression.type===yi.ObjectExpression)}function qe(t,e){this.astBuilder=t,this.$filter=e}function Le(t,e){this.astBuilder=t,this.$filter=e}function Be(t){return"constructor"==t}function He(t){return S(t.valueOf)?t.valueOf():wi.call(t)}function ze(){var t,e,n=at(),i=at(),o={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){o[t]=e},this.setIdentifierFns=function(n,r){return t=n,e=r,this},this.$get=["$filter",function(a){function s(t,e,r){var o,s,c;switch(r=r||b,typeof t){case"string":c=t=t.trim();var m=r?i:n;if(o=m[c],!o){":"===t.charAt(0)&&":"===t.charAt(1)&&(s=!0,t=t.substring(2)),o=r?y:g;var v=new gi(o);o=new bi(v,a,o).parse(t),o.constant?o.$$watchDelegate=d:s?o.$$watchDelegate=o.literal?p:f:o.inputs&&(o.$$watchDelegate=l),r&&(o=u(o)),m[c]=o}return $(o,e);case"function":return $(t,e);default:return $(h,e)}}function u(t){function e(e,n,r,i){var o=b;b=!0;try{return t(e,n,r,i)}finally{b=o}}if(!t)return t;e.$$watchDelegate=t.$$watchDelegate,e.assign=u(t.assign),e.constant=t.constant,e.literal=t.literal;for(var n=0;t.inputs&&n<t.inputs.length;++n)t.inputs[n]=u(t.inputs[n]);return e.inputs=t.inputs,e}function c(t,e){return null==t||null==e?t===e:("object"!=typeof t||(t=He(t),"object"!=typeof t))&&(t===e||t!==t&&e!==e)}function l(t,e,n,r,i){var o,a=r.inputs;if(1===a.length){var s=c,a=a[0];return t.$watch(function(t){var e=a(t);return c(e,s)||(o=r(t,void 0,void 0,[e]),s=e&&He(e)),o},e,n,i)}for(var u=[],l=[],f=0,h=a.length;f<h;f++)u[f]=c,l[f]=null;return t.$watch(function(t){for(var e=!1,n=0,i=a.length;n<i;n++){var s=a[n](t);(e||(e=!c(s,u[n])))&&(l[n]=s,u[n]=s&&He(s))}return e&&(o=r(t,void 0,void 0,l)),o},e,n,i)}function f(t,e,n,r){var i,o;return i=t.$watch(function(t){return r(t)},function(t,n,r){o=t,S(e)&&e.apply(this,arguments),v(t)&&r.$$postDigest(function(){v(o)&&i()})},n)}function p(t,e,n,i){function o(t){var e=!0;return r(t,function(t){v(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return i(t)},function(t,n,r){s=t,S(e)&&e.call(this,t,n,r),o(t)&&r.$$postDigest(function(){o(s)&&a()})},n)}function d(t,e,n,r){var i;return i=t.$watch(function(t){return i(),r(t)},e,n)}function $(t,e){if(!e)return t;var n=t.$$watchDelegate,r=!1,n=n!==p&&n!==f?function(n,i,o,a){return o=r&&a?a[0]:t(n,i,o,a),e(o,n,i)}:function(n,r,i,o){return i=t(n,r,i,o),n=e(i,n,r),v(i)?n:i};return t.$$watchDelegate&&t.$$watchDelegate!==l?n.$$watchDelegate=t.$$watchDelegate:e.$stateful||(n.$$watchDelegate=l,r=!t.inputs,n.inputs=t.inputs?t.inputs:[t]),n}var m=lr().noUnsafeEval,g={csp:m,expensiveChecks:!1,literals:j(o),isIdentifierStart:S(t)&&t,isIdentifierContinue:S(e)&&e},y={csp:m,expensiveChecks:!0,literals:j(o),isIdentifierStart:S(t)&&t,isIdentifierContinue:S(e)&&e},b=!1;return s.$$runningExpensiveChecks=function(){return b},s}]}function We(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Ze(function(e){t.$evalAsync(e)},e)}]}function Ge(){this.$get=["$browser","$exceptionHandler",function(t,e){return Ze(function(e){t.defer(e)},e)}]}function Ze(t,n){function i(){this.$$state={status:0}}function o(t,e){return function(n){e.call(t,n)}}function a(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){var t,r,i;i=e.pending,e.processScheduled=!1,e.pending=void 0;for(var o=0,a=i.length;o<a;++o){r=i[o][0],t=i[o][e.status];try{S(t)?r.resolve(t(e.value)):1===e.status?r.resolve(e.value):r.reject(e.value)}catch(t){r.reject(t),n(t)}}}))}function s(){this.promise=new i}var c=e("$q",TypeError);u(i.prototype,{then:function(t,e,n){if(m(t)&&m(e)&&m(n))return this;var r=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),0<this.$$state.status&&a(this.$$state),r.promise},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then(function(e){return f(e,!0,t)},function(e){return f(e,!1,t)},e)}}),u(s.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(c("qcycle",t)):this.$$resolve(t));
},$$resolve:function(t){function e(t){u||(u=!0,s.$$resolve(t))}function r(t){u||(u=!0,s.$$reject(t))}var i,s=this,u=!1;try{(g(t)||S(t))&&(i=t&&t.then),S(i)?(this.promise.$$state.status=-1,i.call(t,e,r,o(this,this.notify))):(this.promise.$$state.value=t,this.promise.$$state.status=1,a(this.promise.$$state))}catch(t){r(t),n(t)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,a(this.promise.$$state)},notify:function(e){var r=this.promise.$$state.pending;0>=this.promise.$$state.status&&r&&r.length&&t(function(){for(var t,i,o=0,a=r.length;o<a;o++){i=r[o][0],t=r[o][3];try{i.notify(S(t)?t(e):e)}catch(t){n(t)}}})}});var l=function(t,e){var n=new s;return e?n.resolve(t):n.reject(t),n.promise},f=function(t,e,n){var r=null;try{S(n)&&(r=n())}catch(t){return l(t,!1)}return r&&S(r.then)?r.then(function(){return l(t,e)},function(t){return l(t,!1)}):l(t,e)},h=function(t,e,n,r){var i=new s;return i.resolve(t),i.promise.then(e,n,r)},p=function(t){if(!S(t))throw c("norslvr",t);var e=new s;return t(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise};return p.prototype=i.prototype,p.defer=function(){var t=new s;return t.resolve=o(t,t.resolve),t.reject=o(t,t.reject),t.notify=o(t,t.notify),t},p.reject=function(t){var e=new s;return e.reject(t),e.promise},p.when=h,p.resolve=h,p.all=function(t){var e=new s,n=0,i=ar(t)?[]:{};return r(t,function(t,r){n++,h(t).then(function(t){i.hasOwnProperty(r)||(i[r]=t,--n||e.resolve(i))},function(t){i.hasOwnProperty(r)||e.reject(t)})}),0===n&&e.resolve(i),e.promise},p}function Je(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=i,o}]}function Ke(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++or,this.$$ChildScope=null}return e.prototype=t,e}var i=10,o=e("$rootScope"),a=null,s=null;this.digestTtl=function(t){return arguments.length&&(i=t),i},this.$get=["$exceptionHandler","$parse","$browser",function(e,u,c){function l(t){t.currentScope.$$destroyed=!0}function f(t){9===Hn&&(t.$$childHead&&f(t.$$childHead),t.$$nextSibling&&f(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function p(){this.$id=++or,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function d(t){if(x.$$phase)throw o("inprog",x.$$phase);x.$$phase=t}function $(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function v(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function y(){}function b(){for(;A.length;)try{A.shift()()}catch(t){e(t)}s=null}function w(){null===s&&(s=c.defer(function(){x.$apply(b)}))}p.prototype={constructor:p,$new:function(e,n){var r;return n=n||this,e?(r=new p,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(e||n!=this)&&r.$on("$destroy",l),r},$watch:function(t,e,n,r){var i=u(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,n,i,t);var o=this,s=o.$$watchers,c={fn:e,last:y,get:i,exp:r||t,eq:!!n};return a=null,S(e)||(c.fn=h),s||(s=o.$$watchers=[]),s.unshift(c),$(this,1),function(){0<=V(s,c)&&$(o,-1),a=null}},$watchGroup:function(t,e){function n(){u=!1,c?(c=!1,e(o,o,s)):e(o,i,s)}var i=Array(t.length),o=Array(t.length),a=[],s=this,u=!1,c=!0;if(!t.length){var l=!0;return s.$evalAsync(function(){l&&e(o,o,s)}),function(){l=!1}}return 1===t.length?this.$watch(t[0],function(t,n,r){o[0]=t,i[0]=n,e(o,t===n?o:i,r)}):(r(t,function(t,e){var r=s.$watch(t,function(t,r){o[e]=t,i[e]=r,u||(u=!0,s.$evalAsync(n))});a.push(r)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function r(t){i=t;var e,r,a,s;if(!m(i)){if(g(i))if(n(i))for(o!==h&&(o=h,$=o.length=0,l++),t=i.length,$!==t&&(l++,o.length=$=t),e=0;e<t;e++)s=o[e],a=i[e],r=s!==s&&a!==a,r||s===a||(l++,o[e]=a);else{o!==p&&(o=p={},$=0,l++),t=0;for(e in i)Jn.call(i,e)&&(t++,a=i[e],s=o[e],e in o?(r=s!==s&&a!==a,r||s===a||(l++,o[e]=a)):($++,o[e]=a,l++));if($>t)for(e in l++,o)Jn.call(i,e)||($--,delete o[e])}else o!==i&&(o=i,l++);return l}}r.$stateful=!0;var i,o,a,s=this,c=1<e.length,l=0,f=u(t,r),h=[],p={},d=!0,$=0;return this.$watch(f,function(){if(d?(d=!1,e(i,i,s)):e(i,a,s),c)if(g(i))if(n(i)){a=Array(i.length);for(var t=0;t<i.length;t++)a[t]=i[t]}else for(t in a={},i)Jn.call(i,t)&&(a[t]=i[t]);else a=i})},$digest:function(){var t,n,r,u,l,f,h,p,$,m,v,g=i,w=[];d("$digest"),c.$$checkUrlChange(),this===x&&null!==s&&(c.defer.cancel(s),b()),a=null;do{for(p=!1,$=this,f=0;f<C.length;f++){try{v=C[f],v.scope.$eval(v.expression,v.locals)}catch(t){e(t)}a=null}C.length=0;t:do{if(f=$.$$watchers)for(h=f.length;h--;)try{if(t=f[h])if(l=t.get,(n=l($))===(r=t.last)||(t.eq?I(n,r):"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))){if(t===a){p=!1;break t}}else p=!0,a=t,t.last=t.eq?j(n,null):n,u=t.fn,u(n,r===y?n:r,$),5>g&&(m=4-g,w[m]||(w[m]=[]),w[m].push({msg:S(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:n,oldVal:r}))}catch(t){e(t)}if(!(f=$.$$watchersCount&&$.$$childHead||$!==this&&$.$$nextSibling))for(;$!==this&&!(f=$.$$nextSibling);)$=$.$parent}while($=f);if((p||C.length)&&!g--)throw x.$$phase=null,o("infdig",i,w)}while(p||C.length);for(x.$$phase=null;k<E.length;)try{E[k++]()}catch(t){e(t)}E.length=k=0},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===x&&c.$$applicationDestroyed(),$(this,-this.$$watchersCount);for(var e in this.$$listenerCount)v(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=h,this.$on=this.$watch=this.$watchGroup=function(){return h},this.$$listeners={},this.$$nextSibling=null,f(this)}},$eval:function(t,e){return u(t)(this,e)},$evalAsync:function(t,e){x.$$phase||C.length||c.defer(function(){C.length&&x.$digest()}),C.push({scope:this,expression:u(t),locals:e})},$$postDigest:function(t){E.push(t)},$apply:function(t){try{d("$apply");try{return this.$eval(t)}finally{x.$$phase=null}}catch(t){e(t)}finally{try{x.$digest()}catch(t){throw e(t),t}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&A.push(e),t=u(t),w()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(n[r]=null,v(i,1,t))}},$emit:function(t,n){var r,i,o,a=[],s=this,u=!1,c={name:t,targetScope:s,stopPropagation:function(){u=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=D([c],arguments,1);do{for(r=s.$$listeners[t]||a,c.currentScope=s,i=0,o=r.length;i<o;i++)if(r[i])try{r[i].apply(null,l)}catch(t){e(t)}else r.splice(i,1),i--,o--;if(u)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(t,n){var r=this,i=this,o={name:t,targetScope:this,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[t])return o;for(var a,s,u=D([o],arguments,1);r=i;){for(o.currentScope=r,i=r.$$listeners[t]||[],a=0,s=i.length;a<s;a++)if(i[a])try{i[a].apply(null,u)}catch(t){e(t)}else i.splice(a,1),a--,s--;if(!(i=r.$$listenerCount[t]&&r.$$childHead||r!==this&&r.$$nextSibling))for(;r!==this&&!(i=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var x=new p,C=x.$$asyncQueue=[],E=x.$$postDigestQueue=[],A=x.$$applyAsyncQueue=[],k=0;return x}]}function Ye(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return v(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return v(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=sn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function Xe(t){if("self"===t)return t;if(b(t)){if(-1<t.indexOf("***"))throw xi("iwcard",t);return t=cr(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(C(t))return new RegExp("^"+t.source+"$");throw xi("imatcher")}function Qe(t){var e=[];return v(t)&&r(t,function(t){e.push(Xe(t))}),e}function tn(){this.SCE_CONTEXTS=Si;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Qe(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Qe(t)),e},this.$get=["$injector",function(n){function r(t,e){return"self"===t?un(e):!!t.exec(e.href)}function i(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}var o=function(t){throw xi("unsafe")};n.has("$sanitize")&&(o=n.get("$sanitize"));var a=i(),s={};return s[Si.HTML]=i(a),s[Si.CSS]=i(a),s[Si.URL]=i(a),s[Si.JS]=i(a),s[Si.RESOURCE_URL]=i(s[Si.URL]),{trustAs:function(t,e){var n=s.hasOwnProperty(t)?s[t]:null;if(!n)throw xi("icontext",t,e);if(null===e||m(e)||""===e)return e;if("string"!=typeof e)throw xi("itype",t);return new n(e)},getTrusted:function(n,i){if(null===i||m(i)||""===i)return i;var a=s.hasOwnProperty(n)?s[n]:null;if(a&&i instanceof a)return i.$$unwrapTrustedValue();if(n===Si.RESOURCE_URL){var u,c,a=sn(i.toString()),l=!1;for(u=0,c=t.length;u<c;u++)if(r(t[u],a)){l=!0;break}if(l)for(u=0,c=e.length;u<c;u++)if(r(e[u],a)){l=!1;break}if(l)return i;throw xi("insecurl",i.toString())}if(n===Si.HTML)return o(i);throw xi("unsafe")},valueOf:function(t){return t instanceof a?t.$$unwrapTrustedValue():t}}}]}function en(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>Hn)throw xi("iequirks");var i=ut(Si);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=p),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:e(n,function(e){return i.getTrusted(t,e)})};var o=i.parseAs,a=i.getTrusted,s=i.trustAs;return r(Si,function(t,e){var n=Kn(e);i[lt("parse_as_"+n)]=function(e){return o(t,e)},i[lt("get_trusted_"+n)]=function(e){return a(t,e)},i[lt("trust_as_"+n)]=function(e){return s(t,e)}}),i}]}function nn(){this.$get=["$window","$document",function(t,e){var n,r={},i=!(t.chrome&&t.chrome.app&&t.chrome.app.runtime)&&t.history&&t.history.pushState,o=l((/android (\d+)/.exec(Kn((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,c=s.body&&s.body.style,f=!1,h=!1;if(c){for(var p in c)if(f=u.exec(p)){n=f[0],n=n[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),f=!!("transition"in c||n+"Transition"in c),h=!!("animation"in c||n+"Animation"in c),!o||f&&h||(f=b(c.webkitTransition),h=b(c.webkitAnimation))}return{history:!(!i||4>o||a),hasEvent:function(t){if("input"===t&&11>=Hn)return!1;if(m(r[t])){var e=s.createElement("div");r[t]="on"+t in e}return r[t]},csp:lr(),vendorPrefix:n,transitions:f,animations:h,android:o}}]}function rn(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$templateCache","$http","$q","$sce",function(e,n,r,i){function o(a,s){o.totalPendingRequests++,b(a)&&!m(e.get(a))||(a=i.getTrustedResourceUrl(a));var c=n.defaults&&n.defaults.transformResponse;return ar(c)?c=c.filter(function(t){return t!==ae}):c===ae&&(c=null),n.get(a,u({cache:e,transformResponse:c},t)).finally(function(){o.totalPendingRequests--}).then(function(t){return e.put(a,t.data),t.data},function(t){if(!s)throw Ci("tpload",a,t.status,t.statusText);return r.reject(t)})}return o.totalPendingRequests=0,o}]}function on(){this.$get=["$rootScope","$browser","$location",function(t,e,n){return{findBindings:function(t,e,n){t=t.getElementsByClassName("ng-binding");var i=[];return r(t,function(t){var o=ir.element(t).data("$binding");o&&r(o,function(r){n?new RegExp("(^|\\s)"+cr(e)+"(\\s|\\||$)").test(r)&&i.push(t):-1!=r.indexOf(e)&&i.push(t)})}),i},findModels:function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=t.querySelectorAll("["+r[i]+"model"+(n?"=":"*=")+'"'+e+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(e){e!==n.url()&&(n.url(e),t.$digest())},whenStable:function(t){e.notifyWhenNoOutstandingRequests(t)}}}]}function an(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,s,u){S(o)||(u=s,s=o,o=h);var c,l=Xn.call(arguments,3),f=v(u)&&!u,p=(f?r:n).defer(),d=p.promise;return c=e.defer(function(){try{p.resolve(o.apply(null,l))}catch(t){p.reject(t),i(t)}finally{delete a[d.$$timeoutId]}f||t.$apply()},s),d.$$timeoutId=c,a[c]=p,d}var a={};return o.cancel=function(t){return!!(t&&t.$$timeoutId in a)&&(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},o}]}function sn(t){return Hn&&(Ei.setAttribute("href",t),t=Ei.href),Ei.setAttribute("href",t),{href:Ei.href,protocol:Ei.protocol?Ei.protocol.replace(/:$/,""):"",host:Ei.host,search:Ei.search?Ei.search.replace(/^\?/,""):"",hash:Ei.hash?Ei.hash.replace(/^#/,""):"",hostname:Ei.hostname,port:Ei.port,pathname:"/"===Ei.pathname.charAt(0)?Ei.pathname:"/"+Ei.pathname}}function un(t){return t=b(t)?sn(t):t,t.protocol===Ai.protocol&&t.host===Ai.host}function cn(){this.$get=d(t)}function ln(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var n=t[0]||{},r={},i="";return function(){var t,o,a,s,u;if(t=n.cookie||"",t!==i)for(i=t,t=i.split("; "),r={},a=0;a<t.length;a++)o=t[a],s=o.indexOf("="),0<s&&(u=e(o.substring(0,s)),m(r[u])&&(r[u]=e(o.substring(s+1))));return r}}function fn(){this.$get=ln}function hn(t){function e(n,i){if(g(n)){var o={};return r(n,function(t,n){o[n]=e(n,t)}),o}return t.factory(n+"Filter",i)}this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+"Filter")}}],e("currency",vn),e("date",On),e("filter",pn),e("json",Mn),e("limitTo",Nn),e("lowercase",ji),e("number",gn),e("orderBy",Vn),e("uppercase",Ii)}function pn(){return function(t,r,i){if(!n(t)){if(null==t)return t;throw e("filter")("notarray",t)}var o;switch(mn(r)){case"function":break;case"boolean":case"null":case"number":case"string":o=!0;case"object":r=dn(r,i,o);break;default:return t}return Array.prototype.filter.call(t,r)}}function dn(t,e,n){var r=g(t)&&"$"in t;return!0===e?e=I:S(e)||(e=function(t,e){return!m(t)&&(null===t||null===e?t===e:!(g(e)||g(t)&&!$(t))&&(t=Kn(""+t),e=Kn(""+e),-1!==t.indexOf(e)))}),function(i){return r&&!g(i)?$n(i,t.$,e,!1):$n(i,t,e,n)}}function $n(t,e,n,r,i){var o=mn(t),a=mn(e);if("string"===a&&"!"===e.charAt(0))return!$n(t,e.substring(1),n,r);if(ar(t))return t.some(function(t){return $n(t,e,n,r)});switch(o){case"object":var s;if(r){for(s in t)if("$"!==s.charAt(0)&&$n(t[s],e,n,!0))return!0;return!i&&$n(t,e,n,!1)}if("object"===a){for(s in e)if(i=e[s],!S(i)&&!m(i)&&(o="$"===s,!$n(o?t:t[s],i,n,o,o)))return!1;return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function mn(t){return null===t?"null":typeof t}function vn(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return m(n)&&(n=e.CURRENCY_SYM),m(r)&&(r=e.PATTERNS[1].maxFrac),null==t?t:wn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function gn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:wn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function yn(t){var e,n,r,i,o,a=0;for(-1<(n=t.indexOf(Oi))&&(t=t.replace(Oi,"")),0<(r=t.search(/e/i))?(0>n&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):0>n&&(n=t.length),r=0;t.charAt(r)==Mi;r++);if(r==(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)==Mi;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=+t.charAt(r)}return n>ki&&(e=e.splice(0,ki-1),a=n-1,n=1),{d:e,e:a,i:n}}function bn(t,e,n,r){var i=t.d,o=i.length-t.i;if(e=m(e)?Math.min(Math.max(n,o),r):+e,n=e+t.i,r=i[n],0<n){i.splice(Math.max(t.i,n));for(var a=n;a<i.length;a++)i[a]=0}else for(o=Math.max(0,o),t.i=1,i.length=Math.max(1,n=e+1),i[0]=0,a=1;a<n;a++)i[a]=0;if(5<=r)if(0>n-1){for(r=0;r>n;r--)i.unshift(0),t.i++;i.unshift(1),t.i++}else i[n-1]++;for(;o<Math.max(0,e);o++)i.push(0);(e=i.reduceRight(function(t,e,n,r){return e+=t,r[n]=e%10,Math.floor(e/10)},0))&&(i.unshift(e),t.i++)}function wn(t,e,n,r,i){if(!b(t)&&!w(t)||isNaN(t))return"";var o=!isFinite(t),a=!1,s=Math.abs(t)+"",u="";if(o)u="";else{for(a=yn(s),bn(a,i,e.minFrac,e.maxFrac),u=a.d,s=a.i,i=a.e,o=[],a=u.reduce(function(t,e){return t&&!e},!0);0>s;)u.unshift(0),s++;for(0<s?o=u.splice(s,u.length):(o=u,u=[0]),s=[],u.length>=e.lgSize&&s.unshift(u.splice(-e.lgSize,u.length).join(""));u.length>e.gSize;)s.unshift(u.splice(-e.gSize,u.length).join(""));u.length&&s.unshift(u.join("")),u=s.join(n),o.length&&(u+=r+o.join("")),i&&(u+="e+"+i)}return 0>t&&!a?e.negPre+u+e.negSuf:e.posPre+u+e.posSuf}function xn(t,e,n,r){var i="";for((0>t||r&&0>=t)&&(r?t=-t+1:(t=-t,i="-")),t=""+t;t.length<e;)t=Mi+t;return n&&(t=t.substr(t.length-e)),i+t}function Sn(t,e,n,r,i){return n=n||0,function(o){return o=o["get"+t](),(0<n||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),xn(o,e,r,i)}}function Cn(t,e,n){return function(r,i){var o=r["get"+t](),a=Yn((n?"STANDALONE":"")+(e?"SHORT":"")+t);return i[a][o]}}function En(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function An(t){return function(e){var n=En(e.getFullYear());return e=+new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))-+n,e=1+Math.round(e/6048e5),xn(e,t)}}function kn(t,e){return 0>=t.getFullYear()?e.ERAS[0]:e.ERAS[1]}function On(t){function e(t){var e;if(e=t.match(n)){t=new Date(0);var r=0,i=0,o=e[8]?t.setUTCFullYear:t.setFullYear,a=e[8]?t.setUTCHours:t.setHours;e[9]&&(r=l(e[9]+e[10]),i=l(e[9]+e[11])),o.call(t,l(e[1]),l(e[2])-1,l(e[3])),r=l(e[4]||0)-r,i=l(e[5]||0)-i,o=l(e[6]||0),e=Math.round(1e3*parseFloat("0."+(e[7]||0))),a.call(t,r,i,o,e)}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,o){var a,s,u="",c=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,b(n)&&(n=Vi.test(n)?l(n):e(n)),w(n)&&(n=new Date(n)),!x(n)||!isFinite(n.getTime()))return n;for(;i;)(s=Ti.exec(i))?(c=D(c,s,1),i=c.pop()):(c.push(i),i=null);var f=n.getTimezoneOffset();return o&&(f=_(o,f),n=q(n,o,!0)),r(c,function(e){a=Ni[e],u+=a?a(n,t.DATETIME_FORMATS,f):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function Mn(){return function(t,e){return m(e)&&(e=2),F(t,e)}}function Nn(){return function(t,e,r){return e=1/0===Math.abs(Number(e))?Number(e):l(e),isNaN(e)?t:(w(t)&&(t=t.toString()),n(t)?(r=!r||isNaN(r)?0:l(r),r=0>r?Math.max(0,t.length+r):r,0<=e?Tn(t,r,r+e):0===r?Tn(t,e,t.length):Tn(t,Math.max(0,r+e),r)):t)}}function Tn(t,e,n){return b(t)?t.slice(e,n):Xn.call(t,e,n)}function Vn(t){function r(e){return e.map(function(e){var n=1,r=p;if(S(e))r=e;else if(b(e)&&("+"!=e.charAt(0)&&"-"!=e.charAt(0)||(n="-"==e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(r=t(e),r.constant)))var i=r(),r=function(t){return t[i]};return{get:r,descending:n}})}function i(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function o(t,e){var n=0,r=t.type,i=e.type;if(r===i){var i=t.value,o=e.value;"string"===r?(i=i.toLowerCase(),o=o.toLowerCase()):"object"===r&&(g(i)&&(i=t.index),g(o)&&(o=e.index)),i!==o&&(n=i<o?-1:1)}else n=r<i?-1:1;return n}return function(t,a,s,u){if(null==t)return t;if(!n(t))throw e("orderBy")("notarray",t);ar(a)||(a=[a]),0===a.length&&(a=["+"]);var c=r(a),l=s?-1:1,f=S(u)?u:o;return t=Array.prototype.map.call(t,function(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:c.map(function(n){var r=n.get(t);return n=typeof r,null===r?(n="string",r="null"):"object"===n&&(S(r.valueOf)&&(r=r.valueOf(),i(r))||$(r)&&(r=r.toString(),i(r))),{value:r,type:n,index:e}})}}),t.sort(function(t,e){for(var n=0,r=c.length;n<r;n++){var i=f(t.predicateValues[n],e.predicateValues[n]);if(i)return i*c[n].descending*l}return f(t.tieBreaker,e.tieBreaker)*l}),t=t.map(function(t){return t.value})}}function jn(t){return S(t)&&(t={link:t}),t.restrict=t.restrict||"AC",d(t)}function In(t,e,n,i,o){var a=this,s=[];a.$error={},a.$$success={},a.$pending=void 0,a.$name=o(e.name||e.ngForm||"")(n),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=Ri,a.$rollbackViewValue=function(){r(s,function(t){t.$rollbackViewValue()})},a.$commitViewValue=function(){r(s,function(t){t.$commitViewValue()})},a.$addControl=function(t){rt(t.$name,"input"),s.push(t),t.$name&&(a[t.$name]=t),t.$$parentForm=a},a.$$renameControl=function(t,e){var n=t.$name;a[n]===t&&delete a[n],a[e]=t,t.$name=e},a.$removeControl=function(t){t.$name&&a[t.$name]===t&&delete a[t.$name],r(a.$pending,function(e,n){a.$setValidity(n,null,t)}),r(a.$error,function(e,n){a.$setValidity(n,null,t)}),r(a.$$success,function(e,n){a.$setValidity(n,null,t)}),V(s,t),t.$$parentForm=Ri},Ln({ctrl:this,$element:t,set:function(t,e,n){var r=t[e];r?-1===r.indexOf(n)&&r.push(n):t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(V(r,n),0===r.length&&delete t[e])},$animate:i}),a.$setDirty=function(){i.removeClass(t,bo),i.addClass(t,wo),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){i.setClass(t,bo,wo+" ng-submitted"),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,r(s,function(t){t.$setPristine()})},a.$setUntouched=function(){r(s,function(t){t.$setUntouched()})},a.$setSubmitted=function(){i.addClass(t,"ng-submitted"),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function Dn(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function Pn(t,e,n,r,i,o){var a=Kn(e[0].type);if(!i.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,c()})}var u,c=function(t){if(u&&(o.defer.cancel(u),u=null),!s){var i=e.val();t=t&&t.type,"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=ur(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,t)}};if(i.hasEvent("input"))e.on("input",c);else{var l=function(t,e,n){u||(u=o.defer(function(){u=null,e&&e.value===n||c(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&19>e||37<=e&&40>=e||l(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut",l)}e.on("change",c),Ki[a]&&r.$$hasNativeValidators&&a===n.type&&e.on("keydown wheel mousedown",function(t){if(!u){var e=this.validity,n=e.badInput,r=e.typeMismatch;u=o.defer(function(){u=null,e.badInput===n&&e.typeMismatch===r||c(t)})}}),r.$render=function(){var t=r.$isEmpty(r.$viewValue)?"":r.$viewValue;e.val()!==t&&e.val(t)}}function Rn(t,e){return function(n,i){var o,a;if(x(n))return n;if(b(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),qi.test(n))return new Date(n);if(t.lastIndex=0,o=t.exec(n))return o.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(o,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function Fn(t,e,n,r){return function(i,o,a,s,u,c,l){function f(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function h(t){return v(t)&&!x(t)?n(t)||void 0:t}Un(i,o,a,s),Pn(i,o,a,s,u,c);var p,d=s&&s.$options&&s.$options.timezone;if(s.$$parserName=t,s.$parsers.push(function(t){return s.$isEmpty(t)?null:e.test(t)?(t=n(t,p),d&&(t=q(t,d)),t):void 0}),s.$formatters.push(function(t){if(t&&!x(t))throw So("datefmt",t);return f(t)?((p=t)&&d&&(p=q(p,d,!0)),l("date")(t,r,d)):(p=null,"")}),v(a.min)||a.ngMin){var $;s.$validators.min=function(t){return!f(t)||m($)||n(t)>=$},a.$observe("min",function(t){$=h(t),s.$validate()})}if(v(a.max)||a.ngMax){var g;s.$validators.max=function(t){return!f(t)||m(g)||n(t)<=g},a.$observe("max",function(t){g=h(t),s.$validate()})}}}function Un(t,e,n,r){(r.$$hasNativeValidators=g(e[0].validity))&&r.$parsers.push(function(t){var n=e.prop("validity")||{};return n.badInput||n.typeMismatch?void 0:t})}function _n(t,e,n,r,i){if(v(r)){if(t=t(r),!t.constant)throw So("constexpr",n,r);return t(e)}return i}function qn(t,e){return t="ngClass"+t,["$animate",function(n){function i(t,e){var n=[],r=0;t:for(;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i==e[o])continue t;n.push(i)}return n}function o(t){var e=[];return ar(t)?(r(t,function(t){e=e.concat(o(t))}),e):b(t)?t.split(" "):g(t)?(r(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(a,s,u){function c(t){t=l(t,1),u.$addClass(t)}function l(t,e){var n=s.data("$classCounts")||at(),i=[];return r(t,function(t){(0<e||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(0<e)&&i.push(t))}),s.data("$classCounts",n),i.join(" ")}function f(t,e){var r=i(e,t),o=i(t,e),r=l(r,1),o=l(o,-1);r&&r.length&&n.addClass(s,r),o&&o.length&&n.removeClass(s,o)}function h(t){if(!0===e||(1&a.$index)===e){var n=o(t||[]);if(p){if(!I(t,p)){var r=o(p);f(r,n)}}else c(n)}p=ar(t)?t.map(function(t){return ut(t)}):ut(t)}var p;a.$watch(u[t],h,!0),u.$observe("class",function(e){h(a.$eval(u[t]))}),"ngClass"!==t&&a.$watch("$index",function(n,r){var i=1&n;if(i!==(1&r)){var s=o(a.$eval(u[t]));i===e?c(s):(i=l(s,-1),u.$removeClass(i))}})}}}]}function Ln(t){function e(t,e){e&&!o[t]?(u.addClass(i,t),o[t]=!0):!e&&o[t]&&(u.removeClass(i,t),o[t]=!1)}function n(t,n){t=t?"-"+Q(t,"-"):"",e(go+t,!0===n),e(yo+t,!1===n)}var r=t.ctrl,i=t.$element,o={},a=t.set,s=t.unset,u=t.$animate;o[yo]=!(o[go]=i.hasClass(go)),r.$setValidity=function(t,i,o){m(i)?(r.$pending||(r.$pending={}),a(r.$pending,t,o)):(r.$pending&&s(r.$pending,t,o),Bn(r.$pending)&&(r.$pending=void 0)),k(i)?i?(s(r.$error,t,o),a(r.$$success,t,o)):(a(r.$error,t,o),s(r.$$success,t,o)):(s(r.$error,t,o),s(r.$$success,t,o)),r.$pending?(e(xo,!0),r.$valid=r.$invalid=void 0,n("",null)):(e(xo,!1),r.$valid=Bn(r.$error),r.$invalid=!r.$valid,n("",r.$valid)),i=r.$pending&&r.$pending[t]?void 0:!r.$error[t]&&(!!r.$$success[t]||null),n(t,i),r.$$parentForm.$setValidity(t,i,r)}}function Bn(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var Hn,zn,Wn,Gn,Zn=/^\/(.+)\/([a-z]*)$/,Jn=Object.prototype.hasOwnProperty,Kn=function(t){return b(t)?t.toLowerCase():t},Yn=function(t){return b(t)?t.toUpperCase():t},Xn=[].slice,Qn=[].splice,tr=[].push,er=Object.prototype.toString,nr=Object.getPrototypeOf,rr=e("ng"),ir=t.angular||(t.angular={}),or=0;Hn=t.document.documentMode,h.$inject=[],p.$inject=[];var ar=Array.isArray,sr=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,ur=function(t){return b(t)?t.trim():t},cr=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},lr=function(){if(!v(lr.rules)){var e=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");lr.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{e=lr;try{new Function(""),n=!1}catch(t){n=!0}e.rules={noUnsafeEval:n,noInlineStyle:!1}}}return lr.rules},fr=function(){if(v(fr.name_))return fr.name_;var e,n,r,i,o=pr.length;for(n=0;n<o;++n)if(r=pr[n],e=t.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return fr.name_=i},hr=/:/g,pr=["ng-","data-ng-","ng:","x-ng-"],dr=/[A-Z]/g,$r=!1,mr=3,vr={full:"1.5.7",major:1,minor:5,dot:7,codeName:"hexagonal-circumvolution"};dt.expando="ng339";var gr=dt.cache={},yr=1;dt._data=function(t){return this.cache[t[this.expando]]||{}};var br=/([\:\-\_]+(.))/g,wr=/^moz([A-Z])/,xr={mouseleave:"mouseout",mouseenter:"mouseover"},Sr=e("jqLite"),Cr=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Er=/<|&#?\w+;/,Ar=/<([\w:-]+)/,kr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Or={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Or.optgroup=Or.option,Or.tbody=Or.tfoot=Or.colgroup=Or.caption=Or.thead,Or.th=Or.td;var Mr=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},Nr=dt.prototype={ready:function(e){function n(){r||(r=!0,e())}var r=!1;"complete"===t.document.readyState?t.setTimeout(n):(this.on("DOMContentLoaded",n),dt(t).on("load",n))},toString:function(){var t=[];return r(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return zn(0<=t?this[t]:this[this.length+t])},length:0,push:tr,sort:[].sort,splice:[].splice},Tr={};r("multiple selected checked disabled readOnly required open".split(" "),function(t){Tr[Kn(t)]=t});var Vr={};r("input select option textarea button form details".split(" "),function(t){Vr[t]=!0});var jr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:bt,removeData:gt,hasData:function(t){for(var e in gr[t.ng339])return!0;return!1},cleanData:function(t){for(var e=0,n=t.length;e<n;e++)gt(t[e])}},function(t,e){dt[e]=t}),r({data:bt,inheritedData:At,scope:function(t){return zn.data(t,"$scope")||At(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return zn.data(t,"$isolateScope")||zn.data(t,"$isolateScopeNoTemplate")},controller:Et,injector:function(t){return At(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:wt,css:function(t,e,n){return e=lt(e),v(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,n){var r=t.nodeType;if(r!==mr&&2!==r&&8!==r)if(r=Kn(e),Tr[r]){if(!v(n))return t[e]||(t.attributes.getNamedItem(e)||h).specified?r:void 0;n?(t[e]=!0,t.setAttribute(e,r)):(t[e]=!1,t.removeAttribute(r))}else if(v(n))t.setAttribute(e,n);else if(t.getAttribute)return t=t.getAttribute(e,2),null===t?void 0:t},prop:function(t,e,n){return v(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(m(e)){var n=t.nodeType;return 1===n||n===mr?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(m(e)){if(t.multiple&&"select"===T(t)){var n=[];return r(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return m(e)?t.innerHTML:(mt(t,!0),void(t.innerHTML=e))},empty:kt},function(t,e){dt.prototype[e]=function(e,n){var r,i,o=this.length;if(t!==kt&&m(2==t.length&&t!==wt&&t!==Et?e:n)){if(g(e)){for(r=0;r<o;r++)if(t===bt)t(this[r],e);else for(i in e)t(this[r],i,e[i]);return this}for(r=t.$dv,o=m(r)?Math.min(o,1):o,i=0;i<o;i++){var a=t(this[i],e,n);r=r?r+a:a}return r}for(r=0;r<o;r++)t(this[r],e,n);return this}}),r({removeData:gt,on:function(t,e,n,r){if(v(r))throw Sr("onargs");if(ft(t)){r=yt(t,!0);var i=r.events,o=r.handle;o||(o=r.handle=Tt(t,i)),r=0<=e.indexOf(" ")?e.split(" "):[e];for(var a=r.length,s=function(e,r,a){var s=i[e];s||(s=i[e]=[],s.specialHandlerWrapper=r,"$destroy"===e||a||t.addEventListener(e,o,!1)),s.push(n)};a--;)e=r[a],xr[e]?(s(xr[e],jt),s(e,void 0,!0)):s(e)}},off:vt,one:function(t,e,n){t=zn(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;
mt(t),r(new dt(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(t){var e=[];return r(t.childNodes,function(t){1===t.nodeType&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(1===n||11===n){e=new dt(e);for(var n=0,r=e.length;n<r;n++)t.appendChild(e[n])}},prepend:function(t,e){if(1===t.nodeType){var n=t.firstChild;r(new dt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){pt(t,zn(e).eq(0).clone()[0])},remove:Ot,detach:function(t){Ot(t,!0)},after:function(t,e){var n=t,r=t.parentNode;e=new dt(e);for(var i=0,o=e.length;i<o;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:St,removeClass:xt,toggleClass:function(t,e,n){e&&r(e.split(" "),function(e){var r=n;m(r)&&(r=!wt(t,e)),(r?St:xt)(t,e)})},parent:function(t){return(t=t.parentNode)&&11!==t.nodeType?t:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:$t,triggerHandler:function(t,e,n){var i,o,a=e.type||e,s=yt(t);(s=(s=s&&s.events)&&s[a])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:h,type:a,target:t},e.type&&(i=u(i,e)),e=ut(s),o=n?[i].concat(n):[i],r(e,function(e){i.isImmediatePropagationStopped()||e.apply(t,o)}))}},function(t,e){dt.prototype[e]=function(e,n,r){for(var i,o=0,a=this.length;o<a;o++)m(i)?(i=t(this[o],e,n,r),v(i)&&(i=zn(i))):Ct(i,t(this[o],e,n,r));return v(i)?i:this},dt.prototype.bind=dt.prototype.on,dt.prototype.unbind=dt.prototype.off}),Pt.prototype={put:function(t,e){this[Dt(t,this.nextUid)]=e},get:function(t){return this[Dt(t,this.nextUid)]},remove:function(t){var e=this[t=Dt(t,this.nextUid)];return delete this[t],e}};var Ir=[function(){this.$get=[function(){return Pt}]}],Dr=/^([^\(]+?)=>/,Pr=/^[^\(]*\(\s*([^\)]*)\)/m,Rr=/,/,Fr=/^\s*(_?)(\S+?)\1\s*$/,Ur=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,_r=e("$injector");Ut.$$annotate=function(t,e,n){var i;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw b(n)&&n||(n=t.name||Ft(t)),_r("strictdi",n);e=Rt(t),r(e[1].split(Rr),function(t){t.replace(Fr,function(t,e,n){i.push(n)})})}t.$inject=i}}else ar(t)?(e=t.length-1,nt(t[e],"fn"),i=t.slice(0,e)):nt(t,"fn",!0);return i};var qr=e("$animate"),Lr=function(){this.$get=h},Br=function(){var t=new Pt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function o(t,e,n){var i=!1;return e&&(e=b(e)?e.split(" "):ar(e)?e:[],r(e,function(e){e&&(i=!0,t[e]=n)})),i}function a(){r(e,function(e){var n=t.get(e);if(n){var i=Lt(e.attr("class")),o="",a="";r(n,function(t,e){t!==!!i[e]&&(t?o+=(o.length?" ":"")+e:a+=(a.length?" ":"")+e)}),r(e,function(t){o&&St(t,o),a&&xt(t,a)}),t.remove(e)}}),e.length=0}return{enabled:h,on:h,off:h,pin:h,push:function(r,s,u,c){return c&&c(),u=u||{},u.from&&r.css(u.from),u.to&&r.css(u.to),(u.addClass||u.removeClass)&&(s=u.addClass,c=u.removeClass,u=t.get(r)||{},s=o(u,s,!0),c=o(u,c,!1),(s||c)&&(t.put(r,u),e.push(r),1===e.length&&i.$$postDigest(a))),r=new n,r.complete(),r}}}]},Hr=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw qr("notcsel",n);var i=n+"-animation";e.$$registeredAnimations[n.substr(1)]=i,t.factory(i,r)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw qr("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var r;t:{for(r=0;r<n.length;r++){var i=n[r];if(1===i.nodeType){r=i;break t}}r=void 0}!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,r,i,o){return r=r&&zn(r),i=i&&zn(i),r=r||i.parent(),e(n,r,i),t.push(n,"enter",Bt(o))},move:function(n,r,i,o){return r=r&&zn(r),i=i&&zn(i),r=r||i.parent(),e(n,r,i),t.push(n,"move",Bt(o))},leave:function(e,n){return t.push(e,"leave",Bt(n),function(){e.remove()})},addClass:function(e,n,r){return r=Bt(r),r.addClass=qt(r.addclass,n),t.push(e,"addClass",r)},removeClass:function(e,n,r){return r=Bt(r),r.removeClass=qt(r.removeClass,n),t.push(e,"removeClass",r)},setClass:function(e,n,r,i){return i=Bt(i),i.addClass=qt(i.addClass,n),i.removeClass=qt(i.removeClass,r),t.push(e,"setClass",i)},animate:function(e,n,r,i,o){return o=Bt(o),o.from=o.from?u(o.from,n):n,o.to=o.to?u(o.to,r):r,o.tempClasses=qt(o.tempClasses,i||"ng-inline-animate"),t.push(e,"animate",o)}}}]}],zr=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),1<n.length||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},Wr=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(t,e,n,i,o){function a(t){this.setHost(t);var e=n();this._doneCallbacks=[],this._tick=function(t){var n=i[0];n&&n.hidden?o(t,0,!1):e(t)},this._state=0}return a.chain=function(t,e){function n(){r===t.length?e(!0):t[r](function(t){!1===t?e(!1):(r++,n())})}var r=0;n()},a.all=function(t,e){function n(n){o=o&&n,++i===t.length&&e(o)}var i=0,o=!0;r(t,function(t){t.done(n)})},a.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:h,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){!1===e?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(t){2!==this._state&&(r(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},a}]},Gr=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,r){function i(){return t(function(){o.addClass&&(e.addClass(o.addClass),o.addClass=null),o.removeClass&&(e.removeClass(o.removeClass),o.removeClass=null),o.to&&(e.css(o.to),o.to=null),a||s.complete(),a=!0}),s}var o=r||{};o.$$prepared||(o=j(o)),o.cleanupStyles&&(o.from=o.to=null),o.from&&(e.css(o.from),o.from=null);var a,s=new n;return{start:i,end:i}}}]},Zr=e("$compile"),Jr=new function(){};Zt.$inject=["$provide","$$sanitizeUriProvider"],Jt.prototype.isFirstChange=function(){return this.previousValue===Jr};var Kr=/^((?:x|data)[\:\-_])/i,Yr=e("$controller"),Xr=/^(\S+)(\s+as\s+([\w$]+))?$/,Qr=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof zn&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},ti="application/json",ei={"Content-Type":ti+";charset=utf-8"},ni=/^\[|^\{(?!\{)/,ri={"[":/]$/,"{":/}$/},ii=/^\)\]\}',?\n/,oi=e("$http"),ai=function(t){return function(){throw oi("legacy",t)}},si=ir.$interpolateMinErr=e("$interpolate");si.throwNoconcat=function(t){throw si("noconcat",t)},si.interr=function(t,e){return si("interr",t,e.toString())};var ui=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ci={http:80,https:443,ftp:21},li=e("$location"),fi={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Ee("$$absUrl"),url:function(t){if(m(t))return this.$$url;var e=ui.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Ee("$$protocol"),host:Ee("$$host"),port:Ee("$$port"),path:Ae("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(b(t)||w(t))t=t.toString(),this.$$search=H(t);else{if(!g(t))throw li("isrcharg");t=j(t,{}),r(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:m(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Ae("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};r([Ce,Se,xe],function(t){t.prototype=Object.create(fi),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==xe||!this.$$html5)throw li("nostate");return this.$$state=m(e)?null:e,this}});var hi=e("$parse"),pi=Function.prototype.call,di=Function.prototype.apply,$i=Function.prototype.bind,mi=at();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){mi[t]=!0});var vi={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},gi=function(t){this.options=t};gi.prototype={constructor:gi,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;)if(t=this.text.charAt(this.index),'"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var e=t+this.peek(),n=e+this.peek(2),r=mi[e],i=mi[n];mi[t]||r||i?(t=i?n:r?e:t,this.tokens.push({index:this.index,text:t,operator:!0}),this.index+=t.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){return t=t||1,this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(t){return"0"<=t&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||""===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&"z">=t||"A"<=t&&"Z">=t||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),r=e.charCodeAt(0);return 55296<=n&&56319>=n&&56320<=r&&57343>=r?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){throw n=n||this.index,e=v(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n,hi("lexerr",t,e,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Kn(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),r=r+o;if(i)"u"===o?(i=this.text.substring(this.index+1,this.index+5),i.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+i+"]"),this.index+=4,n+=String.fromCharCode(parseInt(i,16))):n+=vi[o]||o,i=!1;else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var yi=function(t,e){this.lexer=t,this.options=e};yi.Program="Program",yi.ExpressionStatement="ExpressionStatement",yi.AssignmentExpression="AssignmentExpression",yi.ConditionalExpression="ConditionalExpression",yi.LogicalExpression="LogicalExpression",yi.BinaryExpression="BinaryExpression",yi.UnaryExpression="UnaryExpression",yi.CallExpression="CallExpression",yi.MemberExpression="MemberExpression",yi.Identifier="Identifier",yi.Literal="Literal",yi.ArrayExpression="ArrayExpression",yi.Property="Property",yi.ObjectExpression="ObjectExpression",yi.ThisExpression="ThisExpression",yi.LocalsExpression="LocalsExpression",yi.NGValueParameter="NGValueParameter",yi.prototype={ast:function(t){return this.text=t,this.tokens=this.lexer.lex(t),t=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var t=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:yi.Program,body:t}},expressionStatement:function(){return{type:yi.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:yi.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:yi.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:yi.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:yi.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:yi.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:yi.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:yi.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:yi.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:yi.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=j(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:yi.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:yi.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:yi.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:yi.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){t=[t];for(var e={type:yi.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return e},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:yi.Identifier,name:t.text}},constant:function(){return{type:yi.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:yi.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:yi.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:yi.ObjectExpression,properties:e}},throwError:function(t,e){throw hi("syntax",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw hi("ueoe",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw hi("ueoe",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){t=this.tokens[t];var o=t.text;if(o===e||o===n||o===r||o===i||!(e||n||r||i))return t}return!1},expect:function(t,e,n,r){return!!(t=this.peek(t,e,n,r))&&(this.tokens.shift(),t)},selfReferential:{this:{type:yi.ThisExpression},$locals:{type:yi.LocalsExpression}}},qe.prototype={compile:function(t,e){var n=this,i=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Pe(i,n.$filter);var o,a="";return this.stage="assign",(o=Ue(i))&&(this.state.computing="assign",a=this.nextId(),this.recurse(o,a),this.return_(a),a="fn.assign="+this.generateFunction("assign","s,v,l")),o=Re(i.body),n.stage="inputs",r(o,function(t,e){var r="fn"+e;n.state[r]={vars:[],body:[],own:{}},n.state.computing=r;var i=n.nextId();n.recurse(t,i),n.return_(i),n.state.inputs.push(r),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(i),a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",a=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",a)(this.$filter,Me,Te,Ve,Ne,je,Ie,De,t),this.state=this.stage=void 0,a.literal=_e(i),a.constant=i.constant,a},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return r(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return r(this.state.filters,function(n,r){t.push(n+"=$filter("+e.escape(r)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,i,o,a){var s,u,c,l,f,p=this;if(i=i||h,!a&&v(t.watchId))e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,i,o,!0));else switch(t.type){case yi.Program:r(t.body,function(e,n){p.recurse(e.expression,void 0,void 0,function(t){u=t}),n!==t.body.length-1?p.current().body.push(u,";"):p.return_(u)});break;case yi.Literal:l=this.escape(t.value),this.assign(e,l),i(l);break;case yi.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){u=t}),l=t.operator+"("+this.ifDefined(u,0)+")",this.assign(e,l),i(l);break;case yi.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){s=t}),this.recurse(t.right,void 0,void 0,function(t){u=t}),l="+"===t.operator?this.plus(s,u):"-"===t.operator?this.ifDefined(s,0)+t.operator+this.ifDefined(u,0):"("+s+")"+t.operator+"("+u+")",this.assign(e,l),i(l);break;case yi.LogicalExpression:e=e||this.nextId(),p.recurse(t.left,e),p.if_("&&"===t.operator?e:p.not(e),p.lazyRecurse(t.right,e)),i(e);break;case yi.ConditionalExpression:e=e||this.nextId(),p.recurse(t.test,e),p.if_(e,p.lazyRecurse(t.alternate,e),p.lazyRecurse(t.consequent,e)),i(e);break;case yi.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),Me(t.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",t.name)),function(){p.if_("inputs"===p.stage||"s",function(){o&&1!==o&&p.if_(p.not(p.nonComputedMember("s",t.name)),p.lazyAssign(p.nonComputedMember("s",t.name),"{}")),p.assign(e,p.nonComputedMember("s",t.name))})},e&&p.lazyAssign(e,p.nonComputedMember("l",t.name))),(p.state.expensiveChecks||Be(t.name))&&p.addEnsureSafeObject(e),i(e);break;case yi.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),p.recurse(t.object,s,void 0,function(){p.if_(p.notNull(s),function(){o&&1!==o&&p.addEnsureSafeAssignContext(s),t.computed?(u=p.nextId(),p.recurse(t.property,u),p.getStringValue(u),p.addEnsureSafeMemberName(u),o&&1!==o&&p.if_(p.not(p.computedMember(s,u)),p.lazyAssign(p.computedMember(s,u),"{}")),l=p.ensureSafeObject(p.computedMember(s,u)),p.assign(e,l),n&&(n.computed=!0,n.name=u)):(Me(t.property.name),o&&1!==o&&p.if_(p.not(p.nonComputedMember(s,t.property.name)),p.lazyAssign(p.nonComputedMember(s,t.property.name),"{}")),l=p.nonComputedMember(s,t.property.name),(p.state.expensiveChecks||Be(t.property.name))&&(l=p.ensureSafeObject(l)),p.assign(e,l),n&&(n.computed=!1,n.name=t.property.name))},function(){p.assign(e,"undefined")}),i(e)},!!o);break;case yi.CallExpression:e=e||this.nextId(),t.filter?(u=p.filter(t.callee.name),c=[],r(t.arguments,function(t){var e=p.nextId();p.recurse(t,e),c.push(e)}),l=u+"("+c.join(",")+")",p.assign(e,l),i(e)):(u=p.nextId(),s={},c=[],p.recurse(t.callee,u,s,function(){p.if_(p.notNull(u),function(){p.addEnsureSafeFunction(u),r(t.arguments,function(t){p.recurse(t,p.nextId(),void 0,function(t){c.push(p.ensureSafeObject(t))})}),s.name?(p.state.expensiveChecks||p.addEnsureSafeObject(s.context),l=p.member(s.context,s.name,s.computed)+"("+c.join(",")+")"):l=u+"("+c.join(",")+")",l=p.ensureSafeObject(l),p.assign(e,l)},function(){p.assign(e,"undefined")}),i(e)}));break;case yi.AssignmentExpression:if(u=this.nextId(),s={},!Fe(t.left))throw hi("lval");this.recurse(t.left,void 0,s,function(){p.if_(p.notNull(s.context),function(){p.recurse(t.right,u),p.addEnsureSafeObject(p.member(s.context,s.name,s.computed)),p.addEnsureSafeAssignContext(s.context),l=p.member(s.context,s.name,s.computed)+t.operator+u,p.assign(e,l),i(e||l)})},1);break;case yi.ArrayExpression:c=[],r(t.elements,function(t){p.recurse(t,p.nextId(),void 0,function(t){c.push(t)})}),l="["+c.join(",")+"]",this.assign(e,l),i(l);break;case yi.ObjectExpression:c=[],f=!1,r(t.properties,function(t){t.computed&&(f=!0)}),f?(e=e||this.nextId(),this.assign(e,"{}"),r(t.properties,function(t){t.computed?(s=p.nextId(),p.recurse(t.key,s)):s=t.key.type===yi.Identifier?t.key.name:""+t.key.value,u=p.nextId(),p.recurse(t.value,u),p.assign(p.member(e,s,t.computed),u)})):(r(t.properties,function(e){p.recurse(e.value,t.constant?void 0:p.nextId(),void 0,function(t){c.push(p.escape(e.key.type===yi.Identifier?e.key.name:""+e.key.value)+":"+t)})}),l="{"+c.join(",")+"}",this.assign(e,l)),i(e||l);break;case yi.ThisExpression:this.assign(e,"s"),i("s");break;case yi.LocalsExpression:this.assign(e,"l"),i("l");break;case yi.NGValueParameter:this.assign(e,"v"),i("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/[^$_a-zA-Z0-9]/g;return/[$_a-zA-Z][$_a-zA-Z0-9]*/.test(e)?t+"."+e:t+'["'+e.replace(n,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,r,i,o){var a=this;return function(){a.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(b(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(w(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw hi("esc")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},Le.prototype={compile:function(t,e){var n=this,i=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,Pe(i,n.$filter);var o,a;(o=Ue(i))&&(a=this.recurse(o)),o=Re(i.body);var s;o&&(s=[],r(o,function(t,e){var r=n.recurse(t);t.input=r,s.push(r),t.watchId=e}));var u=[];return r(i.body,function(t){u.push(n.recurse(t.expression))}),o=0===i.body.length?h:1===i.body.length?u[0]:function(t,e){var n;return r(u,function(r){n=r(t,e)}),n},a&&(o.assign=function(t,e,n){return a(t,n,e)}),s&&(o.inputs=s),o.literal=_e(i),o.constant=i.constant,o},recurse:function(t,e,n){var i,o,a,s=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case yi.Literal:return this.value(t.value,e);case yi.UnaryExpression:return o=this.recurse(t.argument),this["unary"+t.operator](o,e);case yi.BinaryExpression:return i=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](i,o,e);case yi.LogicalExpression:return i=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](i,o,e);case yi.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case yi.Identifier:return Me(t.name,s.expression),s.identifier(t.name,s.expensiveChecks||Be(t.name),e,n,s.expression);case yi.MemberExpression:return i=this.recurse(t.object,!1,!!n),t.computed||(Me(t.property.name,s.expression),o=t.property.name),t.computed&&(o=this.recurse(t.property)),t.computed?this.computedMember(i,o,e,n,s.expression):this.nonComputedMember(i,o,s.expensiveChecks,e,n,s.expression);case yi.CallExpression:return a=[],r(t.arguments,function(t){a.push(s.recurse(t))}),t.filter&&(o=this.$filter(t.callee.name)),t.filter||(o=this.recurse(t.callee,!0)),t.filter?function(t,n,r,i){for(var s=[],u=0;u<a.length;++u)s.push(a[u](t,n,r,i));return t=o.apply(void 0,s,i),e?{context:void 0,name:void 0,value:t}:t}:function(t,n,r,i){var u,c=o(t,n,r,i);if(null!=c.value){Te(c.context,s.expression),Ve(c.value,s.expression),u=[];for(var l=0;l<a.length;++l)u.push(Te(a[l](t,n,r,i),s.expression));u=Te(c.value.apply(c.context,u),s.expression)}return e?{value:u}:u};case yi.AssignmentExpression:return i=this.recurse(t.left,!0,1),o=this.recurse(t.right),function(t,n,r,a){var u=i(t,n,r,a);return t=o(t,n,r,a),Te(u.value,s.expression),je(u.context),u.context[u.name]=t,e?{value:t}:t};case yi.ArrayExpression:return a=[],r(t.elements,function(t){a.push(s.recurse(t))}),function(t,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,r,i));return e?{value:o}:o};case yi.ObjectExpression:return a=[],r(t.properties,function(t){t.computed?a.push({key:s.recurse(t.key),computed:!0,value:s.recurse(t.value)}):a.push({key:t.key.type===yi.Identifier?t.key.name:""+t.key.value,computed:!1,value:s.recurse(t.value)})}),function(t,n,r,i){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(t,n,r,i)]=a[s].value(t,n,r,i):o[a[s].key]=a[s].value(t,n,r,i);return e?{value:o}:o};case yi.ThisExpression:return function(t){return e?{value:t}:t};case yi.LocalsExpression:return function(t,n){return e?{value:n}:n};case yi.NGValueParameter:return function(t,n,r){return e?{value:r}:r}}},"unary+":function(t,e){return function(n,r,i,o){return n=t(n,r,i,o),n=v(n)?+n:0,e?{value:n}:n}},"unary-":function(t,e){return function(n,r,i,o){return n=t(n,r,i,o),n=v(n)?-n:0,e?{value:n}:n}},"unary!":function(t,e){return function(n,r,i,o){return n=!t(n,r,i,o),e?{value:n}:n}},"binary+":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a);return r=e(r,i,o,a),s=De(s,r),n?{value:s}:s}},"binary-":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a);return r=e(r,i,o,a),s=(v(s)?s:0)-(v(r)?r:0),n?{value:s}:s}},"binary*":function(t,e,n){return function(r,i,o,a){return r=t(r,i,o,a)*e(r,i,o,a),n?{value:r}:r}},"binary/":function(t,e,n){return function(r,i,o,a){return r=t(r,i,o,a)/e(r,i,o,a),n?{value:r}:r}},"binary%":function(t,e,n){return function(r,i,o,a){return r=t(r,i,o,a)%e(r,i,o,a),n?{value:r}:r}},"binary===":function(t,e,n){return function(r,i,o,a){return r=t(r,i,o,a)===e(r,i,o,a),n?{value:r}:r}},"binary!==":function(t,e,n){return function(r,i,o,a){return r=t(r,i,o,a)!==e(r,i,o,a),n?{value:r}:r}},"binary==":function(t,e,n){return function(r,i,o,a){return r=t(r,i,o,a)==e(r,i,o,a),n?{value:r}:r}},"binary!=":function(t,e,n){return function(r,i,o,a){return r=t(r,i,o,a)!=e(r,i,o,a),n?{value:r}:r}},"binary<":function(t,e,n){return function(r,i,o,a){return r=t(r,i,o,a)<e(r,i,o,a),n?{value:r}:r}},"binary>":function(t,e,n){return function(r,i,o,a){return r=t(r,i,o,a)>e(r,i,o,a),n?{value:r}:r}},"binary<=":function(t,e,n){return function(r,i,o,a){return r=t(r,i,o,a)<=e(r,i,o,a),n?{value:r}:r}},"binary>=":function(t,e,n){return function(r,i,o,a){return r=t(r,i,o,a)>=e(r,i,o,a),n?{value:r}:r}},"binary&&":function(t,e,n){return function(r,i,o,a){return r=t(r,i,o,a)&&e(r,i,o,a),n?{value:r}:r}},"binary||":function(t,e,n){return function(r,i,o,a){return r=t(r,i,o,a)||e(r,i,o,a),n?{value:r}:r}},"ternary?:":function(t,e,n,r){return function(i,o,a,s){return i=t(i,o,a,s)?e(i,o,a,s):n(i,o,a,s),r?{value:i}:i}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n,r,i){return function(o,a,s,u){return o=a&&t in a?a:o,r&&1!==r&&o&&!o[t]&&(o[t]={}),
a=o?o[t]:void 0,e&&Te(a,i),n?{context:o,name:t,value:a}:a}},computedMember:function(t,e,n,r,i){return function(o,a,s,u){var c,l,f=t(o,a,s,u);return null!=f&&(c=e(o,a,s,u),c+="",Me(c,i),r&&1!==r&&(je(f),f&&!f[c]&&(f[c]={})),l=f[c],Te(l,i)),n?{context:f,name:c,value:l}:l}},nonComputedMember:function(t,e,n,r,i,o){return function(a,s,u,c){return a=t(a,s,u,c),i&&1!==i&&(je(a),a&&!a[e]&&(a[e]={})),s=null!=a?a[e]:void 0,(n||Be(e))&&Te(s,o),r?{context:a,name:e,value:s}:s}},inputs:function(t,e){return function(n,r,i,o){return o?o[e]:t(n,r,i)}}};var bi=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new yi(t,n),this.astCompiler=n.csp?new Le(this.ast,e):new qe(this.ast,e)};bi.prototype={constructor:bi,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var wi=Object.prototype.valueOf,xi=e("$sce"),Si={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ci=e("$compile"),Ei=t.document.createElement("a"),Ai=sn(t.location.href);ln.$inject=["$document"],hn.$inject=["$provide"];var ki=22,Oi=".",Mi="0";vn.$inject=["$locale"],gn.$inject=["$locale"];var Ni={yyyy:Sn("FullYear",4,0,!1,!0),yy:Sn("FullYear",2,0,!0,!0),y:Sn("FullYear",1,0,!1,!0),MMMM:Cn("Month"),MMM:Cn("Month",!0),MM:Sn("Month",2,1),M:Sn("Month",1,1),LLLL:Cn("Month",!1,!0),dd:Sn("Date",2),d:Sn("Date",1),HH:Sn("Hours",2),H:Sn("Hours",1),hh:Sn("Hours",2,-12),h:Sn("Hours",1,-12),mm:Sn("Minutes",2),m:Sn("Minutes",1),ss:Sn("Seconds",2),s:Sn("Seconds",1),sss:Sn("Milliseconds",3),EEEE:Cn("Day"),EEE:Cn("Day",!0),a:function(t,e){return 12>t.getHours()?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,n){return t=-1*n,t=(0<=t?"+":"")+(xn(Math[0<t?"floor":"ceil"](t/60),2)+xn(Math.abs(t%60),2))},ww:An(2),w:An(1),G:kn,GG:kn,GGG:kn,GGGG:function(t,e){return 0>=t.getFullYear()?e.ERANAMES[0]:e.ERANAMES[1]}},Ti=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Vi=/^\-?\d+$/;On.$inject=["$locale"];var ji=d(Kn),Ii=d(Yn);Vn.$inject=["$parse"];var Di=d({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===er.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Pi={};r(Tr,function(t,e){function n(t,n,i){t.$watch(i[r],function(t){i.$set(e,!!t)})}if("multiple"!=t){var r=Kt("ng-"+e),i=n;"checked"===t&&(i=function(t,e,i){i.ngModel!==i[r]&&n(t,e,i)}),Pi[r]=function(){return{restrict:"A",priority:100,link:i}}}}),r(jr,function(t,e){Pi[e]=function(){return{priority:100,link:function(t,n,r){return"ngPattern"===e&&"/"==r.ngPattern.charAt(0)&&(n=r.ngPattern.match(Zn))?void r.$set("ngPattern",new RegExp(n[1],n[2])):void t.$watch(r[e],function(t){r.$set(e,t)})}}}}),r(["src","srcset","href"],function(t){var e=Kt("ng-"+t);Pi[e]=function(){return{priority:99,link:function(n,r,i){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===er.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(e,function(e){e?(i.$set(a,e),Hn&&o&&r.prop(o,i[a])):"href"===t&&i.$set(a,null)})}}}});var Ri={$addControl:h,$$renameControl:function(t,e){t.$name=e},$removeControl:h,$setValidity:h,$setDirty:h,$setPristine:h,$setSubmitted:h};In.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Fi=function(t){return["$timeout","$parse",function(e,n){function r(t){return""===t?n('this[""]').assign:n(t).assign||h}return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:In,compile:function(n,i){n.addClass(bo).addClass(go);var o=i.name?"name":!(!t||!i.ngForm)&&"ngForm";return{pre:function(t,n,i,a){var s=a[0];if(!("action"in i)){var c=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};n[0].addEventListener("submit",c,!1),n.on("$destroy",function(){e(function(){n[0].removeEventListener("submit",c,!1)},0,!1)})}(a[1]||s.$$parentForm).$addControl(s);var l=o?r(s.$name):h;o&&(l(t,s),i.$observe(o,function(e){s.$name!==e&&(l(t,void 0),s.$$parentForm.$$renameControl(s,e),(l=r(s.$name))(t,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),l(t,void 0),u(s,Ri)})}}}}}]},Ui=Fi(),_i=Fi(!0),qi=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Li=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Bi=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Hi=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,zi=/^(\d{4,})-(\d{2})-(\d{2})$/,Wi=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Gi=/^(\d{4,})-W(\d\d)$/,Zi=/^(\d{4,})-(\d\d)$/,Ji=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ki=at();r(["date","datetime-local","month","time","week"],function(t){Ki[t]=!0});var Yi={text:function(t,e,n,r,i,o){Pn(t,e,n,r,i,o),Dn(r)},date:Fn("date",zi,Rn(zi,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Fn("datetimelocal",Wi,Rn(Wi,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:Fn("time",Ji,Rn(Ji,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Fn("week",Gi,function(t,e){if(x(t))return t;if(b(t)){Gi.lastIndex=0;var n=Gi.exec(t);if(n){var r=+n[1],i=+n[2],o=n=0,a=0,s=0,u=En(r),i=7*(i-1);return e&&(n=e.getHours(),o=e.getMinutes(),a=e.getSeconds(),s=e.getMilliseconds()),new Date(r,0,u.getDate()+i,n,o,a,s)}}return NaN},"yyyy-Www"),month:Fn("month",Zi,Rn(Zi,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,n,r,i,o){if(Un(t,e,n,r),Pn(t,e,n,r,i,o),r.$$parserName="number",r.$parsers.push(function(t){return r.$isEmpty(t)?null:Hi.test(t)?parseFloat(t):void 0}),r.$formatters.push(function(t){if(!r.$isEmpty(t)){if(!w(t))throw So("numfmt",t);t=t.toString()}return t}),v(n.min)||n.ngMin){var a;r.$validators.min=function(t){return r.$isEmpty(t)||m(a)||t>=a},n.$observe("min",function(t){v(t)&&!w(t)&&(t=parseFloat(t,10)),a=w(t)&&!isNaN(t)?t:void 0,r.$validate()})}if(v(n.max)||n.ngMax){var s;r.$validators.max=function(t){return r.$isEmpty(t)||m(s)||t<=s},n.$observe("max",function(t){v(t)&&!w(t)&&(t=parseFloat(t,10)),s=w(t)&&!isNaN(t)?t:void 0,r.$validate()})}},url:function(t,e,n,r,i,o){Pn(t,e,n,r,i,o),Dn(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||Li.test(n)}},email:function(t,e,n,r,i,o){Pn(t,e,n,r,i,o),Dn(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||Bi.test(n)}},radio:function(t,e,n,r){m(n.name)&&e.attr("name",++or),e.on("click",function(t){e[0].checked&&r.$setViewValue(n.value,t&&t.type)}),r.$render=function(){e[0].checked=n.value==r.$viewValue},n.$observe("value",r.$render)},checkbox:function(t,e,n,r,i,o,a,s){var u=_n(s,t,"ngTrueValue",n.ngTrueValue,!0),c=_n(s,t,"ngFalseValue",n.ngFalseValue,!1);e.on("click",function(t){r.$setViewValue(e[0].checked,t&&t.type)}),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return!1===t},r.$formatters.push(function(t){return I(t,u)}),r.$parsers.push(function(t){return t?u:c})},hidden:h,button:h,submit:h,reset:h,file:h},Xi=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Yi[Kn(a.type)]||Yi.text)(i,o,a,s[0],e,t,n,r)}}}}],Qi=/^(true|false|\d+)$/,to=function(){return{restrict:"A",priority:100,compile:function(t,e){return Qi.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},eo=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,r){t.$$addBindingInfo(n,r.ngBind),n=n[0],e.$watch(r.ngBind,function(t){n.textContent=m(t)?"":t})}}}}],no=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,r,i){n=t(r.attr(i.$attr.ngBindTemplate)),e.$$addBindingInfo(r,n.expressions),r=r[0],i.$observe("ngBindTemplate",function(t){r.textContent=m(t)?"":t})}}}}],ro=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(a,function(){var n=o(e);r.html(t.getTrustedHtml(n)||"")})}}}}],io=d({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),oo=qn("",!0),ao=qn("Odd",0),so=qn("Even",1),uo=jn({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),co=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],lo={},fo={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Kt("ng-"+t);lo[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var i=function(){a(e,{$event:n})};fo[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var ho=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,c;n.$watch(i.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=e.$$createComment("end ngIf",i.ngIf),s={clone:n},t.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),s&&(c=ot(s.clone),t.leave(c).then(function(){c=null}),s=null))})}}}],po=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ir.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,u,c,l){var f,h,p,d=0,$=function(){h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),p&&(n.leave(p).then(function(){h=null}),h=p,p=null)};r.$watch(o,function(o){var u=function(){!v(s)||s&&!r.$eval(s)||e()},h=++d;o?(t(o,!0).then(function(t){if(!r.$$destroyed&&h===d){var e=r.$new();c.template=t,t=l(e,function(t){$(),n.enter(t,null,i).then(u)}),f=e,p=t,f.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||h!==d||($(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):($(),c.template=null)})}}}}],$o=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){er.call(r[0]).match(/SVG/)?(r.empty(),e(ht(o.template,t.document).childNodes)(n,function(t){r.append(t)},{futureParentElement:r})):(r.html(o.template),e(r.contents())(n))}}}],mo=jn({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),vo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,i){var o=e.attr(n.$attr.ngList)||", ",a="false"!==n.ngTrim,s=a?ur(o):o;i.$parsers.push(function(t){if(!m(t)){var e=[];return t&&r(t.split(s),function(t){t&&e.push(a?ur(t):t)}),e}}),i.$formatters.push(function(t){if(ar(t))return t.join(o)}),i.$isEmpty=function(t){return!t||!t.length}}}},go="ng-valid",yo="ng-invalid",bo="ng-pristine",wo="ng-dirty",xo="ng-pending",So=e("ngModel"),Co=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,n,i,o,a,s,u,c,l){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(t),this.$$parentForm=Ri;var f,p=o(n.ngModel),d=p.assign,$=p,g=d,y=null,b=this;this.$$setOptions=function(t){if((b.$options=t)&&t.getterSetter){var e=o(n.ngModel+"()"),r=o(n.ngModel+"($$$p)");$=function(t){var n=p(t);return S(n)&&(n=e(t)),n},g=function(t,e){S(p(t))?r(t,{$$$p:e}):d(t,e)}}else if(!p.assign)throw So("nonassign",n.ngModel,L(i))},this.$render=h,this.$isEmpty=function(t){return m(t)||""===t||null===t||t!==t},this.$$updateEmptyClasses=function(t){b.$isEmpty(t)?(a.removeClass(i,"ng-not-empty"),a.addClass(i,"ng-empty")):(a.removeClass(i,"ng-empty"),a.addClass(i,"ng-not-empty"))};var x=0;Ln({ctrl:this,$element:i,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:a}),this.$setPristine=function(){b.$dirty=!1,b.$pristine=!0,a.removeClass(i,wo),a.addClass(i,bo)},this.$setDirty=function(){b.$dirty=!0,b.$pristine=!1,a.removeClass(i,bo),a.addClass(i,wo),b.$$parentForm.$setDirty()},this.$setUntouched=function(){b.$touched=!1,b.$untouched=!0,a.setClass(i,"ng-untouched","ng-touched")},this.$setTouched=function(){b.$touched=!0,b.$untouched=!1,a.setClass(i,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){s.cancel(y),b.$viewValue=b.$$lastCommittedViewValue,b.$render()},this.$validate=function(){if(!w(b.$modelValue)||!isNaN(b.$modelValue)){var t=b.$$rawModelValue,e=b.$valid,n=b.$modelValue,r=b.$options&&b.$options.allowInvalid;b.$$runValidators(t,b.$$lastCommittedViewValue,function(i){r||e===i||(b.$modelValue=i?t:void 0,b.$modelValue!==n&&b.$$writeModelToScope())})}},this.$$runValidators=function(t,e,n){function i(){var n=!0;return r(b.$validators,function(r,i){var o=r(t,e);n=n&&o,a(i,o)}),!!n||(r(b.$asyncValidators,function(t,e){a(e,null)}),!1)}function o(){var n=[],i=!0;r(b.$asyncValidators,function(r,o){var s=r(t,e);if(!s||!S(s.then))throw So("nopromise",s);a(o,void 0),n.push(s.then(function(){a(o,!0)},function(){i=!1,a(o,!1)}))}),n.length?c.all(n).then(function(){s(i)},h):s(!0)}function a(t,e){u===x&&b.$setValidity(t,e)}function s(t){u===x&&n(t)}x++;var u=x;(function(){var t=b.$$parserName||"parse";return m(f)?(a(t,null),!0):(f||(r(b.$validators,function(t,e){a(e,null)}),r(b.$asyncValidators,function(t,e){a(e,null)})),a(t,f),f)})()&&i()?o():s(!1)},this.$commitViewValue=function(){var t=b.$viewValue;s.cancel(y),(b.$$lastCommittedViewValue!==t||""===t&&b.$$hasNativeValidators)&&(b.$$updateEmptyClasses(t),b.$$lastCommittedViewValue=t,b.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var e=b.$$lastCommittedViewValue;if(f=!m(e)||void 0)for(var n=0;n<b.$parsers.length;n++)if(e=b.$parsers[n](e),m(e)){f=!1;break}w(b.$modelValue)&&isNaN(b.$modelValue)&&(b.$modelValue=$(t));var r=b.$modelValue,i=b.$options&&b.$options.allowInvalid;b.$$rawModelValue=e,i&&(b.$modelValue=e,b.$modelValue!==r&&b.$$writeModelToScope()),b.$$runValidators(e,b.$$lastCommittedViewValue,function(t){i||(b.$modelValue=t?e:void 0,b.$modelValue!==r&&b.$$writeModelToScope())})},this.$$writeModelToScope=function(){g(t,b.$modelValue),r(b.$viewChangeListeners,function(t){try{t()}catch(t){e(t)}})},this.$setViewValue=function(t,e){b.$viewValue=t,b.$options&&!b.$options.updateOnDefault||b.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n=0,r=b.$options;r&&v(r.debounce)&&(r=r.debounce,w(r)?n=r:w(r[e])?n=r[e]:w(r.default)&&(n=r.default)),s.cancel(y),n?y=s(function(){b.$commitViewValue()},n):u.$$phase?b.$commitViewValue():t.$apply(function(){b.$commitViewValue()})},t.$watch(function(){var e=$(t);if(e!==b.$modelValue&&(b.$modelValue===b.$modelValue||e===e)){b.$modelValue=b.$$rawModelValue=e,f=void 0;for(var n=b.$formatters,r=n.length,i=e;r--;)i=n[r](i);b.$viewValue!==i&&(b.$$updateEmptyClasses(i),b.$viewValue=b.$$lastCommittedViewValue=i,b.$render(),b.$$runValidators(e,i,h))}return e})}],Eo=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Co,priority:1,compile:function(e){return e.addClass(bo).addClass("ng-untouched").addClass(go),{pre:function(t,e,n,r){var i=r[0];e=r[1]||i.$$parentForm,i.$$setOptions(r[2]&&r[2].$options),e.$addControl(i),n.$observe("name",function(t){i.$name!==t&&i.$$parentForm.$$renameControl(i,t)}),t.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(e,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],Ao=/(\s+|^)default(\s+|$)/,ko=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=j(t.$eval(e.ngModelOptions)),v(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=ur(this.$options.updateOn.replace(Ao,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Oo=jn({terminal:!0,priority:1e3}),Mo=e("ngOptions"),No=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,To=["$compile","$document","$parse",function(e,i,o){function a(t,e,r){function i(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}function a(t){var e;if(!c&&n(t))e=t;else{e=[];for(var r in t)t.hasOwnProperty(r)&&"$"!==r.charAt(0)&&e.push(r)}return e}var s=t.match(No);if(!s)throw Mo("iexp",t,L(e));var u=s[5]||s[7],c=s[6];t=/ as /.test(s[0])&&s[1];var l=s[9];e=o(s[2]?s[1]:u);var f=t&&o(t)||e,h=l&&o(l),p=l?function(t,e){return h(r,e)}:function(t){return Dt(t)},d=function(t,e){return p(t,b(t,e))},$=o(s[2]||s[1]),m=o(s[3]||""),v=o(s[4]||""),g=o(s[8]),y={},b=c?function(t,e){return y[c]=e,y[u]=t,y}:function(t){return y[u]=t,y};return{trackBy:l,getTrackByValue:d,getWatchables:o(g,function(t){var e=[];t=t||[];for(var n=a(t),i=n.length,o=0;o<i;o++){var u=t===n?o:n[o],c=t[u],u=b(c,u),c=p(c,u);e.push(c),(s[2]||s[1])&&(c=$(r,u),e.push(c)),s[4]&&(u=v(r,u),e.push(u))}return e}),getOptions:function(){for(var t=[],e={},n=g(r)||[],o=a(n),s=o.length,u=0;u<s;u++){var c=n===o?u:o[u],h=b(n[c],c),y=f(r,h),c=p(y,h),w=$(r,h),x=m(r,h),h=v(r,h),y=new i(c,y,w,x,h);t.push(y),e[c]=y}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[d(t)]},getViewValueFromOption:function(t){return l?ir.copy(t.viewValue):t.viewValue}}}}}var s=t.document.createElement("option"),u=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,r){r[0].registerOption=h},post:function(t,n,o,c){function l(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),t.value!==e.value&&(e.value=t.selectValue)}function f(){var t=w&&p.readValue();if(w)for(var e=w.items.length-1;0<=e;e--){var r=w.items[e];Ot(r.group?r.element.parentNode:r.element)}w=x.getOptions();var i={};y&&n.prepend(h),w.items.forEach(function(t){var e;if(v(t.group)){e=i[t.group],e||(e=u.cloneNode(!1),S.appendChild(e),e.label=t.group,i[t.group]=e);var n=s.cloneNode(!1)}else e=S,n=s.cloneNode(!1);e.appendChild(n),l(t,n)}),n[0].appendChild(S),d.$render(),d.$isEmpty(t)||(e=p.readValue(),(x.trackBy||$?I(t,e):t===e)||(d.$setViewValue(e),d.$render()))}var h,p=c[0],d=c[1],$=o.multiple;c=0;for(var m=n.children(),g=m.length;c<g;c++)if(""===m[c].value){h=m.eq(c);break}var y=!!h,b=zn(s.cloneNode(!1));b.val("?");var w,x=a(o.ngOptions,n,t),S=i[0].createDocumentFragment();$?(d.$isEmpty=function(t){return!t||0===t.length},p.writeValue=function(t){w.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){(t=w.getOptionFromViewValue(t))&&(t.element.selected=!0)})},p.readValue=function(){var t=n.val()||[],e=[];return r(t,function(t){(t=w.selectValueMap[t])&&!t.disabled&&e.push(w.getViewValueFromOption(t))}),e},x.trackBy&&t.$watchCollection(function(){if(ar(d.$viewValue))return d.$viewValue.map(function(t){return x.getTrackByValue(t)})},function(){d.$render()})):(p.writeValue=function(t){var e=w.getOptionFromViewValue(t);e?(n[0].value!==e.selectValue&&(b.remove(),y||h.remove(),n[0].value=e.selectValue,e.element.selected=!0),e.element.setAttribute("selected","selected")):null===t||y?(b.remove(),y||n.prepend(h),n.val(""),h.prop("selected",!0),h.attr("selected",!0)):(y||h.remove(),n.prepend(b),n.val("?"),b.prop("selected",!0),b.attr("selected",!0))},p.readValue=function(){var t=w.selectValueMap[n.val()];return t&&!t.disabled?(y||h.remove(),b.remove(),w.getViewValueFromOption(t)):null},x.trackBy&&t.$watch(function(){return x.getTrackByValue(d.$viewValue)},function(){d.$render()})),y?(h.remove(),e(h)(t),h.removeClass("ng-scope")):h=zn(s.cloneNode(!1)),n.empty(),f(),t.$watchCollection(x.getWatchables,f)}}}}],Vo=["$locale","$interpolate","$log",function(t,e,n){var i=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,u){function c(t){s.text(t||"")}var l,f=u.count,p=u.$attr.when&&s.attr(u.$attr.when),d=u.offset||0,$=a.$eval(p)||{},v={},g=e.startSymbol(),y=e.endSymbol(),b=g+f+"-"+d+y,x=ir.noop;r(u,function(t,e){var n=o.exec(e);n&&(n=(n[1]?"-":"")+Kn(n[2]),$[n]=s.attr(u.$attr[e]))}),r($,function(t,n){v[n]=e(t.replace(i,b))}),a.$watch(f,function(e){var r=parseFloat(e),i=isNaN(r);i||r in $||(r=t.pluralCat(r-d)),r===l||i&&w(l)&&isNaN(l)||(x(),i=v[r],m(i)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+p),x=h,c()):x=a.$watch(i,c),l=r)})}}}],jo=["$parse","$animate","$compile",function(t,i,o){var a=e("ngRepeat"),s=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,u){var c=u.ngRepeat,l=o.$$createComment("end ngRepeat",c),f=c.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw a("iexp",c);var h=f[1],p=f[2],d=f[3],$=f[4],f=h.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!f)throw a("iidexp",h);var m=f[3]||f[1],v=f[2];if(d&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(d)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(d)))throw a("badident",d);var g,y,b,w,x={$id:Dt};return $?g=t($):(b=function(t,e){return Dt(e)},w=function(t){return t}),function(t,e,o,u,f){g&&(y=function(e,n,r){return v&&(x[v]=e),x[m]=n,x.$index=r,g(t,x)});var h=at();t.$watchCollection(p,function(o){var u,p,$,g,x,S,C,E,A,k,O=e[0],M=at();if(d&&(t[d]=o),n(o))E=o,p=y||b;else for(k in p=y||w,E=[],o)Jn.call(o,k)&&"$"!==k.charAt(0)&&E.push(k);for(g=E.length,k=Array(g),u=0;u<g;u++)if(x=o===E?u:E[u],S=o[x],C=p(x,S,u),h[C])A=h[C],delete h[C],M[C]=A,k[u]=A;else{if(M[C])throw r(k,function(t){t&&t.scope&&(h[t.id]=t)}),a("dupes",c,C,S);k[u]={id:C,scope:void 0,clone:void 0},M[C]=!0}for($ in h){if(A=h[$],C=ot(A.clone),i.leave(C),C[0].parentNode)for(u=0,p=C.length;u<p;u++)C[u].$$NG_REMOVED=!0;A.scope.$destroy()}for(u=0;u<g;u++)if(x=o===E?u:E[u],S=o[x],A=k[u],A.scope){$=O;do $=$.nextSibling;while($&&$.$$NG_REMOVED);A.clone[0]!=$&&i.move(ot(A.clone),null,O),O=A.clone[A.clone.length-1],s(A.scope,u,m,S,v,x,g)}else f(function(t,e){A.scope=e;var n=l.cloneNode(!1);t[t.length++]=n,i.enter(t,null,O),O=n,A.clone=t,M[A.id]=A,s(A.scope,u,m,S,v,x,g)});h=M})}}}}],Io=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Do=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Po=jn(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&r(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),Ro=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,o,a){var s=[],u=[],c=[],l=[],f=function(t,e){return function(){t.splice(e,1)}};n.$watch(o.ngSwitch||o.on,function(n){var i,o;for(i=0,o=c.length;i<o;++i)t.cancel(c[i]);for(i=c.length=0,o=l.length;i<o;++i){var h=ot(u[i].clone);l[i].$destroy(),(c[i]=t.leave(h)).then(f(c,i))}u.length=0,l.length=0,(s=a.cases["!"+n]||a.cases["?"])&&r(s,function(n){n.transclude(function(r,i){l.push(i);var o=n.element;r[r.length++]=e.$$createComment("end ngSwitchWhen"),u.push({clone:r}),t.enter(r,o.parent(),o)})})})}}}],Fo=jn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:e})}}),Uo=jn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),_o=e("ngTransclude"),qo=jn({restrict:"EAC",link:function(t,e,n,r,i){if(n.ngTransclude===n.$attr.ngTransclude&&(n.ngTransclude=""),!i)throw _o("orphan",L(e));i(function(t){t.length&&(e.empty(),e.append(t))},null,n.ngTransclude||n.ngTranscludeSlot)}}),Lo=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){"text/ng-template"==n.type&&t.put(n.id,e[0].text)}}}],Bo={$setViewValue:h,$render:h},Ho=["$element","$scope",function(e,n){var r=this,i=new Pt;r.ngModelCtrl=Bo,r.unknownOption=zn(t.document.createElement("option")),r.renderUnknownOption=function(t){t="? "+Dt(t)+" ?",r.unknownOption.val(t),e.prepend(r.unknownOption),e.val(t)},n.$on("$destroy",function(){r.renderUnknownOption=h}),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),e.val()},r.writeValue=function(t){r.hasOption(t)?(r.removeUnknownOption(),e.val(t),""===t&&r.emptyOption.prop("selected",!0)):null==t&&r.emptyOption?(r.removeUnknownOption(),e.val("")):r.renderUnknownOption(t)},r.addOption=function(t,e){if(8!==e[0].nodeType){rt(t,'"option value"'),""===t&&(r.emptyOption=e);var n=i.get(t)||0;i.put(t,n+1),r.ngModelCtrl.$render(),e[0].hasAttribute("selected")&&(e[0].selected=!0)}},r.removeOption=function(t){var e=i.get(t);e&&(1===e?(i.remove(t),""===t&&(r.emptyOption=void 0)):i.put(t,e-1))},r.hasOption=function(t){return!!i.get(t)},r.registerOption=function(t,e,n,i,o){if(i){var a;n.$observe("value",function(t){v(a)&&r.removeOption(a),a=t,r.addOption(t,e)})}else o?t.$watch(o,function(t,i){n.$set("value",t),i!==t&&r.removeOption(i),r.addOption(t,e)}):r.addOption(n.value,e);e.on("$destroy",function(){r.removeOption(n.value),r.ngModelCtrl.$render()})}}],zo=function(){return{restrict:"E",require:["select","?ngModel"],controller:Ho,priority:1,link:{pre:function(t,e,n,i){var o=i[1];if(o){var a=i[0];if(a.ngModelCtrl=o,e.on("change",function(){t.$apply(function(){o.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var t=[];return r(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},a.writeValue=function(t){var n=new Pt(t);r(e.find("option"),function(t){t.selected=v(n.get(t.value))})};var s,u=NaN;t.$watch(function(){u!==o.$viewValue||I(s,o.$viewValue)||(s=ut(o.$viewValue),o.$render()),u=o.$viewValue}),o.$isEmpty=function(t){return!t||0===t.length}}}},post:function(t,e,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}}}},Wo=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){if(v(n.value))var r=t(n.value,!0);else{var i=t(e.text(),!0);i||n.$set("value",e.text())}return function(t,e,n){var o=e.parent();(o=o.data("$selectController")||o.parent().data("$selectController"))&&o.registerOption(t,e,n,r,i)}}}}],Go=d({restrict:"E",terminal:!1}),Zo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},Jo=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,r,i){if(i){var o,a=r.ngPattern||r.pattern;r.$observe("pattern",function(t){if(b(t)&&0<t.length&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw e("ngPattern")("noregexp",a,t,L(n));o=t||void 0,i.$validate()}),i.$validators.pattern=function(t,e){return i.$isEmpty(e)||m(o)||o.test(e)}}}}},Ko=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){t=l(t),i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(t,e){return 0>i||r.$isEmpty(e)||e.length<=i}}}}},Yo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=l(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};t.angular.bootstrap?t.console&&console.log("WARNING: Tried to load angular more than once."):(tt(),ct(ir),ir.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return-1==e?0:t.length-e-1}t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,n){var r=0|t,i=n;return void 0===i&&(i=Math.min(e(t),3)),Math.pow(10,i),1==r&&0==i?"one":"other"}})}]),zn(t.document).ready(function(){J(t.document,K)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');
!function(e,t){"use strict";function r(e,r,n){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,o,i,c,l){function u(){$&&(n.cancel($),$=null),h&&(h.$destroy(),h=null),f&&($=n.leave(f),$.then(function(){$=null}),f=null)}function s(){var i=e.current&&e.current.locals;if(t.isDefined(i&&i.$template)){var i=a.$new(),c=e.current;f=l(i,function(e){n.enter(e,null,f||o).then(function(){!t.isDefined(d)||d&&!a.$eval(d)||r()}),u()}),h=c.scope=i,h.$emit("$viewContentLoaded"),h.$eval(p)}else u()}var h,f,$,d=i.autoscroll,p=i.onload||"";a.$on("$routeChangeSuccess",s),s()}}}function n(e,t,r){return{restrict:"ECA",priority:-400,link:function(n,a){var o=r.current,i=o.locals;a.html(i.$template);var c=e(a.contents());if(o.controller){i.$scope=n;var l=t(o.controller,i);o.controllerAs&&(n[o.controllerAs]=l),a.data("$ngControllerController",l),a.children().data("$ngControllerController",l)}n[o.resolveAs||"$resolve"]=i,c(n)}}}var a=t.isArray,o=t.isObject,i=t.module("ngRoute",["ng"]).provider("$route",function(){function e(e,r){return t.extend(Object.create(e),r)}function r(e,t){var r=t.caseInsensitiveMatch,n={originalPath:e,regexp:e},a=n.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[\?\*])?/g,function(e,t,r,n){return e="?"===n||"*?"===n?"?":null,n="*"===n||"*?"===n?"*":null,a.push({name:r,optional:!!e}),t=t||"",""+(e?"":t)+"(?:"+(e?t:"")+(n&&"(.+?)"||"([^/]+)")+(e||"")+")"+(e||"")}).replace(/([\/$\*])/g,"\\$1"),n.regexp=new RegExp("^"+e+"$",r?"i":""),n}var n={};this.when=function(e,i){var c;if(c=void 0,a(i)){c=c||[];for(var l=0,u=i.length;l<u;l++)c[l]=i[l]}else if(o(i))for(l in c=c||{},i)"$"===l.charAt(0)&&"$"===l.charAt(1)||(c[l]=i[l]);return c=c||i,t.isUndefined(c.reloadOnSearch)&&(c.reloadOnSearch=!0),t.isUndefined(c.caseInsensitiveMatch)&&(c.caseInsensitiveMatch=this.caseInsensitiveMatch),n[e]=t.extend(c,e&&r(e,c)),e&&(l="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/",n[l]=t.extend({redirectTo:e},r(l,c))),this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(r,a,o,i,l,u,s){function h(e){var n=P.current;(g=(m=p())&&n&&m.$$route===n.$$route&&t.equals(m.pathParams,n.pathParams)&&!m.reloadOnSearch&&!w)||!n&&!m||r.$broadcast("$routeChangeStart",m,n).defaultPrevented&&e&&e.preventDefault()}function f(){var e=P.current,n=m;g?(e.params=n.params,t.copy(e.params,o),r.$broadcast("$routeUpdate",e)):(n||e)&&(w=!1,(P.current=n)&&n.redirectTo&&(t.isString(n.redirectTo)?a.path(v(n.redirectTo,n.params)).search(n.params).replace():a.url(n.redirectTo(n.pathParams,a.path(),a.search())).replace()),i.when(n).then($).then(function(a){n==P.current&&(n&&(n.locals=a,t.copy(n.params,o)),r.$broadcast("$routeChangeSuccess",n,e))},function(t){n==P.current&&r.$broadcast("$routeChangeError",n,e,t)}))}function $(e){if(e){var r=t.extend({},e.resolve);return t.forEach(r,function(e,n){r[n]=t.isString(e)?l.get(e):l.invoke(e,null,null,n)}),e=d(e),t.isDefined(e)&&(r.$template=e),i.all(r)}}function d(e){var r,n;return t.isDefined(r=e.template)?t.isFunction(r)&&(r=r(e.params)):t.isDefined(n=e.templateUrl)&&(t.isFunction(n)&&(n=n(e.params)),t.isDefined(n)&&(e.loadedTemplateUrl=s.valueOf(n),r=u(n))),r}function p(){var r,o;return t.forEach(n,function(n,i){var c;if(c=!o){var l=a.path();c=n.keys;var u={};if(n.regexp)if(l=n.regexp.exec(l)){for(var s=1,h=l.length;s<h;++s){var f=c[s-1],$=l[s];f&&$&&(u[f.name]=$)}c=u}else c=null;else c=null;c=r=c}c&&(o=e(n,{params:t.extend({},a.search(),r),pathParams:r}),o.$$route=n)}),o||n[null]&&e(n[null],{params:{},pathParams:{}})}function v(e,r){var n=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)n.push(e);else{var a=e.match(/(\w+)(?:[?*])?(.*)/),o=a[1];n.push(r[o]),n.push(a[2]||""),delete r[o]}}),n.join("")}var m,g,w=!1,P={routes:n,reload:function(){w=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,w=!1}};r.$evalAsync(function(){h(e),e.defaultPrevented||f()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw c("norout");e=t.extend({},this.current.params,e),a.path(v(this.current.$$route.originalPath,e)),a.search(e)}};return r.$on("$locationChangeStart",h),r.$on("$locationChangeSuccess",f),P}]}),c=t.$$minErr("ngRoute");i.provider("$routeParams",function(){this.$get=function(){return{}}}),i.directive("ngView",r),i.directive("ngView",n),r.$inject=["$route","$anchorScroll","$animate"],n.$inject=["$compile","$controller","$route"]}(window,window.angular);
!function(e,t){"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e():t.rangy=e()}(function(){function e(e,t){var n=typeof e[t];return n==N||!(n!=C||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=C||!e[t])}function n(e,t){return typeof e[t]!=E}function r(e){return function(t,n){for(var r=n.length;r--;)if(!e(t,n[r]))return!1;return!0}}function o(e){return e&&O(e,T)&&D(e,w)}function a(e){return t(e,"body")?e.body:e.getElementsByTagName("body")[0]}function i(t){typeof console!=E&&e(console,"log")&&console.log(t)}function s(e,t){b&&t?alert(e):i(e)}function c(e){P.initialized=!0,P.supported=!1,s("Rangy is not supported in this environment. Reason: "+e,P.config.alertOnFail)}function d(e){s("Rangy warning: "+e,P.config.alertOnWarn)}function f(e){return e.message||e.description||String(e)}function u(){if(b&&!P.initialized){var t,n=!1,r=!1;e(document,"createRange")&&(t=document.createRange(),O(t,y)&&D(t,S)&&(n=!0));var s=a(document);if(!s||"body"!=s.nodeName.toLowerCase())return void c("No body element found");if(s&&e(s,"createTextRange")&&(t=s.createTextRange(),o(t)&&(r=!0)),!n&&!r)return void c("Neither Range nor TextRange are available");P.initialized=!0,P.features={implementsDomRange:n,implementsTextRange:r};var d,u;for(var l in x)(d=x[l])instanceof p&&d.init(d,P);for(var h=0,g=H.length;g>h;++h)try{H[h](P)}catch(e){u="Rangy init listener threw an exception. Continuing. Detail: "+f(e),i(u)}}}function l(e,t,n){n&&(e+=" in module "+n.name),P.warn("DEPRECATED: "+e+" is deprecated. Please use "+t+" instead.")}function h(e,t,n,r){e[t]=function(){return l(t,n,r),e[n].apply(e,I.toArray(arguments))}}function g(e){e=e||window,u();for(var t=0,n=k.length;n>t;++t)k[t](e)}function p(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function m(e,t,n){var r=new p(e,t,function(t){if(!t.initialized){t.initialized=!0;try{n(P,t),t.supported=!0}catch(t){var r="Module '"+e+"' failed to load: "+f(t);i(r),t.stack&&i(t.stack)}}});return x[e]=r,r}function v(){}function R(){}var C="object",N="function",E="undefined",S=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],y=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],w=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],T=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],O=r(e),_=r(t),D=r(n),A=[].forEach?function(e,t){e.forEach(t)}:function(e,t){for(var n=0,r=e.length;r>n;++n)t(e[n],n)},x={},b=typeof window!=E&&typeof document!=E,I={isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:O,areHostObjects:_,areHostProperties:D,isTextRange:o,getBody:a,forEach:A},P={version:"1.3.0",initialized:!1,isBrowser:b,supported:!0,util:I,features:{},modules:x,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==E||rangyAutoInitialize}};P.fail=c,P.warn=d;var B;({}).hasOwnProperty?(I.extend=B=function(e,t,n){var r,o;for(var a in t)t.hasOwnProperty(a)&&(r=e[a],o=t[a],n&&null!==r&&"object"==typeof r&&null!==o&&"object"==typeof o&&B(r,o,!0),e[a]=o);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},I.createOptions=function(e,t){var n={};return B(n,t),e&&B(n,e),n}):c("hasOwnProperty not supported"),b||c("Rangy can only run in a browser"),function(){var e;if(b){var t=document.createElement("div");t.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(e){return n.call(e,0)})}catch(e){}}e||(e=function(e){for(var t=[],n=0,r=e.length;r>n;++n)t[n]=e[n];return t}),I.toArray=e}();var M;b&&(e(document,"addEventListener")?M=function(e,t,n){e.addEventListener(t,n,!1)}:e(document,"attachEvent")?M=function(e,t,n){e.attachEvent("on"+t,n)}:c("Document does not have required addEventListener or attachEvent method"),I.addListener=M);var H=[];I.deprecationNotice=l,I.createAliasForDeprecatedMethod=h,P.init=u,P.addInitListener=function(e){P.initialized?e(P):H.push(e)};var k=[];P.addShimListener=function(e){k.push(e)},b&&(P.shim=P.createMissingNativeApi=g,h(P,"createMissingNativeApi","shim")),p.prototype={init:function(){for(var e,t,n=this.dependencies||[],r=0,o=n.length;o>r;++r){if(t=n[r],e=x[t],!(e&&e instanceof p))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error(e)},warn:function(e){P.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){P.warn("DEPRECATED: "+e+" in module "+this.name+" is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},P.createModule=function(e){var t,n;2==arguments.length?(t=arguments[1],n=[]):(t=arguments[2],n=arguments[1]);var r=m(e,n,t);P.initialized&&P.supported&&r.init()},P.createCoreModule=function(e,t,n){m(e,t,n)},P.RangePrototype=v,P.rangePrototype=new v,P.selectionPrototype=new R,P.createCoreModule("DomUtil",[],function(e,t){function n(e){var t;return typeof e.namespaceURI==b||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function r(e){var t=e.parentNode;return 1==t.nodeType?t:null}function o(e){for(var t=0;e=e.previousSibling;)++t;return t}function a(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}}function i(e,t){var n,r=[];for(n=e;n;n=n.parentNode)r.push(n);for(n=t;n;n=n.parentNode)if(H(r,n))return n;return null}function s(e,t,n){for(var r=n?t:t.parentNode;r;){if(r===e)return!0;r=r.parentNode}return!1}function c(e,t){return s(e,t,!0)}function d(e,t,n){for(var r,o=n?e:e.parentNode;o;){if(r=o.parentNode,r===t)return o;o=r}return null}function f(e){var t=e.nodeType;return 3==t||4==t||8==t}function u(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t}function l(e,t){var n=t.nextSibling,r=t.parentNode;return n?r.insertBefore(e,n):r.appendChild(e),e}function h(e,t,n){var r=e.cloneNode(!1);if(r.deleteData(0,t),e.deleteData(t,e.length-t),l(r,e),n)for(var a,i=0;a=n[i++];)a.node==e&&a.offset>t?(a.node=r,a.offset-=t):a.node==e.parentNode&&a.offset>o(e)&&++a.offset;return r}function g(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=b)return e.ownerDocument;if(typeof e.document!=b)return e.document;if(e.parentNode)return g(e.parentNode);throw t.createError("getDocument: no document found for node")}function p(e){var n=g(e);if(typeof n.defaultView!=b)return n.defaultView;if(typeof n.parentWindow!=b)return n.parentWindow;throw t.createError("Cannot get a window object for node")}function m(e){if(typeof e.contentDocument!=b)return e.contentDocument;if(typeof e.contentWindow!=b)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function v(e){if(typeof e.contentWindow!=b)return e.contentWindow;if(typeof e.contentDocument!=b)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")}function R(e){return e&&I.isHostMethod(e,"setTimeout")&&I.isHostObject(e,"document")}function C(e,t,n){var r;if(e?I.isHostProperty(e,"nodeType")?r=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?m(e):g(e):R(e)&&(r=e.document):r=document,!r)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return r}function N(e){for(var t;t=e.parentNode;)e=t;return e}function E(e,n,r,a){var s,c,f,u,l;if(e==r)return n===a?0:a>n?-1:1;if(s=d(r,e,!0))return n<=o(s)?-1:1;if(s=d(e,r,!0))return o(s)<a?-1:1;if(c=i(e,r),!c)throw new Error("comparePoints error: nodes have no common ancestor");if(f=e===c?c:d(e,c,!0),u=r===c?c:d(r,c,!0),f===u)throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(l=c.firstChild;l;){if(l===f)return-1;if(l===u)return 1;l=l.nextSibling}}function S(e){var t;try{return t=e.parentNode,!1}catch(e){return!0}}function y(e){if(!e)return"[No node]";if(k&&S(e))return"[Broken node]";if(f(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+o(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function w(e){for(var t,n=g(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n}function T(e,t,n){var r=P(e),o=e.createElement("div");o.contentEditable=""+!!n,t&&(o.innerHTML=t);var a=r.firstChild;return a?r.insertBefore(o,a):r.appendChild(o),o}function O(e){return e.parentNode.removeChild(e)}function _(e){this.root=e,this._next=e}function D(e){return new _(e)}function A(e,t){this.node=e,this.offset=t}function x(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var b="undefined",I=e.util,P=I.getBody;I.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),I.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var B=document.createElement("div");I.areHostMethods(B,["insertBefore","appendChild","cloneNode"]||!I.areHostObjects(B,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),I.isHostProperty(B,"innerHTML")||t.fail("Element is missing innerHTML property");var M=document.createTextNode("test");I.areHostMethods(M,["splitText","deleteData","insertData","appendData","cloneNode"]||!I.areHostObjects(B,["previousSibling","nextSibling","childNodes","parentNode"])||!I.areHostProperties(M,["data"]))||t.fail("Incomplete Text Node implementation");var H=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},k=!1;!function(){var t=document.createElement("b");t.innerHTML="1";var n=t.firstChild;t.innerHTML="<br />",k=S(n),e.features.crashyTextNodes=k}();var L;typeof window.getComputedStyle!=b?L=function(e,t){return p(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=b?L=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:t.fail("No means of obtaining computed style properties found"),_.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},A.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+y(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},x.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},x.prototype.toString=function(){return this.message},e.dom={arrayContains:H,isHtmlNamespace:n,parentElement:r,getNodeIndex:o,getNodeLength:a,getCommonAncestor:i,isAncestorOf:s,isOrIsAncestorOf:c,getClosestAncestorIn:d,isCharacterDataNode:f,isTextOrCommentNode:u,insertAfter:l,splitDataNode:h,getDocument:g,getWindow:p,getIframeWindow:v,getIframeDocument:m,getBody:P,isWindow:R,getContentDocument:C,getRootContainer:N,comparePoints:E,isBrokenNode:S,inspectNode:y,getComputedStyleProperty:L,createTestElement:T,removeNode:O,fragmentFromNodeChildren:w,createIterator:D,DomPosition:A},e.DOMException=x}),P.createCoreModule("DomRange",["DomUtil"],function(e,t){function n(e,t){return 3!=e.nodeType&&(j(e,t.startContainer)||j(e,t.endContainer))}function r(e){return e.document||z(e.startContainer)}function o(e){return G(e.startContainer)}function a(e){return new k(e.parentNode,F(e))}function i(e){return new k(e.parentNode,F(e)+1)}function s(e,t,n){var r=11==e.nodeType?e.firstChild:e;return W(t)?n==t.length?M.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:U(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),r}function c(e,t,n){if(T(e),T(t),r(t)!=r(e))throw new L("WRONG_DOCUMENT_ERR");var o=V(e.startContainer,e.startOffset,t.endContainer,t.endOffset),a=V(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return n?0>=o&&a>=0:0>o&&a>0}function d(e){for(var t,n,o,a=r(e.range).createDocumentFragment();n=e.next();){if(t=e.isPartiallySelectedSubtree(),n=n.cloneNode(!t),t&&(o=e.getSubtreeIterator(),n.appendChild(d(o)),o.detach()),10==n.nodeType)throw new L("HIERARCHY_REQUEST_ERR");a.appendChild(n)}return a}function f(e,t,n){var r,o;n=n||{stop:!1};for(var a,i;a=e.next();)if(e.isPartiallySelectedSubtree()){if(t(a)===!1)return void(n.stop=!0);if(i=e.getSubtreeIterator(),f(i,t,n),i.detach(),n.stop)return}else for(r=M.createIterator(a);o=r.next();)if(t(o)===!1)return void(n.stop=!0)}function u(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),u(t),t.detach()):e.remove()}function l(e){for(var t,n,o=r(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(l(n)),n.detach()):e.remove(),10==t.nodeType)throw new L("HIERARCHY_REQUEST_ERR");o.appendChild(t)}return o}function h(e,t,n){var r,o=!(!t||!t.length),a=!!n;o&&(r=new RegExp("^("+t.join("|")+")$"));var i=[];return f(new p(e,(!1)),function(t){if(!(o&&!r.test(t.nodeType)||a&&!n(t))){var s=e.startContainer;if(t!=s||!W(s)||e.startOffset!=s.length){var c=e.endContainer;t==c&&W(c)&&0==e.endOffset||i.push(t)}}}),i}function g(e){var t="undefined"==typeof e.getName?"Range":e.getName();return"["+t+"("+M.inspectNode(e.startContainer)+":"+e.startOffset+", "+M.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function p(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&W(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||W(this.sc)?q(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||W(this.ec)?q(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function m(e){return function(t,n){for(var r,o=n?t:t.parentNode;o;){if(r=o.nodeType,Q(e,r))return o;o=o.parentNode}return null}}function v(e,t){if(oe(e,t))throw new L("INVALID_NODE_TYPE_ERR")}function R(e,t){if(!Q(t,e.nodeType))throw new L("INVALID_NODE_TYPE_ERR")}function C(e,t){if(0>t||t>(W(e)?e.length:e.childNodes.length))throw new L("INDEX_SIZE_ERR")}function N(e,t){if(ne(e,!0)!==ne(t,!0))throw new L("WRONG_DOCUMENT_ERR")}function E(e){if(re(e,!0))throw new L("NO_MODIFICATION_ALLOWED_ERR")}function S(e,t){if(!e)throw new L(t)}function y(e,t){return t<=(W(e)?e.length:e.childNodes.length)}function w(e){return!!e.startContainer&&!!e.endContainer&&!(X&&(M.isBrokenNode(e.startContainer)||M.isBrokenNode(e.endContainer)))&&G(e.startContainer)==G(e.endContainer)&&y(e.startContainer,e.startOffset)&&y(e.endContainer,e.endOffset)}function T(e){if(!w(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}function O(e,t){T(e);var n=e.startContainer,r=e.startOffset,o=e.endContainer,a=e.endOffset,i=n===o;W(o)&&a>0&&a<o.length&&U(o,a,t),W(n)&&r>0&&r<n.length&&(n=U(n,r,t),i?(a-=r,o=n):o==n.parentNode&&a>=F(n)&&a++,r=0),e.setStartAndEnd(n,r,o,a)}function _(e){T(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}function D(e){e.START_TO_START=de,e.START_TO_END=fe,e.END_TO_END=ue,e.END_TO_START=le,e.NODE_BEFORE=he,e.NODE_AFTER=ge,e.NODE_BEFORE_AND_AFTER=pe,e.NODE_INSIDE=me}function A(e){D(e),D(e.prototype)}function x(e,t){return function(){T(this);var n,r,o=this.startContainer,a=this.startOffset,s=this.commonAncestorContainer,c=new p(this,(!0));o!==s&&(n=q(o,s,!0),r=i(n),o=r.node,a=r.offset),f(c,E),c.reset();var d=e(c);return c.detach(),t(this,o,a,o,a),d}}function b(t,r){function o(e,t){return function(n){R(n,$),R(G(n),J);var r=(e?a:i)(n);(t?s:c)(this,r.node,r.offset)}}function s(e,t,n){var o=e.endContainer,a=e.endOffset;(t!==e.startContainer||n!==e.startOffset)&&((G(t)!=G(o)||1==V(t,n,o,a))&&(o=t,a=n),r(e,t,n,o,a))}function c(e,t,n){var o=e.startContainer,a=e.startOffset;(t!==e.endContainer||n!==e.endOffset)&&((G(t)!=G(o)||-1==V(t,n,o,a))&&(o=t,a=n),r(e,o,a,t,n))}var d=function(){};d.prototype=e.rangePrototype,t.prototype=new d,H.extend(t.prototype,{setStart:function(e,t){v(e,!0),C(e,t),s(this,e,t)},setEnd:function(e,t){v(e,!0),C(e,t),c(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],o=t,a=n;switch(e.length){case 3:a=e[2];break;case 4:o=e[2],a=e[3]}r(this,t,n,o,a)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:o(!0,!0),setStartAfter:o(!1,!0),setEndBefore:o(!0,!1),setEndAfter:o(!1,!1),collapse:function(e){T(this),e?r(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):r(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){v(e,!0),r(this,e,0,e,Y(e))},selectNode:function(e){v(e,!1),R(e,$);var t=a(e),n=i(e);r(this,t.node,t.offset,n.node,n.offset)},extractContents:x(l,r),deleteContents:x(u,r),canSurroundContents:function(){T(this),E(this.startContainer),E(this.endContainer);var e=new p(this,(!0)),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},splitBoundaries:function(){O(this)},splitBoundariesPreservingPositions:function(e){O(this,e)},normalizeBoundaries:function(){T(this);var e,t=this.startContainer,n=this.startOffset,o=this.endContainer,a=this.endOffset,i=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(o=e,a=e.length,e.appendData(t.data),Z(t))},s=function(e){var r=e.previousSibling;if(r&&r.nodeType==e.nodeType){t=e;var i=e.length;if(n=r.length,e.insertData(0,r.data),Z(r),t==o)a+=n,o=t;else if(o==e.parentNode){var s=F(e);a==s?(o=e,a=i):a>s&&a--}}},c=!0;if(W(o))a==o.length?i(o):0==a&&(e=o.previousSibling,e&&e.nodeType==o.nodeType&&(a=e.length,t==o&&(c=!1),e.appendData(o.data),Z(o),o=e));else{if(a>0){var d=o.childNodes[a-1];d&&W(d)&&i(d)}c=!this.collapsed}if(c){if(W(t))0==n?s(t):n==t.length&&(e=t.nextSibling,e&&e.nodeType==t.nodeType&&(o==e&&(o=t,a+=t.length),t.appendData(e.data),Z(e)));else if(n<t.childNodes.length){var f=t.childNodes[n];f&&W(f)&&s(f)}}else t=o,n=a;r(this,t,n,o,a)},collapseToPoint:function(e,t){v(e,!0),C(e,t),this.setStartAndEnd(e,t)}}),A(t)}function I(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:M.getCommonAncestor(e.startContainer,e.endContainer)}function P(e,t,n,r,o){e.startContainer=t,e.startOffset=n,e.endContainer=r,e.endOffset=o,e.document=M.getDocument(t),I(e)}function B(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,I(this)}var M=e.dom,H=e.util,k=M.DomPosition,L=e.DOMException,W=M.isCharacterDataNode,F=M.getNodeIndex,j=M.isOrIsAncestorOf,z=M.getDocument,V=M.comparePoints,U=M.splitDataNode,q=M.getClosestAncestorIn,Y=M.getNodeLength,Q=M.arrayContains,G=M.getRootContainer,X=e.features.crashyTextNodes,Z=M.removeNode;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,W(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!W(n)||n!==this.sc&&n!==this.ec?n.parentNode&&Z(n):(e=n===this.sc?this.so:0,t=n===this.ec?this.eo:n.length,e!=t&&n.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){var e=this._current;return n(e,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse(!1);else{e=new B(r(this.range));var t=this._current,n=t,o=0,a=t,i=Y(t);j(t,this.sc)&&(n=this.sc,o=this.so),j(t,this.ec)&&(a=this.ec,i=this.eo),P(e,n,o,a,i)}return new p(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var $=[1,3,4,5,7,8,10],J=[2,9,11],K=[5,6,10,12],ee=[1,3,4,5,7,8,10,11],te=[1,3,4,5,7,8],ne=m([9,11]),re=m(K),oe=m([6,10,12]),ae=document.createElement("style"),ie=!1;try{ae.innerHTML="<b>x</b>",ie=3==ae.firstChild.nodeType}catch(e){}e.features.htmlParsingConforms=ie;var se=ie?function(e){var t=this.startContainer,n=z(t);if(!t)throw new L("INVALID_STATE_ERR");var r=null;return 1==t.nodeType?r=t:W(t)&&(r=M.parentElement(t)),r=null===r||"HTML"==r.nodeName&&M.isHtmlNamespace(z(r).documentElement)&&M.isHtmlNamespace(r)?n.createElement("body"):r.cloneNode(!1),r.innerHTML=e,M.fragmentFromNodeChildren(r)}:function(e){var t=r(this),n=t.createElement("body");return n.innerHTML=e,M.fragmentFromNodeChildren(n)},ce=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],de=0,fe=1,ue=2,le=3,he=0,ge=1,pe=2,me=3;H.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){T(this),N(this.startContainer,t.startContainer);var n,r,o,a,i=e==le||e==de?"start":"end",s=e==fe||e==de?"start":"end";return n=this[i+"Container"],r=this[i+"Offset"],o=t[s+"Container"],a=t[s+"Offset"],V(n,r,o,a)},insertNode:function(e){if(T(this),R(e,ee),E(this.startContainer),j(e,this.startContainer))throw new L("HIERARCHY_REQUEST_ERR");var t=s(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){T(this);var e,t;if(this.collapsed)return r(this).createDocumentFragment();if(this.startContainer===this.endContainer&&W(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=r(this).createDocumentFragment(),t.appendChild(e),t;var n=new p(this,(!0));return e=d(n),n.detach(),e},canSurroundContents:function(){T(this),E(this.startContainer),E(this.endContainer);var e=new p(this,(!0)),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},surroundContents:function(e){if(R(e,te),!this.canSurroundContents())throw new L("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);s(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){T(this);for(var e,t=new B(r(this)),n=ce.length;n--;)e=ce[n],t[e]=this[e];return t},toString:function(){T(this);var e=this.startContainer;if(e===this.endContainer&&W(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new p(this,(!0));return f(n,function(e){(3==e.nodeType||4==e.nodeType)&&t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){T(this);var t=e.parentNode,n=F(e);if(!t)throw new L("NOT_FOUND_ERR");var r=this.comparePoint(t,n),o=this.comparePoint(t,n+1);return 0>r?o>0?pe:he:o>0?ge:me},comparePoint:function(e,t){return T(this),S(e,"HIERARCHY_REQUEST_ERR"),N(e,this.startContainer),V(e,t,this.startContainer,this.startOffset)<0?-1:V(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:se,toHtml:function(){return _(this)},intersectsNode:function(e,t){if(T(this),G(e)!=o(this))return!1;var n=e.parentNode,r=F(e);if(!n)return!0;var a=V(n,r,this.endContainer,this.endOffset),i=V(n,r+1,this.startContainer,this.startOffset);return t?0>=a&&i>=0:0>a&&i>0},isPointInRange:function(e,t){return T(this),S(e,"HIERARCHY_REQUEST_ERR"),N(e,this.startContainer),V(e,t,this.startContainer,this.startOffset)>=0&&V(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return c(this,e,!1)},intersectsOrTouchesRange:function(e){return c(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=V(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=V(this.endContainer,this.endOffset,e.endContainer,e.endOffset),r=this.cloneRange();return-1==t&&r.setStart(e.startContainer,e.startOffset),1==n&&r.setEnd(e.endContainer,e.endOffset),r}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==V(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==V(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new L("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==me},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,Y(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var r=n.pop();return t.setEnd(r,r.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return T(this),h(this,e,t)},getDocument:function(){return r(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var n=r(this),o=e.createRange(n);t=t||M.getBody(n),o.selectNodeContents(t);var a=this.intersection(o),i=0,s=0;return a&&(o.setEnd(a.startContainer,a.startOffset),i=o.toString().length,s=i+a.toString().length),{start:i,end:s,containerNode:t}},moveToBookmark:function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var r,o,a,i,s=[t],c=!1,d=!1;!d&&(r=s.pop());)if(3==r.nodeType)o=n+r.length,!c&&e.start>=n&&e.start<=o&&(this.setStart(r,e.start-n),c=!0),c&&e.end>=n&&e.end<=o&&(this.setEnd(r,e.end-n),d=!0),n=o;else for(i=r.childNodes,a=i.length;a--;)s.push(i[a])},getName:function(){return"DomRange"},equals:function(e){return B.rangesEqual(this,e)},isValid:function(){return w(this)},inspect:function(){return g(this)},detach:function(){}}),b(B,P),H.extend(B,{rangeProperties:ce,RangeIterator:p,copyComparisonConstants:A,createPrototypeRange:b,inspect:g,toHtml:_,getRangeDocument:r,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=B}),P.createCoreModule("WrappedRange",["DomRange"],function(e,t){var n,r,o=e.dom,a=e.util,i=o.DomPosition,s=e.DomRange,c=o.getBody,d=o.getContentDocument,f=o.isCharacterDataNode;if(e.features.implementsDomRange&&!function(){function r(e){for(var t,n=l.length;n--;)t=l[n],e[t]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}function i(e,t,n,r,o){var a=e.startContainer!==t||e.startOffset!=n,i=e.endContainer!==r||e.endOffset!=o,s=!e.equals(e.nativeRange);(a||i||s)&&(e.setEnd(r,o),e.setStart(t,n))}var f,u,l=s.rangeProperties;n=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,r(this)},s.createPrototypeRange(n,i),f=n.prototype,f.selectNode=function(e){this.nativeRange.selectNode(e),r(this)},f.cloneContents=function(){return this.nativeRange.cloneContents()},f.surroundContents=function(e){this.nativeRange.surroundContents(e),r(this)},f.collapse=function(e){this.nativeRange.collapse(e),r(this)},f.cloneRange=function(){return new n(this.nativeRange.cloneRange())},f.refresh=function(){r(this)},f.toString=function(){return this.nativeRange.toString()};var h=document.createTextNode("test");c(document).appendChild(h);var g=document.createRange();g.setStart(h,0),g.setEnd(h,0);try{g.setStart(h,1),f.setStart=function(e,t){this.nativeRange.setStart(e,t),r(this)},f.setEnd=function(e,t){this.nativeRange.setEnd(e,t),r(this)},u=function(e){return function(t){this.nativeRange[e](t),r(this)}}}catch(e){f.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}r(this)},f.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}r(this)},u=function(e,t){return function(n){try{this.nativeRange[e](n)}catch(r){this.nativeRange[t](n),this.nativeRange[e](n)}r(this)}}}f.setStartBefore=u("setStartBefore","setEndBefore"),f.setStartAfter=u("setStartAfter","setEndAfter"),f.setEndBefore=u("setEndBefore","setStartBefore"),f.setEndAfter=u("setEndAfter","setStartAfter"),f.selectNodeContents=function(e){this.setStartAndEnd(e,0,o.getNodeLength(e))},g.selectNodeContents(h),g.setEnd(h,3);var p=document.createRange();p.selectNodeContents(h),p.setEnd(h,4),p.setStart(h,2),-1==g.compareBoundaryPoints(g.START_TO_END,p)&&1==g.compareBoundaryPoints(g.END_TO_START,p)?f.compareBoundaryPoints=function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:f.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var m=document.createElement("div");m.innerHTML="123";var v=m.firstChild,R=c(document);R.appendChild(m),g.setStart(v,1),g.setEnd(v,2),g.deleteContents(),"13"==v.data&&(f.deleteContents=function(){this.nativeRange.deleteContents(),r(this)},f.extractContents=function(){var e=this.nativeRange.extractContents();return r(this),e}),R.removeChild(m),R=null,a.isHostMethod(g,"createContextualFragment")&&(f.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),c(document).removeChild(h),f.getName=function(){return"WrappedRange"},e.WrappedRange=n,e.createNativeRange=function(e){return e=d(e,t,"createNativeRange"),e.createRange()}}(),e.features.implementsTextRange){var u=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var r=n.parentElement();n=e.duplicate(),n.collapse(!1);var a=n.parentElement(),i=r==a?r:o.getCommonAncestor(r,a);return i==t?i:o.getCommonAncestor(t,i)},l=function(e){return 0==e.compareEndPoints("StartToEnd",e)},h=function(e,t,n,r,a){var s=e.duplicate();s.collapse(n);var c=s.parentElement();if(o.isOrIsAncestorOf(t,c)||(c=t),!c.canHaveHTML){var d=new i(c.parentNode,o.getNodeIndex(c));return{boundaryPosition:d,nodeInfo:{nodeIndex:d.offset,containerElement:d.node}}}var u=o.getDocument(c).createElement("span");u.parentNode&&o.removeNode(u);for(var l,h,g,p,m,v=n?"StartToStart":"StartToEnd",R=a&&a.containerElement==c?a.nodeIndex:0,C=c.childNodes.length,N=C,E=N;E==C?c.appendChild(u):c.insertBefore(u,c.childNodes[E]),s.moveToElementText(u),l=s.compareEndPoints(v,e),0!=l&&R!=N;){if(-1==l){if(N==R+1)break;R=E}else N=N==R+1?R:E;E=Math.floor((R+N)/2),c.removeChild(u)}if(m=u.nextSibling,-1==l&&m&&f(m)){s.setEndPoint(n?"EndToStart":"EndToEnd",e);var S;if(/[\r\n]/.test(m.data)){var y=s.duplicate(),w=y.text.replace(/\r\n/g,"\r").length;for(S=y.moveStart("character",w);-1==(l=y.compareEndPoints("StartToEnd",y));)S++,y.moveStart("character",1)}else S=s.text.length;p=new i(m,S)}else h=(r||!n)&&u.previousSibling,g=(r||n)&&u.nextSibling,p=g&&f(g)?new i(g,0):h&&f(h)?new i(h,h.data.length):new i(c,o.getNodeIndex(u));return o.removeNode(u),{boundaryPosition:p,nodeInfo:{nodeIndex:E,containerElement:c}}},g=function(e,t){var n,r,a,i,s=e.offset,d=o.getDocument(e.node),u=c(d).createTextRange(),l=f(e.node);return l?(n=e.node,r=n.parentNode):(i=e.node.childNodes,n=s<i.length?i[s]:null,r=e.node),a=d.createElement("span"),a.innerHTML="&#feff;",n?r.insertBefore(a,n):r.appendChild(a),u.moveToElementText(a),u.collapse(!t),r.removeChild(a),l&&u[t?"moveStart":"moveEnd"]("character",s),u};r=function(e){this.textRange=e,this.refresh()},r.prototype=new s(document),
r.prototype.refresh=function(){var e,t,n,r=u(this.textRange);l(this.textRange)?t=e=h(this.textRange,r,!0,!0).boundaryPosition:(n=h(this.textRange,r,!0,!1),e=n.boundaryPosition,t=h(this.textRange,r,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},r.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(r);var p=function(e){if(e.collapsed)return g(new i(e.startContainer,e.startOffset),!0);var t=g(new i(e.startContainer,e.startOffset),!0),n=g(new i(e.endContainer,e.endOffset),!1),r=c(s.getRangeDocument(e)).createTextRange();return r.setEndPoint("StartToStart",t),r.setEndPoint("EndToEnd",n),r};if(r.rangeToTextRange=p,r.prototype.toTextRange=function(){return p(this)},e.WrappedTextRange=r,!e.features.implementsDomRange||e.config.preferTextRange){var m=function(e){return e("return this;")()}(Function);"undefined"==typeof m.Range&&(m.Range=r),e.createNativeRange=function(e){return e=d(e,t,"createNativeRange"),c(e).createTextRange()},e.WrappedRange=r}}e.createRange=function(n){return n=d(n,t,"createRange"),new e.WrappedRange(e.createNativeRange(n))},e.createRangyRange=function(e){return e=d(e,t,"createRangyRange"),new s(e)},a.createAliasForDeprecatedMethod(e,"createIframeRange","createRange"),a.createAliasForDeprecatedMethod(e,"createIframeRangyRange","createRangyRange"),e.addShimListener(function(t){var n=t.document;"undefined"==typeof n.createRange&&(n.createRange=function(){return e.createRange(n)}),n=t=null})}),P.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(e,t){function n(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function r(e,n){if(e){if(D.isWindow(e))return e;if(e instanceof v)return e.win;var r=D.getContentDocument(e,t,n);return D.getWindow(r)}return window}function o(e){return r(e,"getWinSelection").getSelection()}function a(e){return r(e,"getDocSelection").document.selection}function i(e){var t=!1;return e.anchorNode&&(t=1==D.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}function s(e,t,n){var r=n?"end":"start",o=n?"start":"end";e.anchorNode=t[r+"Container"],e.anchorOffset=t[r+"Offset"],e.focusNode=t[o+"Container"],e.focusOffset=t[o+"Offset"]}function c(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function d(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function f(t){var n;return t instanceof b?(n=e.createNativeRange(t.getDocument()),n.setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset)):t instanceof I?n=t.nativeRange:M.implementsDomRange&&t instanceof D.getWindow(t.startContainer).Range&&(n=t),n}function u(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;n>t;++t)if(!D.isAncestorOf(e[0],e[t]))return!1;return!0}function l(e){var n=e.getNodes();if(!u(n))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return n[0]}function h(e){return!!e&&"undefined"!=typeof e.text}function g(e,t){var n=new I(t);e._ranges=[n],s(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function p(t){if(t._ranges.length=0,"None"==t.docSelection.type)d(t);else{var n=t.docSelection.createRange();if(h(n))g(t,n);else{t.rangeCount=n.length;for(var r,o=k(n.item(0)),a=0;a<t.rangeCount;++a)r=e.createRange(o),r.selectNode(n.item(a)),t._ranges.push(r);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,s(t,t._ranges[t.rangeCount-1],!1)}}}function m(e,n){for(var r=e.docSelection.createRange(),o=l(n),a=k(r.item(0)),i=L(a).createControlRange(),s=0,c=r.length;c>s;++s)i.add(r.item(s));try{i.add(o)}catch(e){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}i.select(),p(e)}function v(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function R(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}function C(e,t){for(var n,r,o=te.length;o--;)if(n=te[o],r=n.selection,"deleteAll"==t)R(r);else if(n.win==e)return"delete"==t?(te.splice(o,1),!0):r;return"deleteAll"==t&&(te.length=0),null}function N(e,n){for(var r,o=k(n[0].startContainer),a=L(o).createControlRange(),i=0,s=n.length;s>i;++i){r=l(n[i]);try{a.add(r)}catch(e){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}a.select(),p(e)}function E(e,t){if(e.win.document!=k(t))throw new P("WRONG_DOCUMENT_ERR")}function S(t){return function(n,r){var o;this.rangeCount?(o=this.getRangeAt(0),o["set"+(t?"Start":"End")](n,r)):(o=e.createRange(this.win.document),o.setStartAndEnd(n,r)),this.setSingleRange(o,this.isBackward())}}function y(e){var t=[],n=new B(e.anchorNode,e.anchorOffset),r=new B(e.focusNode,e.focusOffset),o="function"==typeof e.getName?e.getName():"Selection";if("undefined"!=typeof e.rangeCount)for(var a=0,i=e.rangeCount;i>a;++a)t[a]=b.inspect(e.getRangeAt(a));return"["+o+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"}e.config.checkSelectionRanges=!0;var w,T,O="boolean",_="number",D=e.dom,A=e.util,x=A.isHostMethod,b=e.DomRange,I=e.WrappedRange,P=e.DOMException,B=D.DomPosition,M=e.features,H="Control",k=D.getDocument,L=D.getBody,W=b.rangesEqual,F=x(window,"getSelection"),j=A.isHostObject(document,"selection");M.implementsWinGetSelection=F,M.implementsDocSelection=j;var z=j&&(!F||e.config.preferTextRange);if(z)w=a,e.isSelectionValid=function(e){var t=r(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||k(n.createRange().parentElement())==t};else{if(!F)return t.fail("Neither document.selection or window.getSelection() detected."),!1;w=o,e.isSelectionValid=function(){return!0}}e.getNativeSelection=w;var V=w();if(!V)return t.fail("Native selection was null (possibly issue 138?)"),!1;var U=e.createNativeRange(document),q=L(document),Y=A.areHostProperties(V,["anchorNode","focusNode","anchorOffset","focusOffset"]);M.selectionHasAnchorAndFocus=Y;var Q=x(V,"extend");M.selectionHasExtend=Q;var G=typeof V.rangeCount==_;M.selectionHasRangeCount=G;var X=!1,Z=!0,$=Q?function(t,n){var r=b.getRangeDocument(n),o=e.createRange(r);o.collapseToPoint(n.endContainer,n.endOffset),t.addRange(f(o)),t.extend(n.startContainer,n.startOffset)}:null;A.areHostMethods(V,["addRange","getRangeAt","removeAllRanges"])&&typeof V.rangeCount==_&&M.implementsDomRange&&!function(){var t=window.getSelection();if(t){for(var n=t.rangeCount,r=n>1,o=[],a=i(t),s=0;n>s;++s)o[s]=t.getRangeAt(s);var c=D.createTestElement(document,"",!1),d=c.appendChild(document.createTextNode("")),f=document.createRange();if(f.setStart(d,1),f.collapse(!0),t.removeAllRanges(),t.addRange(f),Z=1==t.rangeCount,t.removeAllRanges(),!r){var u=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(u&&parseInt(u[1])>=36)X=!1;else{var l=f.cloneRange();f.setStart(d,0),l.setEnd(d,3),l.setStart(d,2),t.addRange(f),t.addRange(l),X=2==t.rangeCount}}for(D.removeNode(c),t.removeAllRanges(),s=0;n>s;++s)0==s&&a?$?$(t,o[s]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(o[s])):t.addRange(o[s])}}(),M.selectionSupportsMultipleRanges=X,M.collapsedNonEditableSelectionsSupported=Z;var J,K=!1;q&&x(q,"createControlRange")&&(J=q.createControlRange(),A.areHostProperties(J,["item","add"])&&(K=!0)),M.implementsControlRange=K,T=Y?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed};var ee;x(V,"getRangeAt")?ee=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:Y&&(ee=function(t){var n=k(t.anchorNode),r=e.createRange(n);return r.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),r.collapsed!==this.isCollapsed&&r.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),r}),v.prototype=e.selectionPrototype;var te=[],ne=function(e){if(e&&e instanceof v)return e.refresh(),e;e=r(e,"getNativeSelection");var t=C(e),n=w(e),o=j?a(e):null;return t?(t.nativeSelection=n,t.docSelection=o,t.refresh()):(t=new v(n,o,e),te.push({win:e,selection:t})),t};e.getSelection=ne,A.createAliasForDeprecatedMethod(e,"getIframeSelection","getSelection");var re=v.prototype;if(!z&&Y&&A.areHostMethods(V,["removeAllRanges","addRange"])){re.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),d(this)};var oe=function(e,t){$(e.nativeSelection,t),e.refresh()};G?re.addRange=function(t,r){if(K&&j&&this.docSelection.type==H)m(this,t);else if(n(r)&&Q)oe(this,t);else{var o;X?o=this.rangeCount:(this.removeAllRanges(),o=0);var a=f(t).cloneRange();try{this.nativeSelection.addRange(a)}catch(e){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==o+1){if(e.config.checkSelectionRanges){var i=ee(this.nativeSelection,this.rangeCount-1);i&&!W(i,t)&&(t=new I(i))}this._ranges[this.rangeCount-1]=t,s(this,t,se(this.nativeSelection)),this.isCollapsed=T(this)}else this.refresh()}}:re.addRange=function(e,t){n(t)&&Q?oe(this,e):(this.nativeSelection.addRange(f(e)),this.refresh())},re.setRanges=function(e){if(K&&j&&e.length>1)N(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;n>t;++t)this.addRange(e[t])}}}else{if(!(x(V,"empty")&&x(U,"select")&&K&&z))return t.fail("No means of selecting a Range or TextRange was found"),!1;re.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=k(this.anchorNode);else if(this.docSelection.type==H){var t=this.docSelection.createRange();t.length&&(e=k(t.item(0)))}if(e){var n=L(e).createTextRange();n.select(),this.docSelection.empty()}}}catch(e){}d(this)},re.addRange=function(t){this.docSelection.type==H?m(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,t,!1))},re.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?N(this,e):t&&this.addRange(e[0])}}re.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new P("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()};var ae;if(z)ae=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=L(t.win.document).createTextRange(),n.collapse(!0)),t.docSelection.type==H?p(t):h(n)?g(t,n):d(t)};else if(x(V,"getRangeAt")&&typeof V.rangeCount==_)ae=function(t){if(K&&j&&t.docSelection.type==H)p(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,r=t.rangeCount;r>n;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));s(t,t._ranges[t.rangeCount-1],se(t.nativeSelection)),t.isCollapsed=T(t)}else d(t)};else{if(!Y||typeof V.isCollapsed!=O||typeof U.collapsed!=O||!M.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;ae=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=ee(n,0),e._ranges=[t],e.rangeCount=1,c(e),e.isCollapsed=T(e)):d(e)}}re.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(ae(this),e){var o=t.length;if(o!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=r)return!0;for(;o--;)if(!W(t[o],this._ranges[o]))return!0;return!1}};var ie=function(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var r=0,o=n.length;o>r;++r)W(t,n[r])||e.addRange(n[r]);e.rangeCount||d(e)};K&&j?re.removeRange=function(e){if(this.docSelection.type==H){for(var t,n=this.docSelection.createRange(),r=l(e),o=k(n.item(0)),a=L(o).createControlRange(),i=!1,s=0,c=n.length;c>s;++s)t=n.item(s),t!==r||i?a.add(n.item(s)):i=!0;a.select(),p(this)}else ie(this,e)}:re.removeRange=function(e){ie(this,e)};var se;!z&&Y&&M.implementsDomRange?(se=i,re.isBackward=function(){return se(this)}):se=re.isBackward=function(){return!1},re.isBackwards=re.isBackward,re.toString=function(){for(var e=[],t=0,n=this.rangeCount;n>t;++t)e[t]=""+this._ranges[t];return e.join("")},re.collapse=function(t,n){E(this,t);var r=e.createRange(t);r.collapseToPoint(t,n),this.setSingleRange(r),this.isCollapsed=!0},re.collapseToStart=function(){if(!this.rangeCount)throw new P("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},re.collapseToEnd=function(){if(!this.rangeCount)throw new P("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},re.selectAllChildren=function(t){E(this,t);var n=e.createRange(t);n.selectNodeContents(t),this.setSingleRange(n)},re.deleteFromDocument=function(){if(K&&j&&this.docSelection.type==H){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),D.removeNode(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var r=0,o=n.length;o>r;++r)n[r].deleteContents();this.addRange(n[o-1])}}},re.eachRange=function(e,t){for(var n=0,r=this._ranges.length;r>n;++n)if(e(this.getRangeAt(n)))return t},re.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},re.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},re.callMethodOnEachRange=function(e,t){var n=[];return this.eachRange(function(r){n.push(r[e].apply(r,t||[]))}),n},re.setStart=S(!0),re.setEnd=S(!1),e.rangePrototype.select=function(e){ne(this.getDocument()).setSingleRange(this,e)},re.changeEachRange=function(e){var t=[],n=this.isBackward();this.eachRange(function(n){e(n),t.push(n)}),this.removeAllRanges(),n&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},re.containsNode=function(e,t){return this.eachRange(function(n){return n.containsNode(e,t)},!0)||!1},re.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},re.moveToBookmark=function(t){for(var n,r,o=[],a=0;n=t.rangeBookmarks[a++];)r=e.createRange(this.win),r.moveToBookmark(n),o.push(r);t.backward?this.setSingleRange(o[0],"backward"):this.setRanges(o)},re.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},re.restoreRanges=function(e){this.removeAllRanges();for(var t,n=0;t=e.ranges[n];++n)this.addRange(t,e.backward&&0==n)},re.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(b.toHtml(t))}),e.join("")},M.implementsTextRange&&(re.getNativeTextRange=function(){var n;if(n=this.docSelection){var r=n.createRange();if(h(r))return r;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),re.getName=function(){return"WrappedSelection"},re.inspect=function(){return y(this)},re.detach=function(){C(this.win,"delete"),R(this)},v.detachAll=function(){C(null,"deleteAll")},v.inspect=y,v.isDirectionBackward=n,e.Selection=v,e.selectionPrototype=re,e.addShimListener(function(e){"undefined"==typeof e.getSelection&&(e.getSelection=function(){return ne(e)}),e=null})});var L=!1,W=function(e){L||(L=!0,!P.initialized&&P.config.autoInitialize&&u())};return b&&("complete"==document.readyState?W():(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",W,!1),M(window,"load",W))),P},this),function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("SaveRestore",["WrappedRange"],function(e,t){function n(e,t){return(t||document).getElementById(e)}function r(e,t){var n,r="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),o=g.getDocument(e.startContainer),a=e.cloneRange();return a.collapse(t),n=o.createElement("span"),n.id=r,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(o.createTextNode(v)),a.insertNode(n),n}function o(e,r,o,a){var i=n(o,e);i?(r[a?"setStartBefore":"setEndBefore"](i),p(i)):t.warn("Marker element has been removed. Cannot restore selection.")}function a(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function i(t,n){var o,a,i=e.DomRange.getRangeDocument(t),s=t.toString(),c=m(n);return t.collapsed?(a=r(t,!1),{document:i,markerId:a.id,collapsed:!0}):(a=r(t,!1),o=r(t,!0),{document:i,startMarkerId:o.id,endMarkerId:a.id,collapsed:!1,backward:c,toString:function(){return"original text: '"+s+"', new text: '"+t.toString()+"'"}})}function s(r,a){var i=r.document;"undefined"==typeof a&&(a=!0);var s=e.createRange(i);if(r.collapsed){var c=n(r.markerId,i);if(c){c.style.display="inline";var d=c.previousSibling;d&&3==d.nodeType?(p(c),s.collapseToPoint(d,d.length)):(s.collapseBefore(c),p(c))}else t.warn("Marker element has been removed. Cannot restore selection.")}else o(i,s,r.startMarkerId,!0),o(i,s,r.endMarkerId,!1);return a&&s.normalizeBoundaries(),s}function c(t,r){var o,s,c=[],d=m(r);t=t.slice(0),t.sort(a);for(var f=0,u=t.length;u>f;++f)c[f]=i(t[f],d);for(f=u-1;f>=0;--f)o=t[f],s=e.DomRange.getRangeDocument(o),o.collapsed?o.collapseAfter(n(c[f].markerId,s)):(o.setEndBefore(n(c[f].endMarkerId,s)),o.setStartAfter(n(c[f].startMarkerId,s)));return c}function d(n){if(!e.isSelectionValid(n))return t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var r=e.getSelection(n),o=r.getAllRanges(),a=1==o.length&&r.isBackward(),i=c(o,a);return a?r.setSingleRange(o[0],a):r.setRanges(o),{win:n,rangeInfos:i,restored:!1}}function f(e){for(var t=[],n=e.length,r=n-1;r>=0;r--)t[r]=s(e[r],!0);return t}function u(t,n){if(!t.restored){var r=t.rangeInfos,o=e.getSelection(t.win),a=f(r),i=r.length;1==i&&n&&e.features.selectionHasExtend&&r[0].backward?(o.removeAllRanges(),o.addRange(a[0],!0)):o.setRanges(a),t.restored=!0}}function l(e,t){var r=n(t,e);r&&p(r)}function h(e){for(var t,n=e.rangeInfos,r=0,o=n.length;o>r;++r)t=n[r],t.collapsed?l(e.doc,t.markerId):(l(e.doc,t.startMarkerId),l(e.doc,t.endMarkerId))}var g=e.dom,p=g.removeNode,m=e.Selection.isDirectionBackward,v="\ufeff";e.util.extend(e,{saveRange:i,restoreRange:s,saveRanges:c,restoreRanges:f,saveSelection:d,restoreSelection:u,removeMarkerElement:l,removeMarkers:h})}),e},this);
!function(e,t,r){"use strict";function n(){this.$get=["$$sanitizeUri",function(e){return function(t){"undefined"!=typeof arguments[1]&&(arguments[1].version="taSanitize");var r=[];return s(t,h(r,function(t,r){return!/^unsafe/.test(e(t,r))})),r.join("")}}]}function i(e){var r=[],n=h(r,t.noop);return n.chars(e),r.join("")}function a(e){var t,r={},n=e.split(",");for(t=0;t<n.length;t++)r[n[t]]=!0;return r}function s(e,r){function n(e,n,a,s){if(n=t.lowercase(n),T[n])for(;u.last()&&E[u.last()];)i("",u.last());D[n]&&u.last()==n&&i("",n),s=C[n]||!!s,s||u.push(n);var l={};a.replace(d,function(e,t,r,n,i){var a=r||n||i||"";l[t]=o(a)}),r.start&&r.start(n,l,s)}function i(e,n){var i,a=0;if(n=t.lowercase(n))for(a=u.length-1;a>=0&&u[a]!=n;a--);if(a>=0){for(i=u.length-1;i>=a;i--)r.end&&r.end(u[i]);u.length=a}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var a,s,l,c,u=[],h=e;for(u.last=function(){return u[u.length-1]};e;){if(c="",s=!0,u.last()&&j[u.last()]?(e=e.replace(new RegExp("([^]*)<\\s*\\/\\s*"+u.last()+"[^>]*>","i"),function(e,t){return t=t.replace(x,"$1").replace(y,"$1"),r.chars&&r.chars(o(t)),""}),i("",u.last())):(z.test(e)?(l=e.match(z))&&(l[0],r.whitespace&&r.whitespace(l[0]),e=e.replace(l[0],""),s=!1):k.test(e)?(l=e.match(k),l&&(r.comment&&r.comment(l[1]),e=e.replace(l[0],""),s=!1)):v.test(e)?(l=e.match(v),l&&(e=e.replace(l[0],""),s=!1)):b.test(e)?(l=e.match(g),l&&(e=e.substring(l[0].length),l[0].replace(g,i),s=!1)):m.test(e)&&(l=e.match(f),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(f,n)),s=!1):(c+="<",e=e.substring(1))),s&&(a=e.indexOf("<"),c+=0>a?e:e.substring(0,a),e=0>a?"":e.substring(a),r.chars&&r.chars(o(c)))),e==h)throw p("badparse","The sanitizer was unable to parse the following block of html: {0}",e);h=e}i()}function o(e){if(!e)return"";var t=G.exec(e),r=t[1],n=t[3],i=t[2];return i&&(B.innerHTML=i.replace(/</g,"&lt;"),i="textContent"in B?B.textContent:B.innerText),r+i+n}function l(e){return e.replace(/&/g,"&amp;").replace(w,function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(r-56320)+65536)+";"}).replace($,function(e){var t=e.charCodeAt(0);return 159>=t||173==t||t>=1536&&1540>=t||1807==t||6068==t||6069==t||t>=8204&&8207>=t||t>=8232&&8239>=t||t>=8288&&8303>=t||65279==t||t>=65520&&65535>=t?"&#"+t+";":e}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(e){var r="",n=e.split(";");return t.forEach(n,function(e){var n=e.split(":");if(2==n.length){var i=H(t.lowercase(n[0])),e=H(t.lowercase(n[1]));(("color"===i||"background-color"===i)&&(e.match(/^rgb\([0-9%,\. ]*\)$/i)||e.match(/^rgba\([0-9%,\. ]*\)$/i)||e.match(/^hsl\([0-9%,\. ]*\)$/i)||e.match(/^hsla\([0-9%,\. ]*\)$/i)||e.match(/^#[0-9a-f]{3,6}$/i)||e.match(/^[a-z]*$/i))||"text-align"===i&&("left"===e||"right"===e||"center"===e||"justify"===e)||"text-decoration"===i&&("underline"===e||"line-through"===e)||"font-weight"===i&&"bold"===e||"float"===i&&("left"===e||"right"===e||"none"===e)||("width"===i||"height"===i)&&e.match(/[0-9\.]*(px|em|rem|%)/)||"direction"===i&&e.match(/^ltr|rtl|initial|inherit$/))&&(r+=i+": "+e+";")}}),r}function u(e,t,r,n){return!("img"!==e||!t["ta-insert-video"]||"ta-insert-video"!==r&&"allowfullscreen"!==r&&"frameborder"!==r&&("contenteditable"!==r||"false"!==n))}function h(e,r){var n=!1,i=t.bind(e,e.push);return{start:function(e,a,s){e=t.lowercase(e),!n&&j[e]&&(n=e),n||q[e]!==!0||(i("<"),i(e),t.forEach(a,function(n,s){var o=t.lowercase(s),h="img"===e&&"src"===o||"background"===o;("style"===o&&""!==(n=c(n))||u(e,a,o,n)||U[o]===!0&&(P[o]!==!0||r(n,h)))&&(i(" "),i(s),i('="'),i(l(n)),i('"'))}),i(s?"/>":">"))},comment:function(e){i(e)},whitespace:function(e){i(l(e))},end:function(e){e=t.lowercase(e),n||q[e]!==!0||(i("</"),i(e),i(">")),e==n&&(n=!1)},chars:function(e){n||i(l(e))}}}var p=t.$$minErr("$sanitize"),f=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,g=/^<\/\s*([\w:-]+)[^>]*>/,d=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,m=/^</,b=/^<\//,x=/<!--(.*?)-->/g,k=/(^<!--.*?-->)/,v=/<!DOCTYPE([^>]*?)>/i,y=/<!\[CDATA\[(.*?)]]>/g,w=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$=/([^\#-~| |!])/g,z=/^(\s+)/,C=a("area,br,col,hr,img,wbr,input"),A=a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),S=a("rp,rt"),D=t.extend({},S,A),T=t.extend({},A,a("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),E=t.extend({},S,a("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),F=a("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),j=a("script,style"),q=t.extend({},C,T,E,D,F),P=a("background,cite,href,longdesc,src,usemap,xlink:href"),L=a("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),M=a("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),U=t.extend({},P,M,L),B=document.createElement("pre"),G=/^(\s*)([\s\S]*?)(\s*)$/,H=function(){return String.prototype.trim?function(e){return t.isString(e)?e.trim():e}:function(e){return t.isString(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}}();t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var r=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,n=/^mailto:/;return function(a,s){function o(e){e&&f.push(i(e))}function l(e,r){f.push("<a "),t.isDefined(s)&&f.push('target="',s,'" '),f.push('href="',e.replace(/"/g,"&quot;"),'">'),o(r),f.push("</a>")}if(!a)return a;for(var c,u,h,p=a,f=[];c=p.match(r);)u=c[0],c[2]||c[4]||(u=(c[3]?"http://":"mailto:")+u),h=c.index,o(p.substr(0,h)),l(u,c[0].replace(n,"")),p=p.substring(h+c[0].length);return o(p),e(f.join(""))}}])}(window,window.angular);
!function(e,t){"function"==typeof define&&define.amd?define("textAngular",["rangy","rangy/lib/rangy-selectionsaverestore"],function(n,a){return e["textAngular.name"]=t(n,a)}):"object"==typeof exports?module.exports=t(require("rangy"),require("rangy/lib/rangy-selectionsaverestore")):e.textAngular=t(rangy)}(this,function(e){function t(e){try{return 0!==angular.element(e).length}catch(e){return!1}}function n(e,n){if(!e||""===e||a.hasOwnProperty(e))throw"textAngular Error: A unique name is required for a Tool Definition";if(n.display&&(""===n.display||!t(n.display))||!n.display&&!n.buttontext&&!n.iconclass)throw'textAngular Error: Tool Definition for "'+e+'" does not have a valid display/iconclass/buttontext value';a[e]=n}var a={};angular.module("textAngularSetup",[]).constant("taRegisterTool",n).value("taTools",a).value("taOptions",{forceTextAngularSanitize:!0,keyMappings:[],toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["html","insertImage","insertLink","insertVideo","wordcount","charcount"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},defaultTagAttributes:{a:{target:""}},setup:{textEditorSetup:function(e){},htmlEditorSetup:function(e){}},defaultFileDropHandler:function(e,t){var n=new FileReader;return"image"===e.type.substring(0,5)&&(n.onload=function(){""!==n.result&&t("insertImage",n.result,!0)},n.readAsDataURL(e),!0)}}).value("taSelectableElements",["a","img"]).value("taCustomRenderers",[{selector:"img",customAttribute:"ta-insert-video",renderLogic:function(e){var t=angular.element("<iframe></iframe>"),n=e.prop("attributes");angular.forEach(n,function(e){t.attr(e.name,e.value)}),t.attr("src",t.attr("ta-insert-video")),e.replaceWith(t)}}]).value("taTranslations",{html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyFull:{tooltip:"Justify text"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"}}).factory("taToolFunctions",["$window","taTranslations",function(e,t){return{imgOnSelectAction:function(e,t,n){var a=function(){n.updateTaBindtaTextElement(),n.hidePopover()};e.preventDefault(),n.displayElements.popover.css("width","375px");var o=n.displayElements.popoverContainer;o.empty();var r=angular.element('<div class="btn-group" style="padding-right: 6px;">'),l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% </button>');l.on("click",function(e){e.preventDefault(),t.css({width:"100%",height:""}),a()});var i=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% </button>');i.on("click",function(e){e.preventDefault(),t.css({width:"50%",height:""}),a()});var s=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% </button>');s.on("click",function(e){e.preventDefault(),t.css({width:"25%",height:""}),a()});var d=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset</button>');d.on("click",function(e){e.preventDefault(),t.css({width:"",height:""}),a()}),r.append(l),r.append(i),r.append(s),r.append(d),o.append(r),r=angular.element('<div class="btn-group" style="padding-right: 6px;">');var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"></i></button>');u.on("click",function(e){e.preventDefault(),t.css("float","left"),t.css("cssFloat","left"),t.css("styleFloat","left"),a()});var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"></i></button>');c.on("click",function(e){e.preventDefault(),t.css("float","right"),t.css("cssFloat","right"),t.css("styleFloat","right"),a()});var p=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"></i></button>');p.on("click",function(e){e.preventDefault(),t.css("float",""),t.css("cssFloat",""),t.css("styleFloat",""),a()}),r.append(u),r.append(p),r.append(c),o.append(r),r=angular.element('<div class="btn-group">');var f=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"></i></button>');f.on("click",function(e){e.preventDefault(),t.remove(),a()}),r.append(f),o.append(r),n.showPopover(t),n.showResizeOverlay(t)},aOnSelectAction:function(n,a,o){n.preventDefault(),o.displayElements.popover.css("width","436px");var r=o.displayElements.popoverContainer;r.empty(),r.css("line-height","28px");var l=angular.element('<a href="'+a.attr("href")+'" target="_blank">'+a.attr("href")+"</a>");l.css({display:"inline-block","max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"}),r.append(l);var i=angular.element('<div class="btn-group pull-right">'),s=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+t.editLink.reLinkButton.tooltip+'"><i class="fa fa-edit icon-edit"></i></button>');s.on("click",function(n){n.preventDefault();var r=e.prompt(t.insertLink.dialogPrompt,a.attr("href"));r&&""!==r&&"http://"!==r&&(a.attr("href",r),o.updateTaBindtaTextElement()),o.hidePopover()}),i.append(s);var d=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+t.editLink.unLinkButton.tooltip+'"><i class="fa fa-unlink icon-unlink"></i></button>');d.on("click",function(e){e.preventDefault(),a.replaceWith(a.contents()),o.updateTaBindtaTextElement(),o.hidePopover()}),i.append(d);var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">'+t.editLink.targetToggle.buttontext+"</button>");"_blank"===a.attr("target")&&u.addClass("active"),u.on("click",function(e){e.preventDefault(),a.attr("target","_blank"===a.attr("target")?"":"_blank"),u.toggleClass("active"),o.updateTaBindtaTextElement()}),i.append(u),r.append(i),o.showPopover(a)},extractYoutubeVideoId:function(e){var t=/(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/i,n=e.match(t);return n&&n[1]||null}}}]).run(["taRegisterTool","$window","taTranslations","taSelection","taToolFunctions","$sanitize","taOptions",function(e,t,n,a,o,r,l){var i={};if(r("",i),l.forceTextAngularSanitize===!0&&"taSanitize"!==i.version)throw angular.$$minErr("textAngular")("textAngularSetup","The textAngular-sanitize provider has been replaced by another -- have you included angular-sanitize by mistake?");e("html",{iconclass:"fa fa-code",tooltiptext:n.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});var s=function(e){return function(){return this.$editor().queryFormatBlockState(e)}},d=function(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")};angular.forEach(["h1","h2","h3","h4","h5","h6"],function(t){e(t.toLowerCase(),{buttontext:t.toUpperCase(),tooltiptext:n.heading.tooltip+t.charAt(1),action:d,activeState:s(t.toLowerCase())})}),e("p",{buttontext:"P",tooltiptext:n.p.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}}),e("pre",{buttontext:"pre",tooltiptext:n.pre.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}}),e("ul",{iconclass:"fa fa-list-ul",tooltiptext:n.ul.tooltip,action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertUnorderedList")}}),e("ol",{iconclass:"fa fa-list-ol",tooltiptext:n.ol.tooltip,action:function(){return this.$editor().wrapSelection("insertOrderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertOrderedList")}}),e("quote",{iconclass:"fa fa-quote-right",tooltiptext:n.quote.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),e("undo",{iconclass:"fa fa-undo",tooltiptext:n.undo.tooltip,action:function(){return this.$editor().wrapSelection("undo",null)}}),e("redo",{iconclass:"fa fa-repeat",tooltiptext:n.redo.tooltip,action:function(){return this.$editor().wrapSelection("redo",null)}}),e("bold",{iconclass:"fa fa-bold",tooltiptext:n.bold.tooltip,action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return this.$editor().queryCommandState("bold")},commandKeyCode:98}),e("justifyLeft",{iconclass:"fa fa-align-left",tooltiptext:n.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;return e&&(t="left"===e.css("text-align")||"left"===e.attr("align")||"right"!==e.css("text-align")&&"center"!==e.css("text-align")&&"justify"!==e.css("text-align")&&!this.$editor().queryCommandState("justifyRight")&&!this.$editor().queryCommandState("justifyCenter")&&!this.$editor().queryCommandState("justifyFull")),t=t||this.$editor().queryCommandState("justifyLeft")}}),e("justifyRight",{iconclass:"fa fa-align-right",tooltiptext:n.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection("justifyRight",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;return e&&(t="right"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyRight")}}),e("justifyFull",{iconclass:"fa fa-align-justify",tooltiptext:n.justifyFull.tooltip,action:function(){return this.$editor().wrapSelection("justifyFull",null)},activeState:function(e){var t=!1;return e&&(t="justify"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyFull")}}),e("justifyCenter",{iconclass:"fa fa-align-center",tooltiptext:n.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;return e&&(t="center"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyCenter")}}),e("indent",{iconclass:"fa fa-indent",tooltiptext:n.indent.tooltip,action:function(){return this.$editor().wrapSelection("indent",null)},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")},commandKeyCode:"TabKey"}),e("outdent",{iconclass:"fa fa-outdent",tooltiptext:n.outdent.tooltip,action:function(){return this.$editor().wrapSelection("outdent",null)},activeState:function(){return!1},commandKeyCode:"ShiftTabKey"}),e("italics",{iconclass:"fa fa-italic",tooltiptext:n.italic.tooltip,action:function(){return this.$editor().wrapSelection("italic",null)},activeState:function(){return this.$editor().queryCommandState("italic")},commandKeyCode:105}),e("underline",{iconclass:"fa fa-underline",tooltiptext:n.underline.tooltip,action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return this.$editor().queryCommandState("underline")},commandKeyCode:117}),e("strikeThrough",{iconclass:"fa fa-strikethrough",tooltiptext:n.strikeThrough.tooltip,action:function(){return this.$editor().wrapSelection("strikeThrough",null)},activeState:function(){return document.queryCommandState("strikeThrough")}}),e("clear",{iconclass:"fa fa-ban",tooltiptext:n.clear.tooltip,action:function(e,t){var n;this.$editor().wrapSelection("removeFormat",null);var o=angular.element(a.getSelectionElement()),r=function(e){e=angular.element(e);var t=e;angular.forEach(e.children(),function(e){var n=angular.element("<p></p>");n.html(angular.element(e).html()),t.after(n),t=n}),e.remove()};if(angular.forEach(o.find("ul"),r),angular.forEach(o.find("ol"),r),"li"===o[0].tagName.toLowerCase()){var l=o[0].parentNode.childNodes,i=[],s=[],d=!1;for(n=0;n<l.length;n++)l[n]===o[0]?d=!0:d?s.push(l[n]):i.push(l[n]);var u=angular.element(o[0].parentNode),c=angular.element("<p></p>");if(c.html(angular.element(o[0]).html()),0===i.length||0===s.length)0===s.length?u.after(c):u[0].parentNode.insertBefore(c[0],u[0]),0===i.length&&0===s.length?u.remove():angular.element(o[0]).remove();else{var p=angular.element("<"+u[0].tagName+"></"+u[0].tagName+">"),f=angular.element("<"+u[0].tagName+"></"+u[0].tagName+">");for(n=0;n<i.length;n++)p.append(angular.element(i[n]));for(n=0;n<s.length;n++)f.append(angular.element(s[n]));u.after(f),u.after(c),u.after(p),u.remove()}a.setSelectionToElementEnd(c[0])}var m=this.$editor(),g=function(e){e=angular.element(e),e[0]!==m.displayElements.text[0]&&e.removeAttr("class"),angular.forEach(e.children(),g)};angular.forEach(o,g),"li"!==o[0].tagName.toLowerCase()&&"ol"!==o[0].tagName.toLowerCase()&&"ul"!==o[0].tagName.toLowerCase()&&this.$editor().wrapSelection("formatBlock","default"),t()}}),e("insertImage",{iconclass:"fa fa-picture-o",tooltiptext:n.insertImage.tooltip,action:function(){var e;if(e=t.prompt(n.insertImage.dialogPrompt,"http://"),e&&""!==e&&"http://"!==e){"a"===a.getSelectionElement().tagName.toLowerCase()&&a.setSelectionAfterElement(a.getSelectionElement());var o='<img src="'+e+'">';return this.$editor().wrapSelection("insertHTML",o,!0)}},onElementSelect:{element:"img",action:o.imgOnSelectAction}}),e("insertVideo",{iconclass:"fa fa-youtube-play",tooltiptext:n.insertVideo.tooltip,action:function(){var e;if(e=t.prompt(n.insertVideo.dialogPrompt,"https://"),e&&""!==e&&"https://"!==e&&(videoId=o.extractYoutubeVideoId(e),videoId)){var r="https://www.youtube.com/embed/"+videoId,l='<img class="ta-insert-video" src="https://img.youtube.com/vi/'+videoId+'/hqdefault.jpg" ta-insert-video="'+r+'" contenteditable="false" allowfullscreen="true" frameborder="0" />';return"a"===a.getSelectionElement().tagName.toLowerCase()&&a.setSelectionAfterElement(a.getSelectionElement()),this.$editor().wrapSelection("insertHTML",l,!0)}},onElementSelect:{element:"img",onlyWithAttrs:["ta-insert-video"],action:o.imgOnSelectAction}}),e("insertLink",{tooltiptext:n.insertLink.tooltip,iconclass:"fa fa-link",action:function(){var e;return e=t.prompt(n.insertLink.dialogPrompt,"http://"),e&&""!==e&&"http://"!==e?this.$editor().wrapSelection("createLink",e,!0):void 0},activeState:function(e){return!!e&&"A"===e[0].tagName},onElementSelect:{element:"a",action:o.aOnSelectAction}}),e("wordcount",{display:'<div id="toolbarWC" style="display:block; min-width:100px;">Words: <span ng-bind="wordcount"></span></div>',disabled:!0,wordcount:0,activeState:function(){var e=this.$editor().displayElements.text,t=e[0].innerHTML||"",n=0;return""!==t.replace(/\s*<[^>]*?>\s*/g,"")&&(n=t.replace(/<\/?(b|i|em|strong|span|u|strikethrough|a|img|small|sub|sup|label)( [^>*?])?>/gi,"").replace(/(<[^>]*?>\s*<[^>]*?>)/gi," ").replace(/(<[^>]*?>)/gi,"").replace(/\s+/gi," ").match(/\S+/g).length),this.wordcount=n,this.$editor().wordcount=n,!1}}),e("charcount",{display:'<div id="toolbarCC" style="display:block; min-width:120px;">Characters: <span ng-bind="charcount"></span></div>',disabled:!0,charcount:0,activeState:function(){var e=this.$editor().displayElements.text,t=e[0].innerText||e[0].textContent,n=t.replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+/g," ").replace(/\s+$/g," ").length;return this.charcount=n,this.$editor().charcount=n,!1}})}]);var o={ie:function(){for(var e,t=3,n=document.createElement("div"),a=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",a[0];);return t>4?t:e}(),webkit:/AppleWebKit\/([\d.]+)/i.test(navigator.userAgent)},r=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,l=/^(ul|li|ol)$/i,i=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var s,d,u,c,p,f;if(o.ie>8||void 0===o.ie){for(var m=document.styleSheets,g=0;g<m.length;g++)if((0===m[g].media.length||m[g].media.mediaText.match(/(all|screen)/gi))&&m[g].href&&m[g].href.match(/textangular\.(min\.|)css/gi)){s=m[g];break}s||(s=function(){var e=document.createElement("style");return o.webkit&&e.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(e),e.sheet}()),d=function(e,t){return c(s,e,t)},c=function(e,t,n){var a,o;return e.cssRules?a=Math.max(e.cssRules.length-1,0):e.rules&&(a=Math.max(e.rules.length-1,0)),e.insertRule?e.insertRule(t+"{"+n+"}",a):e.addRule(t,n,a),s.rules?o=s.rules[a]:s.cssRules&&(o=s.cssRules[a]),o},f=function(e,t){var n,a;for(n=0;n<t.length;n++)if(t[n].cssText===e.cssText){a=n;break}return a},u=function(e){p(s,e)},p=function(e,t){var n=e.cssRules||e.rules;if(n&&0!==n.length){var a=f(t,n);e.removeRule?e.removeRule(a):e.deleteRule(a)}}}angular.module("textAngular.factories",[]).factory("taBrowserTag",[function(){return function(e){return e?""===e?void 0===o.ie?"div":o.ie<=8?"P":"p":o.ie<=8?e.toUpperCase():e:o.ie<=8?"P":"p"}}]).factory("taApplyCustomRenderers",["taCustomRenderers","taDOM",function(e,t){return function(n){var a=angular.element("<div></div>");return a[0].innerHTML=n,angular.forEach(e,function(e){var n=[];e.selector&&""!==e.selector?n=a.find(e.selector):e.customAttribute&&""!==e.customAttribute&&(n=t.getByAttribute(a,e.customAttribute)),angular.forEach(n,function(t){t=angular.element(t),e.selector&&""!==e.selector&&e.customAttribute&&""!==e.customAttribute?void 0!==t.attr(e.customAttribute)&&e.renderLogic(t):e.renderLogic(t)})}),a[0].innerHTML}}]).factory("taFixChrome",function(){var e=function(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var t,n,a,o,r=/<([^>\/]+?)style=("([^\"]+)"|'([^']+)')([^>]*)>/gi,l=/<span class="Apple-converted-space">([^<]+)<\/span>/gi,i="",s=0;t=l.exec(e);)a=t[1],a=a.replace(/&nbsp;/gi," "),i+=e.substring(s,t.index)+a,s=t.index+t[0].length;for(s&&(e=i,i="",s=0);t=r.exec(e);)n=t[3]||t[4],n&&n.match(/line-height: 1.[0-9]{3,12};|color: inherit; line-height: 1.1;|color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);|background-color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);/i)&&(n=n.replace(/( |)font-family: inherit;|( |)line-height: 1.[0-9]{3,12};|( |)color: inherit;|( |)color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);|( |)background-color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);/gi,""),o="<"+t[1].trim(),n.trim().length>0&&(o+=" style="+t[2].substring(0,1)+n+t[2].substring(0,1)),o+=t[5].trim()+">",i+=e.substring(s,t.index)+o,s=t.index+t[0].length);return i+=e.substring(s),s>0?i.replace(/<span\s?>(.*?)<\/span>(<br(\/|)>|)/gi,"$1"):e};return e}).factory("taSanitize",["$sanitize",function(e){function t(e,t){for(var n,a=0,o=0,r=/<[^>]*>/gi;n=r.exec(e);)if(o=n.index,"/"===n[0].substr(1,1)){if(0===a)break;a--}else a++;return t+e.substring(0,o)+angular.element(t)[0].outerHTML.substring(t.length)+e.substring(o)}function n(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var a,r,l,i,s,u,c=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,p="",f="",m=0;r=c.exec(e);){i=r[3]||r[4];var g=new RegExp(d,"i");if(angular.isString(i)&&g.test(i)){s="";for(var h=new RegExp(d,"ig");l=h.exec(i);)for(a=0;a<o.length;a++)l[2*a+2]&&(s+="<"+o[a].tag+">");u=n(e.substring(m,r.index)),f+=p.length>0?t(u,p):u,i=i.replace(new RegExp(d,"ig"),""),f+="<"+r[1].trim(),i.length>0&&(f+=' style="'+i+'"'),f+=r[5]+">",m=r.index+r[0].length,p=s}}return f+=p.length>0?t(e.substring(m),p):e.substring(m)}function a(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var t,n=/<([^>\/]+?)align=("([^"]+)"|'([^']+)')([^>]*)>/gi,a="",o=0;t=n.exec(e);){a+=e.substring(o,t.index),o=t.index+t[0].length;var r="<"+t[1]+t[5];/style=("([^"]+)"|'([^']+)')/gi.test(r)?r=r.replace(/style=("([^"]+)"|'([^']+)')/i,'style="$2$3 text-align:'+(t[3]||t[4])+';"'):r+=' style="text-align:'+(t[3]||t[4])+';"',r+=">",a+=r}return a+e.substring(o)}for(var o=[{property:"font-weight",values:["bold"],tag:"b"},{property:"font-style",values:["italic"],tag:"i"}],r=[],l=0;l<o.length;l++){for(var i="("+o[l].property+":\\s*(",s=0;s<o[l].values.length;s++)s>0&&(i+="|"),i+=o[l].values[s];i+=");)",r.push(i)}var d="("+r.join("|")+")";return function(t,o,r){if(!r)try{t=n(t)}catch(e){}t=a(t);var l;try{l=e(t),r&&(l=t)}catch(e){l=o||""}var i,s=l.match(/(<pre[^>]*>.*?<\/pre[^>]*>)/gi),d=l.replace(/(&#(9|10);)*/gi,""),u=/<pre[^>]*>.*?<\/pre[^>]*>/gi,c=0,p=0;for(l="";null!==(i=u.exec(d))&&c<s.length;)l+=d.substring(p,i.index)+s[c],p=i.index+i[0].length,c++;return l+d.substring(p)}}]).factory("taToolExecuteAction",["$q","$log",function(e,t){return function(n){void 0!==n&&(this.$editor=function(){return n});var a,o=e.defer(),r=o.promise,l=this.$editor();try{a=this.action(o,l.startAction()),r.finally(function(){l.endAction.call(l)})}catch(e){t.error(e)}(a||void 0===a)&&o.resolve()}}]),angular.module("textAngular.DOM",["textAngular.factories"]).factory("taExecCommand",["taSelection","taBrowserTag","$document",function(t,n,a){var o=function(e,n){var a,o,r=e.find("li");for(o=r.length-1;o>=0;o--)a=angular.element("<"+n+">"+r[o].innerHTML+"</"+n+">"),e.after(a);e.remove(),t.setSelectionToElementEnd(a[0])},i=function(e){/(<br(|\/)>)$/i.test(e.innerHTML.trim())?t.setSelectionBeforeElement(angular.element(e).find("br")[0]):t.setSelectionToElementEnd(e)},s=function(e,t){var n=angular.element("<"+t+">"+e[0].innerHTML+"</"+t+">");e.after(n),e.remove(),i(n.find("li")[0])},d=function(e,t,a){for(var o="",r=0;r<e.length;r++)o+="<"+n("li")+">"+e[r].innerHTML+"</"+n("li")+">";var l=angular.element("<"+a+">"+o+"</"+a+">");t.after(l),t.remove(),i(l.find("li")[0])};return function(i,u){return i=n(i),function(c,p,f,m){var g,h,v,b,y,x,E,S=angular.element("<"+i+">");try{E=t.getSelectionElement()}catch(e){}var w=angular.element(E);if(void 0!==E){var T=E.tagName.toLowerCase();if("insertorderedlist"===c.toLowerCase()||"insertunorderedlist"===c.toLowerCase()){var C=n("insertorderedlist"===c.toLowerCase()?"ol":"ul");if(T===C)return o(w,i);if("li"===T&&w.parent()[0].tagName.toLowerCase()===C&&1===w.parent().children().length)return o(w.parent(),i);if("li"===T&&w.parent()[0].tagName.toLowerCase()!==C&&1===w.parent().children().length)return s(w.parent(),C);if(T.match(r)&&!w.hasClass("ta-bind")){if("ol"===T||"ul"===T)return s(w,C);var $=!1;return angular.forEach(w.children(),function(e){e.tagName.match(r)&&($=!0)}),$?d(w.children(),w,C):d([angular.element("<div>"+E.innerHTML+"</div>")[0]],w,C)}if(T.match(r)){if(b=t.getOnlySelectedElements(),0===b.length)h=angular.element("<"+C+"><li>"+E.innerHTML+"</li></"+C+">"),w.html(""),w.append(h);else{if(1===b.length&&("ol"===b[0].tagName.toLowerCase()||"ul"===b[0].tagName.toLowerCase()))return b[0].tagName.toLowerCase()===C?o(angular.element(b[0]),i):s(angular.element(b[0]),C);v="";var N=[];for(g=0;g<b.length;g++)if(3!==b[g].nodeType){var L=angular.element(b[g]);if("li"===b[g].tagName.toLowerCase())continue;v+="ol"===b[g].tagName.toLowerCase()||"ul"===b[g].tagName.toLowerCase()?L[0].innerHTML:"span"!==b[g].tagName.toLowerCase()||"ol"!==b[g].childNodes[0].tagName.toLowerCase()&&"ul"!==b[g].childNodes[0].tagName.toLowerCase()?"<"+n("li")+">"+L[0].innerHTML+"</"+n("li")+">":L[0].childNodes[0].innerHTML,N.unshift(L)}h=angular.element("<"+C+">"+v+"</"+C+">"),N.pop().replaceWith(h),angular.forEach(N,function(e){e.remove()})}return void t.setSelectionToElementEnd(h[0])}}else{if("formatblock"===c.toLowerCase()){for(x=f.toLowerCase().replace(/[<>]/gi,""),"default"===x.trim()&&(x=i,f="<"+i+">"),h="li"===T?w.parent():w;!h[0].tagName||!h[0].tagName.match(r)&&!h.parent().attr("contenteditable");)h=h.parent(),T=(h[0].tagName||"").toLowerCase();if(T===x){b=h.children();var k=!1;for(g=0;g<b.length;g++)k=k||b[g].tagName.match(r);k?(h.after(b),y=h.next(),h.remove(),h=y):(S.append(h[0].childNodes),h.after(S),h.remove(),h=S)}else if(h.parent()[0].tagName.toLowerCase()!==x||h.parent().hasClass("ta-bind"))if(T.match(l))h.wrap(f);else{for(b=t.getOnlySelectedElements(),0===b.length&&(b=[h[0]]),g=0;g<b.length;g++)if(3===b[g].nodeType||!b[g].tagName.match(r))for(;3===b[g].nodeType||!b[g].tagName||!b[g].tagName.match(r);)b[g]=b[g].parentNode;if(b=b.filter(function(e,t,n){return n.indexOf(e)===t}),angular.element(b[0]).hasClass("ta-bind"))h=angular.element(f),h[0].innerHTML=b[0].innerHTML,b[0].innerHTML=h[0].outerHTML;else if("blockquote"===x){for(v="",g=0;g<b.length;g++)v+=b[g].outerHTML;for(h=angular.element(f),h[0].innerHTML=v,b[0].parentNode.insertBefore(h[0],b[0]),g=b.length-1;g>=0;g--)b[g].parentNode&&b[g].parentNode.removeChild(b[g])}else for(g=0;g<b.length;g++)h=angular.element(f),h[0].innerHTML=b[g].innerHTML,b[g].parentNode.insertBefore(h[0],b[g]),b[g].parentNode.removeChild(b[g])}else{var A=h.parent(),M=A.contents();for(g=0;g<M.length;g++)A.parent().hasClass("ta-bind")&&3===M[g].nodeType&&(S=angular.element("<"+i+">"),S[0].innerHTML=M[g].outerHTML,M[g]=S[0]),A.parent()[0].insertBefore(M[g],A[0]);A.remove()}return void t.setSelectionToElementEnd(h[0])}if("createlink"===c.toLowerCase()){var D='<a href="'+f+'" target="'+(m.a.target?m.a.target:"")+'">',H="</a>",B=t.getSelection();if(B.collapsed)t.insertHtml(D+f+H,u);else if(e.getSelection().getRangeAt(0).canSurroundContents()){var R=angular.element(D+H)[0];e.getSelection().getRangeAt(0).surroundContents(R)}return}if("inserthtml"===c.toLowerCase())return void t.insertHtml(f,u)}}try{a[0].execCommand(c,p,f)}catch(e){}}}}]).service("taSelection",["$document","taDOM",function(t,n){var a=t[0],o=function(e,t){return e.tagName&&e.tagName.match(/^br$/i)&&0===t&&!e.previousSibling?{element:e.parentNode,offset:0}:{element:e,offset:t}},l={getSelection:function(){var t=e.getSelection().getRangeAt(0),n=t.commonAncestorContainer,a={start:o(t.startContainer,t.startOffset),end:o(t.endContainer,t.endOffset),collapsed:t.collapsed};return n=3===n.nodeType?n.parentNode:n,n.parentNode===a.start.element||n.parentNode===a.end.element?a.container=n.parentNode:a.container=n,a},getOnlySelectedElements:function(){var t=e.getSelection().getRangeAt(0),n=t.commonAncestorContainer;return n=3===n.nodeType?n.parentNode:n,t.getNodes([1],function(e){return e.parentNode===n})},getSelectionElement:function(){return l.getSelection().container},setSelection:function(t,n,a){var o=e.createRange();o.setStart(t,n),o.setEnd(t,a),e.getSelection().setSingleRange(o)},setSelectionBeforeElement:function(t){var n=e.createRange();n.selectNode(t),n.collapse(!0),e.getSelection().setSingleRange(n)},setSelectionAfterElement:function(t){var n=e.createRange();n.selectNode(t),n.collapse(!1),e.getSelection().setSingleRange(n)},setSelectionToElementStart:function(t){var n=e.createRange();n.selectNodeContents(t),n.collapse(!0),e.getSelection().setSingleRange(n)},setSelectionToElementEnd:function(t){var n=e.createRange();n.selectNodeContents(t),n.collapse(!1),t.childNodes&&t.childNodes[t.childNodes.length-1]&&"br"===t.childNodes[t.childNodes.length-1].nodeName&&(n.startOffset=n.endOffset=n.startOffset-1),e.getSelection().setSingleRange(n)},insertHtml:function(t,o){var s,d,u,c,p,f,m,g=angular.element("<div>"+t+"</div>"),h=e.getSelection().getRangeAt(0),v=a.createDocumentFragment(),b=g[0].childNodes,y=!0;if(b.length>0){for(c=[],u=0;u<b.length;u++)"p"===b[u].nodeName.toLowerCase()&&""===b[u].innerHTML.trim()||3===b[u].nodeType&&""===b[u].nodeValue.trim()||(y=y&&!r.test(b[u].nodeName),c.push(b[u]));for(var x=0;x<c.length;x++)f=v.appendChild(c[x]);!y&&h.collapsed&&/^(|<br(|\/)>)$/i.test(h.startContainer.innerHTML)&&h.selectNode(h.startContainer)}else y=!0,f=v=a.createTextNode(t);if(y)h.deleteContents();else if(h.collapsed&&h.startContainer!==o)if(h.startContainer.innerHTML&&h.startContainer.innerHTML.match(/^<[^>]*>$/i))s=h.startContainer,1===h.startOffset?(h.setStartAfter(s),h.setEndAfter(s)):(h.setStartBefore(s),h.setEndBefore(s));else{if(3===h.startContainer.nodeType&&h.startContainer.parentNode!==o)for(s=h.startContainer.parentNode,d=s.cloneNode(),n.splitNodes(s.childNodes,s,d,h.startContainer,h.startOffset);!i.test(s.nodeName);){angular.element(s).after(d),s=s.parentNode;var E=d;d=s.cloneNode(),n.splitNodes(s.childNodes,s,d,E)}else s=h.startContainer,d=s.cloneNode(),n.splitNodes(s.childNodes,s,d,void 0,void 0,h.startOffset);if(angular.element(s).after(d),h.setStartAfter(s),h.setEndAfter(s),/^(|<br(|\/)>)$/i.test(s.innerHTML.trim())&&(h.setStartBefore(s),h.setEndBefore(s),angular.element(s).remove()),/^(|<br(|\/)>)$/i.test(d.innerHTML.trim())&&angular.element(d).remove(),"li"===s.nodeName.toLowerCase()){for(m=a.createDocumentFragment(),p=0;p<v.childNodes.length;p++)g=angular.element("<li>"),n.transferChildNodes(v.childNodes[p],g[0]),n.transferNodeAttributes(v.childNodes[p],g[0]),m.appendChild(g[0]);v=m,f&&(f=v.childNodes[v.childNodes.length-1],f=f.childNodes[f.childNodes.length-1])}}else h.deleteContents();h.insertNode(v),f&&l.setSelectionToElementEnd(f)}};return l}]).service("taDOM",function(){var e={getByAttribute:function(t,n){var a=[],o=t.children();return o.length&&angular.forEach(o,function(t){a=a.concat(e.getByAttribute(angular.element(t),n))}),void 0!==t.attr(n)&&a.push(t),a},transferChildNodes:function(e,t){for(t.innerHTML="";e.childNodes.length>0;)t.appendChild(e.childNodes[0]);return t},splitNodes:function(t,n,a,o,r,l){if(!o&&isNaN(l))throw new Error("taDOM.splitNodes requires a splitNode or splitIndex");for(var i=document.createDocumentFragment(),s=document.createDocumentFragment(),d=0;t.length>0&&(isNaN(l)||l!==d)&&t[0]!==o;)i.appendChild(t[0]),d++;for(!isNaN(r)&&r>=0&&t[0]&&(i.appendChild(document.createTextNode(t[0].nodeValue.substring(0,r))),t[0].nodeValue=t[0].nodeValue.substring(r));t.length>0;)s.appendChild(t[0]);e.transferChildNodes(i,n),e.transferChildNodes(s,a)},transferNodeAttributes:function(e,t){for(var n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].name,e.attributes[n].value);return t}};return e}),angular.module("textAngular.validators",[]).directive("taMaxText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,a){var o=parseInt(e.$eval(n.taMaxText));if(isNaN(o))throw"Max text must be an integer";n.$observe("taMaxText",function(e){if(o=parseInt(e),isNaN(o))throw"Max text must be an integer";a.$dirty&&a.$validate()}),a.$validators.taMaxText=function(e){var t=angular.element("<div/>");return t.html(e),t.text().length<=o}}}}).directive("taMinText",function(){return{restrict:"A",
require:"ngModel",link:function(e,t,n,a){var o=parseInt(e.$eval(n.taMinText));if(isNaN(o))throw"Min text must be an integer";n.$observe("taMinText",function(e){if(o=parseInt(e),isNaN(o))throw"Min text must be an integer";a.$dirty&&a.$validate()}),a.$validators.taMinText=function(e){var t=angular.element("<div/>");return t.html(e),!t.text().length||t.text().length>=o}}}}),angular.module("textAngular.taBind",["textAngular.factories","textAngular.DOM"]).service("_taBlankTest",[function(){var e=/<(a|abbr|acronym|bdi|bdo|big|cite|code|del|dfn|img|ins|kbd|label|map|mark|q|ruby|rp|rt|s|samp|time|tt|var)[^>]*(>|$)/i;return function(t){return function(n){if(!n)return!0;var a,o=/(^[^<]|>)[^<]/i.exec(n);return o?a=o.index:(n=n.toString().replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,""),a=n.indexOf(">")),n=n.trim().substring(a,a+100),!/^[^<>]+$/i.test(n)&&(!(0!==n.length&&n!==t&&!/^>(\s|&nbsp;)*<\/[^>]+>$/gi.test(n))||!/>\s*[^\s<]/i.test(n)&&!e.test(n))}}}]).directive("taButton",[function(){return{link:function(e,t,n){t.attr("unselectable","on"),t.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1})}}}]).directive("taBind",["taSanitize","$timeout","$document","taFixChrome","taBrowserTag","taSelection","taSelectableElements","taApplyCustomRenderers","taOptions","_taBlankTest","$parse","taDOM","textAngularManager",function(t,n,a,l,s,c,p,f,m,g,v,b,y){return{priority:2,require:["ngModel","?ngModelOptions"],link:function(s,x,E,S){function w(e){var t;return F.forEach(function(n){if(n.keyCode===e.keyCode){var a=(e.metaKey?K:0)+(e.ctrlKey?_:0)+(e.shiftKey?O:0)+(e.altKey?z:0);if(n.forbiddenModifiers&a)return;n.mustHaveModifiers.every(function(e){return a&e})&&(t=n.specialKey)}}),t}var T,C,$,N,L=S[0],k=S[1]||{},A=void 0!==x.attr("contenteditable")&&x.attr("contenteditable"),M=A||"textarea"===x[0].tagName.toLowerCase()||"input"===x[0].tagName.toLowerCase(),D=!1,H=!1,B=!1,R=E.taUnsafeSanitizer||m.disableSanitizer,W=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,q=/^(8|13|32|46|59|61|107|109|173|186|187|188|189|190|191|192|219|220|221|222)$/i,_=1,K=2,z=4,O=8,F=[{specialKey:"UndoKey",forbiddenModifiers:z+O,mustHaveModifiers:[K+_],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:z,mustHaveModifiers:[K+_,O],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:z+O,mustHaveModifiers:[K+_],keyCode:89},{specialKey:"TabKey",forbiddenModifiers:K+O+z+_,mustHaveModifiers:[],keyCode:9},{specialKey:"ShiftTabKey",forbiddenModifiers:K+z+_,mustHaveModifiers:[O],keyCode:9}];void 0===E.taDefaultWrap&&(E.taDefaultWrap="p"),""===E.taDefaultWrap?($="",N=void 0===o.ie?"<div><br></div>":o.ie>=11?"<p><br></p>":o.ie<=8?"<P>&nbsp;</P>":"<p>&nbsp;</p>"):($=void 0===o.ie||o.ie>=11?"<"+E.taDefaultWrap+"><br></"+E.taDefaultWrap+">":o.ie<=8?"<"+E.taDefaultWrap.toUpperCase()+"></"+E.taDefaultWrap.toUpperCase()+">":"<"+E.taDefaultWrap+"></"+E.taDefaultWrap+">",N=void 0===o.ie||o.ie>=11?"<"+E.taDefaultWrap+"><br></"+E.taDefaultWrap+">":o.ie<=8?"<"+E.taDefaultWrap.toUpperCase()+">&nbsp;</"+E.taDefaultWrap.toUpperCase()+">":"<"+E.taDefaultWrap+">&nbsp;</"+E.taDefaultWrap+">"),k.$options||(k.$options={});var I=g(N),P=function(e){if(I(e))return e;var t=angular.element("<div>"+e+"</div>");if(0===t.children().length)e="<"+E.taDefaultWrap+">"+e+"</"+E.taDefaultWrap+">";else{var n,a=t[0].childNodes,o=!1;for(n=0;n<a.length&&!(o=a[n].nodeName.toLowerCase().match(r));n++);if(o)for(e="",n=0;n<a.length;n++){var l=a[n],i=l.nodeName.toLowerCase();if("#comment"===i)e+="<!--"+l.nodeValue+"-->";else if("#text"===i){var s=l.textContent;e+=s.trim()?"<"+E.taDefaultWrap+">"+s+"</"+E.taDefaultWrap+">":s}else if(i.match(r))e+=l.outerHTML;else{var d=l.outerHTML||l.nodeValue;e+=""!==d.trim()?"<"+E.taDefaultWrap+">"+d+"</"+E.taDefaultWrap+">":d}}else e="<"+E.taDefaultWrap+">"+e+"</"+E.taDefaultWrap+">"}return e};E.taPaste&&(C=v(E.taPaste)),x.addClass("ta-bind");var V;s["$undoManager"+(E.id||"")]=L.$undoManager={_stack:[],_index:0,_max:1e3,push:function(e){return"undefined"==typeof e||null===e||"undefined"!=typeof this.current()&&null!==this.current()&&e===this.current()?e:(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(e),V&&n.cancel(V),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1,e)},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(e){return 0>e||e>this._stack.length-1?void 0:(this._index=e,this.current())},current:function(){return this._stack[this._index]}};var U,j=s["$undoTaBind"+(E.id||"")]=function(){if(!D&&A){var e=L.$undoManager.undo();"undefined"!=typeof e&&null!==e&&(de(e),J(e,!1),U&&n.cancel(U),U=n(function(){x[0].focus(),c.setSelectionToElementEnd(x[0])},1))}},G=s["$redoTaBind"+(E.id||"")]=function(){if(!D&&A){var e=L.$undoManager.redo();"undefined"!=typeof e&&null!==e&&(de(e),J(e,!1),U&&n.cancel(U),U=n(function(){x[0].focus(),c.setSelectionToElementEnd(x[0])},1))}},Y=function(){if(A)return x[0].innerHTML;if(M)return x.val();throw"textAngular Error: attempting to update non-editable taBind"},J=function(e,t,n){B=n||!1,("undefined"==typeof t||null===t)&&(t=A),("undefined"==typeof e||null===e)&&(e=Y()),I(e)?(""!==L.$viewValue&&L.$setViewValue(""),t&&""!==L.$undoManager.current()&&L.$undoManager.push("")):(se(),L.$viewValue!==e&&(L.$setViewValue(e),t&&L.$undoManager.push(e))),L.$render()};s["updateTaBind"+(E.id||"")]=function(){D||J(void 0,void 0,!0)};var Q=function(e){return L.$oldViewValue=t(l(e),L.$oldViewValue,R)};if(x.attr("required")&&(L.$validators.required=function(e,t){return!I(e||t)}),L.$parsers.push(Q),L.$parsers.unshift(P),L.$formatters.push(Q),L.$formatters.unshift(P),L.$formatters.unshift(function(e){return L.$undoManager.push(e||"")}),M)if(s.events={},A){var X=!1,Z=function(e){var a=e.match(/content=["']*OneNote.File/i);if(e&&e.trim().length){if(e.match(/class=["']*Mso(Normal|List)/i)||e.match(/content=["']*Word.Document/i)||e.match(/content=["']*OneNote.File/i)){var o=e.match(/<!--StartFragment-->([\s\S]*?)<!--EndFragment-->/i);o=o?o[1]:e,o=o.replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/class=(["']|)MsoNormal(["']|)/gi,"");var r=angular.element("<div>"+o+"</div>"),l=angular.element("<div></div>"),i={element:null,lastIndent:[],lastLi:null,isUl:!1};i.lastIndent.peek=function(){var e=this.length;return e>0?this[e-1]:void 0};for(var d=function(e){i.isUl=e,i.element=angular.element(e?"<ul>":"<ol>"),i.lastIndent=[],i.lastIndent.peek=function(){var e=this.length;return e>0?this[e-1]:void 0},i.lastLevelMatch=null},u=0;u<=r[0].childNodes.length;u++)if(r[0].childNodes[u]&&"#text"!==r[0].childNodes[u].nodeName){var p=r[0].childNodes[u].tagName.toLowerCase();if("p"===p||"h1"===p||"h2"===p||"h3"===p||"h4"===p||"h5"===p||"h6"===p){var f=angular.element(r[0].childNodes[u]),m=(f.attr("class")||"").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i);if(m){if(f[0].childNodes.length<2||f[0].childNodes[1].childNodes.length<1)continue;var g="bullet"===m[1].toLowerCase()||"number"!==m[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(f[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(f[0].childNodes[1].childNodes[0].innerHTML)),h=(f.attr("style")||"").match(/margin-left:([\-\.0-9]*)/i),v=parseFloat(h?h[1]:0),y=(f.attr("style")||"").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(y&&y[2]&&(v=parseInt(y[2])),y&&(!i.lastLevelMatch||y[1]!==i.lastLevelMatch[1])||!m[3]||"first"===m[3].toLowerCase()||null===i.lastIndent.peek()||i.isUl!==g&&i.lastIndent.peek()===v)d(g),l.append(i.element);else if(null!=i.lastIndent.peek()&&i.lastIndent.peek()<v)i.element=angular.element(g?"<ul>":"<ol>"),i.lastLi.append(i.element);else if(null!=i.lastIndent.peek()&&i.lastIndent.peek()>v){for(;null!=i.lastIndent.peek()&&i.lastIndent.peek()>v;)if("li"!==i.element.parent()[0].tagName.toLowerCase()){if(!/[uo]l/i.test(i.element.parent()[0].tagName.toLowerCase()))break;i.element=i.element.parent(),i.lastIndent.pop()}else i.element=i.element.parent();i.isUl="ul"===i.element[0].tagName.toLowerCase(),g!==i.isUl&&(d(g),l.append(i.element))}i.lastLevelMatch=y,v!==i.lastIndent.peek()&&i.lastIndent.push(v),i.lastLi=angular.element("<li>"),i.element.append(i.lastLi),i.lastLi.html(f.html().replace(/<!(--|)\[if !supportLists\](--|)>[\s\S]*?<!(--|)\[endif\](--|)>/gi,"")),f.remove()}else d(!1),l.append(f)}}var E=function(e){e=angular.element(e);for(var t=e[0].childNodes.length-1;t>=0;t--)e.after(e[0].childNodes[t]);e.remove()};angular.forEach(l.find("span"),function(e){e.removeAttribute("lang"),e.attributes.length<=0&&E(e)}),angular.forEach(l.find("font"),E),e=l.html(),a&&(e=l.html()||r.html())}else{if(e=e.replace(/<(|\/)meta[^>]*?>/gi,""),e.match(/<[^>]*?(ta-bind)[^>]*?>/)){if(e.match(/<[^>]*?(text-angular)[^>]*?>/)){var S=angular.element("<div>"+e+"</div>");S.find("textarea").remove();for(var w=b.getByAttribute(S,"ta-bind"),T=0;T<w.length;T++){for(var $=w[T][0].parentNode.parentNode,N=0;N<w[T][0].childNodes.length;N++)$.parentNode.insertBefore(w[T][0].childNodes[N],$);$.parentNode.removeChild($)}e=S.html().replace('<br class="Apple-interchange-newline">',"")}}else e.match(/^<span/)&&(e.match(/<span class=(\"Apple-converted-space\"|\'Apple-converted-space\')>.<\/span>/gi)||(e=e.replace(/<(|\/)span[^>]*?>/gi,"")));e=e.replace(/<br class="Apple-interchange-newline"[^>]*?>/gi,"").replace(/<span class="Apple-converted-space">( |&nbsp;)<\/span>/gi,"&nbsp;")}/<li(\s.*)?>/i.test(e)&&/(<ul(\s.*)?>|<ol(\s.*)?>).*<li(\s.*)?>/i.test(e)===!1&&(e=e.replace(/<li(\s.*)?>.*<\/li(\s.*)?>/i,"<ul>$&</ul>")),e=e.replace(/^[ |\u00A0]+/gm,function(e){for(var t="",n=0;n<e.length;n++)t+="&nbsp;";return t}).replace(/\n|\r\n|\r/g,"<br />").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),C&&(e=C(s,{$html:e})||e),e=t(e,"",R),c.insertHtml(e,x[0]),n(function(){L.$setViewValue(Y()),X=!1,x.removeClass("processing-paste")},0)}else X=!1,x.removeClass("processing-paste")};x.on("paste",s.events.paste=function(t,o){if(o&&angular.extend(t,o),D||X)return t.stopPropagation(),t.preventDefault(),!1;X=!0,x.addClass("processing-paste");var r,l=(t.originalEvent||t).clipboardData;if(l&&l.getData&&l.types.length>0){for(var i="",s=0;s<l.types.length;s++)i+=" "+l.types[s];return/text\/html/i.test(i)?r=l.getData("text/html"):/text\/plain/i.test(i)&&(r=l.getData("text/plain")),Z(r),t.stopPropagation(),t.preventDefault(),!1}var d=e.saveSelection(),u=angular.element('<div class="ta-hidden-input" contenteditable="true"></div>');a.find("body").append(u),u[0].focus(),n(function(){e.restoreSelection(d),Z(u[0].innerHTML),x[0].focus(),u.remove()},0)}),x.on("cut",s.events.cut=function(e){D?e.preventDefault():n(function(){L.$setViewValue(Y())},0)}),x.on("keydown",s.events.keydown=function(e,t){t&&angular.extend(e,t),e.specialKey=w(e);var n;if(m.keyMappings.forEach(function(t){e.specialKey===t.commandKeyCode&&(e.specialKey=void 0),t.testForKey(e)&&(n=t.commandKeyCode),("UndoKey"===t.commandKeyCode||"RedoKey"===t.commandKeyCode)&&(t.enablePropagation||e.preventDefault())}),"undefined"!=typeof n&&(e.specialKey=n),"undefined"==typeof e.specialKey||"UndoKey"===e.specialKey&&"RedoKey"===e.specialKey||(e.preventDefault(),y.sendKeyCommand(s,e)),!D&&("UndoKey"===e.specialKey&&(j(),e.preventDefault()),"RedoKey"===e.specialKey&&(G(),e.preventDefault()),13===e.keyCode&&!e.shiftKey)){var a,o=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},r=c.getSelectionElement();if(!r.tagName.match(i))return;var l=angular.element($),d=["blockquote","ul","ol"];if(o(d,r.parentNode.tagName.toLowerCase())){if(/^<br(|\/)>$/i.test(r.innerHTML.trim())&&!r.nextSibling){a=angular.element(r);var u=a.parent();u.after(l),a.remove(),0===u.children().length&&u.remove(),c.setSelectionToElementStart(l[0]),e.preventDefault()}/^<[^>]+><br(|\/)><\/[^>]+>$/i.test(r.innerHTML.trim())&&(a=angular.element(r),a.after(l),a.remove(),c.setSelectionToElementStart(l[0]),e.preventDefault())}}});var ee;if(x.on("keyup",s.events.keyup=function(e,t){if(t&&angular.extend(e,t),9===e.keyCode){var a=c.getSelection();return void(a.start.element===x[0]&&x.children().length&&c.setSelectionToElementStart(x.children()[0]))}if(V&&n.cancel(V),!D&&!W.test(e.keyCode)){if(""!==$&&13===e.keyCode&&!e.shiftKey){for(var o=c.getSelectionElement();!o.tagName.match(i)&&o!==x[0];)o=o.parentNode;if(o.tagName.toLowerCase()!==E.taDefaultWrap&&"li"!==o.tagName.toLowerCase()&&(""===o.innerHTML.trim()||"<br>"===o.innerHTML.trim())){var r=angular.element($);angular.element(o).replaceWith(r),c.setSelectionToElementStart(r[0])}}var l=Y();"<br>"===l&&(l=""),""!==$&&""===l.trim()?(de($),c.setSelectionToElementStart(x.children()[0])):"<"!==l.substring(0,1)&&""!==E.taDefaultWrap;var s=T!==e.keyCode&&q.test(e.keyCode);ee&&n.cancel(ee),ee=n(function(){J(l,s,!0)},k.$options.debounce||400),s||(V=n(function(){L.$undoManager.push(l)},250)),T=e.keyCode}}),x.on("blur",s.events.blur=function(){H=!1,D?(B=!0,L.$render()):J(void 0,void 0,!0)}),E.placeholder&&(o.ie>8||void 0===o.ie)){var te;if(!E.id)throw"textAngular Error: An unique ID is required for placeholders to work";te=d("#"+E.id+".placeholder-text:before",'content: "'+E.placeholder+'"'),s.$on("$destroy",function(){u(te)})}x.on("focus",s.events.focus=function(){H=!0,x.removeClass("placeholder-text"),se()}),x.on("mouseup",s.events.mouseup=function(){var e=c.getSelection();e.start.element===x[0]&&x.children().length&&c.setSelectionToElementStart(x.children()[0])}),x.on("mousedown",s.events.mousedown=function(e,t){t&&angular.extend(e,t),e.stopPropagation()})}else{x.on("change blur",s.events.change=s.events.blur=function(){D||L.$setViewValue(Y())}),x.on("keydown",s.events.keydown=function(e,t){if(t&&angular.extend(e,t),9===e.keyCode){var n=this.selectionStart,a=this.selectionEnd,o=x.val();if(e.shiftKey){var r=o.lastIndexOf("\n",n),l=o.lastIndexOf("\t",n);-1!==l&&l>=r&&(x.val(o.substring(0,l)+o.substring(l+1)),this.selectionStart=this.selectionEnd=n-1)}else x.val(o.substring(0,n)+"\t"+o.substring(a)),this.selectionStart=this.selectionEnd=n+1;e.preventDefault()}});var ne=function(e,t){for(var n="",a=0;t>a;a++)n+=e;return n},ae=function(e,t,n){for(var a=0;a<e.length;a++)t.call(n,a,e[a])},oe=function(e,t){var n="",a=e.childNodes;return t++,n+=ne("\t",t-1)+e.outerHTML.substring(0,4),ae(a,function(e,a){var o=a.nodeName.toLowerCase();return"#comment"===o?void(n+="<!--"+a.nodeValue+"-->"):"#text"===o?void(n+=a.textContent):void(a.outerHTML&&(n+="ul"===o||"ol"===o?"\n"+oe(a,t):"\n"+ne("\t",t)+a.outerHTML))}),n+="\n"+ne("\t",t-1)+e.outerHTML.substring(e.outerHTML.lastIndexOf("<"))};L.$formatters.unshift(function(e){var t=angular.element("<div>"+e+"</div>")[0].childNodes;return t.length>0&&(e="",ae(t,function(t,n){var a=n.nodeName.toLowerCase();return"#comment"===a?void(e+="<!--"+n.nodeValue+"-->"):"#text"===a?void(e+=n.textContent):void(n.outerHTML&&(e.length>0&&(e+="\n"),e+="ul"===a||"ol"===a?""+oe(n,0):""+n.outerHTML))})),e})}var re,le=function(e){return s.$emit("ta-element-select",this),e.preventDefault(),!1},ie=function(e,t){if(t&&angular.extend(e,t),!h&&!D){h=!0;var a;a=e.originalEvent?e.originalEvent.dataTransfer:e.dataTransfer,s.$emit("ta-drop-event",this,e,a),n(function(){h=!1,J(void 0,void 0,!0)},100)}},se=s["reApplyOnSelectorHandlers"+(E.id||"")]=function(){D||angular.forEach(p,function(e){x.find(e).off("click",le).on("click",le)})},de=function(e){x[0].innerHTML=e},ue=!1;L.$render=function(){if(!ue){ue=!0;var e=L.$viewValue||"";B||(A&&H&&(x.removeClass("placeholder-text"),re&&n.cancel(re),re=n(function(){H||(x[0].focus(),c.setSelectionToElementEnd(x.children()[x.children().length-1])),re=void 0},1)),A?(de(E.placeholder?""===e?$:e:""===e?$:e),D?x.off("drop",ie):(se(),x.on("drop",ie))):"textarea"!==x[0].tagName.toLowerCase()&&"input"!==x[0].tagName.toLowerCase()?de(f(e)):x.val(e)),A&&E.placeholder&&(""===e?H?x.removeClass("placeholder-text"):x.addClass("placeholder-text"):x.removeClass("placeholder-text")),ue=B=!1}},E.taReadonly&&(D=s.$eval(E.taReadonly),D?(x.addClass("ta-readonly"),("textarea"===x[0].tagName.toLowerCase()||"input"===x[0].tagName.toLowerCase())&&x.attr("disabled","disabled"),void 0!==x.attr("contenteditable")&&x.attr("contenteditable")&&x.removeAttr("contenteditable")):(x.removeClass("ta-readonly"),"textarea"===x[0].tagName.toLowerCase()||"input"===x[0].tagName.toLowerCase()?x.removeAttr("disabled"):A&&x.attr("contenteditable","true")),s.$watch(E.taReadonly,function(e,t){t!==e&&(e?(x.addClass("ta-readonly"),("textarea"===x[0].tagName.toLowerCase()||"input"===x[0].tagName.toLowerCase())&&x.attr("disabled","disabled"),void 0!==x.attr("contenteditable")&&x.attr("contenteditable")&&x.removeAttr("contenteditable"),angular.forEach(p,function(e){x.find(e).on("click",le)}),x.off("drop",ie)):(x.removeClass("ta-readonly"),"textarea"===x[0].tagName.toLowerCase()||"input"===x[0].tagName.toLowerCase()?x.removeAttr("disabled"):A&&x.attr("contenteditable","true"),angular.forEach(p,function(e){x.find(e).off("click",le)}),x.on("drop",ie)),D=e)})),A&&!D&&(angular.forEach(p,function(e){x.find(e).on("click",le)}),x.on("drop",ie))}}}]);var h=!1,v=angular.module("textAngular",["ngSanitize","textAngularSetup","textAngular.factories","textAngular.DOM","textAngular.validators","textAngular.taBind"]);return v.config([function(){angular.forEach(a,function(e,t){delete a[t]})}]),v.directive("textAngular",["$compile","$timeout","taOptions","taSelection","taExecCommand","textAngularManager","$document","$animate","$log","$q","$parse",function(t,n,a,o,r,l,i,s,d,u,c){return{require:"?ngModel",scope:{},restrict:"EA",priority:2,link:function(p,f,m,g){var h,v,b,y,x,E,S,w,T,C,$,N=m.serial?m.serial:Math.floor(1e16*Math.random());p._name=m.name?m.name:"textAngularEditor"+N;var L=function(e,t,a){n(function(){var n=function(){e.off(t,n),a.apply(this,arguments)};e.on(t,n)},100)};if(T=r(m.taDefaultWrap),angular.extend(p,angular.copy(a),{wrapSelection:function(e,t,n){"undo"===e.toLowerCase()?p["$undoTaBindtaTextElement"+N]():"redo"===e.toLowerCase()?p["$redoTaBindtaTextElement"+N]():(T(e,!1,t,p.defaultTagAttributes),n&&p["reApplyOnSelectorHandlerstaTextElement"+N](),p.displayElements.text[0].focus())},showHtml:p.$eval(m.taShowHtml)||!1}),m.taFocussedClass&&(p.classes.focussed=m.taFocussedClass),m.taTextEditorClass&&(p.classes.textEditor=m.taTextEditorClass),m.taHtmlEditorClass&&(p.classes.htmlEditor=m.taHtmlEditorClass),m.taDefaultTagAttributes)try{angular.extend(p.defaultTagAttributes,angular.fromJson(m.taDefaultTagAttributes))}catch(e){d.error(e)}m.taTextEditorSetup&&(p.setup.textEditorSetup=p.$parent.$eval(m.taTextEditorSetup)),m.taHtmlEditorSetup&&(p.setup.htmlEditorSetup=p.$parent.$eval(m.taHtmlEditorSetup)),m.taFileDrop?p.fileDropHandler=p.$parent.$eval(m.taFileDrop):p.fileDropHandler=p.defaultFileDropHandler,S=f[0].innerHTML,f[0].innerHTML="",p.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea></textarea>"),text:angular.element("<div></div>"),scrollWindow:angular.element("<div class='ta-scroll-window'></div>"),popover:angular.element('<div class="popover fade bottom" style="max-width: none; width: 305px;"></div>'),popoverArrow:angular.element('<div class="arrow"></div>'),popoverContainer:angular.element('<div class="popover-content"></div>'),resize:{overlay:angular.element('<div class="ta-resizer-handle-overlay"></div>'),background:angular.element('<div class="ta-resizer-handle-background"></div>'),anchors:[angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"></div>')],info:angular.element('<div class="ta-resizer-handle-info"></div>')}},p.displayElements.popover.append(p.displayElements.popoverArrow),p.displayElements.popover.append(p.displayElements.popoverContainer),p.displayElements.scrollWindow.append(p.displayElements.popover),p.displayElements.popover.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1}),p.showPopover=function(e){p.displayElements.popover.css("display","block"),p.reflowPopover(e),s.addClass(p.displayElements.popover,"in"),L(i.find("body"),"click keyup",function(){p.hidePopover()})},p.reflowPopover=function(e){p.displayElements.text[0].offsetHeight-51>e[0].offsetTop?(p.displayElements.popover.css("top",e[0].offsetTop+e[0].offsetHeight+p.displayElements.scrollWindow[0].scrollTop+"px"),p.displayElements.popover.removeClass("top").addClass("bottom")):(p.displayElements.popover.css("top",e[0].offsetTop-54+p.displayElements.scrollWindow[0].scrollTop+"px"),p.displayElements.popover.removeClass("bottom").addClass("top"));var t=p.displayElements.text[0].offsetWidth-p.displayElements.popover[0].offsetWidth,n=e[0].offsetLeft+e[0].offsetWidth/2-p.displayElements.popover[0].offsetWidth/2;p.displayElements.popover.css("left",Math.max(0,Math.min(t,n))+"px"),p.displayElements.popoverArrow.css("margin-left",Math.min(n,Math.max(0,n-t))-11+"px")},p.hidePopover=function(){p.displayElements.popover.css("display",""),p.displayElements.popoverContainer.attr("style",""),p.displayElements.popoverContainer.attr("class","popover-content"),p.displayElements.popover.removeClass("in")},p.displayElements.resize.overlay.append(p.displayElements.resize.background),angular.forEach(p.displayElements.resize.anchors,function(e){p.displayElements.resize.overlay.append(e)}),p.displayElements.resize.overlay.append(p.displayElements.resize.info),p.displayElements.scrollWindow.append(p.displayElements.resize.overlay),p.reflowResizeOverlay=function(e){e=angular.element(e)[0],p.displayElements.resize.overlay.css({display:"block",left:e.offsetLeft-5+"px",top:e.offsetTop-5+"px",width:e.offsetWidth+10+"px",height:e.offsetHeight+10+"px"}),p.displayElements.resize.info.text(e.offsetWidth+" x "+e.offsetHeight)},p.showResizeOverlay=function(e){var t=i.find("body");C=function(n){var a={width:parseInt(e.attr("width")),height:parseInt(e.attr("height")),x:n.clientX,y:n.clientY};(void 0===a.width||isNaN(a.width))&&(a.width=e[0].offsetWidth),(void 0===a.height||isNaN(a.height))&&(a.height=e[0].offsetHeight),p.hidePopover();var o=a.height/a.width,r=function(t){function n(e){return Math.round(Math.max(0,e))}var r={x:Math.max(0,a.width+(t.clientX-a.x)),y:Math.max(0,a.height+(t.clientY-a.y))},l=void 0!==m.taResizeForceAspectRatio,i=m.taResizeMaintainAspectRatio,s=l||i&&!t.shiftKey;if(s){var d=r.y/r.x;r.x=o>d?r.x:r.y/o,r.y=o>d?r.x*o:r.y}var u=angular.element(e);u.css("height",n(r.y)+"px"),u.css("width",n(r.x)+"px"),p.reflowResizeOverlay(e)};t.on("mousemove",r),L(t,"mouseup",function(e){e.preventDefault(),e.stopPropagation(),t.off("mousemove",r),p.$apply(function(){p.hidePopover(),p.updateTaBindtaTextElement()},100)}),n.stopPropagation(),n.preventDefault()},p.displayElements.resize.anchors[3].off("mousedown"),p.displayElements.resize.anchors[3].on("mousedown",C),p.reflowResizeOverlay(e),L(t,"click",function(){p.hideResizeOverlay()})},p.hideResizeOverlay=function(){p.displayElements.resize.anchors[3].off("mousedown",C),p.displayElements.resize.overlay.css("display","")},p.setup.htmlEditorSetup(p.displayElements.html),p.setup.textEditorSetup(p.displayElements.text),p.displayElements.html.attr({id:"taHtmlElement"+N,"ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html","ng-model-options":f.attr("ng-model-options")}),p.displayElements.text.attr({id:"taTextElement"+N,contentEditable:"true","ta-bind":"ta-bind","ng-model":"html","ng-model-options":f.attr("ng-model-options")}),p.displayElements.scrollWindow.attr({"ng-hide":"showHtml"}),m.taDefaultWrap&&p.displayElements.text.attr("ta-default-wrap",m.taDefaultWrap),m.taUnsafeSanitizer&&(p.displayElements.text.attr("ta-unsafe-sanitizer",m.taUnsafeSanitizer),p.displayElements.html.attr("ta-unsafe-sanitizer",m.taUnsafeSanitizer)),p.displayElements.scrollWindow.append(p.displayElements.text),f.append(p.displayElements.scrollWindow),f.append(p.displayElements.html),p.displayElements.forminput.attr("name",p._name),f.append(p.displayElements.forminput),m.tabindex&&(f.removeAttr("tabindex"),p.displayElements.text.attr("tabindex",m.tabindex),p.displayElements.html.attr("tabindex",m.tabindex)),m.placeholder&&(p.displayElements.text.attr("placeholder",m.placeholder),p.displayElements.html.attr("placeholder",m.placeholder)),m.taDisabled&&(p.displayElements.text.attr("ta-readonly","disabled"),p.displayElements.html.attr("ta-readonly","disabled"),p.disabled=p.$parent.$eval(m.taDisabled),p.$parent.$watch(m.taDisabled,function(e){p.disabled=e,p.disabled?f.addClass(p.classes.disabled):f.removeClass(p.classes.disabled)})),m.taPaste&&(p._pasteHandler=function(e){return c(m.taPaste)(p.$parent,{$html:e})},p.displayElements.text.attr("ta-paste","_pasteHandler($html)")),t(p.displayElements.scrollWindow)(p),t(p.displayElements.html)(p),p.updateTaBindtaTextElement=p["updateTaBindtaTextElement"+N],p.updateTaBindtaHtmlElement=p["updateTaBindtaHtmlElement"+N],f.addClass("ta-root"),p.displayElements.scrollWindow.addClass("ta-text ta-editor "+p.classes.textEditor),p.displayElements.html.addClass("ta-html ta-editor "+p.classes.htmlEditor),p._actionRunning=!1;var k=!1;if(p.startAction=function(){return p._actionRunning=!0,k=e.saveSelection(),function(){k&&e.restoreSelection(k)}},p.endAction=function(){p._actionRunning=!1,k&&(p.showHtml?p.displayElements.html[0].focus():p.displayElements.text[0].focus(),e.removeMarkers(k)),k=!1,p.updateSelectedStyles(),p.showHtml||p["updateTaBindtaTextElement"+N]()},x=function(){p.focussed=!0,f.addClass(p.classes.focussed),w.focus(),f.triggerHandler("focus")},p.displayElements.html.on("focus",x),p.displayElements.text.on("focus",x),E=function(e){return p._actionRunning||i[0].activeElement===p.displayElements.html[0]||i[0].activeElement===p.displayElements.text[0]||(f.removeClass(p.classes.focussed),w.unfocus(),n(function(){p._bUpdateSelectedStyles=!1,f.triggerHandler("blur"),p.focussed=!1},0)),e.preventDefault(),!1},p.displayElements.html.on("blur",E),p.displayElements.text.on("blur",E),p.displayElements.text.on("paste",function(e){f.triggerHandler("paste",e)}),p.queryFormatBlockState=function(e){return!p.showHtml&&e.toLowerCase()===i[0].queryCommandValue("formatBlock").toLowerCase()},p.queryCommandState=function(e){return p.showHtml?"":i[0].queryCommandState(e)},p.switchView=function(){p.showHtml=!p.showHtml,s.enabled(!1,p.displayElements.html),s.enabled(!1,p.displayElements.text),p.showHtml?n(function(){return s.enabled(!0,p.displayElements.html),s.enabled(!0,p.displayElements.text),p.displayElements.html[0].focus()},100):n(function(){return s.enabled(!0,p.displayElements.html),s.enabled(!0,p.displayElements.text),p.displayElements.text[0].focus()},100)},m.ngModel){var A=!0;g.$render=function(){if(A){A=!1;var e=p.$parent.$eval(m.ngModel);void 0!==e&&null!==e||!S||""===S||g.$setViewValue(S)}p.displayElements.forminput.val(g.$viewValue),p.html=g.$viewValue||""},f.attr("required")&&(g.$validators.required=function(e,t){var n=e||t;return!(!n||""===n.trim())})}else p.displayElements.forminput.val(S),p.html=S;if(p.$watch("html",function(e,t){e!==t&&(m.ngModel&&g.$viewValue!==e&&g.$setViewValue(e),p.displayElements.forminput.val(e))}),m.taTargetToolbars)w=l.registerEditor(p._name,p,m.taTargetToolbars.split(","));else{var M=angular.element('<div text-angular-toolbar name="textAngularToolbar'+N+'">');m.taToolbar&&M.attr("ta-toolbar",m.taToolbar),m.taToolbarClass&&M.attr("ta-toolbar-class",m.taToolbarClass),m.taToolbarGroupClass&&M.attr("ta-toolbar-group-class",m.taToolbarGroupClass),m.taToolbarButtonClass&&M.attr("ta-toolbar-button-class",m.taToolbarButtonClass),m.taToolbarActiveButtonClass&&M.attr("ta-toolbar-active-button-class",m.taToolbarActiveButtonClass),m.taFocussedClass&&M.attr("ta-focussed-class",m.taFocussedClass),f.prepend(M),t(M)(p.$parent),w=l.registerEditor(p._name,p,["textAngularToolbar"+N])}p.$on("$destroy",function(){l.unregisterEditor(p._name),angular.element(window).off("blur")}),p.$on("ta-element-select",function(e,t){w.triggerElementSelect(e,t)&&p["reApplyOnSelectorHandlerstaTextElement"+N]()}),p.$on("ta-drop-event",function(e,t,a,o){p.displayElements.text[0].focus(),o&&o.files&&o.files.length>0?(angular.forEach(o.files,function(e){try{u.when(p.fileDropHandler(e,p.wrapSelection)||p.fileDropHandler!==p.defaultFileDropHandler&&u.when(p.defaultFileDropHandler(e,p.wrapSelection))).then(function(){p["updateTaBindtaTextElement"+N]()})}catch(e){d.error(e)}}),a.preventDefault(),a.stopPropagation()):n(function(){p["updateTaBindtaTextElement"+N]()},0)}),p._bUpdateSelectedStyles=!1,angular.element(window).on("blur",function(){p._bUpdateSelectedStyles=!1,p.focussed=!1}),p.updateSelectedStyles=function(){var e;$&&n.cancel($),void 0!==(e=o.getSelectionElement())&&e.parentNode!==p.displayElements.text[0]?w.updateSelectedStyles(angular.element(e)):w.updateSelectedStyles(),p._bUpdateSelectedStyles&&($=n(p.updateSelectedStyles,200))},h=function(){return p.focussed?void(p._bUpdateSelectedStyles||(p._bUpdateSelectedStyles=!0,p.$apply(function(){p.updateSelectedStyles()}))):void(p._bUpdateSelectedStyles=!1)},p.displayElements.html.on("keydown",h),p.displayElements.text.on("keydown",h),v=function(){p._bUpdateSelectedStyles=!1},p.displayElements.html.on("keyup",v),p.displayElements.text.on("keyup",v),b=function(e,t){t&&angular.extend(e,t),p.$apply(function(){return w.sendKeyCommand(e)?(p._bUpdateSelectedStyles||p.updateSelectedStyles(),e.preventDefault(),!1):void 0})},p.displayElements.html.on("keypress",b),p.displayElements.text.on("keypress",b),y=function(){p._bUpdateSelectedStyles=!1,p.$apply(function(){p.updateSelectedStyles()})},p.displayElements.html.on("mouseup",y),p.displayElements.text.on("mouseup",y)}}}]),v.service("textAngularManager",["taToolExecuteAction","taTools","taRegisterTool",function(e,t,n){var a={},o={};return{registerEditor:function(n,r,l){if(!n||""===n)throw"textAngular Error: An editor requires a name";if(!r)throw"textAngular Error: An editor requires a scope";if(o[n])throw'textAngular Error: An Editor with name "'+n+'" already exists';var i=[];return angular.forEach(l,function(e){a[e]&&i.push(a[e])}),o[n]={scope:r,toolbars:l,_registerToolbar:function(e){this.toolbars.indexOf(e.name)>=0&&i.push(e)},editorFunctions:{disable:function(){angular.forEach(i,function(e){e.disabled=!0})},enable:function(){angular.forEach(i,function(e){e.disabled=!1})},focus:function(){angular.forEach(i,function(e){e._parent=r,e.disabled=!1,e.focussed=!0,r.focussed=!0})},unfocus:function(){angular.forEach(i,function(e){e.disabled=!0,e.focussed=!1}),r.focussed=!1},updateSelectedStyles:function(e){angular.forEach(i,function(t){angular.forEach(t.tools,function(n){n.activeState&&(t._parent=r,n.active=n.activeState(e))})})},sendKeyCommand:function(n){var a=!1;return(n.ctrlKey||n.metaKey||n.specialKey)&&angular.forEach(t,function(t,o){if(t.commandKeyCode&&(t.commandKeyCode===n.which||t.commandKeyCode===n.specialKey))for(var l=0;l<i.length;l++)if(void 0!==i[l].tools[o]){e.call(i[l].tools[o],r),a=!0;break}}),a},triggerElementSelect:function(e,n){var a=function(e,t){for(var n=!0,a=0;a<t.length;a++)n=n&&e.attr(t[a]);return n},o=[],l={},s=!1;n=angular.element(n);var d=!1;if(angular.forEach(t,function(e,t){e.onElementSelect&&e.onElementSelect.element&&e.onElementSelect.element.toLowerCase()===n[0].tagName.toLowerCase()&&(!e.onElementSelect.filter||e.onElementSelect.filter(n))&&(d=d||angular.isArray(e.onElementSelect.onlyWithAttrs)&&a(n,e.onElementSelect.onlyWithAttrs),(!e.onElementSelect.onlyWithAttrs||a(n,e.onElementSelect.onlyWithAttrs))&&(l[t]=e))}),d?(angular.forEach(l,function(e,t){e.onElementSelect.onlyWithAttrs&&a(n,e.onElementSelect.onlyWithAttrs)&&o.push({
name:t,tool:e})}),o.sort(function(e,t){return t.tool.onElementSelect.onlyWithAttrs.length-e.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(l,function(e,t){o.push({name:t,tool:e})}),o.length>0)for(var u=0;u<o.length;u++){for(var c=o[u].tool,p=o[u].name,f=0;f<i.length;f++)if(void 0!==i[f].tools[p]){c.onElementSelect.action.call(i[f].tools[p],e,n,r),s=!0;break}if(s)break}return s}}},o[n].editorFunctions},retrieveEditor:function(e){return o[e]},unregisterEditor:function(e){delete o[e]},registerToolbar:function(e){if(!e)throw"textAngular Error: A toolbar requires a scope";if(!e.name||""===e.name)throw"textAngular Error: A toolbar requires a name";if(a[e.name])throw'textAngular Error: A toolbar with name "'+e.name+'" already exists';a[e.name]=e,angular.forEach(o,function(t){t._registerToolbar(e)})},retrieveToolbar:function(e){return a[e]},retrieveToolbarsViaEditor:function(e){var t=[],n=this;return angular.forEach(this.retrieveEditor(e).toolbars,function(e){t.push(n.retrieveToolbar(e))}),t},unregisterToolbar:function(e){delete a[e]},updateToolsDisplay:function(e){var t=this;angular.forEach(e,function(e,n){t.updateToolDisplay(n,e)})},resetToolsDisplay:function(){var e=this;angular.forEach(t,function(t,n){e.resetToolDisplay(n)})},updateToolDisplay:function(e,t){var n=this;angular.forEach(a,function(a,o){n.updateToolbarToolDisplay(o,e,t)})},resetToolDisplay:function(e){var t=this;angular.forEach(a,function(n,a){t.resetToolbarToolDisplay(a,e)})},updateToolbarToolDisplay:function(e,t,n){if(!a[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';a[e].updateToolDisplay(t,n)},resetToolbarToolDisplay:function(e,n){if(!a[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';a[e].updateToolDisplay(n,t[n],!0)},removeTool:function(e){delete t[e],angular.forEach(a,function(t){delete t.tools[e];for(var n=0;n<t.toolbar.length;n++){for(var a,o=0;o<t.toolbar[n].length;o++){if(t.toolbar[n][o]===e){a={group:n,index:o};break}if(void 0!==a)break}void 0!==a&&(t.toolbar[a.group].slice(a.index,1),t._$element.children().eq(a.group).children().eq(a.index).remove())}})},addTool:function(e,t,o,r){n(e,t),angular.forEach(a,function(n){n.addTool(e,t,o,r)})},addToolToToolbar:function(e,t,o,r,l){n(e,t),a[o].addTool(e,t,r,l)},refreshEditor:function(e){if(!o[e])throw'textAngular Error: No Editor with name "'+e+'" exists';o[e].scope.updateTaBindtaTextElement(),o[e].scope.$$phase||o[e].scope.$digest()},sendKeyCommand:function(e,t){var n=o[e._name];return n&&n.editorFunctions.sendKeyCommand(t)?(e._bUpdateSelectedStyles||e.updateSelectedStyles(),t.preventDefault(),!1):void 0}}}]),v.directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction","$window",function(e,t,n,a,o,r){return{scope:{name:"@"},restrict:"EA",link:function(l,i,s){if(!l.name||""===l.name)throw"textAngular Error: A toolbar requires a name";angular.extend(l,angular.copy(n)),s.taToolbar&&(l.toolbar=l.$parent.$eval(s.taToolbar)),s.taToolbarClass&&(l.classes.toolbar=s.taToolbarClass),s.taToolbarGroupClass&&(l.classes.toolbarGroup=s.taToolbarGroupClass),s.taToolbarButtonClass&&(l.classes.toolbarButton=s.taToolbarButtonClass),s.taToolbarActiveButtonClass&&(l.classes.toolbarButtonActive=s.taToolbarActiveButtonClass),s.taFocussedClass&&(l.classes.focussed=s.taFocussedClass),l.disabled=!0,l.focussed=!1,l._$element=i,i[0].innerHTML="",i.addClass("ta-toolbar "+l.classes.toolbar),l.$watch("focussed",function(){l.focussed?i.addClass(l.classes.focussed):i.removeClass(l.classes.focussed)});var d=function(t,n){var a;if(a=t&&t.display?angular.element(t.display):angular.element("<button type='button'>"),t&&t.class?a.addClass(t.class):a.addClass(l.classes.toolbarButton),a.attr("name",n.name),a.attr("ta-button","ta-button"),a.attr("ng-disabled","isDisabled()"),a.attr("tabindex","-1"),a.attr("ng-click","executeAction()"),a.attr("ng-class","displayActiveToolClass(active)"),t&&t.tooltiptext&&a.attr("title",t.tooltiptext),t&&!t.display&&!n._display&&(a[0].innerHTML="",t.buttontext&&(a[0].innerHTML=t.buttontext),t.iconclass)){var o=angular.element("<i>"),r=a[0].innerHTML;o.addClass(t.iconclass),a[0].innerHTML="",a.append(o),r&&""!==r&&a.append("&nbsp;"+r)}return n._lastToolDefinition=angular.copy(t),e(a)(n)};l.tools={},l._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};var u={$window:r,$editor:function(){return l._parent},isDisabled:function(){return"function"!=typeof this.$eval("disabled")&&this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled},displayActiveToolClass:function(e){return e?l.classes.toolbarButtonActive:""},executeAction:o};angular.forEach(l.toolbar,function(e){var t=angular.element("<div>");t.addClass(l.classes.toolbarGroup),angular.forEach(e,function(e){l.tools[e]=angular.extend(l.$new(!0),a[e],u,{name:e}),l.tools[e].$element=d(a[e],l.tools[e]),t.append(l.tools[e].$element)}),i.append(t)}),l.updateToolDisplay=function(e,t,n){var a=l.tools[e];if(a){if(a._lastToolDefinition&&!n&&(t=angular.extend({},a._lastToolDefinition,t)),null===t.buttontext&&null===t.iconclass&&null===t.display)throw'textAngular Error: Tool Definition for updating "'+e+'" does not have a valid display/iconclass/buttontext value';null===t.buttontext&&delete t.buttontext,null===t.iconclass&&delete t.iconclass,null===t.display&&delete t.display;var o=d(t,a);a.$element.replaceWith(o),a.$element=o}},l.addTool=function(e,t,n,o){l.tools[e]=angular.extend(l.$new(!0),a[e],u,{name:e}),l.tools[e].$element=d(a[e],l.tools[e]);var r;void 0===n&&(n=l.toolbar.length-1),r=angular.element(i.children()[n]),void 0===o?(r.append(l.tools[e].$element),l.toolbar[n][l.toolbar[n].length-1]=e):(r.children().eq(o).after(l.tools[e].$element),l.toolbar[n][o]=e)},t.registerToolbar(l),l.$on("$destroy",function(){t.unregisterToolbar(l.name)})}}}]),v.name});
"use strict";var app=angular.module("ngFlash",[]);app.run(["$rootScope",function(t){return t.flashes=[]}]),app.directive("dynamic",["$compile",function(t){return{restrict:"A",replace:!0,link:function(e,s,i){return e.$watch(i.dynamic,function(i){return s.html(i),t(s.contents())(e)})}}}]),app.directive("applytransclude",["$compile",function(t){return{restrict:"A",link:function(t,e,s){t._transclude(t,function(t,s){e.empty().append(t)})}}}]),app.directive("closeFlash",["$compile","$rootScope","Flash",function(t,e,s){return{link:function(t,i,n){return i.on("click",function(){var t=parseInt(n.closeFlash,10);s.dismiss(t),e.$apply()})}}}]),app.directive("flashMessage",["Flash",function(t){return{restrict:"E",scope:{duration:"=",showClose:"=",onDismiss:"&"},link:function(e,s,i,n,o){function a(t){"function"==typeof e.onDismiss&&e.onDismiss({flash:t})}t.setTimeout(e.duration),t.setShowClose(e.showClose),t.setOnDismiss(a),t.config.templateTransclude&&(e._transclude=o)},transclude:t.config.templateTransclude,template:'\n                <div ng-repeat="flash in $root.flashes track by $index">\n                    '+t.config.template+"\n                </div>\n            "}}]),app.provider("Flash",function(){var t={},e={bootstrap:{html:'\n                <div role="alert" id="{{flash.config.id}}"\n                    class="alert {{flash.config.class}} alert-{{flash.type}} alert-dismissible alertIn alertOut">\n                    <div type="button" class="close" ng-show="flash.showClose" close-flash="{{flash.id}}">\n                        <span aria-hidden="true">&times;</span>\n                        <span class="sr-only">Close</span>\n                    </div>\n                    <span dynamic="flash.text"></span>\n                </div>',transclude:!1},transclude:{html:"<div applytransclude></div>",transclude:!0}};this.setTimeout=function(e){"number"==typeof e&&(t.timeout=e)},this.setShowClose=function(e){"boolean"==typeof e&&(t.showClose=e)},this.setTemplate=function(e){"string"==typeof e&&(t.template=e)},this.setTemplatePreset=function(s){if("string"==typeof s&&s in e){var i=e[s];this.setTemplate(i.html),t.templateTransclude=i.transclude}},this.setOnDismiss=function(e){"function"==typeof e&&(t.onDismiss=e)},this.setTimeout(5e3),this.setShowClose(!0),this.setTemplatePreset("bootstrap"),this.$get=["$rootScope","$timeout",function(e,s){function i(t){return e.flashes.map(function(t){return t.id}).indexOf(t)}var n={},o=0;return n.setTimeout=this.setTimeout,n.setShowClose=this.setShowClose,n.setOnDismiss=this.setOnDismiss,n.config=t,n.create=function(i,n,a,l,r){var c=void 0,u=void 0;return c=this,u={type:i,text:n,config:l,id:o++},u.showClose="undefined"!=typeof r?r:t.showClose,t.timeout&&"undefined"==typeof a?u.timeout=t.timeout:a&&(u.timeout=a),e.flashes.push(u),u.timeout&&(u.timeoutObj=s(function(){c.dismiss(u.id)},u.timeout)),u.id},n.pause=function(t){e.flashes[t].timeoutObj&&s.cancel(e.flashes[t].timeoutObj)},n.dismiss=function(s){var o=i(s);if(-1!==o){var a=e.flashes[o];n.pause(o),e.flashes.splice(o,1),"function"==typeof t.onDismiss&&t.onDismiss(a)}},n.clear=function(){for(;e.flashes.length>0;)n.dismiss(e.flashes[0].id)},n.reset=n.clear,n}]});
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,r){"use strict";function n(e,t){return J(new(J(function(){},{prototype:e})),t)}function a(e){return L(arguments,function(t){t!==e&&L(t,function(t,r){e.hasOwnProperty(r)||(e[r]=t)})}),e}function i(e,t){var r=[];for(var n in e.path){if(e.path[n]!==t.path[n])break;r.push(e.path[n])}return r}function o(e){if(Object.keys)return Object.keys(e);var t=[];return L(e,function(e,r){t.push(r)}),t}function u(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var r=e.length>>>0,n=Number(arguments[2])||0;for(n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=r);n<r;n++)if(n in e&&e[n]===t)return n;return-1}function s(e,t,r,n){var a,s=i(r,n),l={},c=[];for(var f in s)if(s[f]&&s[f].params&&(a=o(s[f].params),a.length))for(var p in a)u(c,a[p])>=0||(c.push(a[p]),l[a[p]]=e[a[p]]);return J({},l,t)}function l(e,t,r){if(!r){r=[];for(var n in e)r.push(n)}for(var a=0;a<r.length;a++){var i=r[a];if(e[i]!=t[i])return!1}return!0}function c(e,t){var r={};return L(e,function(e){r[e]=t[e]}),r}function f(e){var t={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return L(r,function(r){r in e&&(t[r]=e[r])}),t}function p(e){var t={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var n in e)u(r,n)==-1&&(t[n]=e[n]);return t}function h(e,t){var r=z(e),n=r?[]:{};return L(e,function(e,a){t(e,a)&&(n[r?n.length:a]=e)}),n}function $(e,t){var r=z(e)?[]:{};return L(e,function(e,n){r[n]=t(e,n)}),r}function v(e,t){var n=1,i=2,s={},l=[],c=s,f=J(e.when(s),{$$promises:s,$$values:s});this.study=function(s){function h(e,r){if(g[r]!==i){if(m.push(r),g[r]===n)throw m.splice(0,u(m,r)),new Error("Cyclic dependency: "+m.join(" -> "));if(g[r]=n,U(e))d.push(r,[function(){return t.get(e)}],l);else{var a=t.annotate(e);L(a,function(e){e!==r&&s.hasOwnProperty(e)&&h(s[e],e)}),d.push(r,e,a)}m.pop(),g[r]=i}}function $(e){return T(e)&&e.then&&e.$$promises}if(!T(s))throw new Error("'invocables' must be an object");var v=o(s||{}),d=[],m=[],g={};return L(s,h),s=m=g=null,function(n,i,o){function u(){--w||(b||a(y,i.$$values),m.$$values=y,m.$$promises=m.$$promises||!0,delete m.$$inheritedValues,h.resolve(y))}function s(e){m.$$failure=e,h.reject(e)}function l(r,a,i){function l(e){f.reject(e),s(e)}function c(){if(!D(m.$$failure))try{f.resolve(t.invoke(a,o,y)),f.promise.then(function(e){y[r]=e,u()},l)}catch(e){l(e)}}var f=e.defer(),p=0;L(i,function(e){g.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(p++,g[e].then(function(t){y[e]=t,--p||c()},l))}),p||c(),g[r]=f.promise}if($(n)&&o===r&&(o=i,i=n,n=null),n){if(!T(n))throw new Error("'locals' must be an object")}else n=c;if(i){if(!$(i))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else i=f;var h=e.defer(),m=h.promise,g=m.$$promises={},y=J({},n),w=1+d.length/3,b=!1;if(D(i.$$failure))return s(i.$$failure),m;i.$$inheritedValues&&a(y,p(i.$$inheritedValues,v)),J(g,i.$$promises),i.$$values?(b=a(y,p(i.$$values,v)),m.$$inheritedValues=p(i.$$values,v),u()):(i.$$inheritedValues&&(m.$$inheritedValues=p(i.$$inheritedValues,v)),i.then(u,s));for(var S=0,E=d.length;S<E;S+=3)n.hasOwnProperty(d[S])?u():l(d[S],d[S+1],d[S+2]);return m}},this.resolve=function(e,t,r,n){return this.study(e)(t,r,n)}}function d(e,t,r){this.fromConfig=function(e,t,r){return D(e.template)?this.fromString(e.template,t):D(e.templateUrl)?this.fromUrl(e.templateUrl,t):D(e.templateProvider)?this.fromProvider(e.templateProvider,t,r):null},this.fromString=function(e,t){return F(e)?e(t):e},this.fromUrl=function(r,n){return F(r)&&(r=r(n)),null==r?null:e.get(r,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,n){return r.invoke(e,null,n||{params:t})}}function m(e,t,a){function i(t,r,n,a){if(d.push(t),$[t])return $[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(v[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return v[t]=new B.Param(t,r,n,a),v[t]}function o(e,t,r,n){var a=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(r){case!1:a=["(",")"+(n?"?":"")];break;case!0:i=i.replace(/\/$/,""),a=["(?:/(",")|/)?"];break;default:a=["("+r+"|",")?"]}return i+a[0]+t+a[1]}function u(a,i){var o,u,s,l,c;return o=a[2]||a[3],c=t.params[o],s=e.substring(p,a.index),u=i?a[4]:a[4]||("*"==a[1]?".*":null),u&&(l=B.type(u)||n(B.type("string"),{pattern:new RegExp(u,t.caseInsensitive?"i":r)})),{id:o,regexp:u,segment:s,type:l,cfg:c}}t=J({params:{}},T(t)?t:{});var s,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f="^",p=0,h=this.segments=[],$=a?a.params:{},v=this.params=a?a.params.$$new():new B.ParamSet,d=[];this.source=e;for(var m,g,y;(s=l.exec(e))&&(m=u(s,!1),!(m.segment.indexOf("?")>=0));)g=i(m.id,m.type,m.cfg,"path"),f+=o(m.segment,g.type.pattern.source,g.squash,g.isOptional),h.push(m.segment),p=l.lastIndex;y=e.substring(p);var w=y.indexOf("?");if(w>=0){var b=this.sourceSearch=y.substring(w);if(y=y.substring(0,w),this.sourcePath=e.substring(0,p+w),b.length>0)for(p=0;s=c.exec(b);)m=u(s,!0),g=i(m.id,m.type,m.cfg,"search"),p=l.lastIndex}else this.sourcePath=e,this.sourceSearch="";f+=o(y)+(t.strict===!1?"/?":"")+"$",h.push(y),this.regexp=new RegExp(f,t.caseInsensitive?"i":r),this.prefix=h[0],this.$$paramNames=d}function g(e){J(this,e)}function y(){function e(e){return null!=e?e.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):e}function a(e){return null!=e?e.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):e}function i(){return{strict:v,caseInsensitive:p}}function s(e){return F(e)||z(e)&&F(e[e.length-1])}function l(){for(;S.length;){var e=S.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(w[e.name],f.invoke(e.def))}}function c(e){J(this,e||{})}B=this;var f,p=!1,v=!0,d=!1,w={},b=!0,S=[],E={string:{encode:e,decode:a,is:function(e){return null==e||!D(e)||"string"==typeof e},pattern:/[^\/]*/},int:{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return D(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):r},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):r},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};y.$$getDefaultValue=function(e){if(!s(e.value))return e.value;if(!f)throw new Error("Injectable functions cannot be called at configuration time");return f.invoke(e.value)},this.caseInsensitive=function(e){return D(e)&&(p=e),p},this.strictMode=function(e){return D(e)&&(v=e),v},this.defaultSquashPolicy=function(e){if(!D(e))return d;if(e!==!0&&e!==!1&&!U(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return d=e,e},this.compile=function(e,t){return new m(e,J(i(),t))},this.isMatcher=function(e){if(!T(e))return!1;var t=!0;return L(m.prototype,function(r,n){F(r)&&(t=t&&D(e[n])&&F(e[n]))}),t},this.type=function(e,t,r){if(!D(t))return w[e];if(w.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return w[e]=new g(J({name:e},t)),r&&(S.push({name:e,def:r}),b||l()),this},L(E,function(e,t){w[t]=new g(J({name:t},e))}),w=n(w,{}),this.$get=["$injector",function(e){return f=e,b=!1,l(),L(E,function(e,t){w[t]||(w[t]=new g(e))}),this}],this.Param=function(e,n,a,i){function l(e){var t=T(e)?o(e):[],r=u(t,"value")===-1&&u(t,"type")===-1&&u(t,"squash")===-1&&u(t,"array")===-1;return r&&(e={value:e}),e.$$fn=s(e.value)?e.value:function(){return e.value},e}function c(r,n,a){if(r.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:r.type?t.isString(r.type)?w[r.type]:r.type instanceof g?r.type:new g(r.type):"config"===a?w.any:w.string}function p(){var t={array:"search"===i&&"auto"},r=e.match(/\[\]$/)?{array:!0}:{};return J(t,r,a).array}function v(e,t){var r=e.squash;if(!t||r===!1)return!1;if(!D(r)||null==r)return d;if(r===!0||U(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}function m(e,t,n,a){var i,o,s=[{from:"",to:n||t?r:""},{from:null,to:n||t?r:""}];return i=z(e.replace)?e.replace:[],U(a)&&i.push({from:a,to:r}),o=$(i,function(e){return e.from}),h(s,function(e){return u(o,e.from)===-1}).concat(i)}function y(){if(!f)throw new Error("Injectable functions cannot be called at configuration time");var e=f.invoke(a.$$fn);if(null!==e&&e!==r&&!E.type.is(e))throw new Error("Default value ("+e+") for parameter '"+E.id+"' is not an instance of Type ("+E.type.name+")");return e}function b(e){function t(e){return function(t){return t.from===e}}function r(e){var r=$(h(E.replace,t(e)),function(e){return e.to});return r.length?r[0]:e}return e=r(e),D(e)?E.type.$normalize(e):y()}function S(){return"{Param:"+e+" "+n+" squash: '"+j+"' optional: "+P+"}"}var E=this;a=l(a),n=c(a,n,i);var x=p();n=x?n.$asArray(x,"search"===i):n,"string"!==n.name||x||"path"!==i||a.value!==r||(a.value="");var P=a.value!==r,j=v(a,P),A=m(a,x,P,j);J(this,{id:e,type:n,location:i,array:x,squash:j,replace:A,isOptional:P,value:b,dynamic:r,config:a,toString:S})},c.prototype={$$new:function(){return n(this,J(new c,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],r=this,n=o(c.prototype);r;)t.push(r),r=r.$$parent;return t.reverse(),L(t,function(t){L(o(t),function(t){u(e,t)===-1&&u(n,t)===-1&&e.push(t)})}),e},$$values:function(e){var t={},r=this;return L(r.$$keys(),function(n){t[n]=r[n].value(e&&e[n])}),t},$$equals:function(e,t){var r=!0,n=this;return L(n.$$keys(),function(a){var i=e&&e[a],o=t&&t[a];n[a].type.equals(i,o)||(r=!1)}),r},$$validates:function(e){var n,a,i,o,u,s=this.$$keys();for(n=0;n<s.length&&(a=this[s[n]],i=e[s[n]],i!==r&&null!==i||!a.isOptional);n++){if(o=a.type.$normalize(i),!a.type.is(o))return!1;if(u=a.type.encode(o),t.isString(u)&&!a.type.pattern.exec(u))return!1}return!0},$$parent:r},this.ParamSet=c}function w(e,n){function a(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function i(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,r){return t["$"===r?0:Number(r)]})}function o(e,t,r){if(!r)return!1;var n=e.invoke(t,t,{$match:r});return!D(n)||n}function u(n,a,i,o,u){function p(e,t,r){return"/"===d?e:t?d.slice(0,-1)+e:r?d.slice(1)+e:e}function h(e){function t(e){var t=e(i,n);return!!t&&(U(t)&&n.replace().url(t),!0)}if(!e||!e.defaultPrevented){v&&n.url()===v;v=r;var a,o=l.length;for(a=0;a<o;a++)if(t(l[a]))return;c&&t(c)}}function $(){return s=s||a.$on("$locationChangeSuccess",h)}var v,d=o.baseHref(),m=n.url();return f||$(),{sync:function(){h()},listen:function(){return $()},update:function(e){return e?void(m=n.url()):void(n.url()!==m&&(n.url(m),n.replace()))},push:function(e,t,a){var i=e.format(t||{});null!==i&&t&&t["#"]&&(i+="#"+t["#"]),n.url(i),v=a&&a.$$avoidResync?n.url():r,a&&a.replace&&n.replace()},href:function(r,a,i){if(!r.validates(a))return null;var o=e.html5Mode();t.isObject(o)&&(o=o.enabled),o=o&&u.history;var s=r.format(a);if(i=i||{},o||null===s||(s="#"+e.hashPrefix()+s),null!==s&&a&&a["#"]&&(s+="#"+a["#"]),s=p(s,o,i.absolute),!i.absolute||!s)return s;var l=!o&&s?"/":"",c=n.port();return c=80===c||443===c?"":":"+c,[n.protocol(),"://",n.host(),c,l,s].join("")}}}var s,l=[],c=null,f=!1;this.rule=function(e){if(!F(e))throw new Error("'rule' must be a function");return l.push(e),this},this.otherwise=function(e){if(U(e)){var t=e;e=function(){return t}}else if(!F(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,t){var r,u=U(t);if(U(e)&&(e=n.compile(e)),!u&&!F(t)&&!z(t))throw new Error("invalid 'handler' in when()");var s={matcher:function(e,t){return u&&(r=n.compile(t),t=["$match",function(e){return r.format(e)}]),J(function(r,n){return o(r,t,e.exec(n.path(),n.search()))},{prefix:U(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return u&&(r=t,t=["$match",function(e){return i(r,e)}]),J(function(r,n){return o(r,t,e.exec(n.path()))},{prefix:a(e)})}},l={matcher:n.isMatcher(e),regex:e instanceof RegExp};for(var c in l)if(l[c])return this.rule(s[c](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===r&&(e=!0),f=e},this.$get=u,u.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function b(e,a){function i(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function p(e,t){if(!e)return r;var n=U(e),a=n?e:e.name,o=i(a);if(o){if(!t)throw new Error("No reference point given for path '"+a+"'");t=p(t);for(var u=a.split("."),s=0,l=u.length,c=t;s<l;s++)if(""!==u[s]||0!==s){if("^"!==u[s])break;if(!c.parent)throw new Error("Path '"+a+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;u=u.slice(s).join("."),a=c.name+(c.name&&u?".":"")+u}var f=P[a];return!f||!n&&(n||f!==e&&f.self!==e)?r:f}function h(e,t){j[e]||(j[e]=[]),j[e].push(t)}function v(e){for(var t=j[e]||[];t.length;)d(t.shift())}function d(t){t=n(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var r=t.name;if(!U(r)||r.indexOf("@")>=0)throw new Error("State must have a valid name");if(P.hasOwnProperty(r))throw new Error("State '"+r+"' is already defined");var a=r.indexOf(".")!==-1?r.substring(0,r.lastIndexOf(".")):U(t.parent)?t.parent:T(t.parent)&&U(t.parent.name)?t.parent.name:"";if(a&&!P[a])return h(a,t.self);for(var i in O)F(O[i])&&(t[i]=O[i](t,O.$delegates[i]));return P[r]=t,!t[A]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,r){x.$current.navigable==t&&l(e,r)||x.transitionTo(t,e,{inherit:!0,location:!1})}]),v(r),t}function m(e){return e.indexOf("*")>-1}function g(e){for(var t=e.split("."),r=x.$current.name.split("."),n=0,a=t.length;n<a;n++)"*"===t[n]&&(r[n]="*");return"**"===t[0]&&(r=r.slice(u(r,t[1])),r.unshift("**")),"**"===t[t.length-1]&&(r.splice(u(r,t[t.length-2])+1,Number.MAX_VALUE),r.push("**")),t.length==r.length&&r.join("")===t.join("")}function y(e,t){return U(e)&&!D(t)?O[e]:F(t)&&U(e)?(O[e]&&!O.$delegates[e]&&(O.$delegates[e]=O[e]),O[e]=t,this):this}function w(e,t){return T(e)?t=e:t.name=e,d(t),this}function b(e,a,i,u,f,h,v,d,y){function w(t,r,n,i){var o=e.$broadcast("$stateNotFound",t,r,n);if(o.defaultPrevented)return v.update(),k;if(!o.retry)return null;if(i.$retry)return v.update(),q;var u=x.transition=a.when(o.retry);return u.then(function(){return u!==x.transition?j:(t.options.$retry=!0,x.transitionTo(t.to,t.toParams,t.options))},function(){return k}),v.update(),u}function b(e,r,n,o,s,l){function p(){var r=[];return L(e.views,function(n,a){var o=n.resolve&&n.resolve!==e.resolve?n.resolve:{};o.$template=[function(){return i.load(a,{view:n,locals:s.globals,params:h,notify:l.notify})||""}],r.push(f.resolve(o,s.globals,s.resolve,e).then(function(r){if(F(n.controllerProvider)||z(n.controllerProvider)){var i=t.extend({},o,s.globals);r.$$controller=u.invoke(n.controllerProvider,null,i)}else r.$$controller=n.controller;r.$$state=e,r.$$controllerAs=n.controllerAs,r.$$resolveAs=n.resolveAs,s[a]=r}))}),a.all(r).then(function(){return s.globals})}var h=n?r:c(e.params.$$keys(),r),$={$stateParams:h};s.resolve=f.resolve(e.resolve,$,s.resolve,e);var v=[s.resolve.then(function(e){s.globals=e})];return o&&v.push(o),a.all(v).then(p).then(function(e){return s})}var j=a.reject(new Error("transition superseded")),O=a.reject(new Error("transition prevented")),k=a.reject(new Error("transition aborted")),q=a.reject(new Error("transition failed"));return E.locals={resolve:null,globals:{$stateParams:{}}},x={params:{},current:E.self,$current:E,transition:null},x.reload=function(e){return x.transitionTo(x.current,h,{reload:e||!0,inherit:!1,notify:!0})},x.go=function(e,t,r){return x.transitionTo(e,t,J({inherit:!0,relative:x.$current},r))},x.transitionTo=function(t,r,i){r=r||{},i=J({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},i||{});var o,l=x.$current,f=x.params,$=l.path,d=p(t,i.relative),m=r["#"];if(!D(d)){var g={to:t,toParams:r,options:i},y=w(g,l.self,f,i);if(y)return y;if(t=g.to,r=g.toParams,i=g.options,d=p(t,i.relative),!D(d)){if(!i.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+i.relative+"'")}}if(d[A])throw new Error("Cannot transition to abstract state '"+t+"'");if(i.inherit&&(r=s(h,r||{},x.$current,d)),!d.params.$$validates(r))return q;r=d.params.$$values(r),t=d;var P=t.path,k=0,C=P[k],I=E.locals,V=[];if(i.reload){if(U(i.reload)||T(i.reload)){if(T(i.reload)&&!i.reload.name)throw new Error("Invalid reload state object");var M=i.reload===!0?$[0]:p(i.reload);if(i.reload&&!M)throw new Error("No such reload state '"+(U(i.reload)?i.reload:i.reload.name)+"'");for(;C&&C===$[k]&&C!==M;)I=V[k]=C.locals,k++,C=P[k]}}else for(;C&&C===$[k]&&C.ownParams.$$equals(r,f);)I=V[k]=C.locals,k++,C=P[k];if(S(t,r,l,f,I,i))return m&&(r["#"]=m),x.params=r,K(x.params,h),K(c(t.params.$$keys(),h),t.locals.globals.$stateParams),i.location&&t.navigable&&t.navigable.url&&(v.push(t.navigable.url,r,{$$avoidResync:!0,replace:"replace"===i.location}),v.update(!0)),x.transition=null,a.when(x.current);if(r=c(t.params.$$keys(),r||{}),m&&(r["#"]=m),i.notify&&e.$broadcast("$stateChangeStart",t.self,r,l.self,f,i).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,r,l.self,f),null==x.transition&&v.update(),O;for(var N=a.when(I),R=k;R<P.length;R++,C=P[R])I=V[R]=n(I),N=b(C,r,C===t,N,I,i);var F=x.transition=N.then(function(){var n,a,o;if(x.transition!==F)return j;for(n=$.length-1;n>=k;n--)o=$[n],o.self.onExit&&u.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(n=k;n<P.length;n++)a=P[n],a.locals=V[n],a.self.onEnter&&u.invoke(a.self.onEnter,a.self,a.locals.globals);return x.transition!==F?j:(x.$current=t,x.current=t.self,x.params=r,K(x.params,h),x.transition=null,i.location&&t.navigable&&v.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===i.location}),i.notify&&e.$broadcast("$stateChangeSuccess",t.self,r,l.self,f),v.update(!0),x.current)}).then(null,function(n){return x.transition!==F?j:(x.transition=null,o=e.$broadcast("$stateChangeError",t.self,r,l.self,f,n),o.defaultPrevented||v.update(),a.reject(n))});return F},x.is=function(e,t,n){n=J({relative:x.$current},n||{});var a=p(e,n.relative);return D(a)?x.$current===a&&(!t||l(a.params.$$values(t),h)):r},x.includes=function(e,t,n){if(n=J({relative:x.$current},n||{}),U(e)&&m(e)){if(!g(e))return!1;e=x.$current.name}var a=p(e,n.relative);return D(a)?!!D(x.$current.includes[a.name])&&(!t||l(a.params.$$values(t),h,o(t))):r},x.href=function(e,t,n){n=J({lossy:!0,inherit:!0,absolute:!1,relative:x.$current},n||{});var a=p(e,n.relative);if(!D(a))return null;n.inherit&&(t=s(h,t||{},x.$current,a));var i=a&&n.lossy?a.navigable:a;return i&&i.url!==r&&null!==i.url?v.href(i.url,c(a.params.$$keys().concat("#"),t||{}),{absolute:n.absolute}):null},x.get=function(e,t){if(0===arguments.length)return $(o(P),function(e){return P[e].self});var r=p(e,t||x.$current);return r&&r.self?r.self:null},x}function S(e,t,r,n,a,i){function o(e,t,r){function n(t){return"search"!=e.params[t].location}var a=e.params.$$keys().filter(n),i=f.apply({},[e.params].concat(a)),o=new B.ParamSet(i);return o.$$equals(t,r)}if(!i.reload&&e===r&&(a===r.locals||e.self.reloadOnSearch===!1&&o(r,n,t)))return!0}var E,x,P={},j={},A="abstract",O={parent:function(e){if(D(e.parent)&&e.parent)return p(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?p(t[1]):E},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=n(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,r={params:e.params||{}};if(U(t))return"^"==t.charAt(0)?a.compile(t.substring(1),r):(e.parent.navigable||E).url.concat(t,r);if(!t||a.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new B.ParamSet;return L(e.params||{},function(e,r){t[r]||(t[r]=new B.Param(r,null,e,"config"))}),t},params:function(e){var t=f(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?J(e.parent.params.$$new(),t):new B.ParamSet},views:function(e){var t={};return L(D(e.views)?e.views:{"":e},function(r,n){n.indexOf("@")<0&&(n+="@"+e.parent.name),r.resolveAs=r.resolveAs||e.resolveAs||"$resolve",t[n]=r}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?J({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};E=d({name:"",url:"^",views:null,abstract:!0}),E.navigable=null,this.decorator=y,this.state=w,this.$get=b,b.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function S(){function e(e,t){return{load:function(e,r){var n,a={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=J(a,r),r.view&&(n=t.fromConfig(r.view,r.params,r.locals)),n}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function E(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,r){return e?t:function(e){return r(function(){e[0].scrollIntoView()},0,!1)}}]}function x(e,r,n,a,i){function o(){return r.has?function(e){return r.has(e)?r.get(e):null}:function(e){try{return r.get(e)}catch(e){return null}}}function u(e,r){var n=function(){return{enter:function(e,t,r){t.after(e),r()},leave:function(e,t){e.remove(),t()}}};if(c)return{enter:function(e,r,n){t.version.minor>2?c.enter(e,null,r).then(n):c.enter(e,null,r,n)},leave:function(e,r){t.version.minor>2?c.leave(e).then(r):c.leave(e,r)}};if(l){var a=l&&l(r,e);return{enter:function(e,t,r){a.enter(e,null,t),r()},leave:function(e,t){a.leave(e),t()}}}return n()}var s=o(),l=s("$animator"),c=s("$animate"),f={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(r,o,s){return function(r,o,l){function c(){if(p&&(p.remove(),p=null),$&&($.$destroy(),$=null),h){var e=h.data("$uiViewAnim");g.leave(h,function(){e.$$animLeave.resolve(),p=null}),p=h,h=null}}function f(u){var f,p=j(r,l,o,a),y=p&&e.$current&&e.$current.locals[p];if(u||y!==v){f=r.$new(),v=e.$current.locals[p],f.$emit("$viewContentLoading",p);var w=s(f,function(e){var a=i.defer(),u=i.defer(),s={$animEnter:a.promise,$animLeave:u.promise,$$animLeave:u};e.data("$uiViewAnim",s),g.enter(e,o,function(){a.resolve(),$&&$.$emit("$viewContentAnimationEnded"),(t.isDefined(m)&&!m||r.$eval(m))&&n(e)}),c()});h=w,$=f,$.$emit("$viewContentLoaded",p),$.$eval(d)}}var p,h,$,v,d=l.onload||"",m=l.autoscroll,g=u(l,r);o.inheritedData("$uiView");r.$on("$stateChangeSuccess",function(){f(!1)}),f(!0)}}};return f}function P(e,r,n,a){return{restrict:"ECA",priority:-400,compile:function(i){var o=i.html();return function(i,u,s){var l=n.$current,c=j(i,s,u,a),f=l&&l.locals[c];if(f){u.data("$uiView",{name:c,state:f.$$state}),u.html(f.$template?f.$template:o);var p=t.extend({},f);i[f.$$resolveAs]=p;var h=e(u.contents());if(f.$$controller){f.$scope=i,f.$element=u;var $=r(f.$$controller,f);f.$$controllerAs&&(i[f.$$controllerAs]=$,i[f.$$controllerAs][f.$$resolveAs]=p),F($.$onInit)&&$.$onInit(),u.data("$ngControllerController",$),u.children().data("$ngControllerController",$)}h(i)}}}}}function j(e,t,r,n){var a=n(t.uiView||t.name||"")(e),i=r.inheritedData("$uiView");return a.indexOf("@")>=0?a:a+"@"+(i?i.state.name:"")}function A(e,t){var r,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e=t+"("+n[1]+")"),r=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!r||4!==r.length)throw new Error("Invalid state ref '"+e+"'");return{state:r[1],paramExpr:r[3]||null}}function O(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function k(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),r="FORM"===e[0].nodeName;return{attr:r?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!r}}function q(e,t,r,n,a){return function(i){var o=i.which||i.button,u=a();if(!(o>1||i.ctrlKey||i.metaKey||i.shiftKey||e.attr("target"))){var s=r(function(){t.go(u.state,u.params,u.options)});i.preventDefault();var l=n.isAnchor&&!u.href?1:0;i.preventDefault=function(){l--<=0&&r.cancel(s)}}}}function C(e,t){return{relative:O(e)||t.$current,inherit:!0}}function I(e,r){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,a,i,o){var u,s=A(i.uiSref,e.current.name),l={state:s.state,href:null,params:null},c=k(a),f=o[1]||o[0],p=null;l.options=J(C(a,e),i.uiSrefOpts?n.$eval(i.uiSrefOpts):{});var h=function(r){r&&(l.params=t.copy(r)),l.href=e.href(s.state,l.params,l.options),p&&p(),f&&(p=f.$$addStateInfo(s.state,l.params)),null!==l.href&&i.$set(c.attr,l.href)};s.paramExpr&&(n.$watch(s.paramExpr,function(e){e!==l.params&&h(e)},!0),l.params=t.copy(n.$eval(s.paramExpr))),h(),c.clickable&&(u=q(a,e,r,c,function(){return l}),a.bind("click",u),n.$on("$destroy",function(){a.unbind("click",u)}))}}}function V(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,n,a,i){function o(t){p.state=t[0],p.params=t[1],p.options=t[2],p.href=e.href(p.state,p.params,p.options),h&&h(),l&&(h=l.$$addStateInfo(p.state,p.params)),p.href&&a.$set(s.attr,p.href)}var u,s=k(n),l=i[1]||i[0],c=[a.uiState,a.uiStateParams||null,a.uiStateOpts||null],f="["+c.map(function(e){return e||"null"}).join(", ")+"]",p={state:null,params:null,options:null,href:null},h=null;r.$watch(f,o,!0),o(r.$eval(f)),s.clickable&&(u=q(n,e,t,s,function(){return p}),n.bind("click",u),r.$on("$destroy",function(){n.unbind("click",u)}))}}}function M(e,t,r){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,n,a,i){function o(t,r,a){var i=e.get(t,O(n)),o=u(t,r),s={state:i||{name:t},params:r,hash:o};return v.push(s),d[o]=a,function(){var e=v.indexOf(s);e!==-1&&v.splice(e,1)}}function u(e,r){if(!U(e))throw new Error("state should be a string");return T(r)?e+Y(r):(r=t.$eval(r),T(r)?e+Y(r):e)}function s(){for(var e=0;e<v.length;e++)f(v[e].state,v[e].params)?l(n,d[v[e].hash]):c(n,d[v[e].hash]),p(v[e].state,v[e].params)?l(n,h):c(n,h)}function l(e,t){i(function(){e.addClass(t)})}function c(e,t){e.removeClass(t)}function f(t,r){return e.includes(t.name,r)}function p(t,r){return e.is(t.name,r)}var h,$,v=[],d={};h=r(a.uiSrefActiveEq||"",!1)(t);try{$=t.$eval(a.uiSrefActive)}catch(e){}$=$||r(a.uiSrefActive||"",!1)(t),T($)&&L($,function(r,n){if(U(r)){var a=A(r,e.current.name);o(a.state,t.$eval(a.paramExpr),n)}}),this.$$addStateInfo=function(e,t){if(!(T($)&&v.length>0)){var r=o(e,t,$);return s(),r}},t.$on("$stateChangeSuccess",s),s()}]}}function N(e){var t=function(t,r){return e.is(t,r)};return t.$stateful=!0,t}function R(e){var t=function(t,r,n){return e.includes(t,r,n)};return t.$stateful=!0,t}var D=t.isDefined,F=t.isFunction,U=t.isString,T=t.isObject,z=t.isArray,L=t.forEach,J=t.extend,K=t.copy,Y=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),v.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",v),d.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",d);var B;m.prototype.concat=function(e,t){var r={caseInsensitive:B.caseInsensitive(),strict:B.strictMode(),squash:B.defaultSquashPolicy()};return new m(this.sourcePath+e+this.sourceSearch,J(r,t),this)},m.prototype.toString=function(){return this.source},m.prototype.exec=function(e,t){function r(e){function t(e){return e.split("").reverse().join("")}function r(e){return e.replace(/\\-/g,"-")}var n=t(e).split(/-(?!\\)/),a=$(n,t);return $(a,r).reverse()}var n=this.regexp.exec(e);if(!n)return null;t=t||{};var a,i,o,u=this.parameters(),s=u.length,l=this.segments.length-1,c={};if(l!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var f,p;for(a=0;a<l;a++){for(o=u[a],f=this.params[o],p=n[a+1],i=0;i<f.replace.length;i++)f.replace[i].from===p&&(p=f.replace[i].to);p&&f.array===!0&&(p=r(p)),D(p)&&(p=f.type.decode(p)),c[o]=f.value(p)}for(;a<s;a++){for(o=u[a],c[o]=this.params[o].value(t[o]),f=this.params[o],p=t[o],i=0;i<f.replace.length;i++)f.replace[i].from===p&&(p=f.replace[i].to);D(p)&&(p=f.type.decode(p)),c[o]=f.value(p)}return c},m.prototype.parameters=function(e){return D(e)?this.params[e]||null:this.$$paramNames},m.prototype.validates=function(e){return this.params.$$validates(e)},m.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var r=this.segments,n=this.parameters(),a=this.params;if(!this.validates(e))return null;var i,o=!1,u=r.length-1,s=n.length,l=r[0];for(i=0;i<s;i++){var c=i<u,f=n[i],p=a[f],h=p.value(e[f]),v=p.isOptional&&p.type.equals(p.value(),h),d=!!v&&p.squash,m=p.type.encode(h);if(c){var g=r[i+1],y=i+1===u;if(d===!1)null!=m&&(l+=z(m)?$(m,t).join("-"):encodeURIComponent(m)),l+=g;else if(d===!0){var w=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=g.match(w)[1]}else U(d)&&(l+=d+g);y&&p.squash===!0&&"/"===l.slice(-1)&&(l=l.slice(0,-1))}else{if(null==m||v&&d!==!1)continue;if(z(m)||(m=[m]),0===m.length)continue;m=$(m,encodeURIComponent).join("&"+f+"="),l+=(o?"&":"?")+(f+"="+m),o=!0}}return l},g.prototype.is=function(e,t){return!0},g.prototype.encode=function(e,t){return e},g.prototype.decode=function(e,t){return e},g.prototype.equals=function(e,t){return e==t},g.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},g.prototype.pattern=/.*/,g.prototype.toString=function(){return"{Type:"+this.name+"}"},g.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},g.prototype.$asArray=function(e,t){function n(e,t){function n(e,t){return function(){return e[t].apply(e,arguments)}}function a(e){return z(e)?e:D(e)?[e]:[]}function i(e){switch(e.length){case 0:return r;case 1:return"auto"===t?e[0]:e;default:return e}}function o(e){return!e}function u(e,t){return function(r){if(z(r)&&0===r.length)return r;r=a(r);var n=$(r,e);return t===!0?0===h(n,o).length:i(n)}}function s(e){return function(t,r){var n=a(t),i=a(r);if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(!e(n[o],i[o]))return!1;return!0}}this.encode=u(n(e,"encode")),this.decode=u(n(e,"decode")),this.is=u(n(e,"is"),!0),this.equals=s(n(e,"equals")),this.pattern=e.pattern,this.$normalize=u(n(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new n(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",y),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),w.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",w),b.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",b).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state");
}]),S.$inject=[],t.module("ui.router.state").provider("$view",S),t.module("ui.router.state").provider("$uiViewScroll",E),x.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],P.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",x),t.module("ui.router.state").directive("uiView",P),I.$inject=["$state","$timeout"],V.$inject=["$state","$timeout"],M.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",I).directive("uiSrefActive",M).directive("uiSrefActiveEq",M).directive("uiState",V),N.$inject=["$state"],R.$inject=["$state"],t.module("ui.router.state").filter("isState",N).filter("includedByState",R)}(window,window.angular);
var app=angular.module("yangular-grid",[]);app.factory("agSortFactory",function(e){var t,n,a,r,o,i={};return i.setUrl=function(e){t=e},i.setQuerystringNames=function(e,t,i,s){n=e,a=t,r=i,o=s},i.getRowsOnLoad=function(){return e.get(t)},i.getRows=function(i){return e.get(t+"?"+n+"="+i.sort+"&"+a+"="+i.order+"&"+r+"="+i.page+"&"+o+"="+i.size)},i}).directive("yag",function(e){return{restrict:"E",replace:!0,template:'<div id="yag"><div><div class="form-inline"><div class="form-group">Show <select class="form-control" ng-model="size" ng-change="changeSize()"><option value="10">10</option><option value="20">20</option><option value="30">30</option></select>  per page</div></div></div><br/><table class="table table-responsive table-bordered table-striped"><thead><tr yag-sort-head><th ng-repeat="col in config.columns" class="{{col.cssClass}}"><a yag-sort data-name="{{col.key}}" data-order="asc">{{col.name}} <i ng-class="{glyphicon : col.key === sort,\'glyphicon-sort-by-attributes\' : col.key === sort }"></i></a></th></tr></thead><tbody><tr ng-repeat="row in rows" ng-click="rowClick(row)"><td ng-repeat="col in config.columns"><i ng-class="col.renderClass(row[col.key])"></i><span ng-if="!col.render" data-toggle="tooltip" data-placement="top" title="{{row[col.key]}}">{{row[col.key]}}</span><span ng-if="col.render" data-toggle="tooltip" data-placement="top" title="{{col.render(row[col.key])}}">{{col.render(row[col.key])}}</span></td></tr></tbody><tfoot><tr><td colspan="{{config.columns.length}}"><div><span ng-if="size * currentPage < count" class="text-info">Showing {{size * (currentPage - 1) + 1}} to {{size * currentPage}} of {{count}}</span><span ng-if="size * currentPage > count" class="text-info">Showing {{size * (currentPage - 1) + 1}} to {{count}} of {{count}}</span></div></td></tr></tfoot></table><nav><ul class="pagination"><li class="page-item" ng-class="{disabled : currentPage === 1}" ng-click="previous()"><a class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span><span class="sr-only">Previous</span></a></li><li class="page-item" ng-repeat="page in getPageList() track by $index" ng-class="{ active : currentPage == $index+1 }" ng-click="pageNumberClick($index+1)"><a class="page-link">{{$index+1}}</a></li><li class="page-item" ng-class="{disabled : currentPage === totalPages}" ng-click="next()"><a class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span><span class="sr-only">Next</span></a></li></ul></nav><div>',scope:{config:"="},controller:function(t,n,a){e.setUrl(t.config.url),e.setQuerystringNames(t.config.sortQuerystringParam,t.config.orderQuerystringParam,t.config.pageQuerystringParam,t.config.sizeQuerystringParam),this.setOrder=function(e){t.order=e},this.setSort=function(e){t.sort=e},this.setRows=function(e){t.rows=e},this.getCurrentPage=function(){return t.currentPage},this.getPageSize=function(){return t.size},this.getRowObjectName=function(){return t.config.objectName},t.size="10",e.getRowsOnLoad().then(function(e){r(e),t.rows.length>0&&(t.order="asc",t.sort="id")}),t.getPageList=function(){return new Array(t.totalPages)},t.next=function(){t.currentPage!==t.totalPages&&e.getRows({order:t.order,sort:t.sort,page:t.currentPage+1,size:t.size}).then(function(e){r(e)})},t.previous=function(){1!==t.currentPage&&e.getRows({order:t.order,sort:t.sort,page:t.currentPage-1,size:t.size}).then(function(e){r(e)})},t.pageNumberClick=function(n){n!==t.currentPage&&e.getRows({order:t.order,sort:t.sort,page:n,size:t.size}).then(function(e){r(e)})},t.changeSize=function(){t.currentPage=1,e.getRows({order:t.order,sort:t.sort,page:t.currentPage,size:t.size}).then(function(e){r(e)})},t.rowClick=function(e){t.config.onRowClick&&t.config.onRowClick(e)};var r=function(e){t.rows=e.data[t.config.objectName],t.count=e.data.count,t.currentPage=e.data.page,t.size=e.data.size.toString(),t.totalPages=Math.ceil(t.count/t.size)}}}}).directive("yagSortHead",function(){return{restrict:"A",controller:function(e,t,n){this.addCssClass=function(e,n){for(var a="asc"===n?"glyphicon glyphicon-sort-by-attributes":"glyphicon glyphicon-sort-by-attributes-alt",r=t.find("a"),o=0;o<r.length;o++)r[o].getAttribute("data-name")===e?(r[o].getElementsByTagName("i")[0].className="",r[o].getElementsByTagName("i")[0].className=a):r[o].getElementsByTagName("i")[0].className=""}}}}).directive("yagSort",function(e){return{restrict:"A",require:["^yagSortHead","^^yag"],scope:{config:"="},link:function(t,n,a,r){var o=r[0],i=r[1];n.bind("click",function(){var t=a.order,n=a.name;t="asc"===t?"desc":"asc",e.getRows({order:t,sort:n,page:i.getCurrentPage(),size:i.getPageSize()}).then(function(e){i.setRows(e.data[i.getRowObjectName()]),a.$set("order",t),o.addCssClass(n,t),i.setOrder(t),i.setSort(n)})})}}});
var app=angular.module("yg-modal",[]);app.factory("YgModal",function(){var t={},o={};return o.isOpen=!1,t.open=function(t,n){o.title=t,o.body=n,o.isOpen=!0},t.close=function(){o.isOpen=!1},t.getModalState=function(){return o},t.confirm=function(t){o.callback=t},t}),app.directive("ygModal",function(t){return{restrict:"E",scope:{},template:'<div class="yg-modal-overlay" ng-class="{\'is-open\' : isopen === true}"><div class="yg-modal"><div class="yg-modal-header">{{title}}<div class="yg-modal-close" ng-click="close()"></div></div><div class="yg-modal-body">{{body}}<div class="yg-modal-buttons"><button class="confirm" ng-click="confirm()">OK</button><button class="cancel" ng-click="close()">Cancel</button></div></div></div></div>',controller:function(o,n,c){o.state=t.getModalState,o.$watch("state().isOpen",function(n,c){o.title=o.state().title,o.body=o.state().body,o.confirm=function(){o.close(),o.state().callback()},n===!0?o.isopen=!0:o.isopen=!1,o.close=function(){t.close(),o.isopen=!1}})}}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJkZXBlbmRlbmNpZXMubWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lLmRvY3VtZW50P3QoZSwhMCk6ZnVuY3Rpb24oZSl7aWYoIWUuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKFwialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFwiKTtyZXR1cm4gdChlKX06dChlKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSl7dmFyIHQ9XCJsZW5ndGhcImluIGUmJmUubGVuZ3RoLG49Wi50eXBlKGUpO3JldHVyblwiZnVuY3Rpb25cIiE9PW4mJiFaLmlzV2luZG93KGUpJiYoISgxIT09ZS5ub2RlVHlwZXx8IXQpfHwoXCJhcnJheVwiPT09bnx8MD09PXR8fFwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0PjAmJnQtMSBpbiBlKSl9ZnVuY3Rpb24gcihlLHQsbil7aWYoWi5pc0Z1bmN0aW9uKHQpKXJldHVybiBaLmdyZXAoZSxmdW5jdGlvbihlLHIpe3JldHVybiEhdC5jYWxsKGUscixlKSE9PW59KTtpZih0Lm5vZGVUeXBlKXJldHVybiBaLmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PXQhPT1ufSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKGFlLnRlc3QodCkpcmV0dXJuIFouZmlsdGVyKHQsZSxuKTt0PVouZmlsdGVyKHQsZSl9cmV0dXJuIFouZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybiBVLmNhbGwodCxlKT49MCE9PW59KX1mdW5jdGlvbiBpKGUsdCl7Zm9yKDsoZT1lW3RdKSYmMSE9PWUubm9kZVR5cGU7KTtyZXR1cm4gZX1mdW5jdGlvbiBvKGUpe3ZhciB0PWhlW2VdPXt9O3JldHVybiBaLmVhY2goZS5tYXRjaChkZSl8fFtdLGZ1bmN0aW9uKGUsbil7dFtuXT0hMH0pLHR9ZnVuY3Rpb24gcygpe0oucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixzLCExKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIscywhMSksWi5yZWFkeSgpfWZ1bmN0aW9uIGEoKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5jYWNoZT17fSwwLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57fX19KSx0aGlzLmV4cGFuZG89Wi5leHBhbmRvK2EudWlkKyt9ZnVuY3Rpb24gdShlLHQsbil7dmFyIHI7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj1cImRhdGEtXCIrdC5yZXBsYWNlKGJlLFwiLSQxXCIpLnRvTG93ZXJDYXNlKCksbj1lLmdldEF0dHJpYnV0ZShyKSxcInN0cmluZ1wiPT10eXBlb2Ygbil7dHJ5e249XCJ0cnVlXCI9PT1ufHxcImZhbHNlXCIhPT1uJiYoXCJudWxsXCI9PT1uP251bGw6K24rXCJcIj09PW4/K246eGUudGVzdChuKT9aLnBhcnNlSlNPTihuKTpuKX1jYXRjaChlKXt9eWUuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufWZ1bmN0aW9uIGwoKXtyZXR1cm4hMH1mdW5jdGlvbiBjKCl7cmV0dXJuITF9ZnVuY3Rpb24gZigpe3RyeXtyZXR1cm4gSi5hY3RpdmVFbGVtZW50fWNhdGNoKGUpe319ZnVuY3Rpb24gcChlLHQpe3JldHVybiBaLm5vZGVOYW1lKGUsXCJ0YWJsZVwiKSYmWi5ub2RlTmFtZSgxMSE9PXQubm9kZVR5cGU/dDp0LmZpcnN0Q2hpbGQsXCJ0clwiKT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGJvZHlcIilbMF18fGUuYXBwZW5kQ2hpbGQoZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKSk6ZX1mdW5jdGlvbiBkKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZShcInR5cGVcIikpK1wiL1wiK2UudHlwZSxlfWZ1bmN0aW9uIGgoZSl7dmFyIHQ9UGUuZXhlYyhlLnR5cGUpO3JldHVybiB0P2UudHlwZT10WzFdOmUucmVtb3ZlQXR0cmlidXRlKFwidHlwZVwiKSxlfWZ1bmN0aW9uIGcoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspdmUuc2V0KGVbbl0sXCJnbG9iYWxFdmFsXCIsIXR8fHZlLmdldCh0W25dLFwiZ2xvYmFsRXZhbFwiKSl9ZnVuY3Rpb24gbShlLHQpe3ZhciBuLHIsaSxvLHMsYSx1LGw7aWYoMT09PXQubm9kZVR5cGUpe2lmKHZlLmhhc0RhdGEoZSkmJihvPXZlLmFjY2VzcyhlKSxzPXZlLnNldCh0LG8pLGw9by5ldmVudHMpKXtkZWxldGUgcy5oYW5kbGUscy5ldmVudHM9e307Zm9yKGkgaW4gbClmb3Iobj0wLHI9bFtpXS5sZW5ndGg7bjxyO24rKylaLmV2ZW50LmFkZCh0LGksbFtpXVtuXSl9eWUuaGFzRGF0YShlKSYmKGE9eWUuYWNjZXNzKGUpLHU9Wi5leHRlbmQoe30sYSkseWUuc2V0KHQsdSkpfX1mdW5jdGlvbiB2KGUsdCl7dmFyIG49ZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fFwiKlwiKTplLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fFwiKlwiKTpbXTtyZXR1cm4gdm9pZCAwPT09dHx8dCYmWi5ub2RlTmFtZShlLHQpP1oubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24geShlLHQpe3ZhciBuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcImlucHV0XCI9PT1uJiZOZS50ZXN0KGUudHlwZSk/dC5jaGVja2VkPWUuY2hlY2tlZDpcImlucHV0XCIhPT1uJiZcInRleHRhcmVhXCIhPT1ufHwodC5kZWZhdWx0VmFsdWU9ZS5kZWZhdWx0VmFsdWUpfWZ1bmN0aW9uIHgodCxuKXt2YXIgcixpPVoobi5jcmVhdGVFbGVtZW50KHQpKS5hcHBlbmRUbyhuLmJvZHkpLG89ZS5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSYmKHI9ZS5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZShpWzBdKSk/ci5kaXNwbGF5OlouY3NzKGlbMF0sXCJkaXNwbGF5XCIpO3JldHVybiBpLmRldGFjaCgpLG99ZnVuY3Rpb24gYihlKXt2YXIgdD1KLG49JGVbZV07cmV0dXJuIG58fChuPXgoZSx0KSxcIm5vbmVcIiE9PW4mJm58fChXZT0oV2V8fFooXCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+XCIpKS5hcHBlbmRUbyh0LmRvY3VtZW50RWxlbWVudCksdD1XZVswXS5jb250ZW50RG9jdW1lbnQsdC53cml0ZSgpLHQuY2xvc2UoKSxuPXgoZSx0KSxXZS5kZXRhY2goKSksJGVbZV09biksbn1mdW5jdGlvbiB3KGUsdCxuKXt2YXIgcixpLG8scyxhPWUuc3R5bGU7cmV0dXJuIG49bnx8X2UoZSksbiYmKHM9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdKSxuJiYoXCJcIiE9PXN8fFouY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpfHwocz1aLnN0eWxlKGUsdCkpLEJlLnRlc3QocykmJkllLnRlc3QodCkmJihyPWEud2lkdGgsaT1hLm1pbldpZHRoLG89YS5tYXhXaWR0aCxhLm1pbldpZHRoPWEubWF4V2lkdGg9YS53aWR0aD1zLHM9bi53aWR0aCxhLndpZHRoPXIsYS5taW5XaWR0aD1pLGEubWF4V2lkdGg9bykpLHZvaWQgMCE9PXM/cytcIlwiOnN9ZnVuY3Rpb24gVChlLHQpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpP3ZvaWQgZGVsZXRlIHRoaXMuZ2V0Oih0aGlzLmdldD10KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX1mdW5jdGlvbiBDKGUsdCl7aWYodCBpbiBlKXJldHVybiB0O2Zvcih2YXIgbj10WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKSxyPXQsaT1HZS5sZW5ndGg7aS0tOylpZih0PUdlW2ldK24sdCBpbiBlKXJldHVybiB0O3JldHVybiByfWZ1bmN0aW9uIE4oZSx0LG4pe3ZhciByPVhlLmV4ZWModCk7cmV0dXJuIHI/TWF0aC5tYXgoMCxyWzFdLShufHwwKSkrKHJbMl18fFwicHhcIik6dH1mdW5jdGlvbiBrKGUsdCxuLHIsaSl7Zm9yKHZhciBvPW49PT0ocj9cImJvcmRlclwiOlwiY29udGVudFwiKT80Olwid2lkdGhcIj09PXQ/MTowLHM9MDtvPDQ7bys9MilcIm1hcmdpblwiPT09biYmKHMrPVouY3NzKGUsbitUZVtvXSwhMCxpKSkscj8oXCJjb250ZW50XCI9PT1uJiYocy09Wi5jc3MoZSxcInBhZGRpbmdcIitUZVtvXSwhMCxpKSksXCJtYXJnaW5cIiE9PW4mJihzLT1aLmNzcyhlLFwiYm9yZGVyXCIrVGVbb10rXCJXaWR0aFwiLCEwLGkpKSk6KHMrPVouY3NzKGUsXCJwYWRkaW5nXCIrVGVbb10sITAsaSksXCJwYWRkaW5nXCIhPT1uJiYocys9Wi5jc3MoZSxcImJvcmRlclwiK1RlW29dK1wiV2lkdGhcIiwhMCxpKSkpO3JldHVybiBzfWZ1bmN0aW9uIEUoZSx0LG4pe3ZhciByPSEwLGk9XCJ3aWR0aFwiPT09dD9lLm9mZnNldFdpZHRoOmUub2Zmc2V0SGVpZ2h0LG89X2UoZSkscz1cImJvcmRlci1ib3hcIj09PVouY3NzKGUsXCJib3hTaXppbmdcIiwhMSxvKTtpZihpPD0wfHxudWxsPT1pKXtpZihpPXcoZSx0LG8pLChpPDB8fG51bGw9PWkpJiYoaT1lLnN0eWxlW3RdKSxCZS50ZXN0KGkpKXJldHVybiBpO3I9cyYmKFEuYm94U2l6aW5nUmVsaWFibGUoKXx8aT09PWUuc3R5bGVbdF0pLGk9cGFyc2VGbG9hdChpKXx8MH1yZXR1cm4gaStrKGUsdCxufHwocz9cImJvcmRlclwiOlwiY29udGVudFwiKSxyLG8pK1wicHhcIn1mdW5jdGlvbiBTKGUsdCl7Zm9yKHZhciBuLHIsaSxvPVtdLHM9MCxhPWUubGVuZ3RoO3M8YTtzKyspcj1lW3NdLHIuc3R5bGUmJihvW3NdPXZlLmdldChyLFwib2xkZGlzcGxheVwiKSxuPXIuc3R5bGUuZGlzcGxheSx0PyhvW3NdfHxcIm5vbmVcIiE9PW58fChyLnN0eWxlLmRpc3BsYXk9XCJcIiksXCJcIj09PXIuc3R5bGUuZGlzcGxheSYmQ2UocikmJihvW3NdPXZlLmFjY2VzcyhyLFwib2xkZGlzcGxheVwiLGIoci5ub2RlTmFtZSkpKSk6KGk9Q2UociksXCJub25lXCI9PT1uJiZpfHx2ZS5zZXQocixcIm9sZGRpc3BsYXlcIixpP246Wi5jc3MocixcImRpc3BsYXlcIikpKSk7Zm9yKHM9MDtzPGE7cysrKXI9ZVtzXSxyLnN0eWxlJiYodCYmXCJub25lXCIhPT1yLnN0eWxlLmRpc3BsYXkmJlwiXCIhPT1yLnN0eWxlLmRpc3BsYXl8fChyLnN0eWxlLmRpc3BsYXk9dD9vW3NdfHxcIlwiOlwibm9uZVwiKSk7cmV0dXJuIGV9ZnVuY3Rpb24gRChlLHQsbixyLGkpe3JldHVybiBuZXcgRC5wcm90b3R5cGUuaW5pdChlLHQsbixyLGkpfWZ1bmN0aW9uIGooKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe1FlPXZvaWQgMH0pLFFlPVoubm93KCl9ZnVuY3Rpb24gQShlLHQpe3ZhciBuLHI9MCxpPXtoZWlnaHQ6ZX07Zm9yKHQ9dD8xOjA7cjw0O3IrPTItdCluPVRlW3JdLGlbXCJtYXJnaW5cIituXT1pW1wicGFkZGluZ1wiK25dPWU7cmV0dXJuIHQmJihpLm9wYWNpdHk9aS53aWR0aD1lKSxpfWZ1bmN0aW9uIEwoZSx0LG4pe2Zvcih2YXIgcixpPShudFt0XXx8W10pLmNvbmNhdChudFtcIipcIl0pLG89MCxzPWkubGVuZ3RoO288cztvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIHEoZSx0LG4pe3ZhciByLGksbyxzLGEsdSxsLGMsZj10aGlzLHA9e30sZD1lLnN0eWxlLGg9ZS5ub2RlVHlwZSYmQ2UoZSksZz12ZS5nZXQoZSxcImZ4c2hvd1wiKTtuLnF1ZXVlfHwoYT1aLl9xdWV1ZUhvb2tzKGUsXCJmeFwiKSxudWxsPT1hLnVucXVldWVkJiYoYS51bnF1ZXVlZD0wLHU9YS5lbXB0eS5maXJlLGEuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2EudW5xdWV1ZWR8fHUoKX0pLGEudW5xdWV1ZWQrKyxmLmFsd2F5cyhmdW5jdGlvbigpe2YuYWx3YXlzKGZ1bmN0aW9uKCl7YS51bnF1ZXVlZC0tLFoucXVldWUoZSxcImZ4XCIpLmxlbmd0aHx8YS5lbXB0eS5maXJlKCl9KX0pKSwxPT09ZS5ub2RlVHlwZSYmKFwiaGVpZ2h0XCJpbiB0fHxcIndpZHRoXCJpbiB0KSYmKG4ub3ZlcmZsb3c9W2Qub3ZlcmZsb3csZC5vdmVyZmxvd1gsZC5vdmVyZmxvd1ldLGw9Wi5jc3MoZSxcImRpc3BsYXlcIiksYz1cIm5vbmVcIj09PWw/dmUuZ2V0KGUsXCJvbGRkaXNwbGF5XCIpfHxiKGUubm9kZU5hbWUpOmwsXCJpbmxpbmVcIj09PWMmJlwibm9uZVwiPT09Wi5jc3MoZSxcImZsb2F0XCIpJiYoZC5kaXNwbGF5PVwiaW5saW5lLWJsb2NrXCIpKSxuLm92ZXJmbG93JiYoZC5vdmVyZmxvdz1cImhpZGRlblwiLGYuYWx3YXlzKGZ1bmN0aW9uKCl7ZC5vdmVyZmxvdz1uLm92ZXJmbG93WzBdLGQub3ZlcmZsb3dYPW4ub3ZlcmZsb3dbMV0sZC5vdmVyZmxvd1k9bi5vdmVyZmxvd1syXX0pKTtmb3IociBpbiB0KWlmKGk9dFtyXSxLZS5leGVjKGkpKXtpZihkZWxldGUgdFtyXSxvPW98fFwidG9nZ2xlXCI9PT1pLGk9PT0oaD9cImhpZGVcIjpcInNob3dcIikpe2lmKFwic2hvd1wiIT09aXx8IWd8fHZvaWQgMD09PWdbcl0pY29udGludWU7aD0hMH1wW3JdPWcmJmdbcl18fFouc3R5bGUoZSxyKX1lbHNlIGw9dm9pZCAwO2lmKFouaXNFbXB0eU9iamVjdChwKSlcImlubGluZVwiPT09KFwibm9uZVwiPT09bD9iKGUubm9kZU5hbWUpOmwpJiYoZC5kaXNwbGF5PWwpO2Vsc2V7Zz9cImhpZGRlblwiaW4gZyYmKGg9Zy5oaWRkZW4pOmc9dmUuYWNjZXNzKGUsXCJmeHNob3dcIix7fSksbyYmKGcuaGlkZGVuPSFoKSxoP1ooZSkuc2hvdygpOmYuZG9uZShmdW5jdGlvbigpe1ooZSkuaGlkZSgpfSksZi5kb25lKGZ1bmN0aW9uKCl7dmFyIHQ7dmUucmVtb3ZlKGUsXCJmeHNob3dcIik7Zm9yKHQgaW4gcClaLnN0eWxlKGUsdCxwW3RdKX0pO2ZvcihyIGluIHApcz1MKGg/Z1tyXTowLHIsZiksciBpbiBnfHwoZ1tyXT1zLnN0YXJ0LGgmJihzLmVuZD1zLnN0YXJ0LHMuc3RhcnQ9XCJ3aWR0aFwiPT09cnx8XCJoZWlnaHRcIj09PXI/MTowKSl9fWZ1bmN0aW9uIEgoZSx0KXt2YXIgbixyLGksbyxzO2ZvcihuIGluIGUpaWYocj1aLmNhbWVsQ2FzZShuKSxpPXRbcl0sbz1lW25dLFouaXNBcnJheShvKSYmKGk9b1sxXSxvPWVbbl09b1swXSksbiE9PXImJihlW3JdPW8sZGVsZXRlIGVbbl0pLHM9Wi5jc3NIb29rc1tyXSxzJiZcImV4cGFuZFwiaW4gcyl7bz1zLmV4cGFuZChvKSxkZWxldGUgZVtyXTtmb3IobiBpbiBvKW4gaW4gZXx8KGVbbl09b1tuXSx0W25dPWkpfWVsc2UgdFtyXT1pfWZ1bmN0aW9uIE8oZSx0LG4pe3ZhciByLGksbz0wLHM9dHQubGVuZ3RoLGE9Wi5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoaSlyZXR1cm4hMTtmb3IodmFyIHQ9UWV8fGooKSxuPU1hdGgubWF4KDAsbC5zdGFydFRpbWUrbC5kdXJhdGlvbi10KSxyPW4vbC5kdXJhdGlvbnx8MCxvPTEtcixzPTAsdT1sLnR3ZWVucy5sZW5ndGg7czx1O3MrKylsLnR3ZWVuc1tzXS5ydW4obyk7cmV0dXJuIGEubm90aWZ5V2l0aChlLFtsLG8sbl0pLG88MSYmdT9uOihhLnJlc29sdmVXaXRoKGUsW2xdKSwhMSl9LGw9YS5wcm9taXNlKHtlbGVtOmUscHJvcHM6Wi5leHRlbmQoe30sdCksb3B0czpaLmV4dGVuZCghMCx7c3BlY2lhbEVhc2luZzp7fX0sbiksb3JpZ2luYWxQcm9wZXJ0aWVzOnQsb3JpZ2luYWxPcHRpb25zOm4sc3RhcnRUaW1lOlFlfHxqKCksZHVyYXRpb246bi5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24odCxuKXt2YXIgcj1aLlR3ZWVuKGUsbC5vcHRzLHQsbixsLm9wdHMuc3BlY2lhbEVhc2luZ1t0XXx8bC5vcHRzLmVhc2luZyk7cmV0dXJuIGwudHdlZW5zLnB1c2gocikscn0sc3RvcDpmdW5jdGlvbih0KXt2YXIgbj0wLHI9dD9sLnR3ZWVucy5sZW5ndGg6MDtpZihpKXJldHVybiB0aGlzO2ZvcihpPSEwO248cjtuKyspbC50d2VlbnNbbl0ucnVuKDEpO3JldHVybiB0P2EucmVzb2x2ZVdpdGgoZSxbbCx0XSk6YS5yZWplY3RXaXRoKGUsW2wsdF0pLHRoaXN9fSksYz1sLnByb3BzO2ZvcihIKGMsbC5vcHRzLnNwZWNpYWxFYXNpbmcpO288cztvKyspaWYocj10dFtvXS5jYWxsKGwsZSxjLGwub3B0cykpcmV0dXJuIHI7cmV0dXJuIFoubWFwKGMsTCxsKSxaLmlzRnVuY3Rpb24obC5vcHRzLnN0YXJ0KSYmbC5vcHRzLnN0YXJ0LmNhbGwoZSxsKSxaLmZ4LnRpbWVyKFouZXh0ZW5kKHUse2VsZW06ZSxhbmltOmwscXVldWU6bC5vcHRzLnF1ZXVlfSkpLGwucHJvZ3Jlc3MobC5vcHRzLnByb2dyZXNzKS5kb25lKGwub3B0cy5kb25lLGwub3B0cy5jb21wbGV0ZSkuZmFpbChsLm9wdHMuZmFpbCkuYWx3YXlzKGwub3B0cy5hbHdheXMpfWZ1bmN0aW9uIEYoZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7XCJzdHJpbmdcIiE9dHlwZW9mIHQmJihuPXQsdD1cIipcIik7dmFyIHIsaT0wLG89dC50b0xvd2VyQ2FzZSgpLm1hdGNoKGRlKXx8W107aWYoWi5pc0Z1bmN0aW9uKG4pKWZvcig7cj1vW2krK107KVwiK1wiPT09clswXT8ocj1yLnNsaWNlKDEpfHxcIipcIiwoZVtyXT1lW3JdfHxbXSkudW5zaGlmdChuKSk6KGVbcl09ZVtyXXx8W10pLnB1c2gobil9fWZ1bmN0aW9uIFAoZSx0LG4scil7ZnVuY3Rpb24gaShhKXt2YXIgdTtyZXR1cm4gb1thXT0hMCxaLmVhY2goZVthXXx8W10sZnVuY3Rpb24oZSxhKXt2YXIgbD1hKHQsbixyKTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgbHx8c3x8b1tsXT9zPyEodT1sKTp2b2lkIDA6KHQuZGF0YVR5cGVzLnVuc2hpZnQobCksaShsKSwhMSl9KSx1fXZhciBvPXt9LHM9ZT09PXh0O3JldHVybiBpKHQuZGF0YVR5cGVzWzBdKXx8IW9bXCIqXCJdJiZpKFwiKlwiKX1mdW5jdGlvbiBSKGUsdCl7dmFyIG4scixpPVouYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IobiBpbiB0KXZvaWQgMCE9PXRbbl0mJigoaVtuXT9lOnJ8fChyPXt9KSlbbl09dFtuXSk7cmV0dXJuIHImJlouZXh0ZW5kKCEwLGUsciksZX1mdW5jdGlvbiBNKGUsdCxuKXtmb3IodmFyIHIsaSxvLHMsYT1lLmNvbnRlbnRzLHU9ZS5kYXRhVHlwZXM7XCIqXCI9PT11WzBdOyl1LnNoaWZ0KCksdm9pZCAwPT09ciYmKHI9ZS5taW1lVHlwZXx8dC5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSk7aWYocilmb3IoaSBpbiBhKWlmKGFbaV0mJmFbaV0udGVzdChyKSl7dS51bnNoaWZ0KGkpO2JyZWFrfWlmKHVbMF1pbiBuKW89dVswXTtlbHNle2ZvcihpIGluIG4pe2lmKCF1WzBdfHxlLmNvbnZlcnRlcnNbaStcIiBcIit1WzBdXSl7bz1pO2JyZWFrfXN8fChzPWkpfW89b3x8c31pZihvKXJldHVybiBvIT09dVswXSYmdS51bnNoaWZ0KG8pLG5bb119ZnVuY3Rpb24gVyhlLHQsbixyKXt2YXIgaSxvLHMsYSx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKHMgaW4gZS5jb252ZXJ0ZXJzKWxbcy50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbc107Zm9yKG89Yy5zaGlmdCgpO287KWlmKGUucmVzcG9uc2VGaWVsZHNbb10mJihuW2UucmVzcG9uc2VGaWVsZHNbb11dPXQpLCF1JiZyJiZlLmRhdGFGaWx0ZXImJih0PWUuZGF0YUZpbHRlcih0LGUuZGF0YVR5cGUpKSx1PW8sbz1jLnNoaWZ0KCkpaWYoXCIqXCI9PT1vKW89dTtlbHNlIGlmKFwiKlwiIT09dSYmdSE9PW8pe2lmKHM9bFt1K1wiIFwiK29dfHxsW1wiKiBcIitvXSwhcylmb3IoaSBpbiBsKWlmKGE9aS5zcGxpdChcIiBcIiksYVsxXT09PW8mJihzPWxbdStcIiBcIithWzBdXXx8bFtcIiogXCIrYVswXV0pKXtzPT09ITA/cz1sW2ldOmxbaV0hPT0hMCYmKG89YVswXSxjLnVuc2hpZnQoYVsxXSkpO2JyZWFrfWlmKHMhPT0hMClpZihzJiZlLnRocm93cyl0PXModCk7ZWxzZSB0cnl7dD1zKHQpfWNhdGNoKGUpe3JldHVybntzdGF0ZTpcInBhcnNlcmVycm9yXCIsZXJyb3I6cz9lOlwiTm8gY29udmVyc2lvbiBmcm9tIFwiK3UrXCIgdG8gXCIrb319fXJldHVybntzdGF0ZTpcInN1Y2Nlc3NcIixkYXRhOnR9fWZ1bmN0aW9uICQoZSx0LG4scil7dmFyIGk7aWYoWi5pc0FycmF5KHQpKVouZWFjaCh0LGZ1bmN0aW9uKHQsaSl7bnx8TnQudGVzdChlKT9yKGUsaSk6JChlK1wiW1wiKyhcIm9iamVjdFwiPT10eXBlb2YgaT90OlwiXCIpK1wiXVwiLGksbixyKX0pO2Vsc2UgaWYobnx8XCJvYmplY3RcIiE9PVoudHlwZSh0KSlyKGUsdCk7ZWxzZSBmb3IoaSBpbiB0KSQoZStcIltcIitpK1wiXVwiLHRbaV0sbixyKX1mdW5jdGlvbiBJKGUpe3JldHVybiBaLmlzV2luZG93KGUpP2U6OT09PWUubm9kZVR5cGUmJmUuZGVmYXVsdFZpZXd9dmFyIEI9W10sXz1CLnNsaWNlLHo9Qi5jb25jYXQsWD1CLnB1c2gsVT1CLmluZGV4T2YsVj17fSxZPVYudG9TdHJpbmcsRz1WLmhhc093blByb3BlcnR5LFE9e30sSj1lLmRvY3VtZW50LEs9XCIyLjEuNFwiLFo9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFouZm4uaW5pdChlLHQpfSxlZT0vXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csdGU9L14tbXMtLyxuZT0vLShbXFxkYS16XSkvZ2kscmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfTtaLmZuPVoucHJvdG90eXBlPXtqcXVlcnk6Syxjb25zdHJ1Y3RvcjpaLHNlbGVjdG9yOlwiXCIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBfLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZT9lPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdOl8uY2FsbCh0aGlzKX0scHVzaFN0YWNrOmZ1bmN0aW9uKGUpe3ZhciB0PVoubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGUpO3JldHVybiB0LnByZXZPYmplY3Q9dGhpcyx0LmNvbnRleHQ9dGhpcy5jb250ZXh0LHR9LGVhY2g6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWi5lYWNoKHRoaXMsZSx0KX0sbWFwOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhaLm1hcCh0aGlzLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuY2FsbCh0LG4sdCl9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKF8uYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4+PTAmJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKG51bGwpfSxwdXNoOlgsc29ydDpCLnNvcnQsc3BsaWNlOkIuc3BsaWNlfSxaLmV4dGVuZD1aLmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBlLHQsbixyLGksbyxzPWFyZ3VtZW50c1swXXx8e30sYT0xLHU9YXJndW1lbnRzLmxlbmd0aCxsPSExO2ZvcihcImJvb2xlYW5cIj09dHlwZW9mIHMmJihsPXMscz1hcmd1bWVudHNbYV18fHt9LGErKyksXCJvYmplY3RcIj09dHlwZW9mIHN8fFouaXNGdW5jdGlvbihzKXx8KHM9e30pLGE9PT11JiYocz10aGlzLGEtLSk7YTx1O2ErKylpZihudWxsIT0oZT1hcmd1bWVudHNbYV0pKWZvcih0IGluIGUpbj1zW3RdLHI9ZVt0XSxzIT09ciYmKGwmJnImJihaLmlzUGxhaW5PYmplY3Qocil8fChpPVouaXNBcnJheShyKSkpPyhpPyhpPSExLG89biYmWi5pc0FycmF5KG4pP246W10pOm89biYmWi5pc1BsYWluT2JqZWN0KG4pP246e30sc1t0XT1aLmV4dGVuZChsLG8scikpOnZvaWQgMCE9PXImJihzW3RdPXIpKTtyZXR1cm4gc30sWi5leHRlbmQoe2V4cGFuZG86XCJqUXVlcnlcIisoSytNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cXEQvZyxcIlwiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0sbm9vcDpmdW5jdGlvbigpe30saXNGdW5jdGlvbjpmdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PT1aLnR5cGUoZSl9LGlzQXJyYXk6QXJyYXkuaXNBcnJheSxpc1dpbmRvdzpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSxpc051bWVyaWM6ZnVuY3Rpb24oZSl7cmV0dXJuIVouaXNBcnJheShlKSYmZS1wYXJzZUZsb2F0KGUpKzE+PTB9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIj09PVoudHlwZShlKSYmIWUubm9kZVR5cGUmJiFaLmlzV2luZG93KGUpJiYhKGUuY29uc3RydWN0b3ImJiFHLmNhbGwoZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsXCJpc1Byb3RvdHlwZU9mXCIpKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSx0eXBlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP2UrXCJcIjpcIm9iamVjdFwiPT10eXBlb2YgZXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZT9WW1kuY2FsbChlKV18fFwib2JqZWN0XCI6dHlwZW9mIGV9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oZSl7dmFyIHQsbj1ldmFsO2U9Wi50cmltKGUpLGUmJigxPT09ZS5pbmRleE9mKFwidXNlIHN0cmljdFwiKT8odD1KLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksdC50ZXh0PWUsSi5oZWFkLmFwcGVuZENoaWxkKHQpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCkpOm4oZSkpfSxjYW1lbENhc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSh0ZSxcIm1zLVwiKS5yZXBsYWNlKG5lLHJlKX0sbm9kZU5hbWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5ub2RlTmFtZSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpfSxlYWNoOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxvPTAscz1lLmxlbmd0aCxhPW4oZSk7aWYocil7aWYoYSlmb3IoO288cyYmKGk9dC5hcHBseShlW29dLHIpLGkhPT0hMSk7bysrKTtlbHNlIGZvcihvIGluIGUpaWYoaT10LmFwcGx5KGVbb10sciksaT09PSExKWJyZWFrfWVsc2UgaWYoYSlmb3IoO288cyYmKGk9dC5jYWxsKGVbb10sbyxlW29dKSxpIT09ITEpO28rKyk7ZWxzZSBmb3IobyBpbiBlKWlmKGk9dC5jYWxsKGVbb10sbyxlW29dKSxpPT09ITEpYnJlYWs7cmV0dXJuIGV9LHRyaW06ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/XCJcIjooZStcIlwiKS5yZXBsYWNlKGVlLFwiXCIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oZSx0KXt2YXIgcj10fHxbXTtyZXR1cm4gbnVsbCE9ZSYmKG4oT2JqZWN0KGUpKT9aLm1lcmdlKHIsXCJzdHJpbmdcIj09dHlwZW9mIGU/W2VdOmUpOlguY2FsbChyLGUpKSxyfSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09dD8tMTpVLmNhbGwodCxlLG4pfSxtZXJnZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0rdC5sZW5ndGgscj0wLGk9ZS5sZW5ndGg7cjxuO3IrKyllW2krK109dFtyXTtyZXR1cm4gZS5sZW5ndGg9aSxlfSxncmVwOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHIsaT1bXSxvPTAscz1lLmxlbmd0aCxhPSFuO288cztvKyspcj0hdChlW29dLG8pLHIhPT1hJiZpLnB1c2goZVtvXSk7cmV0dXJuIGl9LG1hcDpmdW5jdGlvbihlLHQscil7dmFyIGksbz0wLHM9ZS5sZW5ndGgsYT1uKGUpLHU9W107aWYoYSlmb3IoO288cztvKyspaT10KGVbb10sbyxyKSxudWxsIT1pJiZ1LnB1c2goaSk7ZWxzZSBmb3IobyBpbiBlKWk9dChlW29dLG8sciksbnVsbCE9aSYmdS5wdXNoKGkpO3JldHVybiB6LmFwcGx5KFtdLHUpfSxndWlkOjEscHJveHk6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJihuPWVbdF0sdD1lLGU9biksWi5pc0Z1bmN0aW9uKGUpKXJldHVybiByPV8uY2FsbChhcmd1bWVudHMsMiksaT1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHR8fHRoaXMsci5jb25jYXQoXy5jYWxsKGFyZ3VtZW50cykpKX0saS5ndWlkPWUuZ3VpZD1lLmd1aWR8fFouZ3VpZCsrLGl9LG5vdzpEYXRlLm5vdyxzdXBwb3J0OlF9KSxaLmVhY2goXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGUsdCl7VltcIltvYmplY3QgXCIrdCtcIl1cIl09dC50b0xvd2VyQ2FzZSgpfSk7dmFyIGllPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LG4scil7dmFyIGksbyxzLGEsdSxsLGYsZCxoLGc7aWYoKHQ/dC5vd25lckRvY3VtZW50fHx0OiQpIT09cSYmTCh0KSx0PXR8fHEsbj1ufHxbXSxhPXQubm9kZVR5cGUsXCJzdHJpbmdcIiE9dHlwZW9mIGV8fCFlfHwxIT09YSYmOSE9PWEmJjExIT09YSlyZXR1cm4gbjtpZighciYmTyl7aWYoMTEhPT1hJiYoaT15ZS5leGVjKGUpKSlpZihzPWlbMV0pe2lmKDk9PT1hKXtpZihvPXQuZ2V0RWxlbWVudEJ5SWQocyksIW98fCFvLnBhcmVudE5vZGUpcmV0dXJuIG47aWYoby5pZD09PXMpcmV0dXJuIG4ucHVzaChvKSxufWVsc2UgaWYodC5vd25lckRvY3VtZW50JiYobz10Lm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocykpJiZNKHQsbykmJm8uaWQ9PT1zKXJldHVybiBuLnB1c2gobyksbn1lbHNle2lmKGlbMl0pcmV0dXJuIEsuYXBwbHkobix0LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpKSxuO2lmKChzPWlbM10pJiZ3LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEsuYXBwbHkobix0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUocykpLG59aWYody5xc2EmJighRnx8IUYudGVzdChlKSkpe2lmKGQ9Zj1XLGg9dCxnPTEhPT1hJiZlLDE9PT1hJiZcIm9iamVjdFwiIT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXtmb3IobD1rKGUpLChmPXQuZ2V0QXR0cmlidXRlKFwiaWRcIikpP2Q9Zi5yZXBsYWNlKGJlLFwiXFxcXCQmXCIpOnQuc2V0QXR0cmlidXRlKFwiaWRcIixkKSxkPVwiW2lkPSdcIitkK1wiJ10gXCIsdT1sLmxlbmd0aDt1LS07KWxbdV09ZCtwKGxbdV0pO2g9eGUudGVzdChlKSYmYyh0LnBhcmVudE5vZGUpfHx0LGc9bC5qb2luKFwiLFwiKX1pZihnKXRyeXtyZXR1cm4gSy5hcHBseShuLGgucXVlcnlTZWxlY3RvckFsbChnKSksbn1jYXRjaChlKXt9ZmluYWxseXtmfHx0LnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpfX19cmV0dXJuIFMoZS5yZXBsYWNlKHVlLFwiJDFcIiksdCxuLHIpfWZ1bmN0aW9uIG4oKXtmdW5jdGlvbiBlKG4scil7cmV0dXJuIHQucHVzaChuK1wiIFwiKT5ULmNhY2hlTGVuZ3RoJiZkZWxldGUgZVt0LnNoaWZ0KCldLGVbbitcIiBcIl09cn12YXIgdD1bXTtyZXR1cm4gZX1mdW5jdGlvbiByKGUpe3JldHVybiBlW1ddPSEwLGV9ZnVuY3Rpb24gaShlKXt2YXIgdD1xLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dHJ5e3JldHVybiEhZSh0KX1jYXRjaChlKXtyZXR1cm4hMX1maW5hbGx5e3QucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLHQ9bnVsbH19ZnVuY3Rpb24gbyhlLHQpe2Zvcih2YXIgbj1lLnNwbGl0KFwifFwiKSxyPWUubGVuZ3RoO3ItLTspVC5hdHRySGFuZGxlW25bcl1dPXR9ZnVuY3Rpb24gcyhlLHQpe3ZhciBuPXQmJmUscj1uJiYxPT09ZS5ub2RlVHlwZSYmMT09PXQubm9kZVR5cGUmJih+dC5zb3VyY2VJbmRleHx8ViktKH5lLnNvdXJjZUluZGV4fHxWKTtpZihyKXJldHVybiByO2lmKG4pZm9yKDtuPW4ubmV4dFNpYmxpbmc7KWlmKG49PT10KXJldHVybi0xO3JldHVybiBlPzE6LTF9ZnVuY3Rpb24gYShlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PW4mJnQudHlwZT09PWV9fWZ1bmN0aW9uIHUoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oXCJpbnB1dFwiPT09bnx8XCJidXR0b25cIj09PW4pJiZ0LnR5cGU9PT1lfX1mdW5jdGlvbiBsKGUpe3JldHVybiByKGZ1bmN0aW9uKHQpe3JldHVybiB0PSt0LHIoZnVuY3Rpb24obixyKXtmb3IodmFyIGksbz1lKFtdLG4ubGVuZ3RoLHQpLHM9by5sZW5ndGg7cy0tOyluW2k9b1tzXV0mJihuW2ldPSEocltpXT1uW2ldKSl9KX0pfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZlfWZ1bmN0aW9uIGYoKXt9ZnVuY3Rpb24gcChlKXtmb3IodmFyIHQ9MCxuPWUubGVuZ3RoLHI9XCJcIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gZChlLHQsbil7dmFyIHI9dC5kaXIsaT1uJiZcInBhcmVudE5vZGVcIj09PXIsbz1CKys7cmV0dXJuIHQuZmlyc3Q/ZnVuY3Rpb24odCxuLG8pe2Zvcig7dD10W3JdOylpZigxPT09dC5ub2RlVHlwZXx8aSlyZXR1cm4gZSh0LG4sbyl9OmZ1bmN0aW9uKHQsbixzKXt2YXIgYSx1LGw9W0ksb107aWYocyl7Zm9yKDt0PXRbcl07KWlmKCgxPT09dC5ub2RlVHlwZXx8aSkmJmUodCxuLHMpKXJldHVybiEwfWVsc2UgZm9yKDt0PXRbcl07KWlmKDE9PT10Lm5vZGVUeXBlfHxpKXtpZih1PXRbV118fCh0W1ddPXt9KSwoYT11W3JdKSYmYVswXT09PUkmJmFbMV09PT1vKXJldHVybiBsWzJdPWFbMl07aWYodVtyXT1sLGxbMl09ZSh0LG4scykpcmV0dXJuITB9fX1mdW5jdGlvbiBoKGUpe3JldHVybiBlLmxlbmd0aD4xP2Z1bmN0aW9uKHQsbixyKXtmb3IodmFyIGk9ZS5sZW5ndGg7aS0tOylpZighZVtpXSh0LG4scikpcmV0dXJuITE7cmV0dXJuITB9OmVbMF19ZnVuY3Rpb24gZyhlLG4scil7Zm9yKHZhciBpPTAsbz1uLmxlbmd0aDtpPG87aSsrKXQoZSxuW2ldLHIpO3JldHVybiByfWZ1bmN0aW9uIG0oZSx0LG4scixpKXtmb3IodmFyIG8scz1bXSxhPTAsdT1lLmxlbmd0aCxsPW51bGwhPXQ7YTx1O2ErKykobz1lW2FdKSYmKG4mJiFuKG8scixpKXx8KHMucHVzaChvKSxsJiZ0LnB1c2goYSkpKTtyZXR1cm4gc31mdW5jdGlvbiB2KGUsdCxuLGksbyxzKXtyZXR1cm4gaSYmIWlbV10mJihpPXYoaSkpLG8mJiFvW1ddJiYobz12KG8scykpLHIoZnVuY3Rpb24ocixzLGEsdSl7dmFyIGwsYyxmLHA9W10sZD1bXSxoPXMubGVuZ3RoLHY9cnx8Zyh0fHxcIipcIixhLm5vZGVUeXBlP1thXTphLFtdKSx5PSFlfHwhciYmdD92Om0odixwLGUsYSx1KSx4PW4/b3x8KHI/ZTpofHxpKT9bXTpzOnk7aWYobiYmbih5LHgsYSx1KSxpKWZvcihsPW0oeCxkKSxpKGwsW10sYSx1KSxjPWwubGVuZ3RoO2MtLTspKGY9bFtjXSkmJih4W2RbY11dPSEoeVtkW2NdXT1mKSk7aWYocil7aWYob3x8ZSl7aWYobyl7Zm9yKGw9W10sYz14Lmxlbmd0aDtjLS07KShmPXhbY10pJiZsLnB1c2goeVtjXT1mKTtvKG51bGwseD1bXSxsLHUpfWZvcihjPXgubGVuZ3RoO2MtLTspKGY9eFtjXSkmJihsPW8/ZWUocixmKTpwW2NdKT4tMSYmKHJbbF09IShzW2xdPWYpKX19ZWxzZSB4PW0oeD09PXM/eC5zcGxpY2UoaCx4Lmxlbmd0aCk6eCksbz9vKG51bGwscyx4LHUpOksuYXBwbHkocyx4KX0pfWZ1bmN0aW9uIHkoZSl7Zm9yKHZhciB0LG4scixpPWUubGVuZ3RoLG89VC5yZWxhdGl2ZVtlWzBdLnR5cGVdLHM9b3x8VC5yZWxhdGl2ZVtcIiBcIl0sYT1vPzE6MCx1PWQoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSxzLCEwKSxsPWQoZnVuY3Rpb24oZSl7cmV0dXJuIGVlKHQsZSk+LTF9LHMsITApLGM9W2Z1bmN0aW9uKGUsbixyKXt2YXIgaT0hbyYmKHJ8fG4hPT1EKXx8KCh0PW4pLm5vZGVUeXBlP3UoZSxuLHIpOmwoZSxuLHIpKTtyZXR1cm4gdD1udWxsLGl9XTthPGk7YSsrKWlmKG49VC5yZWxhdGl2ZVtlW2FdLnR5cGVdKWM9W2QoaChjKSxuKV07ZWxzZXtpZihuPVQuZmlsdGVyW2VbYV0udHlwZV0uYXBwbHkobnVsbCxlW2FdLm1hdGNoZXMpLG5bV10pe2ZvcihyPSsrYTtyPGkmJiFULnJlbGF0aXZlW2Vbcl0udHlwZV07cisrKTtyZXR1cm4gdihhPjEmJmgoYyksYT4xJiZwKGUuc2xpY2UoMCxhLTEpLmNvbmNhdCh7dmFsdWU6XCIgXCI9PT1lW2EtMl0udHlwZT9cIipcIjpcIlwifSkpLnJlcGxhY2UodWUsXCIkMVwiKSxuLGE8ciYmeShlLnNsaWNlKGEscikpLHI8aSYmeShlPWUuc2xpY2UocikpLHI8aSYmcChlKSl9Yy5wdXNoKG4pfXJldHVybiBoKGMpfWZ1bmN0aW9uIHgoZSxuKXt2YXIgaT1uLmxlbmd0aD4wLG89ZS5sZW5ndGg+MCxzPWZ1bmN0aW9uKHIscyxhLHUsbCl7dmFyIGMsZixwLGQ9MCxoPVwiMFwiLGc9ciYmW10sdj1bXSx5PUQseD1yfHxvJiZULmZpbmQuVEFHKFwiKlwiLGwpLGI9SSs9bnVsbD09eT8xOk1hdGgucmFuZG9tKCl8fC4xLHc9eC5sZW5ndGg7Zm9yKGwmJihEPXMhPT1xJiZzKTtoIT09dyYmbnVsbCE9KGM9eFtoXSk7aCsrKXtpZihvJiZjKXtmb3IoZj0wO3A9ZVtmKytdOylpZihwKGMscyxhKSl7dS5wdXNoKGMpO2JyZWFrfWwmJihJPWIpfWkmJigoYz0hcCYmYykmJmQtLSxyJiZnLnB1c2goYykpfWlmKGQrPWgsaSYmaCE9PWQpe2ZvcihmPTA7cD1uW2YrK107KXAoZyx2LHMsYSk7aWYocil7aWYoZD4wKWZvcig7aC0tOylnW2hdfHx2W2hdfHwodltoXT1RLmNhbGwodSkpO3Y9bSh2KX1LLmFwcGx5KHUsdiksbCYmIXImJnYubGVuZ3RoPjAmJmQrbi5sZW5ndGg+MSYmdC51bmlxdWVTb3J0KHUpfXJldHVybiBsJiYoST1iLEQ9eSksZ307cmV0dXJuIGk/cihzKTpzfXZhciBiLHcsVCxDLE4sayxFLFMsRCxqLEEsTCxxLEgsTyxGLFAsUixNLFc9XCJzaXp6bGVcIisxKm5ldyBEYXRlLCQ9ZS5kb2N1bWVudCxJPTAsQj0wLF89bigpLHo9bigpLFg9bigpLFU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQmJihBPSEwKSwwfSxWPTE8PDMxLFk9e30uaGFzT3duUHJvcGVydHksRz1bXSxRPUcucG9wLEo9Ry5wdXNoLEs9Ry5wdXNoLFo9Ry5zbGljZSxlZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKylpZihlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX0sdGU9XCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFwiLG5lPVwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixyZT1cIig/OlxcXFxcXFxcLnxbXFxcXHctXXxbXlxcXFx4MDAtXFxcXHhhMF0pK1wiLGllPXJlLnJlcGxhY2UoXCJ3XCIsXCJ3I1wiKSxvZT1cIlxcXFxbXCIrbmUrXCIqKFwiK3JlK1wiKSg/OlwiK25lK1wiKihbKl4kfCF+XT89KVwiK25lK1wiKig/OicoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcInwoXCIraWUrXCIpKXwpXCIrbmUrXCIqXFxcXF1cIixzZT1cIjooXCIrcmUrXCIpKD86XFxcXCgoKCcoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcIil8KCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiK29lK1wiKSopfC4qKVxcXFwpfClcIixhZT1uZXcgUmVnRXhwKG5lK1wiK1wiLFwiZ1wiKSx1ZT1uZXcgUmVnRXhwKFwiXlwiK25lK1wiK3woKD86XnxbXlxcXFxcXFxcXSkoPzpcXFxcXFxcXC4pKilcIituZStcIiskXCIsXCJnXCIpLGxlPW5ldyBSZWdFeHAoXCJeXCIrbmUrXCIqLFwiK25lK1wiKlwiKSxjZT1uZXcgUmVnRXhwKFwiXlwiK25lK1wiKihbPit+XXxcIituZStcIilcIituZStcIipcIiksZmU9bmV3IFJlZ0V4cChcIj1cIituZStcIiooW15cXFxcXSdcXFwiXSo/KVwiK25lK1wiKlxcXFxdXCIsXCJnXCIpLHBlPW5ldyBSZWdFeHAoc2UpLGRlPW5ldyBSZWdFeHAoXCJeXCIraWUrXCIkXCIpLGhlPXtJRDpuZXcgUmVnRXhwKFwiXiMoXCIrcmUrXCIpXCIpLENMQVNTOm5ldyBSZWdFeHAoXCJeXFxcXC4oXCIrcmUrXCIpXCIpLFRBRzpuZXcgUmVnRXhwKFwiXihcIityZS5yZXBsYWNlKFwid1wiLFwidypcIikrXCIpXCIpLEFUVFI6bmV3IFJlZ0V4cChcIl5cIitvZSksUFNFVURPOm5ldyBSZWdFeHAoXCJeXCIrc2UpLENISUxEOm5ldyBSZWdFeHAoXCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXFxcKFwiK25lK1wiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIrbmUrXCIqKD86KFsrLV18KVwiK25lK1wiKihcXFxcZCspfCkpXCIrbmUrXCIqXFxcXCl8KVwiLFwiaVwiKSxib29sOm5ldyBSZWdFeHAoXCJeKD86XCIrdGUrXCIpJFwiLFwiaVwiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cChcIl5cIituZStcIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcXFwoXCIrbmUrXCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiK25lK1wiKlxcXFwpfCkoPz1bXi1dfCQpXCIsXCJpXCIpfSxnZT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLG1lPS9eaFxcZCQvaSx2ZT0vXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLHllPS9eKD86IyhbXFx3LV0rKXwoXFx3Kyl8XFwuKFtcXHctXSspKSQvLHhlPS9bK35dLyxiZT0vJ3xcXFxcL2csd2U9bmV3IFJlZ0V4cChcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiK25lK1wiP3woXCIrbmUrXCIpfC4pXCIsXCJpZ1wiKSxUZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9XCIweFwiK3QtNjU1MzY7cmV0dXJuIHIhPT1yfHxuP3Q6cjwwP1N0cmluZy5mcm9tQ2hhckNvZGUocis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShyPj4xMHw1NTI5NiwxMDIzJnJ8NTYzMjApfSxDZT1mdW5jdGlvbigpe0woKX07dHJ5e0suYXBwbHkoRz1aLmNhbGwoJC5jaGlsZE5vZGVzKSwkLmNoaWxkTm9kZXMpLEdbJC5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7Sz17YXBwbHk6Ry5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtKLmFwcGx5KGUsWi5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5sZW5ndGgscj0wO2VbbisrXT10W3IrK107KTtlLmxlbmd0aD1uLTF9fX13PXQuc3VwcG9ydD17fSxOPXQuaXNYTUw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmKGUub3duZXJEb2N1bWVudHx8ZSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiEhdCYmXCJIVE1MXCIhPT10Lm5vZGVOYW1lfSxMPXQuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWU/ZS5vd25lckRvY3VtZW50fHxlOiQ7cmV0dXJuIHIhPT1xJiY5PT09ci5ub2RlVHlwZSYmci5kb2N1bWVudEVsZW1lbnQ/KHE9cixIPXIuZG9jdW1lbnRFbGVtZW50LG49ci5kZWZhdWx0VmlldyxuJiZuIT09bi50b3AmJihuLmFkZEV2ZW50TGlzdGVuZXI/bi5hZGRFdmVudExpc3RlbmVyKFwidW5sb2FkXCIsQ2UsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLENlKSksTz0hTihyKSx3LmF0dHJpYnV0ZXM9aShmdW5jdGlvbihlKXtyZXR1cm4gZS5jbGFzc05hbWU9XCJpXCIsIWUuZ2V0QXR0cmlidXRlKFwiY2xhc3NOYW1lXCIpfSksdy5nZXRFbGVtZW50c0J5VGFnTmFtZT1pKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFwcGVuZENoaWxkKHIuY3JlYXRlQ29tbWVudChcIlwiKSksIWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLmxlbmd0aH0pLHcuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT12ZS50ZXN0KHIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSksdy5nZXRCeUlkPWkoZnVuY3Rpb24oZSl7cmV0dXJuIEguYXBwZW5kQ2hpbGQoZSkuaWQ9Vywhci5nZXRFbGVtZW50c0J5TmFtZXx8IXIuZ2V0RWxlbWVudHNCeU5hbWUoVykubGVuZ3RofSksdy5nZXRCeUlkPyhULmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmTyl7dmFyIG49dC5nZXRFbGVtZW50QnlJZChlKTtyZXR1cm4gbiYmbi5wYXJlbnROb2RlP1tuXTpbXX19LFQuZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZSh3ZSxUZSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF0dHJpYnV0ZShcImlkXCIpPT09dH19KTooZGVsZXRlIFQuZmluZC5JRCxULmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2Uod2UsVGUpO3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgZS5nZXRBdHRyaWJ1dGVOb2RlJiZlLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtyZXR1cm4gbiYmbi52YWx1ZT09PXR9fSksVC5maW5kLlRBRz13LmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGUsdCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuZ2V0RWxlbWVudHNCeVRhZ05hbWU/dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTp3LnFzYT90LnF1ZXJ5U2VsZWN0b3JBbGwoZSk6dm9pZCAwfTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT0wLG89dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTtpZihcIipcIj09PWUpe2Zvcig7bj1vW2krK107KTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LFQuZmluZC5DTEFTUz13LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYoTylyZXR1cm4gdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGUpfSxQPVtdLEY9W10sKHcucXNhPXZlLnRlc3Qoci5xdWVyeVNlbGVjdG9yQWxsKSkmJihpKGZ1bmN0aW9uKGUpe0guYXBwZW5kQ2hpbGQoZSkuaW5uZXJIVE1MPVwiPGEgaWQ9J1wiK1crXCInPjwvYT48c2VsZWN0IGlkPSdcIitXK1wiLVxcZl0nIG1zYWxsb3djYXB0dXJlPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+XCIsZS5xdWVyeVNlbGVjdG9yQWxsKFwiW21zYWxsb3djYXB0dXJlXj0nJ11cIikubGVuZ3RoJiZGLnB1c2goXCJbKl4kXT1cIituZStcIiooPzonJ3xcXFwiXFxcIilcIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGh8fEYucHVzaChcIlxcXFxbXCIrbmUrXCIqKD86dmFsdWV8XCIrdGUrXCIpXCIpLGUucXVlcnlTZWxlY3RvckFsbChcIltpZH49XCIrVytcIi1dXCIpLmxlbmd0aHx8Ri5wdXNoKFwifj1cIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiOmNoZWNrZWRcIikubGVuZ3RofHxGLnB1c2goXCI6Y2hlY2tlZFwiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJhI1wiK1crXCIrKlwiKS5sZW5ndGh8fEYucHVzaChcIi4jLitbK35dXCIpfSksaShmdW5jdGlvbihlKXt2YXIgdD1yLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTt0LnNldEF0dHJpYnV0ZShcInR5cGVcIixcImhpZGRlblwiKSxlLmFwcGVuZENoaWxkKHQpLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIkRcIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9ZF1cIikubGVuZ3RoJiZGLnB1c2goXCJuYW1lXCIrbmUrXCIqWypeJHwhfl0/PVwiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZW5hYmxlZFwiKS5sZW5ndGh8fEYucHVzaChcIjplbmFibGVkXCIsXCI6ZGlzYWJsZWRcIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKSxGLnB1c2goXCIsLio6XCIpfSkpLCh3Lm1hdGNoZXNTZWxlY3Rvcj12ZS50ZXN0KFI9SC5tYXRjaGVzfHxILndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8SC5tb3pNYXRjaGVzU2VsZWN0b3J8fEgub01hdGNoZXNTZWxlY3Rvcnx8SC5tc01hdGNoZXNTZWxlY3RvcikpJiZpKGZ1bmN0aW9uKGUpe3cuZGlzY29ubmVjdGVkTWF0Y2g9Ui5jYWxsKGUsXCJkaXZcIiksUi5jYWxsKGUsXCJbcyE9JyddOnhcIiksUC5wdXNoKFwiIT1cIixzZSl9KSxGPUYubGVuZ3RoJiZuZXcgUmVnRXhwKEYuam9pbihcInxcIikpLFA9UC5sZW5ndGgmJm5ldyBSZWdFeHAoUC5qb2luKFwifFwiKSksdD12ZS50ZXN0KEguY29tcGFyZURvY3VtZW50UG9zaXRpb24pLE09dHx8dmUudGVzdChILmNvbnRhaW5zKT9mdW5jdGlvbihlLHQpe3ZhciBuPTk9PT1lLm5vZGVUeXBlP2UuZG9jdW1lbnRFbGVtZW50OmUscj10JiZ0LnBhcmVudE5vZGU7cmV0dXJuIGU9PT1yfHwhKCFyfHwxIT09ci5ub2RlVHlwZXx8IShuLmNvbnRhaW5zP24uY29udGFpbnMocik6ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihyKSkpfTpmdW5jdGlvbihlLHQpe2lmKHQpZm9yKDt0PXQucGFyZW50Tm9kZTspaWYodD09PWUpcmV0dXJuITA7cmV0dXJuITF9LFU9dD9mdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiBBPSEwLDA7dmFyIG49IWUuY29tcGFyZURvY3VtZW50UG9zaXRpb24tIXQuY29tcGFyZURvY3VtZW50UG9zaXRpb247cmV0dXJuIG4/bjoobj0oZS5vd25lckRvY3VtZW50fHxlKT09PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSwxJm58fCF3LnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09PXJ8fGUub3duZXJEb2N1bWVudD09PSQmJk0oJCxlKT8tMTp0PT09cnx8dC5vd25lckRvY3VtZW50PT09JCYmTSgkLHQpPzE6aj9lZShqLGUpLWVlKGosdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIEE9ITAsMDt2YXIgbixpPTAsbz1lLnBhcmVudE5vZGUsYT10LnBhcmVudE5vZGUsdT1bZV0sbD1bdF07aWYoIW98fCFhKXJldHVybiBlPT09cj8tMTp0PT09cj8xOm8/LTE6YT8xOmo/ZWUoaixlKS1lZShqLHQpOjA7aWYobz09PWEpcmV0dXJuIHMoZSx0KTtmb3Iobj1lO249bi5wYXJlbnROb2RlOyl1LnVuc2hpZnQobik7Zm9yKG49dDtuPW4ucGFyZW50Tm9kZTspbC51bnNoaWZ0KG4pO2Zvcig7dVtpXT09PWxbaV07KWkrKztyZXR1cm4gaT9zKHVbaV0sbFtpXSk6dVtpXT09PSQ/LTE6bFtpXT09PSQ/MTowfSxyKTpxfSx0Lm1hdGNoZXM9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdChlLG51bGwsbnVsbCxuKX0sdC5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oZSxuKXtpZigoZS5vd25lckRvY3VtZW50fHxlKSE9PXEmJkwoZSksbj1uLnJlcGxhY2UoZmUsXCI9JyQxJ11cIiksdy5tYXRjaGVzU2VsZWN0b3ImJk8mJighUHx8IVAudGVzdChuKSkmJighRnx8IUYudGVzdChuKSkpdHJ5e3ZhciByPVIuY2FsbChlLG4pO2lmKHJ8fHcuZGlzY29ubmVjdGVkTWF0Y2h8fGUuZG9jdW1lbnQmJjExIT09ZS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gcn1jYXRjaChlKXt9cmV0dXJuIHQobixxLG51bGwsW2VdKS5sZW5ndGg+MH0sdC5jb250YWlucz1mdW5jdGlvbihlLHQpe3JldHVybihlLm93bmVyRG9jdW1lbnR8fGUpIT09cSYmTChlKSxNKGUsdCl9LHQuYXR0cj1mdW5jdGlvbihlLHQpeyhlLm93bmVyRG9jdW1lbnR8fGUpIT09cSYmTChlKTt2YXIgbj1ULmF0dHJIYW5kbGVbdC50b0xvd2VyQ2FzZSgpXSxyPW4mJlkuY2FsbChULmF0dHJIYW5kbGUsdC50b0xvd2VyQ2FzZSgpKT9uKGUsdCwhTyk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1yP3I6dy5hdHRyaWJ1dGVzfHwhTz9lLmdldEF0dHJpYnV0ZSh0KToocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOm51bGx9LHQuZXJyb3I9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogXCIrZSl9LHQudW5pcXVlU29ydD1mdW5jdGlvbihlKXt2YXIgdCxuPVtdLHI9MCxpPTA7aWYoQT0hdy5kZXRlY3REdXBsaWNhdGVzLGo9IXcuc29ydFN0YWJsZSYmZS5zbGljZSgwKSxlLnNvcnQoVSksQSl7Zm9yKDt0PWVbaSsrXTspdD09PWVbaV0mJihyPW4ucHVzaChpKSk7Zm9yKDtyLS07KWUuc3BsaWNlKG5bcl0sMSl9cmV0dXJuIGo9bnVsbCxlfSxDPXQuZ2V0VGV4dD1mdW5jdGlvbihlKXt2YXIgdCxuPVwiXCIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUudGV4dENvbnRlbnQpcmV0dXJuIGUudGV4dENvbnRlbnQ7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKW4rPUMoZSl9ZWxzZSBpZigzPT09aXx8ND09PWkpcmV0dXJuIGUubm9kZVZhbHVlfWVsc2UgZm9yKDt0PWVbcisrXTspbis9Qyh0KTtyZXR1cm4gbn0sVD10LnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOnIsbWF0Y2g6aGUsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOntcIj5cIjp7ZGlyOlwicGFyZW50Tm9kZVwiLGZpcnN0OiEwfSxcIiBcIjp7ZGlyOlwicGFyZW50Tm9kZVwifSxcIitcIjp7ZGlyOlwicHJldmlvdXNTaWJsaW5nXCIsZmlyc3Q6ITB9LFwiflwiOntkaXI6XCJwcmV2aW91c1NpYmxpbmdcIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXT1lWzFdLnJlcGxhY2Uod2UsVGUpLGVbM109KGVbM118fGVbNF18fGVbNV18fFwiXCIpLnJlcGxhY2Uod2UsVGUpLFwifj1cIj09PWVbMl0mJihlWzNdPVwiIFwiK2VbM10rXCIgXCIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLFwibnRoXCI9PT1lWzFdLnNsaWNlKDAsMyk/KGVbM118fHQuZXJyb3IoZVswXSksZVs0XT0rKGVbNF0/ZVs1XSsoZVs2XXx8MSk6MiooXCJldmVuXCI9PT1lWzNdfHxcIm9kZFwiPT09ZVszXSkpLGVbNV09KyhlWzddK2VbOF18fFwib2RkXCI9PT1lWzNdKSk6ZVszXSYmdC5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gaGUuQ0hJTEQudGVzdChlWzBdKT9udWxsOihlWzNdP2VbMl09ZVs0XXx8ZVs1XXx8XCJcIjpuJiZwZS50ZXN0KG4pJiYodD1rKG4sITApKSYmKHQ9bi5pbmRleE9mKFwiKVwiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHdlLFRlKS50b0xvd2VyQ2FzZSgpO3JldHVyblwiKlwiPT09ZT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihlKXtyZXR1cm4gZS5ub2RlTmFtZSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dH19LENMQVNTOmZ1bmN0aW9uKGUpe3ZhciB0PV9bZStcIiBcIl07cmV0dXJuIHR8fCh0PW5ldyBSZWdFeHAoXCIoXnxcIituZStcIilcIitlK1wiKFwiK25lK1wifCQpXCIpKSYmXyhlLGZ1bmN0aW9uKGUpe3JldHVybiB0LnRlc3QoXCJzdHJpbmdcIj09dHlwZW9mIGUuY2xhc3NOYW1lJiZlLmNsYXNzTmFtZXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKX0pfSxBVFRSOmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gZnVuY3Rpb24oaSl7dmFyIG89dC5hdHRyKGksZSk7cmV0dXJuIG51bGw9PW8/XCIhPVwiPT09bjohbnx8KG8rPVwiXCIsXCI9XCI9PT1uP289PT1yOlwiIT1cIj09PW4/byE9PXI6XCJePVwiPT09bj9yJiYwPT09by5pbmRleE9mKHIpOlwiKj1cIj09PW4/ciYmby5pbmRleE9mKHIpPi0xOlwiJD1cIj09PW4/ciYmby5zbGljZSgtci5sZW5ndGgpPT09cjpcIn49XCI9PT1uPyhcIiBcIitvLnJlcGxhY2UoYWUsXCIgXCIpK1wiIFwiKS5pbmRleE9mKHIpPi0xOlwifD1cIj09PW4mJihvPT09cnx8by5zbGljZSgwLHIubGVuZ3RoKzEpPT09citcIi1cIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbz1cIm50aFwiIT09ZS5zbGljZSgwLDMpLHM9XCJsYXN0XCIhPT1lLnNsaWNlKC00KSxhPVwib2YtdHlwZVwiPT09dDtyZXR1cm4gMT09PXImJjA9PT1pP2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbih0LG4sdSl7dmFyIGwsYyxmLHAsZCxoLGc9byE9PXM/XCJuZXh0U2libGluZ1wiOlwicHJldmlvdXNTaWJsaW5nXCIsbT10LnBhcmVudE5vZGUsdj1hJiZ0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkseT0hdSYmIWE7aWYobSl7aWYobyl7Zm9yKDtnOyl7Zm9yKGY9dDtmPWZbZ107KWlmKGE/Zi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09djoxPT09Zi5ub2RlVHlwZSlyZXR1cm4hMTtoPWc9XCJvbmx5XCI9PT1lJiYhaCYmXCJuZXh0U2libGluZ1wifXJldHVybiEwfWlmKGg9W3M/bS5maXJzdENoaWxkOm0ubGFzdENoaWxkXSxzJiZ5KXtmb3IoYz1tW1ddfHwobVtXXT17fSksbD1jW2VdfHxbXSxkPWxbMF09PT1JJiZsWzFdLHA9bFswXT09PUkmJmxbMl0sZj1kJiZtLmNoaWxkTm9kZXNbZF07Zj0rK2QmJmYmJmZbZ118fChwPWQ9MCl8fGgucG9wKCk7KWlmKDE9PT1mLm5vZGVUeXBlJiYrK3AmJmY9PT10KXtjW2VdPVtJLGQscF07YnJlYWt9fWVsc2UgaWYoeSYmKGw9KHRbV118fCh0W1ddPXt9KSlbZV0pJiZsWzBdPT09SSlwPWxbMV07ZWxzZSBmb3IoOyhmPSsrZCYmZiYmZltnXXx8KHA9ZD0wKXx8aC5wb3AoKSkmJigoYT9mLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPT12OjEhPT1mLm5vZGVUeXBlKXx8ISsrcHx8KHkmJigoZltXXXx8KGZbV109e30pKVtlXT1bSSxwXSksZiE9PXQpKTspO3JldHVybiBwLT1pLHA9PT1yfHxwJXI9PT0wJiZwL3I+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbil7dmFyIGksbz1ULnBzZXVkb3NbZV18fFQuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHx0LmVycm9yKFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIitlKTtyZXR1cm4gb1tXXT9vKG4pOm8ubGVuZ3RoPjE/KGk9W2UsZSxcIlwiLG5dLFQuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP3IoZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT1vKGUsbikscz1pLmxlbmd0aDtzLS07KXI9ZWUoZSxpW3NdKSxlW3JdPSEodFtyXT1pW3NdKX0pOmZ1bmN0aW9uKGUpe3JldHVybiBvKGUsMCxpKX0pOm99fSxwc2V1ZG9zOntub3Q6cihmdW5jdGlvbihlKXt2YXIgdD1bXSxuPVtdLGk9RShlLnJlcGxhY2UodWUsXCIkMVwiKSk7cmV0dXJuIGlbV10/cihmdW5jdGlvbihlLHQsbixyKXtmb3IodmFyIG8scz1pKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO2EtLTspKG89c1thXSkmJihlW2FdPSEodFthXT1vKSl9KTpmdW5jdGlvbihlLHIsbyl7cmV0dXJuIHRbMF09ZSxpKHQsbnVsbCxvLG4pLHRbMF09bnVsbCwhbi5wb3AoKX19KSxoYXM6cihmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQoZSxuKS5sZW5ndGg+MH19KSxjb250YWluczpyKGZ1bmN0aW9uKGUpe3JldHVybiBlPWUucmVwbGFjZSh3ZSxUZSksZnVuY3Rpb24odCl7cmV0dXJuKHQudGV4dENvbnRlbnR8fHQuaW5uZXJUZXh0fHxDKHQpKS5pbmRleE9mKGUpPi0xfX0pLGxhbmc6cihmdW5jdGlvbihlKXtyZXR1cm4gZGUudGVzdChlfHxcIlwiKXx8dC5lcnJvcihcInVuc3VwcG9ydGVkIGxhbmc6IFwiK2UpLGU9ZS5yZXBsYWNlKHdlLFRlKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKHQpe3ZhciBuO2RvIGlmKG49Tz90Lmxhbmc6dC5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKXx8dC5nZXRBdHRyaWJ1dGUoXCJsYW5nXCIpKXJldHVybiBuPW4udG9Mb3dlckNhc2UoKSxuPT09ZXx8MD09PW4uaW5kZXhPZihlK1wiLVwiKTt3aGlsZSgodD10LnBhcmVudE5vZGUpJiYxPT09dC5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKHQpe3ZhciBuPWUubG9jYXRpb24mJmUubG9jYXRpb24uaGFzaDtyZXR1cm4gbiYmbi5zbGljZSgxKT09PXQuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1IfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PXEuYWN0aXZlRWxlbWVudCYmKCFxLmhhc0ZvY3VzfHxxLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLmRpc2FibGVkPT09ITF9LGRpc2FibGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLmRpc2FibGVkPT09ITB9LGNoZWNrZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PXQmJiEhZS5jaGVja2VkfHxcIm9wdGlvblwiPT09dCYmISFlLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxlLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKGUpe2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylpZihlLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihlKXtyZXR1cm4hVC5wc2V1ZG9zLmVtcHR5KGUpfSxoZWFkZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG1lLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBnZS50ZXN0KGUubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PXQmJlwiYnV0dG9uXCI9PT1lLnR5cGV8fFwiYnV0dG9uXCI9PT10fSx0ZXh0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVyblwiaW5wdXRcIj09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmXCJ0ZXh0XCI9PT1lLnR5cGUmJihudWxsPT0odD1lLmdldEF0dHJpYnV0ZShcInR5cGVcIikpfHxcInRleHRcIj09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OmwoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0OmwoZnVuY3Rpb24oZSx0KXtyZXR1cm5bdC0xXX0pLGVxOmwoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjpsKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjx0O24rPTIpZS5wdXNoKG4pO3JldHVybiBlfSksb2RkOmwoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MTtuPHQ7bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxsdDpsKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDpuOy0tcj49MDspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6bChmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPW48MD9uK3Q6bjsrK3I8dDspZS5wdXNoKHIpO3JldHVybiBlfSl9fSxULnBzZXVkb3MubnRoPVQucHNldWRvcy5lcTtmb3IoYiBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSlULnBzZXVkb3NbYl09YShiKTtmb3IoYiBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KVQucHNldWRvc1tiXT11KGIpO3JldHVybiBmLnByb3RvdHlwZT1ULmZpbHRlcnM9VC5wc2V1ZG9zLFQuc2V0RmlsdGVycz1uZXcgZixrPXQudG9rZW5pemU9ZnVuY3Rpb24oZSxuKXt2YXIgcixpLG8scyxhLHUsbCxjPXpbZStcIiBcIl07aWYoYylyZXR1cm4gbj8wOmMuc2xpY2UoMCk7Zm9yKGE9ZSx1PVtdLGw9VC5wcmVGaWx0ZXI7YTspe3ImJiEoaT1sZS5leGVjKGEpKXx8KGkmJihhPWEuc2xpY2UoaVswXS5sZW5ndGgpfHxhKSx1LnB1c2gobz1bXSkpLHI9ITEsKGk9Y2UuZXhlYyhhKSkmJihyPWkuc2hpZnQoKSxvLnB1c2goe3ZhbHVlOnIsdHlwZTppWzBdLnJlcGxhY2UodWUsXCIgXCIpfSksYT1hLnNsaWNlKHIubGVuZ3RoKSk7Zm9yKHMgaW4gVC5maWx0ZXIpIShpPWhlW3NdLmV4ZWMoYSkpfHxsW3NdJiYhKGk9bFtzXShpKSl8fChyPWkuc2hpZnQoKSxvLnB1c2goe3ZhbHVlOnIsdHlwZTpzLG1hdGNoZXM6aX0pLGE9YS5zbGljZShyLmxlbmd0aCkpO2lmKCFyKWJyZWFrfXJldHVybiBuP2EubGVuZ3RoOmE/dC5lcnJvcihlKTp6KGUsdSkuc2xpY2UoMCl9LEU9dC5jb21waWxlPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPVtdLG89WFtlK1wiIFwiXTtpZighbyl7Zm9yKHR8fCh0PWsoZSkpLG49dC5sZW5ndGg7bi0tOylvPXkodFtuXSksb1tXXT9yLnB1c2gobyk6aS5wdXNoKG8pO289WChlLHgoaSxyKSksby5zZWxlY3Rvcj1lfXJldHVybiBvfSxTPXQuc2VsZWN0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8scyxhLHUsbD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlLGY9IXImJmsoZT1sLnNlbGVjdG9yfHxlKTtpZihuPW58fFtdLDE9PT1mLmxlbmd0aCl7aWYobz1mWzBdPWZbMF0uc2xpY2UoMCksby5sZW5ndGg+MiYmXCJJRFwiPT09KHM9b1swXSkudHlwZSYmdy5nZXRCeUlkJiY5PT09dC5ub2RlVHlwZSYmTyYmVC5yZWxhdGl2ZVtvWzFdLnR5cGVdKXtpZih0PShULmZpbmQuSUQocy5tYXRjaGVzWzBdLnJlcGxhY2Uod2UsVGUpLHQpfHxbXSlbMF0sIXQpcmV0dXJuIG47bCYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2Uoby5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9Zm9yKGk9aGUubmVlZHNDb250ZXh0LnRlc3QoZSk/MDpvLmxlbmd0aDtpLS0mJihzPW9baV0sIVQucmVsYXRpdmVbYT1zLnR5cGVdKTspaWYoKHU9VC5maW5kW2FdKSYmKHI9dShzLm1hdGNoZXNbMF0ucmVwbGFjZSh3ZSxUZSkseGUudGVzdChvWzBdLnR5cGUpJiZjKHQucGFyZW50Tm9kZSl8fHQpKSl7aWYoby5zcGxpY2UoaSwxKSxlPXIubGVuZ3RoJiZwKG8pLCFlKXJldHVybiBLLmFwcGx5KG4sciksbjticmVha319cmV0dXJuKGx8fEUoZSxmKSkocix0LCFPLG4seGUudGVzdChlKSYmYyh0LnBhcmVudE5vZGUpfHx0KSxufSx3LnNvcnRTdGFibGU9Vy5zcGxpdChcIlwiKS5zb3J0KFUpLmpvaW4oXCJcIik9PT1XLHcuZGV0ZWN0RHVwbGljYXRlcz0hIUEsTCgpLHcuc29ydERldGFjaGVkPWkoZnVuY3Rpb24oZSl7cmV0dXJuIDEmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihxLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpfSksaShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9XCI8YSBocmVmPScjJz48L2E+XCIsXCIjXCI9PT1lLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKX0pfHxvKFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLGZ1bmN0aW9uKGUsdCxuKXtpZighbilyZXR1cm4gZS5nZXRBdHRyaWJ1dGUodCxcInR5cGVcIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksdy5hdHRyaWJ1dGVzJiZpKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD1cIjxpbnB1dC8+XCIsZS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsXCJcIiksXCJcIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKX0pfHxvKFwidmFsdWVcIixmdW5jdGlvbihlLHQsbil7aWYoIW4mJlwiaW5wdXRcIj09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5kZWZhdWx0VmFsdWV9KSxpKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpfSl8fG8odGUsZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKCFuKXJldHVybiBlW3RdPT09ITA/dC50b0xvd2VyQ2FzZSgpOihyPWUuZ2V0QXR0cmlidXRlTm9kZSh0KSkmJnIuc3BlY2lmaWVkP3IudmFsdWU6bnVsbH0pLHR9KGUpO1ouZmluZD1pZSxaLmV4cHI9aWUuc2VsZWN0b3JzLFouZXhwcltcIjpcIl09Wi5leHByLnBzZXVkb3MsWi51bmlxdWU9aWUudW5pcXVlU29ydCxaLnRleHQ9aWUuZ2V0VGV4dCxaLmlzWE1MRG9jPWllLmlzWE1MLFouY29udGFpbnM9aWUuY29udGFpbnM7dmFyIG9lPVouZXhwci5tYXRjaC5uZWVkc0NvbnRleHQsc2U9L148KFxcdyspXFxzKlxcLz8+KD86PFxcL1xcMT58KSQvLGFlPS9eLlteOiNcXFtcXC4sXSokLztaLmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9XCI6bm90KFwiK2UrXCIpXCIpLDE9PT10Lmxlbmd0aCYmMT09PXIubm9kZVR5cGU/Wi5maW5kLm1hdGNoZXNTZWxlY3RvcihyLGUpP1tyXTpbXTpaLmZpbmQubWF0Y2hlcyhlLFouZ3JlcCh0LGZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZX0pKX0sWi5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLmxlbmd0aCxyPVtdLGk9dGhpcztpZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2soWihlKS5maWx0ZXIoZnVuY3Rpb24oKXtcbmZvcih0PTA7dDxuO3QrKylpZihaLmNvbnRhaW5zKGlbdF0sdGhpcykpcmV0dXJuITB9KSk7Zm9yKHQ9MDt0PG47dCsrKVouZmluZChlLGlbdF0scik7cmV0dXJuIHI9dGhpcy5wdXNoU3RhY2sobj4xP1oudW5pcXVlKHIpOnIpLHIuc2VsZWN0b3I9dGhpcy5zZWxlY3Rvcj90aGlzLnNlbGVjdG9yK1wiIFwiK2U6ZSxyfSxmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHIodGhpcyxlfHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHIodGhpcyxlfHxbXSwhMCkpfSxpczpmdW5jdGlvbihlKXtyZXR1cm4hIXIodGhpcyxcInN0cmluZ1wiPT10eXBlb2YgZSYmb2UudGVzdChlKT9aKGUpOmV8fFtdLCExKS5sZW5ndGh9fSk7dmFyIHVlLGxlPS9eKD86XFxzKig8W1xcd1xcV10rPilbXj5dKnwjKFtcXHctXSopKSQvLGNlPVouZm4uaW5pdD1mdW5jdGlvbihlLHQpe3ZhciBuLHI7aWYoIWUpcmV0dXJuIHRoaXM7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe2lmKG49XCI8XCI9PT1lWzBdJiZcIj5cIj09PWVbZS5sZW5ndGgtMV0mJmUubGVuZ3RoPj0zP1tudWxsLGUsbnVsbF06bGUuZXhlYyhlKSwhbnx8IW5bMV0mJnQpcmV0dXJuIXR8fHQuanF1ZXJ5Pyh0fHx1ZSkuZmluZChlKTp0aGlzLmNvbnN0cnVjdG9yKHQpLmZpbmQoZSk7aWYoblsxXSl7aWYodD10IGluc3RhbmNlb2YgWj90WzBdOnQsWi5tZXJnZSh0aGlzLFoucGFyc2VIVE1MKG5bMV0sdCYmdC5ub2RlVHlwZT90Lm93bmVyRG9jdW1lbnR8fHQ6SiwhMCkpLHNlLnRlc3QoblsxXSkmJlouaXNQbGFpbk9iamVjdCh0KSlmb3IobiBpbiB0KVouaXNGdW5jdGlvbih0aGlzW25dKT90aGlzW25dKHRbbl0pOnRoaXMuYXR0cihuLHRbbl0pO3JldHVybiB0aGlzfXJldHVybiByPUouZ2V0RWxlbWVudEJ5SWQoblsyXSksciYmci5wYXJlbnROb2RlJiYodGhpcy5sZW5ndGg9MSx0aGlzWzBdPXIpLHRoaXMuY29udGV4dD1KLHRoaXMuc2VsZWN0b3I9ZSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzLmNvbnRleHQ9dGhpc1swXT1lLHRoaXMubGVuZ3RoPTEsdGhpcyk6Wi5pc0Z1bmN0aW9uKGUpP1widW5kZWZpbmVkXCIhPXR5cGVvZiB1ZS5yZWFkeT91ZS5yZWFkeShlKTplKFopOih2b2lkIDAhPT1lLnNlbGVjdG9yJiYodGhpcy5zZWxlY3Rvcj1lLnNlbGVjdG9yLHRoaXMuY29udGV4dD1lLmNvbnRleHQpLFoubWFrZUFycmF5KGUsdGhpcykpfTtjZS5wcm90b3R5cGU9Wi5mbix1ZT1aKEopO3ZhciBmZT0vXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxwZT17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtaLmV4dGVuZCh7ZGlyOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT12b2lkIDAhPT1uOyhlPWVbdF0pJiY5IT09ZS5ub2RlVHlwZTspaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJlooZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxzaWJsaW5nOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufX0pLFouZm4uZXh0ZW5kKHtoYXM6ZnVuY3Rpb24oZSl7dmFyIHQ9WihlLHRoaXMpLG49dC5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTxuO2UrKylpZihaLmNvbnRhaW5zKHRoaXMsdFtlXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLHM9b2UudGVzdChlKXx8XCJzdHJpbmdcIiE9dHlwZW9mIGU/WihlLHR8fHRoaXMuY29udGV4dCk6MDtyPGk7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKHM/cy5pbmRleChuKT4tMToxPT09bi5ub2RlVHlwZSYmWi5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhvLmxlbmd0aD4xP1oudW5pcXVlKG8pOm8pfSxpbmRleDpmdW5jdGlvbihlKXtyZXR1cm4gZT9cInN0cmluZ1wiPT10eXBlb2YgZT9VLmNhbGwoWihlKSx0aGlzWzBdKTpVLmNhbGwodGhpcyxlLmpxdWVyeT9lWzBdOmUpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFoudW5pcXVlKFoubWVyZ2UodGhpcy5nZXQoKSxaKGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pLFouZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gWi5kaXIoZSxcInBhcmVudE5vZGVcIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFouZGlyKGUsXCJwYXJlbnROb2RlXCIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSxcIm5leHRTaWJsaW5nXCIpfSxwcmV2OmZ1bmN0aW9uKGUpe3JldHVybiBpKGUsXCJwcmV2aW91c1NpYmxpbmdcIil9LG5leHRBbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIFouZGlyKGUsXCJuZXh0U2libGluZ1wiKX0scHJldkFsbDpmdW5jdGlvbihlKXtyZXR1cm4gWi5kaXIoZSxcInByZXZpb3VzU2libGluZ1wiKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gWi5kaXIoZSxcIm5leHRTaWJsaW5nXCIsbil9LHByZXZVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFouZGlyKGUsXCJwcmV2aW91c1NpYmxpbmdcIixuKX0sc2libGluZ3M6ZnVuY3Rpb24oZSl7cmV0dXJuIFouc2libGluZygoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIFouc2libGluZyhlLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb250ZW50RG9jdW1lbnR8fFoubWVyZ2UoW10sZS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKGUsdCl7Wi5mbltlXT1mdW5jdGlvbihuLHIpe3ZhciBpPVoubWFwKHRoaXMsdCxuKTtyZXR1cm5cIlVudGlsXCIhPT1lLnNsaWNlKC01KSYmKHI9biksciYmXCJzdHJpbmdcIj09dHlwZW9mIHImJihpPVouZmlsdGVyKHIsaSkpLHRoaXMubGVuZ3RoPjEmJihwZVtlXXx8Wi51bmlxdWUoaSksZmUudGVzdChlKSYmaS5yZXZlcnNlKCkpLHRoaXMucHVzaFN0YWNrKGkpfX0pO3ZhciBkZT0vXFxTKy9nLGhlPXt9O1ouQ2FsbGJhY2tzPWZ1bmN0aW9uKGUpe2U9XCJzdHJpbmdcIj09dHlwZW9mIGU/aGVbZV18fG8oZSk6Wi5leHRlbmQoe30sZSk7dmFyIHQsbixyLGkscyxhLHU9W10sbD0hZS5vbmNlJiZbXSxjPWZ1bmN0aW9uKG8pe2Zvcih0PWUubWVtb3J5JiZvLG49ITAsYT1pfHwwLGk9MCxzPXUubGVuZ3RoLHI9ITA7dSYmYTxzO2ErKylpZih1W2FdLmFwcGx5KG9bMF0sb1sxXSk9PT0hMSYmZS5zdG9wT25GYWxzZSl7dD0hMTticmVha31yPSExLHUmJihsP2wubGVuZ3RoJiZjKGwuc2hpZnQoKSk6dD91PVtdOmYuZGlzYWJsZSgpKX0sZj17YWRkOmZ1bmN0aW9uKCl7aWYodSl7dmFyIG49dS5sZW5ndGg7IWZ1bmN0aW9uIHQobil7Wi5lYWNoKG4sZnVuY3Rpb24obixyKXt2YXIgaT1aLnR5cGUocik7XCJmdW5jdGlvblwiPT09aT9lLnVuaXF1ZSYmZi5oYXMocil8fHUucHVzaChyKTpyJiZyLmxlbmd0aCYmXCJzdHJpbmdcIiE9PWkmJnQocil9KX0oYXJndW1lbnRzKSxyP3M9dS5sZW5ndGg6dCYmKGk9bixjKHQpKX1yZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIHUmJlouZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXtmb3IodmFyIG47KG49Wi5pbkFycmF5KHQsdSxuKSk+LTE7KXUuc3BsaWNlKG4sMSksciYmKG48PXMmJnMtLSxuPD1hJiZhLS0pfSksdGhpc30saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBlP1ouaW5BcnJheShlLHUpPi0xOiEoIXV8fCF1Lmxlbmd0aCl9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHU9W10scz0wLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdT1sPXQ9dm9pZCAwLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXV9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gbD12b2lkIDAsdHx8Zi5kaXNhYmxlKCksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIWx9LGZpcmVXaXRoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIXV8fG4mJiFsfHwodD10fHxbXSx0PVtlLHQuc2xpY2U/dC5zbGljZSgpOnRdLHI/bC5wdXNoKHQpOmModCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gZi5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIW59fTtyZXR1cm4gZn0sWi5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGUpe3ZhciB0PVtbXCJyZXNvbHZlXCIsXCJkb25lXCIsWi5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxcInJlc29sdmVkXCJdLFtcInJlamVjdFwiLFwiZmFpbFwiLFouQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksXCJyZWplY3RlZFwiXSxbXCJub3RpZnlcIixcInByb2dyZXNzXCIsWi5DYWxsYmFja3MoXCJtZW1vcnlcIildXSxuPVwicGVuZGluZ1wiLHI9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG59LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBpLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksdGhpc30sdGhlbjpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztyZXR1cm4gWi5EZWZlcnJlZChmdW5jdGlvbihuKXtaLmVhY2godCxmdW5jdGlvbih0LG8pe3ZhciBzPVouaXNGdW5jdGlvbihlW3RdKSYmZVt0XTtpW29bMV1dKGZ1bmN0aW9uKCl7dmFyIGU9cyYmcy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZSYmWi5pc0Z1bmN0aW9uKGUucHJvbWlzZSk/ZS5wcm9taXNlKCkuZG9uZShuLnJlc29sdmUpLmZhaWwobi5yZWplY3QpLnByb2dyZXNzKG4ubm90aWZ5KTpuW29bMF0rXCJXaXRoXCJdKHRoaXM9PT1yP24ucHJvbWlzZSgpOnRoaXMscz9bZV06YXJndW1lbnRzKX0pfSksZT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lP1ouZXh0ZW5kKGUscik6cn19LGk9e307cmV0dXJuIHIucGlwZT1yLnRoZW4sWi5lYWNoKHQsZnVuY3Rpb24oZSxvKXt2YXIgcz1vWzJdLGE9b1szXTtyW29bMV1dPXMuYWRkLGEmJnMuYWRkKGZ1bmN0aW9uKCl7bj1hfSx0WzFeZV1bMl0uZGlzYWJsZSx0WzJdWzJdLmxvY2spLGlbb1swXV09ZnVuY3Rpb24oKXtyZXR1cm4gaVtvWzBdK1wiV2l0aFwiXSh0aGlzPT09aT9yOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxpW29bMF0rXCJXaXRoXCJdPXMuZmlyZVdpdGh9KSxyLnByb21pc2UoaSksZSYmZS5jYWxsKGksaSksaX0sd2hlbjpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaT0wLG89Xy5jYWxsKGFyZ3VtZW50cykscz1vLmxlbmd0aCxhPTEhPT1zfHxlJiZaLmlzRnVuY3Rpb24oZS5wcm9taXNlKT9zOjAsdT0xPT09YT9lOlouRGVmZXJyZWQoKSxsPWZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gZnVuY3Rpb24oaSl7bltlXT10aGlzLHJbZV09YXJndW1lbnRzLmxlbmd0aD4xP18uY2FsbChhcmd1bWVudHMpOmkscj09PXQ/dS5ub3RpZnlXaXRoKG4scik6LS1hfHx1LnJlc29sdmVXaXRoKG4scil9fTtpZihzPjEpZm9yKHQ9bmV3IEFycmF5KHMpLG49bmV3IEFycmF5KHMpLHI9bmV3IEFycmF5KHMpO2k8cztpKyspb1tpXSYmWi5pc0Z1bmN0aW9uKG9baV0ucHJvbWlzZSk/b1tpXS5wcm9taXNlKCkuZG9uZShsKGkscixvKSkuZmFpbCh1LnJlamVjdCkucHJvZ3Jlc3MobChpLG4sdCkpOi0tYTtyZXR1cm4gYXx8dS5yZXNvbHZlV2l0aChyLG8pLHUucHJvbWlzZSgpfX0pO3ZhciBnZTtaLmZuLnJlYWR5PWZ1bmN0aW9uKGUpe3JldHVybiBaLnJlYWR5LnByb21pc2UoKS5kb25lKGUpLHRoaXN9LFouZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLGhvbGRSZWFkeTpmdW5jdGlvbihlKXtlP1oucmVhZHlXYWl0Kys6Wi5yZWFkeSghMCl9LHJlYWR5OmZ1bmN0aW9uKGUpeyhlPT09ITA/LS1aLnJlYWR5V2FpdDpaLmlzUmVhZHkpfHwoWi5pc1JlYWR5PSEwLGUhPT0hMCYmLS1aLnJlYWR5V2FpdD4wfHwoZ2UucmVzb2x2ZVdpdGgoSixbWl0pLFouZm4udHJpZ2dlckhhbmRsZXImJihaKEopLnRyaWdnZXJIYW5kbGVyKFwicmVhZHlcIiksWihKKS5vZmYoXCJyZWFkeVwiKSkpKX19KSxaLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24odCl7cmV0dXJuIGdlfHwoZ2U9Wi5EZWZlcnJlZCgpLFwiY29tcGxldGVcIj09PUoucmVhZHlTdGF0ZT9zZXRUaW1lb3V0KFoucmVhZHkpOihKLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIscywhMSksZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLHMsITEpKSksZ2UucHJvbWlzZSh0KX0sWi5yZWFkeS5wcm9taXNlKCk7dmFyIG1lPVouYWNjZXNzPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLHMpe3ZhciBhPTAsdT1lLmxlbmd0aCxsPW51bGw9PW47aWYoXCJvYmplY3RcIj09PVoudHlwZShuKSl7aT0hMDtmb3IoYSBpbiBuKVouYWNjZXNzKGUsdCxhLG5bYV0sITAsbyxzKX1lbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLFouaXNGdW5jdGlvbihyKXx8KHM9ITApLGwmJihzPyh0LmNhbGwoZSxyKSx0PW51bGwpOihsPXQsdD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGwuY2FsbChaKGUpLG4pfSkpLHQpKWZvcig7YTx1O2ErKyl0KGVbYV0sbixzP3I6ci5jYWxsKGVbYV0sYSx0KGVbYV0sbikpKTtyZXR1cm4gaT9lOmw/dC5jYWxsKGUpOnU/dChlWzBdLG4pOm99O1ouYWNjZXB0RGF0YT1mdW5jdGlvbihlKXtyZXR1cm4gMT09PWUubm9kZVR5cGV8fDk9PT1lLm5vZGVUeXBlfHwhK2Uubm9kZVR5cGV9LGEudWlkPTEsYS5hY2NlcHRzPVouYWNjZXB0RGF0YSxhLnByb3RvdHlwZT17a2V5OmZ1bmN0aW9uKGUpe2lmKCFhLmFjY2VwdHMoZSkpcmV0dXJuIDA7dmFyIHQ9e30sbj1lW3RoaXMuZXhwYW5kb107aWYoIW4pe249YS51aWQrKzt0cnl7dFt0aGlzLmV4cGFuZG9dPXt2YWx1ZTpufSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHQpfWNhdGNoKHIpe3RbdGhpcy5leHBhbmRvXT1uLFouZXh0ZW5kKGUsdCl9fXJldHVybiB0aGlzLmNhY2hlW25dfHwodGhpcy5jYWNoZVtuXT17fSksbn0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPXRoaXMua2V5KGUpLG89dGhpcy5jYWNoZVtpXTtpZihcInN0cmluZ1wiPT10eXBlb2YgdClvW3RdPW47ZWxzZSBpZihaLmlzRW1wdHlPYmplY3QobykpWi5leHRlbmQodGhpcy5jYWNoZVtpXSx0KTtlbHNlIGZvcihyIGluIHQpb1tyXT10W3JdO3JldHVybiBvfSxnZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNhY2hlW3RoaXMua2V5KGUpXTtyZXR1cm4gdm9pZCAwPT09dD9uOm5bdF19LGFjY2VzczpmdW5jdGlvbihlLHQsbil7dmFyIHI7cmV0dXJuIHZvaWQgMD09PXR8fHQmJlwic3RyaW5nXCI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uPyhyPXRoaXMuZ2V0KGUsdCksdm9pZCAwIT09cj9yOnRoaXMuZ2V0KGUsWi5jYW1lbENhc2UodCkpKToodGhpcy5zZXQoZSx0LG4pLHZvaWQgMCE9PW4/bjp0KX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG89dGhpcy5rZXkoZSkscz10aGlzLmNhY2hlW29dO2lmKHZvaWQgMD09PXQpdGhpcy5jYWNoZVtvXT17fTtlbHNle1ouaXNBcnJheSh0KT9yPXQuY29uY2F0KHQubWFwKFouY2FtZWxDYXNlKSk6KGk9Wi5jYW1lbENhc2UodCksdCBpbiBzP3I9W3QsaV06KHI9aSxyPXIgaW4gcz9bcl06ci5tYXRjaChkZSl8fFtdKSksbj1yLmxlbmd0aDtmb3IoO24tLTspZGVsZXRlIHNbcltuXV19fSxoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiFaLmlzRW1wdHlPYmplY3QodGhpcy5jYWNoZVtlW3RoaXMuZXhwYW5kb11dfHx7fSl9LGRpc2NhcmQ6ZnVuY3Rpb24oZSl7ZVt0aGlzLmV4cGFuZG9dJiZkZWxldGUgdGhpcy5jYWNoZVtlW3RoaXMuZXhwYW5kb11dfX07dmFyIHZlPW5ldyBhLHllPW5ldyBhLHhlPS9eKD86XFx7W1xcd1xcV10qXFx9fFxcW1tcXHdcXFddKlxcXSkkLyxiZT0vKFtBLVpdKS9nO1ouZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB5ZS5oYXNEYXRhKGUpfHx2ZS5oYXNEYXRhKGUpfSxkYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4geWUuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe3llLnJlbW92ZShlLHQpfSxfZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHZlLmFjY2VzcyhlLHQsbil9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKGUsdCl7dmUucmVtb3ZlKGUsdCl9fSksWi5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbz10aGlzWzBdLHM9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PWUpe2lmKHRoaXMubGVuZ3RoJiYoaT15ZS5nZXQobyksMT09PW8ubm9kZVR5cGUmJiF2ZS5nZXQobyxcImhhc0RhdGFBdHRyc1wiKSkpe2ZvcihuPXMubGVuZ3RoO24tLTspc1tuXSYmKHI9c1tuXS5uYW1lLDA9PT1yLmluZGV4T2YoXCJkYXRhLVwiKSYmKHI9Wi5jYW1lbENhc2Uoci5zbGljZSg1KSksdShvLHIsaVtyXSkpKTt2ZS5zZXQobyxcImhhc0RhdGFBdHRyc1wiLCEwKX1yZXR1cm4gaX1yZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZT90aGlzLmVhY2goZnVuY3Rpb24oKXt5ZS5zZXQodGhpcyxlKX0pOm1lKHRoaXMsZnVuY3Rpb24odCl7dmFyIG4scj1aLmNhbWVsQ2FzZShlKTtpZihvJiZ2b2lkIDA9PT10KXtpZihuPXllLmdldChvLGUpLHZvaWQgMCE9PW4pcmV0dXJuIG47aWYobj15ZS5nZXQobyxyKSx2b2lkIDAhPT1uKXJldHVybiBuO2lmKG49dShvLHIsdm9pZCAwKSx2b2lkIDAhPT1uKXJldHVybiBufWVsc2UgdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49eWUuZ2V0KHRoaXMscik7eWUuc2V0KHRoaXMscix0KSxlLmluZGV4T2YoXCItXCIpIT09LTEmJnZvaWQgMCE9PW4mJnllLnNldCh0aGlzLGUsdCl9KX0sbnVsbCx0LGFyZ3VtZW50cy5sZW5ndGg+MSxudWxsLCEwKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7eWUucmVtb3ZlKHRoaXMsZSl9KX19KSxaLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKGUpcmV0dXJuIHQ9KHR8fFwiZnhcIikrXCJxdWV1ZVwiLHI9dmUuZ2V0KGUsdCksbiYmKCFyfHxaLmlzQXJyYXkobik/cj12ZS5hY2Nlc3MoZSx0LFoubWFrZUFycmF5KG4pKTpyLnB1c2gobikpLHJ8fFtdfSxkZXF1ZXVlOmZ1bmN0aW9uKGUsdCl7dD10fHxcImZ4XCI7dmFyIG49Wi5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz1aLl9xdWV1ZUhvb2tzKGUsdCkscz1mdW5jdGlvbigpe1ouZGVxdWV1ZShlLHQpfTtcImlucHJvZ3Jlc3NcIj09PWkmJihpPW4uc2hpZnQoKSxyLS0pLGkmJihcImZ4XCI9PT10JiZuLnVuc2hpZnQoXCJpbnByb2dyZXNzXCIpLGRlbGV0ZSBvLnN0b3AsaS5jYWxsKGUscyxvKSksIXImJm8mJm8uZW1wdHkuZmlyZSgpfSxfcXVldWVIb29rczpmdW5jdGlvbihlLHQpe3ZhciBuPXQrXCJxdWV1ZUhvb2tzXCI7cmV0dXJuIHZlLmdldChlLG4pfHx2ZS5hY2Nlc3MoZSxuLHtlbXB0eTpaLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLmFkZChmdW5jdGlvbigpe3ZlLnJlbW92ZShlLFt0K1wicXVldWVcIixuXSl9KX0pfX0pLFouZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPTI7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGUmJih0PWUsZT1cImZ4XCIsbi0tKSxhcmd1bWVudHMubGVuZ3RoPG4/Wi5xdWV1ZSh0aGlzWzBdLGUpOnZvaWQgMD09PXQ/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbj1aLnF1ZXVlKHRoaXMsZSx0KTtaLl9xdWV1ZUhvb2tzKHRoaXMsZSksXCJmeFwiPT09ZSYmXCJpbnByb2dyZXNzXCIhPT1uWzBdJiZaLmRlcXVldWUodGhpcyxlKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtaLmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fFwiZnhcIixbXSl9LHByb21pc2U6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTEsaT1aLkRlZmVycmVkKCksbz10aGlzLHM9dGhpcy5sZW5ndGgsYT1mdW5jdGlvbigpey0tcnx8aS5yZXNvbHZlV2l0aChvLFtvXSl9O2ZvcihcInN0cmluZ1wiIT10eXBlb2YgZSYmKHQ9ZSxlPXZvaWQgMCksZT1lfHxcImZ4XCI7cy0tOyluPXZlLmdldChvW3NdLGUrXCJxdWV1ZUhvb2tzXCIpLG4mJm4uZW1wdHkmJihyKyssbi5lbXB0eS5hZGQoYSkpO3JldHVybiBhKCksaS5wcm9taXNlKHQpfX0pO3ZhciB3ZT0vWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLy5zb3VyY2UsVGU9W1wiVG9wXCIsXCJSaWdodFwiLFwiQm90dG9tXCIsXCJMZWZ0XCJdLENlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9dHx8ZSxcIm5vbmVcIj09PVouY3NzKGUsXCJkaXNwbGF5XCIpfHwhWi5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSl9LE5lPS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pOyFmdW5jdGlvbigpe3ZhciBlPUouY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHQ9ZS5hcHBlbmRDaGlsZChKLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLG49Si5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJyYWRpb1wiKSxuLnNldEF0dHJpYnV0ZShcImNoZWNrZWRcIixcImNoZWNrZWRcIiksbi5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJ0XCIpLHQuYXBwZW5kQ2hpbGQobiksUS5jaGVja0Nsb25lPXQuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLHQuaW5uZXJIVE1MPVwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiLFEubm9DbG9uZUNoZWNrZWQ9ISF0LmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZX0oKTt2YXIga2U9XCJ1bmRlZmluZWRcIjtRLmZvY3VzaW5CdWJibGVzPVwib25mb2N1c2luXCJpbiBlO3ZhciBFZT0vXmtleS8sU2U9L14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51KXxjbGljay8sRGU9L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLGplPS9eKFteLl0qKSg/OlxcLiguKyl8KSQvO1ouZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxzLGEsdSxsLGMsZixwLGQsaCxnLG09dmUuZ2V0KGUpO2lmKG0pZm9yKG4uaGFuZGxlciYmKG89bixuPW8uaGFuZGxlcixpPW8uc2VsZWN0b3IpLG4uZ3VpZHx8KG4uZ3VpZD1aLmd1aWQrKyksKHU9bS5ldmVudHMpfHwodT1tLmV2ZW50cz17fSksKHM9bS5oYW5kbGUpfHwocz1tLmhhbmRsZT1mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIFohPT1rZSYmWi5ldmVudC50cmlnZ2VyZWQhPT10LnR5cGU/Wi5ldmVudC5kaXNwYXRjaC5hcHBseShlLGFyZ3VtZW50cyk6dm9pZCAwfSksdD0odHx8XCJcIikubWF0Y2goZGUpfHxbXCJcIl0sbD10Lmxlbmd0aDtsLS07KWE9amUuZXhlYyh0W2xdKXx8W10sZD1nPWFbMV0saD0oYVsyXXx8XCJcIikuc3BsaXQoXCIuXCIpLnNvcnQoKSxkJiYoZj1aLmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KGk/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQsZj1aLmV2ZW50LnNwZWNpYWxbZF18fHt9LGM9Wi5leHRlbmQoe3R5cGU6ZCxvcmlnVHlwZTpnLGRhdGE6cixoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6aSxuZWVkc0NvbnRleHQ6aSYmWi5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGkpLG5hbWVzcGFjZTpoLmpvaW4oXCIuXCIpfSxvKSwocD11W2RdKXx8KHA9dVtkXT1bXSxwLmRlbGVnYXRlQ291bnQ9MCxmLnNldHVwJiZmLnNldHVwLmNhbGwoZSxyLGgscykhPT0hMXx8ZS5hZGRFdmVudExpc3RlbmVyJiZlLmFkZEV2ZW50TGlzdGVuZXIoZCxzLCExKSksZi5hZGQmJihmLmFkZC5jYWxsKGUsYyksYy5oYW5kbGVyLmd1aWR8fChjLmhhbmRsZXIuZ3VpZD1uLmd1aWQpKSxpP3Auc3BsaWNlKHAuZGVsZWdhdGVDb3VudCsrLDAsYyk6cC5wdXNoKGMpLFouZXZlbnQuZ2xvYmFsW2RdPSEwKX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8scyxhLHUsbCxjLGYscCxkLGgsZyxtPXZlLmhhc0RhdGEoZSkmJnZlLmdldChlKTtpZihtJiYodT1tLmV2ZW50cykpe2Zvcih0PSh0fHxcIlwiKS5tYXRjaChkZSl8fFtcIlwiXSxsPXQubGVuZ3RoO2wtLTspaWYoYT1qZS5leGVjKHRbbF0pfHxbXSxkPWc9YVsxXSxoPShhWzJdfHxcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpLGQpe2ZvcihmPVouZXZlbnQuc3BlY2lhbFtkXXx8e30sZD0ocj9mLmRlbGVnYXRlVHlwZTpmLmJpbmRUeXBlKXx8ZCxwPXVbZF18fFtdLGE9YVsyXSYmbmV3IFJlZ0V4cChcIihefFxcXFwuKVwiK2guam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpK1wiKFxcXFwufCQpXCIpLHM9bz1wLmxlbmd0aDtvLS07KWM9cFtvXSwhaSYmZyE9PWMub3JpZ1R5cGV8fG4mJm4uZ3VpZCE9PWMuZ3VpZHx8YSYmIWEudGVzdChjLm5hbWVzcGFjZSl8fHImJnIhPT1jLnNlbGVjdG9yJiYoXCIqKlwiIT09cnx8IWMuc2VsZWN0b3IpfHwocC5zcGxpY2UobywxKSxjLnNlbGVjdG9yJiZwLmRlbGVnYXRlQ291bnQtLSxmLnJlbW92ZSYmZi5yZW1vdmUuY2FsbChlLGMpKTtzJiYhcC5sZW5ndGgmJihmLnRlYXJkb3duJiZmLnRlYXJkb3duLmNhbGwoZSxoLG0uaGFuZGxlKSE9PSExfHxaLnJlbW92ZUV2ZW50KGUsZCxtLmhhbmRsZSksZGVsZXRlIHVbZF0pfWVsc2UgZm9yKGQgaW4gdSlaLmV2ZW50LnJlbW92ZShlLGQrdFtsXSxuLHIsITApO1ouaXNFbXB0eU9iamVjdCh1KSYmKGRlbGV0ZSBtLmhhbmRsZSx2ZS5yZW1vdmUoZSxcImV2ZW50c1wiKSl9fSx0cmlnZ2VyOmZ1bmN0aW9uKHQsbixyLGkpe3ZhciBvLHMsYSx1LGwsYyxmLHA9W3J8fEpdLGQ9Ry5jYWxsKHQsXCJ0eXBlXCIpP3QudHlwZTp0LGg9Ry5jYWxsKHQsXCJuYW1lc3BhY2VcIik/dC5uYW1lc3BhY2Uuc3BsaXQoXCIuXCIpOltdO2lmKHM9YT1yPXJ8fEosMyE9PXIubm9kZVR5cGUmJjghPT1yLm5vZGVUeXBlJiYhRGUudGVzdChkK1ouZXZlbnQudHJpZ2dlcmVkKSYmKGQuaW5kZXhPZihcIi5cIik+PTAmJihoPWQuc3BsaXQoXCIuXCIpLGQ9aC5zaGlmdCgpLGguc29ydCgpKSxsPWQuaW5kZXhPZihcIjpcIik8MCYmXCJvblwiK2QsdD10W1ouZXhwYW5kb10/dDpuZXcgWi5FdmVudChkLFwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0KSx0LmlzVHJpZ2dlcj1pPzI6Myx0Lm5hbWVzcGFjZT1oLmpvaW4oXCIuXCIpLHQubmFtZXNwYWNlX3JlPXQubmFtZXNwYWNlP25ldyBSZWdFeHAoXCIoXnxcXFxcLilcIitoLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKTpudWxsLHQucmVzdWx0PXZvaWQgMCx0LnRhcmdldHx8KHQudGFyZ2V0PXIpLG49bnVsbD09bj9bdF06Wi5tYWtlQXJyYXkobixbdF0pLGY9Wi5ldmVudC5zcGVjaWFsW2RdfHx7fSxpfHwhZi50cmlnZ2VyfHxmLnRyaWdnZXIuYXBwbHkocixuKSE9PSExKSl7aWYoIWkmJiFmLm5vQnViYmxlJiYhWi5pc1dpbmRvdyhyKSl7Zm9yKHU9Zi5kZWxlZ2F0ZVR5cGV8fGQsRGUudGVzdCh1K2QpfHwocz1zLnBhcmVudE5vZGUpO3M7cz1zLnBhcmVudE5vZGUpcC5wdXNoKHMpLGE9czthPT09KHIub3duZXJEb2N1bWVudHx8SikmJnAucHVzaChhLmRlZmF1bHRWaWV3fHxhLnBhcmVudFdpbmRvd3x8ZSl9Zm9yKG89MDsocz1wW28rK10pJiYhdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOyl0LnR5cGU9bz4xP3U6Zi5iaW5kVHlwZXx8ZCxjPSh2ZS5nZXQocyxcImV2ZW50c1wiKXx8e30pW3QudHlwZV0mJnZlLmdldChzLFwiaGFuZGxlXCIpLGMmJmMuYXBwbHkocyxuKSxjPWwmJnNbbF0sYyYmYy5hcHBseSYmWi5hY2NlcHREYXRhKHMpJiYodC5yZXN1bHQ9Yy5hcHBseShzLG4pLHQucmVzdWx0PT09ITEmJnQucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIHQudHlwZT1kLGl8fHQuaXNEZWZhdWx0UHJldmVudGVkKCl8fGYuX2RlZmF1bHQmJmYuX2RlZmF1bHQuYXBwbHkocC5wb3AoKSxuKSE9PSExfHwhWi5hY2NlcHREYXRhKHIpfHxsJiZaLmlzRnVuY3Rpb24ocltkXSkmJiFaLmlzV2luZG93KHIpJiYoYT1yW2xdLGEmJihyW2xdPW51bGwpLFouZXZlbnQudHJpZ2dlcmVkPWQscltkXSgpLFouZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxhJiYocltsXT1hKSksdC5yZXN1bHR9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXtlPVouZXZlbnQuZml4KGUpO3ZhciB0LG4scixpLG8scz1bXSxhPV8uY2FsbChhcmd1bWVudHMpLHU9KHZlLmdldCh0aGlzLFwiZXZlbnRzXCIpfHx7fSlbZS50eXBlXXx8W10sbD1aLmV2ZW50LnNwZWNpYWxbZS50eXBlXXx8e307aWYoYVswXT1lLGUuZGVsZWdhdGVUYXJnZXQ9dGhpcywhbC5wcmVEaXNwYXRjaHx8bC5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsZSkhPT0hMSl7Zm9yKHM9Wi5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsZSx1KSx0PTA7KGk9c1t0KytdKSYmIWUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKTspZm9yKGUuY3VycmVudFRhcmdldD1pLmVsZW0sbj0wOyhvPWkuaGFuZGxlcnNbbisrXSkmJiFlLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCk7KWUubmFtZXNwYWNlX3JlJiYhZS5uYW1lc3BhY2VfcmUudGVzdChvLm5hbWVzcGFjZSl8fChlLmhhbmRsZU9iaj1vLGUuZGF0YT1vLmRhdGEscj0oKFouZXZlbnQuc3BlY2lhbFtvLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8by5oYW5kbGVyKS5hcHBseShpLmVsZW0sYSksdm9pZCAwIT09ciYmKGUucmVzdWx0PXIpPT09ITEmJihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSkpO3JldHVybiBsLnBvc3REaXNwYXRjaCYmbC5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLGUpLGUucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxzPVtdLGE9dC5kZWxlZ2F0ZUNvdW50LHU9ZS50YXJnZXQ7aWYoYSYmdS5ub2RlVHlwZSYmKCFlLmJ1dHRvbnx8XCJjbGlja1wiIT09ZS50eXBlKSlmb3IoO3UhPT10aGlzO3U9dS5wYXJlbnROb2RlfHx0aGlzKWlmKHUuZGlzYWJsZWQhPT0hMHx8XCJjbGlja1wiIT09ZS50eXBlKXtmb3Iocj1bXSxuPTA7bjxhO24rKylvPXRbbl0saT1vLnNlbGVjdG9yK1wiIFwiLHZvaWQgMD09PXJbaV0mJihyW2ldPW8ubmVlZHNDb250ZXh0P1ooaSx0aGlzKS5pbmRleCh1KT49MDpaLmZpbmQoaSx0aGlzLG51bGwsW3VdKS5sZW5ndGgpLHJbaV0mJnIucHVzaChvKTtyLmxlbmd0aCYmcy5wdXNoKHtlbGVtOnUsaGFuZGxlcnM6cn0pfXJldHVybiBhPHQubGVuZ3RoJiZzLnB1c2goe2VsZW06dGhpcyxoYW5kbGVyczp0LnNsaWNlKGEpfSksc30scHJvcHM6XCJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2hcIi5zcGxpdChcIiBcIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOlwiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZVwiLnNwbGl0KFwiIFwiKSxmaWx0ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09ZS53aGljaCYmKGUud2hpY2g9bnVsbCE9dC5jaGFyQ29kZT90LmNoYXJDb2RlOnQua2V5Q29kZSksZX19LG1vdXNlSG9va3M6e3Byb3BzOlwiYnV0dG9uIGJ1dHRvbnMgY2xpZW50WCBjbGllbnRZIG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkgdG9FbGVtZW50XCIuc3BsaXQoXCIgXCIpLGZpbHRlcjpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvPXQuYnV0dG9uO3JldHVybiBudWxsPT1lLnBhZ2VYJiZudWxsIT10LmNsaWVudFgmJihuPWUudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fEoscj1uLmRvY3VtZW50RWxlbWVudCxpPW4uYm9keSxlLnBhZ2VYPXQuY2xpZW50WCsociYmci5zY3JvbGxMZWZ0fHxpJiZpLnNjcm9sbExlZnR8fDApLShyJiZyLmNsaWVudExlZnR8fGkmJmkuY2xpZW50TGVmdHx8MCksZS5wYWdlWT10LmNsaWVudFkrKHImJnIuc2Nyb2xsVG9wfHxpJiZpLnNjcm9sbFRvcHx8MCktKHImJnIuY2xpZW50VG9wfHxpJiZpLmNsaWVudFRvcHx8MCkpLGUud2hpY2h8fHZvaWQgMD09PW98fChlLndoaWNoPTEmbz8xOjImbz8zOjQmbz8yOjApLGV9fSxmaXg6ZnVuY3Rpb24oZSl7aWYoZVtaLmV4cGFuZG9dKXJldHVybiBlO3ZhciB0LG4scixpPWUudHlwZSxvPWUscz10aGlzLmZpeEhvb2tzW2ldO2ZvcihzfHwodGhpcy5maXhIb29rc1tpXT1zPVNlLnRlc3QoaSk/dGhpcy5tb3VzZUhvb2tzOkVlLnRlc3QoaSk/dGhpcy5rZXlIb29rczp7fSkscj1zLnByb3BzP3RoaXMucHJvcHMuY29uY2F0KHMucHJvcHMpOnRoaXMucHJvcHMsZT1uZXcgWi5FdmVudChvKSx0PXIubGVuZ3RoO3QtLTspbj1yW3RdLGVbbl09b1tuXTtyZXR1cm4gZS50YXJnZXR8fChlLnRhcmdldD1KKSwzPT09ZS50YXJnZXQubm9kZVR5cGUmJihlLnRhcmdldD1lLnRhcmdldC5wYXJlbnROb2RlKSxzLmZpbHRlcj9zLmZpbHRlcihlLG8pOmV9LHNwZWNpYWw6e2xvYWQ6e25vQnViYmxlOiEwfSxmb2N1czp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKHRoaXMhPT1mKCkmJnRoaXMuZm9jdXMpcmV0dXJuIHRoaXMuZm9jdXMoKSwhMX0sZGVsZWdhdGVUeXBlOlwiZm9jdXNpblwifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7aWYodGhpcz09PWYoKSYmdGhpcy5ibHVyKXJldHVybiB0aGlzLmJsdXIoKSwhMX0sZGVsZWdhdGVUeXBlOlwiZm9jdXNvdXRcIn0sY2xpY2s6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZihcImNoZWNrYm94XCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2smJloubm9kZU5hbWUodGhpcyxcImlucHV0XCIpKXJldHVybiB0aGlzLmNsaWNrKCksITF9LF9kZWZhdWx0OmZ1bmN0aW9uKGUpe3JldHVybiBaLm5vZGVOYW1lKGUudGFyZ2V0LFwiYVwiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUucmVzdWx0JiZlLm9yaWdpbmFsRXZlbnQmJihlLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9ZS5yZXN1bHQpfX19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPVouZXh0ZW5kKG5ldyBaLkV2ZW50LG4se3R5cGU6ZSxpc1NpbXVsYXRlZDohMCxvcmlnaW5hbEV2ZW50Ont9fSk7cj9aLmV2ZW50LnRyaWdnZXIoaSxudWxsLHQpOlouZXZlbnQuZGlzcGF0Y2guY2FsbCh0LGkpLGkuaXNEZWZhdWx0UHJldmVudGVkKCkmJm4ucHJldmVudERlZmF1bHQoKX19LFoucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbiwhMSl9LFouRXZlbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIFouRXZlbnQ/KGUmJmUudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWUsdGhpcy50eXBlPWUudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1lLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWUuZGVmYXVsdFByZXZlbnRlZCYmZS5yZXR1cm5WYWx1ZT09PSExP2w6Yyk6dGhpcy50eXBlPWUsdCYmWi5leHRlbmQodGhpcyx0KSx0aGlzLnRpbWVTdGFtcD1lJiZlLnRpbWVTdGFtcHx8Wi5ub3coKSx2b2lkKHRoaXNbWi5leHBhbmRvXT0hMCkpOm5ldyBaLkV2ZW50KGUsdCl9LFouRXZlbnQucHJvdG90eXBlPXtpc0RlZmF1bHRQcmV2ZW50ZWQ6Yyxpc1Byb3BhZ2F0aW9uU3RvcHBlZDpjLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmMscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9bCxlJiZlLnByZXZlbnREZWZhdWx0JiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPWwsZSYmZS5zdG9wUHJvcGFnYXRpb24mJmUuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPWwsZSYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24mJmUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LFouZWFjaCh7bW91c2VlbnRlcjpcIm1vdXNlb3ZlclwiLG1vdXNlbGVhdmU6XCJtb3VzZW91dFwiLHBvaW50ZXJlbnRlcjpcInBvaW50ZXJvdmVyXCIscG9pbnRlcmxlYXZlOlwicG9pbnRlcm91dFwifSxmdW5jdGlvbihlLHQpe1ouZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOnQsYmluZFR5cGU6dCxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIG4scj10aGlzLGk9ZS5yZWxhdGVkVGFyZ2V0LG89ZS5oYW5kbGVPYmo7cmV0dXJuIGkmJihpPT09cnx8Wi5jb250YWlucyhyLGkpKXx8KGUudHlwZT1vLm9yaWdUeXBlLG49by5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlLnR5cGU9dCksbn19fSksUS5mb2N1c2luQnViYmxlc3x8Wi5lYWNoKHtmb2N1czpcImZvY3VzaW5cIixibHVyOlwiZm9jdXNvdXRcIn0sZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbihlKXtaLmV2ZW50LnNpbXVsYXRlKHQsZS50YXJnZXQsWi5ldmVudC5maXgoZSksITApfTtaLmV2ZW50LnNwZWNpYWxbdF09e3NldHVwOmZ1bmN0aW9uKCl7dmFyIHI9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGk9dmUuYWNjZXNzKHIsdCk7aXx8ci5hZGRFdmVudExpc3RlbmVyKGUsbiwhMCksdmUuYWNjZXNzKHIsdCwoaXx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIHI9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGk9dmUuYWNjZXNzKHIsdCktMTtpP3ZlLmFjY2VzcyhyLHQsaSk6KHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4sITApLHZlLnJlbW92ZShyLHQpKX19fSksWi5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8scztpZihcIm9iamVjdFwiPT10eXBlb2YgZSl7XCJzdHJpbmdcIiE9dHlwZW9mIHQmJihuPW58fHQsdD12b2lkIDApO2ZvcihzIGluIGUpdGhpcy5vbihzLHQsbixlW3NdLGkpO3JldHVybiB0aGlzfWlmKG51bGw9PW4mJm51bGw9PXI/KHI9dCxuPXQ9dm9pZCAwKTpudWxsPT1yJiYoXCJzdHJpbmdcIj09dHlwZW9mIHQ/KHI9bixuPXZvaWQgMCk6KHI9bixuPXQsdD12b2lkIDApKSxyPT09ITEpcj1jO2Vsc2UgaWYoIXIpcmV0dXJuIHRoaXM7cmV0dXJuIDE9PT1pJiYobz1yLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIFooKS5vZmYoZSksby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHIuZ3VpZD1vLmd1aWR8fChvLmd1aWQ9Wi5ndWlkKyspKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtaLmV2ZW50LmFkZCh0aGlzLGUscixuLHQpfSl9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5vbihlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosWihlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZStcIi5cIityLm5hbWVzcGFjZTpyLm9yaWdUeXBlLHIuc2VsZWN0b3Isci5oYW5kbGVyKSx0aGlzO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXtmb3IoaSBpbiBlKXRoaXMub2ZmKGksdCxlW2ldKTtyZXR1cm4gdGhpc31yZXR1cm4gdCE9PSExJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0fHwobj10LHQ9dm9pZCAwKSxuPT09ITEmJihuPWMpLHRoaXMuZWFjaChmdW5jdGlvbigpe1ouZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9LHRyaWdnZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Wi5ldmVudC50cmlnZ2VyKGUsdCx0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXNbMF07aWYobilyZXR1cm4gWi5ldmVudC50cmlnZ2VyKGUsdCxuLCEwKX19KTt2YXIgQWU9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1xcdzpdKylbXj5dKilcXC8+L2dpLExlPS88KFtcXHc6XSspLyxxZT0vPHwmIz9cXHcrOy8sSGU9LzwoPzpzY3JpcHR8c3R5bGV8bGluaykvaSxPZT0vY2hlY2tlZFxccyooPzpbXj1dfD1cXHMqLmNoZWNrZWQuKS9pLEZlPS9eJHxcXC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksUGU9L150cnVlXFwvKC4qKS8sUmU9L15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nLE1lPXtvcHRpb246WzEsXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsXCI8L3NlbGVjdD5cIl0sdGhlYWQ6WzEsXCI8dGFibGU+XCIsXCI8L3RhYmxlPlwiXSxjb2w6WzIsXCI8dGFibGU+PGNvbGdyb3VwPlwiLFwiPC9jb2xncm91cD48L3RhYmxlPlwiXSx0cjpbMixcIjx0YWJsZT48dGJvZHk+XCIsXCI8L3Rib2R5PjwvdGFibGU+XCJdLHRkOlszLFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIl0sX2RlZmF1bHQ6WzAsXCJcIixcIlwiXX07TWUub3B0Z3JvdXA9TWUub3B0aW9uLE1lLnRib2R5PU1lLnRmb290PU1lLmNvbGdyb3VwPU1lLmNhcHRpb249TWUudGhlYWQsTWUudGg9TWUudGQsWi5leHRlbmQoe2Nsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8scyxhPWUuY2xvbmVOb2RlKCEwKSx1PVouY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpO2lmKCEoUS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8Wi5pc1hNTERvYyhlKSkpZm9yKHM9dihhKSxvPXYoZSkscj0wLGk9by5sZW5ndGg7cjxpO3IrKyl5KG9bcl0sc1tyXSk7aWYodClpZihuKWZvcihvPW98fHYoZSkscz1zfHx2KGEpLHI9MCxpPW8ubGVuZ3RoO3I8aTtyKyspbShvW3JdLHNbcl0pO2Vsc2UgbShlLGEpO3JldHVybiBzPXYoYSxcInNjcmlwdFwiKSxzLmxlbmd0aD4wJiZnKHMsIXUmJnYoZSxcInNjcmlwdFwiKSksYX0sYnVpbGRGcmFnbWVudDpmdW5jdGlvbihlLHQsbixyKXtmb3IodmFyIGksbyxzLGEsdSxsLGM9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksZj1bXSxwPTAsZD1lLmxlbmd0aDtwPGQ7cCsrKWlmKGk9ZVtwXSxpfHwwPT09aSlpZihcIm9iamVjdFwiPT09Wi50eXBlKGkpKVoubWVyZ2UoZixpLm5vZGVUeXBlP1tpXTppKTtlbHNlIGlmKHFlLnRlc3QoaSkpe2ZvcihvPW98fGMuYXBwZW5kQ2hpbGQodC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxzPShMZS5leGVjKGkpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKSxhPU1lW3NdfHxNZS5fZGVmYXVsdCxvLmlubmVySFRNTD1hWzFdK2kucmVwbGFjZShBZSxcIjwkMT48LyQyPlwiKSthWzJdLGw9YVswXTtsLS07KW89by5sYXN0Q2hpbGQ7Wi5tZXJnZShmLG8uY2hpbGROb2Rlcyksbz1jLmZpcnN0Q2hpbGQsby50ZXh0Q29udGVudD1cIlwifWVsc2UgZi5wdXNoKHQuY3JlYXRlVGV4dE5vZGUoaSkpO2ZvcihjLnRleHRDb250ZW50PVwiXCIscD0wO2k9ZltwKytdOylpZigoIXJ8fFouaW5BcnJheShpLHIpPT09LTEpJiYodT1aLmNvbnRhaW5zKGkub3duZXJEb2N1bWVudCxpKSxvPXYoYy5hcHBlbmRDaGlsZChpKSxcInNjcmlwdFwiKSx1JiZnKG8pLG4pKWZvcihsPTA7aT1vW2wrK107KUZlLnRlc3QoaS50eXBlfHxcIlwiKSYmbi5wdXNoKGkpO3JldHVybiBjfSxjbGVhbkRhdGE6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scixpLG89Wi5ldmVudC5zcGVjaWFsLHM9MDt2b2lkIDAhPT0obj1lW3NdKTtzKyspe2lmKFouYWNjZXB0RGF0YShuKSYmKGk9blt2ZS5leHBhbmRvXSxpJiYodD12ZS5jYWNoZVtpXSkpKXtpZih0LmV2ZW50cylmb3IociBpbiB0LmV2ZW50cylvW3JdP1ouZXZlbnQucmVtb3ZlKG4scik6Wi5yZW1vdmVFdmVudChuLHIsdC5oYW5kbGUpO3ZlLmNhY2hlW2ldJiZkZWxldGUgdmUuY2FjaGVbaV19ZGVsZXRlIHllLmNhY2hlW25beWUuZXhwYW5kb11dfX19KSxaLmZuLmV4dGVuZCh7dGV4dDpmdW5jdGlvbihlKXtyZXR1cm4gbWUodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9aLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oZSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciB0PXAodGhpcyxlKTt0LmFwcGVuZENoaWxkKGUpfX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGUpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgdD1wKHRoaXMsZSk7dC5pbnNlcnRCZWZvcmUoZSx0LmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcy5uZXh0U2libGluZyl9KX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9ZT9aLmZpbHRlcihlLHRoaXMpOnRoaXMsaT0wO251bGwhPShuPXJbaV0pO2krKyl0fHwxIT09bi5ub2RlVHlwZXx8Wi5jbGVhbkRhdGEodihuKSksbi5wYXJlbnROb2RlJiYodCYmWi5jb250YWlucyhuLm93bmVyRG9jdW1lbnQsbikmJmcodihuLFwic2NyaXB0XCIpKSxuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobikpO3JldHVybiB0aGlzfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYoWi5jbGVhbkRhdGEodihlLCExKSksZS50ZXh0Q29udGVudD1cIlwiKTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1udWxsIT1lJiZlLHQ9bnVsbD09dD9lOnQsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gWi5jbG9uZSh0aGlzLGUsdCl9KX0saHRtbDpmdW5jdGlvbihlKXtyZXR1cm4gbWUodGhpcyxmdW5jdGlvbihlKXt2YXIgdD10aGlzWzBdfHx7fSxuPTAscj10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1lJiYxPT09dC5ub2RlVHlwZSlyZXR1cm4gdC5pbm5lckhUTUw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJiFIZS50ZXN0KGUpJiYhTWVbKExlLmV4ZWMoZSl8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7ZT1lLnJlcGxhY2UoQWUsXCI8JDE+PC8kMj5cIik7dHJ5e2Zvcig7bjxyO24rKyl0PXRoaXNbbl18fHt9LDE9PT10Lm5vZGVUeXBlJiYoWi5jbGVhbkRhdGEodih0LCExKSksdC5pbm5lckhUTUw9ZSk7dD0wfWNhdGNoKGUpe319dCYmdGhpcy5lbXB0eSgpLmFwcGVuZChlKX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24odCl7ZT10aGlzLnBhcmVudE5vZGUsWi5jbGVhbkRhdGEodih0aGlzKSksZSYmZS5yZXBsYWNlQ2hpbGQodCx0aGlzKX0pLGUmJihlLmxlbmd0aHx8ZS5ub2RlVHlwZSk/dGhpczp0aGlzLnJlbW92ZSgpfSxkZXRhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVtb3ZlKGUsITApfSxkb21NYW5pcDpmdW5jdGlvbihlLHQpe2U9ei5hcHBseShbXSxlKTt2YXIgbixyLGksbyxzLGEsdT0wLGw9dGhpcy5sZW5ndGgsYz10aGlzLGY9bC0xLHA9ZVswXSxnPVouaXNGdW5jdGlvbihwKTtpZihnfHxsPjEmJlwic3RyaW5nXCI9PXR5cGVvZiBwJiYhUS5jaGVja0Nsb25lJiZPZS50ZXN0KHApKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24obil7dmFyIHI9Yy5lcShuKTtnJiYoZVswXT1wLmNhbGwodGhpcyxuLHIuaHRtbCgpKSksci5kb21NYW5pcChlLHQpfSk7aWYobCYmKG49Wi5idWlsZEZyYWdtZW50KGUsdGhpc1swXS5vd25lckRvY3VtZW50LCExLHRoaXMpLHI9bi5maXJzdENoaWxkLDE9PT1uLmNoaWxkTm9kZXMubGVuZ3RoJiYobj1yKSxyKSl7Zm9yKGk9Wi5tYXAodihuLFwic2NyaXB0XCIpLGQpLG89aS5sZW5ndGg7dTxsO3UrKylzPW4sdSE9PWYmJihzPVouY2xvbmUocywhMCwhMCksbyYmWi5tZXJnZShpLHYocyxcInNjcmlwdFwiKSkpLHQuY2FsbCh0aGlzW3VdLHMsdSk7aWYobylmb3IoYT1pW2kubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsWi5tYXAoaSxoKSx1PTA7dTxvO3UrKylzPWlbdV0sRmUudGVzdChzLnR5cGV8fFwiXCIpJiYhdmUuYWNjZXNzKHMsXCJnbG9iYWxFdmFsXCIpJiZaLmNvbnRhaW5zKGEscykmJihzLnNyYz9aLl9ldmFsVXJsJiZaLl9ldmFsVXJsKHMuc3JjKTpaLmdsb2JhbEV2YWwocy50ZXh0Q29udGVudC5yZXBsYWNlKFJlLFwiXCIpKSl9cmV0dXJuIHRoaXN9fSksWi5lYWNoKHthcHBlbmRUbzpcImFwcGVuZFwiLHByZXBlbmRUbzpcInByZXBlbmRcIixpbnNlcnRCZWZvcmU6XCJiZWZvcmVcIixpbnNlcnRBZnRlcjpcImFmdGVyXCIscmVwbGFjZUFsbDpcInJlcGxhY2VXaXRoXCJ9LGZ1bmN0aW9uKGUsdCl7Wi5mbltlXT1mdW5jdGlvbihlKXtmb3IodmFyIG4scj1bXSxpPVooZSksbz1pLmxlbmd0aC0xLHM9MDtzPD1vO3MrKyluPXM9PT1vP3RoaXM6dGhpcy5jbG9uZSghMCksWihpW3NdKVt0XShuKSxYLmFwcGx5KHIsbi5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHIpfX0pO3ZhciBXZSwkZT17fSxJZT0vXm1hcmdpbi8sQmU9bmV3IFJlZ0V4cChcIl4oXCIrd2UrXCIpKD8hcHgpW2EteiVdKyRcIixcImlcIiksX2U9ZnVuY3Rpb24odCl7cmV0dXJuIHQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5vcGVuZXI/dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodCxudWxsKTplLmdldENvbXB1dGVkU3R5bGUodCxudWxsKX07IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3Muc3R5bGUuY3NzVGV4dD1cIi13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbi10b3A6MSU7dG9wOjElO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NHB4O3Bvc2l0aW9uOmFic29sdXRlXCIscy5pbm5lckhUTUw9XCJcIixpLmFwcGVuZENoaWxkKG8pO3ZhciB0PWUuZ2V0Q29tcHV0ZWRTdHlsZShzLG51bGwpO249XCIxJVwiIT09dC50b3Ascj1cIjRweFwiPT09dC53aWR0aCxpLnJlbW92ZUNoaWxkKG8pfXZhciBuLHIsaT1KLmRvY3VtZW50RWxlbWVudCxvPUouY3JlYXRlRWxlbWVudChcImRpdlwiKSxzPUouY3JlYXRlRWxlbWVudChcImRpdlwiKTtzLnN0eWxlJiYocy5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD1cImNvbnRlbnQtYm94XCIscy5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPVwiXCIsUS5jbGVhckNsb25lU3R5bGU9XCJjb250ZW50LWJveFwiPT09cy5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxvLnN0eWxlLmNzc1RleHQ9XCJib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweDttYXJnaW4tdG9wOjFweDtwb3NpdGlvbjphYnNvbHV0ZVwiLG8uYXBwZW5kQ2hpbGQocyksZS5nZXRDb21wdXRlZFN0eWxlJiZaLmV4dGVuZChRLHtwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHQoKSxufSxib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT1yJiZ0KCkscn0scmVsaWFibGVNYXJnaW5SaWdodDpmdW5jdGlvbigpe3ZhciB0LG49cy5hcHBlbmRDaGlsZChKLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO3JldHVybiBuLnN0eWxlLmNzc1RleHQ9cy5zdHlsZS5jc3NUZXh0PVwiLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tb3otYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowXCIsbi5zdHlsZS5tYXJnaW5SaWdodD1uLnN0eWxlLndpZHRoPVwiMFwiLHMuc3R5bGUud2lkdGg9XCIxcHhcIixpLmFwcGVuZENoaWxkKG8pLHQ9IXBhcnNlRmxvYXQoZS5nZXRDb21wdXRlZFN0eWxlKG4sbnVsbCkubWFyZ2luUmlnaHQpLGkucmVtb3ZlQ2hpbGQobykscy5yZW1vdmVDaGlsZChuKSx0fX0pKX0oKSxaLnN3YXA9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxzPXt9O2ZvcihvIGluIHQpc1tvXT1lLnN0eWxlW29dLGUuc3R5bGVbb109dFtvXTtpPW4uYXBwbHkoZSxyfHxbXSk7Zm9yKG8gaW4gdCllLnN0eWxlW29dPXNbb107cmV0dXJuIGl9O3ZhciB6ZT0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sWGU9bmV3IFJlZ0V4cChcIl4oXCIrd2UrXCIpKC4qKSRcIixcImlcIiksVWU9bmV3IFJlZ0V4cChcIl4oWystXSk9KFwiK3dlK1wiKVwiLFwiaVwiKSxWZT17cG9zaXRpb246XCJhYnNvbHV0ZVwiLHZpc2liaWxpdHk6XCJoaWRkZW5cIixkaXNwbGF5OlwiYmxvY2tcIn0sWWU9e2xldHRlclNwYWNpbmc6XCIwXCIsZm9udFdlaWdodDpcIjQwMFwifSxHZT1bXCJXZWJraXRcIixcIk9cIixcIk1velwiLFwibXNcIl07Wi5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oZSx0KXtpZih0KXt2YXIgbj13KGUsXCJvcGFjaXR5XCIpO3JldHVyblwiXCI9PT1uP1wiMVwiOm59fX19LGNzc051bWJlcjp7Y29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6e2Zsb2F0OlwiY3NzRmxvYXRcIn0sc3R5bGU6ZnVuY3Rpb24oZSx0LG4scil7aWYoZSYmMyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlJiZlLnN0eWxlKXt2YXIgaSxvLHMsYT1aLmNhbWVsQ2FzZSh0KSx1PWUuc3R5bGU7cmV0dXJuIHQ9Wi5jc3NQcm9wc1thXXx8KFouY3NzUHJvcHNbYV09Qyh1LGEpKSxzPVouY3NzSG9va3NbdF18fFouY3NzSG9va3NbYV0sdm9pZCAwPT09bj9zJiZcImdldFwiaW4gcyYmdm9pZCAwIT09KGk9cy5nZXQoZSwhMSxyKSk/aTp1W3RdOihvPXR5cGVvZiBuLFwic3RyaW5nXCI9PT1vJiYoaT1VZS5leGVjKG4pKSYmKG49KGlbMV0rMSkqaVsyXStwYXJzZUZsb2F0KFouY3NzKGUsdCkpLG89XCJudW1iZXJcIiksbnVsbCE9biYmbj09PW4mJihcIm51bWJlclwiIT09b3x8Wi5jc3NOdW1iZXJbYV18fChuKz1cInB4XCIpLFEuY2xlYXJDbG9uZVN0eWxlfHxcIlwiIT09bnx8MCE9PXQuaW5kZXhPZihcImJhY2tncm91bmRcIil8fCh1W3RdPVwiaW5oZXJpdFwiKSxzJiZcInNldFwiaW4gcyYmdm9pZCAwPT09KG49cy5zZXQoZSxuLHIpKXx8KHVbdF09bikpLHZvaWQgMCl9fSxjc3M6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxzLGE9Wi5jYW1lbENhc2UodCk7cmV0dXJuIHQ9Wi5jc3NQcm9wc1thXXx8KFouY3NzUHJvcHNbYV09QyhlLnN0eWxlLGEpKSxzPVouY3NzSG9va3NbdF18fFouY3NzSG9va3NbYV0scyYmXCJnZXRcImluIHMmJihpPXMuZ2V0KGUsITAsbikpLHZvaWQgMD09PWkmJihpPXcoZSx0LHIpKSxcIm5vcm1hbFwiPT09aSYmdCBpbiBZZSYmKGk9WWVbdF0pLFwiXCI9PT1ufHxuPyhvPXBhcnNlRmxvYXQoaSksbj09PSEwfHxaLmlzTnVtZXJpYyhvKT9vfHwwOmkpOml9fSksWi5lYWNoKFtcImhlaWdodFwiLFwid2lkdGhcIl0sZnVuY3Rpb24oZSx0KXtaLmNzc0hvb2tzW3RdPXtnZXQ6ZnVuY3Rpb24oZSxuLHIpe2lmKG4pcmV0dXJuIHplLnRlc3QoWi5jc3MoZSxcImRpc3BsYXlcIikpJiYwPT09ZS5vZmZzZXRXaWR0aD9aLnN3YXAoZSxWZSxmdW5jdGlvbigpe3JldHVybiBFKGUsdCxyKX0pOkUoZSx0LHIpfSxzZXQ6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpPXImJl9lKGUpO3JldHVybiBOKGUsbixyP2soZSx0LHIsXCJib3JkZXItYm94XCI9PT1aLmNzcyhlLFwiYm94U2l6aW5nXCIsITEsaSksaSk6MCl9fX0pLFouY3NzSG9va3MubWFyZ2luUmlnaHQ9VChRLnJlbGlhYmxlTWFyZ2luUmlnaHQsZnVuY3Rpb24oZSx0KXtpZih0KXJldHVybiBaLnN3YXAoZSx7ZGlzcGxheTpcImlubGluZS1ibG9ja1wifSx3LFtlLFwibWFyZ2luUmlnaHRcIl0pfSksWi5lYWNoKHttYXJnaW46XCJcIixwYWRkaW5nOlwiXCIsYm9yZGVyOlwiV2lkdGhcIn0sZnVuY3Rpb24oZSx0KXtaLmNzc0hvb2tzW2UrdF09e2V4cGFuZDpmdW5jdGlvbihuKXtmb3IodmFyIHI9MCxpPXt9LG89XCJzdHJpbmdcIj09dHlwZW9mIG4/bi5zcGxpdChcIiBcIik6W25dO3I8NDtyKyspaVtlK1RlW3JdK3RdPW9bcl18fG9bci0yXXx8b1swXTtyZXR1cm4gaX19LEllLnRlc3QoZSl8fChaLmNzc0hvb2tzW2UrdF0uc2V0PU4pfSksWi5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihlLHQpe3JldHVybiBtZSh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30scz0wO2lmKFouaXNBcnJheSh0KSl7Zm9yKHI9X2UoZSksaT10Lmxlbmd0aDtzPGk7cysrKW9bdFtzXV09Wi5jc3MoZSx0W3NdLCExLHIpO3JldHVybiBvfXJldHVybiB2b2lkIDAhPT1uP1ouc3R5bGUoZSx0LG4pOlouY3NzKGUsdCl9LGUsdCxhcmd1bWVudHMubGVuZ3RoPjEpfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIFModGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gUyh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgZT9lP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpOnRoaXMuZWFjaChmdW5jdGlvbigpe0NlKHRoaXMpP1oodGhpcykuc2hvdygpOloodGhpcykuaGlkZSgpfSl9fSksWi5Ud2Vlbj1ELEQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpELGluaXQ6ZnVuY3Rpb24oZSx0LG4scixpLG8pe3RoaXMuZWxlbT1lLHRoaXMucHJvcD1uLHRoaXMuZWFzaW5nPWl8fFwic3dpbmdcIix0aGlzLm9wdGlvbnM9dCx0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9cix0aGlzLnVuaXQ9b3x8KFouY3NzTnVtYmVyW25dP1wiXCI6XCJweFwiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9RC5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gZSYmZS5nZXQ/ZS5nZXQodGhpcyk6RC5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oZSl7dmFyIHQsbj1ELnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD1aLmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz10PWUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6RC5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSxELnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1ELnByb3RvdHlwZSxELnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbnVsbD09ZS5lbGVtW2UucHJvcF18fGUuZWxlbS5zdHlsZSYmbnVsbCE9ZS5lbGVtLnN0eWxlW2UucHJvcF0/KHQ9Wi5jc3MoZS5lbGVtLGUucHJvcCxcIlwiKSx0JiZcImF1dG9cIiE9PXQ/dDowKTplLmVsZW1bZS5wcm9wXX0sc2V0OmZ1bmN0aW9uKGUpe1ouZnguc3RlcFtlLnByb3BdP1ouZnguc3RlcFtlLnByb3BdKGUpOmUuZWxlbS5zdHlsZSYmKG51bGwhPWUuZWxlbS5zdHlsZVtaLmNzc1Byb3BzW2UucHJvcF1dfHxaLmNzc0hvb2tzW2UucHJvcF0pP1ouc3R5bGUoZS5lbGVtLGUucHJvcCxlLm5vdytlLnVuaXQpOmUuZWxlbVtlLnByb3BdPWUubm93fX19LEQucHJvcEhvb2tzLnNjcm9sbFRvcD1ELnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LFouZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn19LFouZng9RC5wcm90b3R5cGUuaW5pdCxaLmZ4LnN0ZXA9e307dmFyIFFlLEplLEtlPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxaZT1uZXcgUmVnRXhwKFwiXig/OihbKy1dKT18KShcIit3ZStcIikoW2EteiVdKikkXCIsXCJpXCIpLGV0PS9xdWV1ZUhvb2tzJC8sdHQ9W3FdLG50PXtcIipcIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCkscj1uLmN1cigpLGk9WmUuZXhlYyh0KSxvPWkmJmlbM118fChaLmNzc051bWJlcltlXT9cIlwiOlwicHhcIikscz0oWi5jc3NOdW1iZXJbZV18fFwicHhcIiE9PW8mJityKSYmWmUuZXhlYyhaLmNzcyhuLmVsZW0sZSkpLGE9MSx1PTIwO2lmKHMmJnNbM10hPT1vKXtvPW98fHNbM10saT1pfHxbXSxzPStyfHwxO2RvIGE9YXx8XCIuNVwiLHMvPWEsWi5zdHlsZShuLmVsZW0sZSxzK28pO3doaWxlKGEhPT0oYT1uLmN1cigpL3IpJiYxIT09YSYmLS11KX1yZXR1cm4gaSYmKHM9bi5zdGFydD0rc3x8K3J8fDAsbi51bml0PW8sbi5lbmQ9aVsxXT9zKyhpWzFdKzEpKmlbMl06K2lbMl0pLG59XX07Wi5BbmltYXRpb249Wi5leHRlbmQoTyx7dHdlZW5lcjpmdW5jdGlvbihlLHQpe1ouaXNGdW5jdGlvbihlKT8odD1lLGU9W1wiKlwiXSk6ZT1lLnNwbGl0KFwiIFwiKTtmb3IodmFyIG4scj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyluPWVbcl0sbnRbbl09bnRbbl18fFtdLG50W25dLnVuc2hpZnQodCl9LHByZWZpbHRlcjpmdW5jdGlvbihlLHQpe3Q/dHQudW5zaGlmdChlKTp0dC5wdXNoKGUpfX0pLFouc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlP1ouZXh0ZW5kKHt9LGUpOntjb21wbGV0ZTpufHwhbiYmdHx8Wi5pc0Z1bmN0aW9uKGUpJiZlLGR1cmF0aW9uOmUsZWFzaW5nOm4mJnR8fHQmJiFaLmlzRnVuY3Rpb24odCkmJnR9O3JldHVybiByLmR1cmF0aW9uPVouZngub2ZmPzA6XCJudW1iZXJcIj09dHlwZW9mIHIuZHVyYXRpb24/ci5kdXJhdGlvbjpyLmR1cmF0aW9uIGluIFouZnguc3BlZWRzP1ouZnguc3BlZWRzW3IuZHVyYXRpb25dOlouZnguc3BlZWRzLl9kZWZhdWx0LG51bGwhPXIucXVldWUmJnIucXVldWUhPT0hMHx8KHIucXVldWU9XCJmeFwiKSxyLm9sZD1yLmNvbXBsZXRlLHIuY29tcGxldGU9ZnVuY3Rpb24oKXtaLmlzRnVuY3Rpb24oci5vbGQpJiZyLm9sZC5jYWxsKHRoaXMpLHIucXVldWUmJlouZGVxdWV1ZSh0aGlzLHIucXVldWUpfSxyfSxaLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLmZpbHRlcihDZSkuY3NzKFwib3BhY2l0eVwiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT1aLmlzRW1wdHlPYmplY3QoZSksbz1aLnNwZWVkKHQsbixyKSxzPWZ1bmN0aW9uKCl7dmFyIHQ9Tyh0aGlzLFouZXh0ZW5kKHt9LGUpLG8pOyhpfHx2ZS5nZXQodGhpcyxcImZpbmlzaFwiKSkmJnQuc3RvcCghMCl9O3JldHVybiBzLmZpbmlzaD1zLGl8fG8ucXVldWU9PT0hMT90aGlzLmVhY2gocyk6dGhpcy5xdWV1ZShvLnF1ZXVlLHMpfSxzdG9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgdD1lLnN0b3A7ZGVsZXRlIGUuc3RvcCx0KG4pfTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgZSYmKG49dCx0PWUsZT12b2lkIDApLHQmJmUhPT0hMSYmdGhpcy5xdWV1ZShlfHxcImZ4XCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PSEwLGk9bnVsbCE9ZSYmZStcInF1ZXVlSG9va3NcIixvPVoudGltZXJzLHM9dmUuZ2V0KHRoaXMpO2lmKGkpc1tpXSYmc1tpXS5zdG9wJiZyKHNbaV0pO2Vsc2UgZm9yKGkgaW4gcylzW2ldJiZzW2ldLnN0b3AmJmV0LnRlc3QoaSkmJnIoc1tpXSk7Zm9yKGk9by5sZW5ndGg7aS0tOylvW2ldLmVsZW0hPT10aGlzfHxudWxsIT1lJiZvW2ldLnF1ZXVlIT09ZXx8KG9baV0uYW5pbS5zdG9wKG4pLHQ9ITEsby5zcGxpY2UoaSwxKSk7IXQmJm58fFouZGVxdWV1ZSh0aGlzLGUpfSl9LGZpbmlzaDpmdW5jdGlvbihlKXtyZXR1cm4gZSE9PSExJiYoZT1lfHxcImZ4XCIpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0LG49dmUuZ2V0KHRoaXMpLHI9bltlK1wicXVldWVcIl0saT1uW2UrXCJxdWV1ZUhvb2tzXCJdLG89Wi50aW1lcnMscz1yP3IubGVuZ3RoOjA7Zm9yKG4uZmluaXNoPSEwLFoucXVldWUodGhpcyxlLFtdKSxpJiZpLnN0b3AmJmkuc3RvcC5jYWxsKHRoaXMsITApLHQ9by5sZW5ndGg7dC0tOylvW3RdLmVsZW09PT10aGlzJiZvW3RdLnF1ZXVlPT09ZSYmKG9bdF0uYW5pbS5zdG9wKCEwKSxvLnNwbGljZSh0LDEpKTtcbmZvcih0PTA7dDxzO3QrKylyW3RdJiZyW3RdLmZpbmlzaCYmclt0XS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgbi5maW5pc2h9KX19KSxaLmVhY2goW1widG9nZ2xlXCIsXCJzaG93XCIsXCJoaWRlXCJdLGZ1bmN0aW9uKGUsdCl7dmFyIG49Wi5mblt0XTtaLmZuW3RdPWZ1bmN0aW9uKGUscixpKXtyZXR1cm4gbnVsbD09ZXx8XCJib29sZWFuXCI9PXR5cGVvZiBlP24uYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMuYW5pbWF0ZShBKHQsITApLGUscixpKX19KSxaLmVhY2goe3NsaWRlRG93bjpBKFwic2hvd1wiKSxzbGlkZVVwOkEoXCJoaWRlXCIpLHNsaWRlVG9nZ2xlOkEoXCJ0b2dnbGVcIiksZmFkZUluOntvcGFjaXR5Olwic2hvd1wifSxmYWRlT3V0OntvcGFjaXR5OlwiaGlkZVwifSxmYWRlVG9nZ2xlOntvcGFjaXR5OlwidG9nZ2xlXCJ9fSxmdW5jdGlvbihlLHQpe1ouZm5bZV09ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB0aGlzLmFuaW1hdGUodCxlLG4scil9fSksWi50aW1lcnM9W10sWi5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGUsdD0wLG49Wi50aW1lcnM7Zm9yKFFlPVoubm93KCk7dDxuLmxlbmd0aDt0KyspZT1uW3RdLGUoKXx8blt0XSE9PWV8fG4uc3BsaWNlKHQtLSwxKTtuLmxlbmd0aHx8Wi5meC5zdG9wKCksUWU9dm9pZCAwfSxaLmZ4LnRpbWVyPWZ1bmN0aW9uKGUpe1oudGltZXJzLnB1c2goZSksZSgpP1ouZnguc3RhcnQoKTpaLnRpbWVycy5wb3AoKX0sWi5meC5pbnRlcnZhbD0xMyxaLmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7SmV8fChKZT1zZXRJbnRlcnZhbChaLmZ4LnRpY2ssWi5meC5pbnRlcnZhbCkpfSxaLmZ4LnN0b3A9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKEplKSxKZT1udWxsfSxaLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxaLmZuLmRlbGF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9Wi5meD9aLmZ4LnNwZWVkc1tlXXx8ZTplLHQ9dHx8XCJmeFwiLHRoaXMucXVldWUodCxmdW5jdGlvbih0LG4pe3ZhciByPXNldFRpbWVvdXQodCxlKTtuLnN0b3A9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQocil9fSl9LGZ1bmN0aW9uKCl7dmFyIGU9Si5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksdD1KLmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIiksbj10LmFwcGVuZENoaWxkKEouY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSk7ZS50eXBlPVwiY2hlY2tib3hcIixRLmNoZWNrT249XCJcIiE9PWUudmFsdWUsUS5vcHRTZWxlY3RlZD1uLnNlbGVjdGVkLHQuZGlzYWJsZWQ9ITAsUS5vcHREaXNhYmxlZD0hbi5kaXNhYmxlZCxlPUouY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGUudmFsdWU9XCJ0XCIsZS50eXBlPVwicmFkaW9cIixRLnJhZGlvVmFsdWU9XCJ0XCI9PT1lLnZhbHVlfSgpO3ZhciBydCxpdCxvdD1aLmV4cHIuYXR0ckhhbmRsZTtaLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiBtZSh0aGlzLFouYXR0cixlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Wi5yZW1vdmVBdHRyKHRoaXMsZSl9KX19KSxaLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPWUubm9kZVR5cGU7aWYoZSYmMyE9PW8mJjghPT1vJiYyIT09bylyZXR1cm4gdHlwZW9mIGUuZ2V0QXR0cmlidXRlPT09a2U/Wi5wcm9wKGUsdCxuKTooMT09PW8mJlouaXNYTUxEb2MoZSl8fCh0PXQudG9Mb3dlckNhc2UoKSxyPVouYXR0ckhvb2tzW3RdfHwoWi5leHByLm1hdGNoLmJvb2wudGVzdCh0KT9pdDpydCkpLHZvaWQgMD09PW4/ciYmXCJnZXRcImluIHImJm51bGwhPT0oaT1yLmdldChlLHQpKT9pOihpPVouZmluZC5hdHRyKGUsdCksbnVsbD09aT92b2lkIDA6aSk6bnVsbCE9PW4/ciYmXCJzZXRcImluIHImJnZvaWQgMCE9PShpPXIuc2V0KGUsbix0KSk/aTooZS5zZXRBdHRyaWJ1dGUodCxuK1wiXCIpLG4pOnZvaWQgWi5yZW1vdmVBdHRyKGUsdCkpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpPTAsbz10JiZ0Lm1hdGNoKGRlKTtpZihvJiYxPT09ZS5ub2RlVHlwZSlmb3IoO249b1tpKytdOylyPVoucHJvcEZpeFtuXXx8bixaLmV4cHIubWF0Y2guYm9vbC50ZXN0KG4pJiYoZVtyXT0hMSksZS5yZW1vdmVBdHRyaWJ1dGUobil9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGUsdCl7aWYoIVEucmFkaW9WYWx1ZSYmXCJyYWRpb1wiPT09dCYmWi5ub2RlTmFtZShlLFwiaW5wdXRcIikpe3ZhciBuPWUudmFsdWU7cmV0dXJuIGUuc2V0QXR0cmlidXRlKFwidHlwZVwiLHQpLG4mJihlLnZhbHVlPW4pLHR9fX19fSksaXQ9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ9PT0hMT9aLnJlbW92ZUF0dHIoZSxuKTplLnNldEF0dHJpYnV0ZShuLG4pLG59fSxaLmVhY2goWi5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cXHcrL2cpLGZ1bmN0aW9uKGUsdCl7dmFyIG49b3RbdF18fFouZmluZC5hdHRyO290W3RdPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxvO3JldHVybiByfHwobz1vdFt0XSxvdFt0XT1pLGk9bnVsbCE9bihlLHQscik/dC50b0xvd2VyQ2FzZSgpOm51bGwsb3RbdF09byksaX19KTt2YXIgc3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaTtaLmZuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihlLHQpe3JldHVybiBtZSh0aGlzLFoucHJvcCxlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbWi5wcm9wRml4W2VdfHxlXX0pfX0pLFouZXh0ZW5kKHtwcm9wRml4Ontmb3I6XCJodG1sRm9yXCIsY2xhc3M6XCJjbGFzc05hbWVcIn0scHJvcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLHM9ZS5ub2RlVHlwZTtpZihlJiYzIT09cyYmOCE9PXMmJjIhPT1zKXJldHVybiBvPTEhPT1zfHwhWi5pc1hNTERvYyhlKSxvJiYodD1aLnByb3BGaXhbdF18fHQsaT1aLnByb3BIb29rc1t0XSksdm9pZCAwIT09bj9pJiZcInNldFwiaW4gaSYmdm9pZCAwIT09KHI9aS5zZXQoZSxuLHQpKT9yOmVbdF09bjppJiZcImdldFwiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlLmhhc0F0dHJpYnV0ZShcInRhYmluZGV4XCIpfHxzdC50ZXN0KGUubm9kZU5hbWUpfHxlLmhyZWY/ZS50YWJJbmRleDotMX19fX0pLFEub3B0U2VsZWN0ZWR8fChaLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfX0pLFouZWFjaChbXCJ0YWJJbmRleFwiLFwicmVhZE9ubHlcIixcIm1heExlbmd0aFwiLFwiY2VsbFNwYWNpbmdcIixcImNlbGxQYWRkaW5nXCIsXCJyb3dTcGFuXCIsXCJjb2xTcGFuXCIsXCJ1c2VNYXBcIixcImZyYW1lQm9yZGVyXCIsXCJjb250ZW50RWRpdGFibGVcIl0sZnVuY3Rpb24oKXtaLnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSk7dmFyIGF0PS9bXFx0XFxyXFxuXFxmXS9nO1ouZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLHMsYT1cInN0cmluZ1wiPT10eXBlb2YgZSYmZSx1PTAsbD10aGlzLmxlbmd0aDtpZihaLmlzRnVuY3Rpb24oZSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXtaKHRoaXMpLmFkZENsYXNzKGUuY2FsbCh0aGlzLHQsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGEpZm9yKHQ9KGV8fFwiXCIpLm1hdGNoKGRlKXx8W107dTxsO3UrKylpZihuPXRoaXNbdV0scj0xPT09bi5ub2RlVHlwZSYmKG4uY2xhc3NOYW1lPyhcIiBcIituLmNsYXNzTmFtZStcIiBcIikucmVwbGFjZShhdCxcIiBcIik6XCIgXCIpKXtmb3Iobz0wO2k9dFtvKytdOylyLmluZGV4T2YoXCIgXCIraStcIiBcIik8MCYmKHIrPWkrXCIgXCIpO3M9Wi50cmltKHIpLG4uY2xhc3NOYW1lIT09cyYmKG4uY2xhc3NOYW1lPXMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLHMsYT0wPT09YXJndW1lbnRzLmxlbmd0aHx8XCJzdHJpbmdcIj09dHlwZW9mIGUmJmUsdT0wLGw9dGhpcy5sZW5ndGg7aWYoWi5pc0Z1bmN0aW9uKGUpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24odCl7Wih0aGlzKS5yZW1vdmVDbGFzcyhlLmNhbGwodGhpcyx0LHRoaXMuY2xhc3NOYW1lKSl9KTtpZihhKWZvcih0PShlfHxcIlwiKS5tYXRjaChkZSl8fFtdO3U8bDt1KyspaWYobj10aGlzW3VdLHI9MT09PW4ubm9kZVR5cGUmJihuLmNsYXNzTmFtZT8oXCIgXCIrbi5jbGFzc05hbWUrXCIgXCIpLnJlcGxhY2UoYXQsXCIgXCIpOlwiXCIpKXtmb3Iobz0wO2k9dFtvKytdOylmb3IoO3IuaW5kZXhPZihcIiBcIitpK1wiIFwiKT49MDspcj1yLnJlcGxhY2UoXCIgXCIraStcIiBcIixcIiBcIik7cz1lP1oudHJpbShyKTpcIlwiLG4uY2xhc3NOYW1lIT09cyYmKG4uY2xhc3NOYW1lPXMpfXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihlLHQpe3ZhciBuPXR5cGVvZiBlO3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgdCYmXCJzdHJpbmdcIj09PW4/dD90aGlzLmFkZENsYXNzKGUpOnRoaXMucmVtb3ZlQ2xhc3MoZSk6Wi5pc0Z1bmN0aW9uKGUpP3RoaXMuZWFjaChmdW5jdGlvbihuKXtaKHRoaXMpLnRvZ2dsZUNsYXNzKGUuY2FsbCh0aGlzLG4sdGhpcy5jbGFzc05hbWUsdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXtpZihcInN0cmluZ1wiPT09bilmb3IodmFyIHQscj0wLGk9Wih0aGlzKSxvPWUubWF0Y2goZGUpfHxbXTt0PW9bcisrXTspaS5oYXNDbGFzcyh0KT9pLnJlbW92ZUNsYXNzKHQpOmkuYWRkQ2xhc3ModCk7ZWxzZSBuIT09a2UmJlwiYm9vbGVhblwiIT09bnx8KHRoaXMuY2xhc3NOYW1lJiZ2ZS5zZXQodGhpcyxcIl9fY2xhc3NOYW1lX19cIix0aGlzLmNsYXNzTmFtZSksdGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fGU9PT0hMT9cIlwiOnZlLmdldCh0aGlzLFwiX19jbGFzc05hbWVfX1wiKXx8XCJcIil9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVwiIFwiK2UrXCIgXCIsbj0wLHI9dGhpcy5sZW5ndGg7bjxyO24rKylpZigxPT09dGhpc1tuXS5ub2RlVHlwZSYmKFwiIFwiK3RoaXNbbl0uY2xhc3NOYW1lK1wiIFwiKS5yZXBsYWNlKGF0LFwiIFwiKS5pbmRleE9mKHQpPj0wKXJldHVybiEwO3JldHVybiExfX0pO3ZhciB1dD0vXFxyL2c7Wi5mbi5leHRlbmQoe3ZhbDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaT10aGlzWzBdO3tpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiByPVouaXNGdW5jdGlvbihlKSx0aGlzLmVhY2goZnVuY3Rpb24obil7dmFyIGk7MT09PXRoaXMubm9kZVR5cGUmJihpPXI/ZS5jYWxsKHRoaXMsbixaKHRoaXMpLnZhbCgpKTplLG51bGw9PWk/aT1cIlwiOlwibnVtYmVyXCI9PXR5cGVvZiBpP2krPVwiXCI6Wi5pc0FycmF5KGkpJiYoaT1aLm1hcChpLGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP1wiXCI6ZStcIlwifSkpLHQ9Wi52YWxIb29rc1t0aGlzLnR5cGVdfHxaLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sdCYmXCJzZXRcImluIHQmJnZvaWQgMCE9PXQuc2V0KHRoaXMsaSxcInZhbHVlXCIpfHwodGhpcy52YWx1ZT1pKSl9KTtpZihpKXJldHVybiB0PVoudmFsSG9va3NbaS50eXBlXXx8Wi52YWxIb29rc1tpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLHQmJlwiZ2V0XCJpbiB0JiZ2b2lkIDAhPT0obj10LmdldChpLFwidmFsdWVcIikpP246KG49aS52YWx1ZSxcInN0cmluZ1wiPT10eXBlb2Ygbj9uLnJlcGxhY2UodXQsXCJcIik6bnVsbD09bj9cIlwiOm4pfX19KSxaLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVouZmluZC5hdHRyKGUsXCJ2YWx1ZVwiKTtyZXR1cm4gbnVsbCE9dD90OloudHJpbShaLnRleHQoZSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scj1lLm9wdGlvbnMsaT1lLnNlbGVjdGVkSW5kZXgsbz1cInNlbGVjdC1vbmVcIj09PWUudHlwZXx8aTwwLHM9bz9udWxsOltdLGE9bz9pKzE6ci5sZW5ndGgsdT1pPDA/YTpvP2k6MDt1PGE7dSsrKWlmKG49clt1XSwobi5zZWxlY3RlZHx8dT09PWkpJiYoUS5vcHREaXNhYmxlZD8hbi5kaXNhYmxlZDpudWxsPT09bi5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSkmJighbi5wYXJlbnROb2RlLmRpc2FibGVkfHwhWi5ub2RlTmFtZShuLnBhcmVudE5vZGUsXCJvcHRncm91cFwiKSkpe2lmKHQ9WihuKS52YWwoKSxvKXJldHVybiB0O3MucHVzaCh0KX1yZXR1cm4gc30sc2V0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHIsaT1lLm9wdGlvbnMsbz1aLm1ha2VBcnJheSh0KSxzPWkubGVuZ3RoO3MtLTspcj1pW3NdLChyLnNlbGVjdGVkPVouaW5BcnJheShyLnZhbHVlLG8pPj0wKSYmKG49ITApO3JldHVybiBufHwoZS5zZWxlY3RlZEluZGV4PS0xKSxvfX19fSksWi5lYWNoKFtcInJhZGlvXCIsXCJjaGVja2JveFwiXSxmdW5jdGlvbigpe1oudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe2lmKFouaXNBcnJheSh0KSlyZXR1cm4gZS5jaGVja2VkPVouaW5BcnJheShaKGUpLnZhbCgpLHQpPj0wfX0sUS5jaGVja09ufHwoWi52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpP1wib25cIjplLnZhbHVlfSl9KSxaLmVhY2goXCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51XCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGUsdCl7Wi5mblt0XT1mdW5jdGlvbihlLG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbih0LG51bGwsZSxuKTp0aGlzLnRyaWdnZXIodCl9fSksWi5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfSxiaW5kOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5vbihlLG51bGwsdCxuKX0sdW5iaW5kOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub2ZmKGUsbnVsbCx0KX0sZGVsZWdhdGU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMub24odCxlLG4scil9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihlLFwiKipcIik6dGhpcy5vZmYodCxlfHxcIioqXCIsbil9fSk7dmFyIGx0PVoubm93KCksY3Q9L1xcPy87Wi5wYXJzZUpTT049ZnVuY3Rpb24oZSl7cmV0dXJuIEpTT04ucGFyc2UoZStcIlwiKX0sWi5wYXJzZVhNTD1mdW5jdGlvbihlKXt2YXIgdCxuO2lmKCFlfHxcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gbnVsbDt0cnl7bj1uZXcgRE9NUGFyc2VyLHQ9bi5wYXJzZUZyb21TdHJpbmcoZSxcInRleHQveG1sXCIpfWNhdGNoKGUpe3Q9dm9pZCAwfXJldHVybiB0JiYhdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhcnNlcmVycm9yXCIpLmxlbmd0aHx8Wi5lcnJvcihcIkludmFsaWQgWE1MOiBcIitlKSx0fTt2YXIgZnQ9LyMuKiQvLHB0PS8oWz8mXSlfPVteJl0qLyxkdD0vXiguKj8pOlsgXFx0XSooW15cXHJcXG5dKikkL2dtLGh0PS9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLGd0PS9eKD86R0VUfEhFQUQpJC8sbXQ9L15cXC9cXC8vLHZ0PS9eKFtcXHcuKy1dKzopKD86XFwvXFwvKD86W15cXC8/I10qQHwpKFteXFwvPyM6XSopKD86OihcXGQrKXwpfCkvLHl0PXt9LHh0PXt9LGJ0PVwiKi9cIi5jb25jYXQoXCIqXCIpLHd0PWUubG9jYXRpb24uaHJlZixUdD12dC5leGVjKHd0LnRvTG93ZXJDYXNlKCkpfHxbXTtaLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6d3QsdHlwZTpcIkdFVFwiLGlzTG9jYWw6aHQudGVzdChUdFsxXSksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCIsYWNjZXB0czp7XCIqXCI6YnQsdGV4dDpcInRleHQvcGxhaW5cIixodG1sOlwidGV4dC9odG1sXCIseG1sOlwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLGpzb246XCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIn0sY29udGVudHM6e3htbDoveG1sLyxodG1sOi9odG1sLyxqc29uOi9qc29uL30scmVzcG9uc2VGaWVsZHM6e3htbDpcInJlc3BvbnNlWE1MXCIsdGV4dDpcInJlc3BvbnNlVGV4dFwiLGpzb246XCJyZXNwb25zZUpTT05cIn0sY29udmVydGVyczp7XCIqIHRleHRcIjpTdHJpbmcsXCJ0ZXh0IGh0bWxcIjohMCxcInRleHQganNvblwiOloucGFyc2VKU09OLFwidGV4dCB4bWxcIjpaLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9SKFIoZSxaLmFqYXhTZXR0aW5ncyksdCk6UihaLmFqYXhTZXR0aW5ncyxlKX0sYWpheFByZWZpbHRlcjpGKHl0KSxhamF4VHJhbnNwb3J0OkYoeHQpLGFqYXg6ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUsdCxuLHMpe3ZhciB1LGMsdix5LGIsVD10OzIhPT14JiYoeD0yLGEmJmNsZWFyVGltZW91dChhKSxyPXZvaWQgMCxvPXN8fFwiXCIsdy5yZWFkeVN0YXRlPWU+MD80OjAsdT1lPj0yMDAmJmU8MzAwfHwzMDQ9PT1lLG4mJih5PU0oZix3LG4pKSx5PVcoZix5LHcsdSksdT8oZi5pZk1vZGlmaWVkJiYoYj13LmdldFJlc3BvbnNlSGVhZGVyKFwiTGFzdC1Nb2RpZmllZFwiKSxiJiYoWi5sYXN0TW9kaWZpZWRbaV09YiksYj13LmdldFJlc3BvbnNlSGVhZGVyKFwiZXRhZ1wiKSxiJiYoWi5ldGFnW2ldPWIpKSwyMDQ9PT1lfHxcIkhFQURcIj09PWYudHlwZT9UPVwibm9jb250ZW50XCI6MzA0PT09ZT9UPVwibm90bW9kaWZpZWRcIjooVD15LnN0YXRlLGM9eS5kYXRhLHY9eS5lcnJvcix1PSF2KSk6KHY9VCwhZSYmVHx8KFQ9XCJlcnJvclwiLGU8MCYmKGU9MCkpKSx3LnN0YXR1cz1lLHcuc3RhdHVzVGV4dD0odHx8VCkrXCJcIix1P2gucmVzb2x2ZVdpdGgocCxbYyxULHddKTpoLnJlamVjdFdpdGgocCxbdyxULHZdKSx3LnN0YXR1c0NvZGUobSksbT12b2lkIDAsbCYmZC50cmlnZ2VyKHU/XCJhamF4U3VjY2Vzc1wiOlwiYWpheEVycm9yXCIsW3csZix1P2M6dl0pLGcuZmlyZVdpdGgocCxbdyxUXSksbCYmKGQudHJpZ2dlcihcImFqYXhDb21wbGV0ZVwiLFt3LGZdKSwtLVouYWN0aXZlfHxaLmV2ZW50LnRyaWdnZXIoXCJhamF4U3RvcFwiKSkpfVwib2JqZWN0XCI9PXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSx0PXR8fHt9O3ZhciByLGksbyxzLGEsdSxsLGMsZj1aLmFqYXhTZXR1cCh7fSx0KSxwPWYuY29udGV4dHx8ZixkPWYuY29udGV4dCYmKHAubm9kZVR5cGV8fHAuanF1ZXJ5KT9aKHApOlouZXZlbnQsaD1aLkRlZmVycmVkKCksZz1aLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLG09Zi5zdGF0dXNDb2RlfHx7fSx2PXt9LHk9e30seD0wLGI9XCJjYW5jZWxlZFwiLHc9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihlKXt2YXIgdDtpZigyPT09eCl7aWYoIXMpZm9yKHM9e307dD1kdC5leGVjKG8pOylzW3RbMV0udG9Mb3dlckNhc2UoKV09dFsyXTt0PXNbZS50b0xvd2VyQ2FzZSgpXX1yZXR1cm4gbnVsbD09dD9udWxsOnR9LGdldEFsbFJlc3BvbnNlSGVhZGVyczpmdW5jdGlvbigpe3JldHVybiAyPT09eD9vOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHh8fChlPXlbbl09eVtuXXx8ZSx2W2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHh8fChmLm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZih4PDIpZm9yKHQgaW4gZSltW3RdPVttW3RdLGVbdF1dO2Vsc2Ugdy5hbHdheXMoZVt3LnN0YXR1c10pO3JldHVybiB0aGlzfSxhYm9ydDpmdW5jdGlvbihlKXt2YXIgdD1lfHxiO3JldHVybiByJiZyLmFib3J0KHQpLG4oMCx0KSx0aGlzfX07aWYoaC5wcm9taXNlKHcpLmNvbXBsZXRlPWcuYWRkLHcuc3VjY2Vzcz13LmRvbmUsdy5lcnJvcj13LmZhaWwsZi51cmw9KChlfHxmLnVybHx8d3QpK1wiXCIpLnJlcGxhY2UoZnQsXCJcIikucmVwbGFjZShtdCxUdFsxXStcIi8vXCIpLGYudHlwZT10Lm1ldGhvZHx8dC50eXBlfHxmLm1ldGhvZHx8Zi50eXBlLGYuZGF0YVR5cGVzPVoudHJpbShmLmRhdGFUeXBlfHxcIipcIikudG9Mb3dlckNhc2UoKS5tYXRjaChkZSl8fFtcIlwiXSxudWxsPT1mLmNyb3NzRG9tYWluJiYodT12dC5leGVjKGYudXJsLnRvTG93ZXJDYXNlKCkpLGYuY3Jvc3NEb21haW49ISghdXx8dVsxXT09PVR0WzFdJiZ1WzJdPT09VHRbMl0mJih1WzNdfHwoXCJodHRwOlwiPT09dVsxXT9cIjgwXCI6XCI0NDNcIikpPT09KFR0WzNdfHwoXCJodHRwOlwiPT09VHRbMV0/XCI4MFwiOlwiNDQzXCIpKSkpLGYuZGF0YSYmZi5wcm9jZXNzRGF0YSYmXCJzdHJpbmdcIiE9dHlwZW9mIGYuZGF0YSYmKGYuZGF0YT1aLnBhcmFtKGYuZGF0YSxmLnRyYWRpdGlvbmFsKSksUCh5dCxmLHQsdyksMj09PXgpcmV0dXJuIHc7bD1aLmV2ZW50JiZmLmdsb2JhbCxsJiYwPT09Wi5hY3RpdmUrKyYmWi5ldmVudC50cmlnZ2VyKFwiYWpheFN0YXJ0XCIpLGYudHlwZT1mLnR5cGUudG9VcHBlckNhc2UoKSxmLmhhc0NvbnRlbnQ9IWd0LnRlc3QoZi50eXBlKSxpPWYudXJsLGYuaGFzQ29udGVudHx8KGYuZGF0YSYmKGk9Zi51cmwrPShjdC50ZXN0KGkpP1wiJlwiOlwiP1wiKStmLmRhdGEsZGVsZXRlIGYuZGF0YSksZi5jYWNoZT09PSExJiYoZi51cmw9cHQudGVzdChpKT9pLnJlcGxhY2UocHQsXCIkMV89XCIrbHQrKyk6aSsoY3QudGVzdChpKT9cIiZcIjpcIj9cIikrXCJfPVwiK2x0KyspKSxmLmlmTW9kaWZpZWQmJihaLmxhc3RNb2RpZmllZFtpXSYmdy5zZXRSZXF1ZXN0SGVhZGVyKFwiSWYtTW9kaWZpZWQtU2luY2VcIixaLmxhc3RNb2RpZmllZFtpXSksWi5ldGFnW2ldJiZ3LnNldFJlcXVlc3RIZWFkZXIoXCJJZi1Ob25lLU1hdGNoXCIsWi5ldGFnW2ldKSksKGYuZGF0YSYmZi5oYXNDb250ZW50JiZmLmNvbnRlbnRUeXBlIT09ITF8fHQuY29udGVudFR5cGUpJiZ3LnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixmLmNvbnRlbnRUeXBlKSx3LnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHRcIixmLmRhdGFUeXBlc1swXSYmZi5hY2NlcHRzW2YuZGF0YVR5cGVzWzBdXT9mLmFjY2VwdHNbZi5kYXRhVHlwZXNbMF1dKyhcIipcIiE9PWYuZGF0YVR5cGVzWzBdP1wiLCBcIitidCtcIjsgcT0wLjAxXCI6XCJcIik6Zi5hY2NlcHRzW1wiKlwiXSk7Zm9yKGMgaW4gZi5oZWFkZXJzKXcuc2V0UmVxdWVzdEhlYWRlcihjLGYuaGVhZGVyc1tjXSk7aWYoZi5iZWZvcmVTZW5kJiYoZi5iZWZvcmVTZW5kLmNhbGwocCx3LGYpPT09ITF8fDI9PT14KSlyZXR1cm4gdy5hYm9ydCgpO2I9XCJhYm9ydFwiO2ZvcihjIGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KXdbY10oZltjXSk7aWYocj1QKHh0LGYsdCx3KSl7dy5yZWFkeVN0YXRlPTEsbCYmZC50cmlnZ2VyKFwiYWpheFNlbmRcIixbdyxmXSksZi5hc3luYyYmZi50aW1lb3V0PjAmJihhPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt3LmFib3J0KFwidGltZW91dFwiKX0sZi50aW1lb3V0KSk7dHJ5e3g9MSxyLnNlbmQodixuKX1jYXRjaChlKXtpZighKHg8MikpdGhyb3cgZTtuKC0xLGUpfX1lbHNlIG4oLTEsXCJObyBUcmFuc3BvcnRcIik7cmV0dXJuIHd9LGdldEpTT046ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBaLmdldChlLHQsbixcImpzb25cIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBaLmdldChlLHZvaWQgMCx0LFwic2NyaXB0XCIpfX0pLFouZWFjaChbXCJnZXRcIixcInBvc3RcIl0sZnVuY3Rpb24oZSx0KXtaW3RdPWZ1bmN0aW9uKGUsbixyLGkpe3JldHVybiBaLmlzRnVuY3Rpb24obikmJihpPWl8fHIscj1uLG49dm9pZCAwKSxaLmFqYXgoe3VybDplLHR5cGU6dCxkYXRhVHlwZTppLGRhdGE6bixzdWNjZXNzOnJ9KX19KSxaLl9ldmFsVXJsPWZ1bmN0aW9uKGUpe3JldHVybiBaLmFqYXgoe3VybDplLHR5cGU6XCJHRVRcIixkYXRhVHlwZTpcInNjcmlwdFwiLGFzeW5jOiExLGdsb2JhbDohMSx0aHJvd3M6ITB9KX0sWi5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIFouaXNGdW5jdGlvbihlKT90aGlzLmVhY2goZnVuY3Rpb24odCl7Wih0aGlzKS53cmFwQWxsKGUuY2FsbCh0aGlzLHQpKX0pOih0aGlzWzBdJiYodD1aKGUsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZ0Lmluc2VydEJlZm9yZSh0aGlzWzBdKSx0Lm1hcChmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzO2UuZmlyc3RFbGVtZW50Q2hpbGQ7KWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpcyl9LHdyYXBJbm5lcjpmdW5jdGlvbihlKXtyZXR1cm4gWi5pc0Z1bmN0aW9uKGUpP3RoaXMuZWFjaChmdW5jdGlvbih0KXtaKHRoaXMpLndyYXBJbm5lcihlLmNhbGwodGhpcyx0KSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1aKHRoaXMpLG49dC5jb250ZW50cygpO24ubGVuZ3RoP24ud3JhcEFsbChlKTp0LmFwcGVuZChlKX0pfSx3cmFwOmZ1bmN0aW9uKGUpe3ZhciB0PVouaXNGdW5jdGlvbihlKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG4pe1oodGhpcykud3JhcEFsbCh0P2UuY2FsbCh0aGlzLG4pOmUpfSl9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXtaLm5vZGVOYW1lKHRoaXMsXCJib2R5XCIpfHxaKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX19KSxaLmV4cHIuZmlsdGVycy5oaWRkZW49ZnVuY3Rpb24oZSl7cmV0dXJuIGUub2Zmc2V0V2lkdGg8PTAmJmUub2Zmc2V0SGVpZ2h0PD0wfSxaLmV4cHIuZmlsdGVycy52aXNpYmxlPWZ1bmN0aW9uKGUpe3JldHVybiFaLmV4cHIuZmlsdGVycy5oaWRkZW4oZSl9O3ZhciBDdD0vJTIwL2csTnQ9L1xcW1xcXSQvLGt0PS9cXHI/XFxuL2csRXQ9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLFN0PS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtaLnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPWZ1bmN0aW9uKGUsdCl7dD1aLmlzRnVuY3Rpb24odCk/dCgpOm51bGw9PXQ/XCJcIjp0LHJbci5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChlKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQodCl9O2lmKHZvaWQgMD09PXQmJih0PVouYWpheFNldHRpbmdzJiZaLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCksWi5pc0FycmF5KGUpfHxlLmpxdWVyeSYmIVouaXNQbGFpbk9iamVjdChlKSlaLmVhY2goZSxmdW5jdGlvbigpe2kodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IobiBpbiBlKSQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbihcIiZcIikucmVwbGFjZShDdCxcIitcIil9LFouZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gWi5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBlPVoucHJvcCh0aGlzLFwiZWxlbWVudHNcIik7cmV0dXJuIGU/Wi5tYWtlQXJyYXkoZSk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBlPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhWih0aGlzKS5pcyhcIjpkaXNhYmxlZFwiKSYmU3QudGVzdCh0aGlzLm5vZGVOYW1lKSYmIUV0LnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFOZS50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPVoodGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpaLmlzQXJyYXkobik/Wi5tYXAobixmdW5jdGlvbihlKXtyZXR1cm57bmFtZTp0Lm5hbWUsdmFsdWU6ZS5yZXBsYWNlKGt0LFwiXFxyXFxuXCIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2Uoa3QsXCJcXHJcXG5cIil9fSkuZ2V0KCl9fSksWi5hamF4U2V0dGluZ3MueGhyPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIER0PTAsanQ9e30sQXQ9ezA6MjAwLDEyMjM6MjA0fSxMdD1aLmFqYXhTZXR0aW5ncy54aHIoKTtlLmF0dGFjaEV2ZW50JiZlLmF0dGFjaEV2ZW50KFwib251bmxvYWRcIixmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiBqdClqdFtlXSgpfSksUS5jb3JzPSEhTHQmJlwid2l0aENyZWRlbnRpYWxzXCJpbiBMdCxRLmFqYXg9THQ9ISFMdCxaLmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24oZSl7dmFyIHQ7aWYoUS5jb3JzfHxMdCYmIWUuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24obixyKXt2YXIgaSxvPWUueGhyKCkscz0rK0R0O2lmKG8ub3BlbihlLnR5cGUsZS51cmwsZS5hc3luYyxlLnVzZXJuYW1lLGUucGFzc3dvcmQpLGUueGhyRmllbGRzKWZvcihpIGluIGUueGhyRmllbGRzKW9baV09ZS54aHJGaWVsZHNbaV07ZS5taW1lVHlwZSYmby5vdmVycmlkZU1pbWVUeXBlJiZvLm92ZXJyaWRlTWltZVR5cGUoZS5taW1lVHlwZSksZS5jcm9zc0RvbWFpbnx8bltcIlgtUmVxdWVzdGVkLVdpdGhcIl18fChuW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXT1cIlhNTEh0dHBSZXF1ZXN0XCIpO2ZvcihpIGluIG4pby5zZXRSZXF1ZXN0SGVhZGVyKGksbltpXSk7dD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt0JiYoZGVsZXRlIGp0W3NdLHQ9by5vbmxvYWQ9by5vbmVycm9yPW51bGwsXCJhYm9ydFwiPT09ZT9vLmFib3J0KCk6XCJlcnJvclwiPT09ZT9yKG8uc3RhdHVzLG8uc3RhdHVzVGV4dCk6cihBdFtvLnN0YXR1c118fG8uc3RhdHVzLG8uc3RhdHVzVGV4dCxcInN0cmluZ1wiPT10eXBlb2Ygby5yZXNwb25zZVRleHQ/e3RleHQ6by5yZXNwb25zZVRleHR9OnZvaWQgMCxvLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fSxvLm9ubG9hZD10KCksby5vbmVycm9yPXQoXCJlcnJvclwiKSx0PWp0W3NdPXQoXCJhYm9ydFwiKTt0cnl7by5zZW5kKGUuaGFzQ29udGVudCYmZS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZih0KXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe3QmJnQoKX19fSksWi5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDpcInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0XCJ9LGNvbnRlbnRzOntzY3JpcHQ6Lyg/OmphdmF8ZWNtYSlzY3JpcHQvfSxjb252ZXJ0ZXJzOntcInRleHQgc2NyaXB0XCI6ZnVuY3Rpb24oZSl7cmV0dXJuIFouZ2xvYmFsRXZhbChlKSxlfX19KSxaLmFqYXhQcmVmaWx0ZXIoXCJzY3JpcHRcIixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT1cIkdFVFwiKX0pLFouYWpheFRyYW5zcG9ydChcInNjcmlwdFwiLGZ1bmN0aW9uKGUpe2lmKGUuY3Jvc3NEb21haW4pe3ZhciB0LG47cmV0dXJue3NlbmQ6ZnVuY3Rpb24ocixpKXt0PVooXCI8c2NyaXB0PlwiKS5wcm9wKHthc3luYzohMCxjaGFyc2V0OmUuc2NyaXB0Q2hhcnNldCxzcmM6ZS51cmx9KS5vbihcImxvYWQgZXJyb3JcIixuPWZ1bmN0aW9uKGUpe3QucmVtb3ZlKCksbj1udWxsLGUmJmkoXCJlcnJvclwiPT09ZS50eXBlPzQwNDoyMDAsZS50eXBlKX0pLEouaGVhZC5hcHBlbmRDaGlsZCh0WzBdKX0sYWJvcnQ6ZnVuY3Rpb24oKXtuJiZuKCl9fX19KTt2YXIgcXQ9W10sSHQ9Lyg9KVxcPyg/PSZ8JCl8XFw/XFw/LztaLmFqYXhTZXR1cCh7anNvbnA6XCJjYWxsYmFja1wiLGpzb25wQ2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgZT1xdC5wb3AoKXx8Wi5leHBhbmRvK1wiX1wiK2x0Kys7cmV0dXJuIHRoaXNbZV09ITAsZX19KSxaLmFqYXhQcmVmaWx0ZXIoXCJqc29uIGpzb25wXCIsZnVuY3Rpb24odCxuLHIpe3ZhciBpLG8scyxhPXQuanNvbnAhPT0hMSYmKEh0LnRlc3QodC51cmwpP1widXJsXCI6XCJzdHJpbmdcIj09dHlwZW9mIHQuZGF0YSYmISh0LmNvbnRlbnRUeXBlfHxcIlwiKS5pbmRleE9mKFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpJiZIdC50ZXN0KHQuZGF0YSkmJlwiZGF0YVwiKTtpZihhfHxcImpzb25wXCI9PT10LmRhdGFUeXBlc1swXSlyZXR1cm4gaT10Lmpzb25wQ2FsbGJhY2s9Wi5pc0Z1bmN0aW9uKHQuanNvbnBDYWxsYmFjayk/dC5qc29ucENhbGxiYWNrKCk6dC5qc29ucENhbGxiYWNrLGE/dFthXT10W2FdLnJlcGxhY2UoSHQsXCIkMVwiK2kpOnQuanNvbnAhPT0hMSYmKHQudXJsKz0oY3QudGVzdCh0LnVybCk/XCImXCI6XCI/XCIpK3QuanNvbnArXCI9XCIraSksdC5jb252ZXJ0ZXJzW1wic2NyaXB0IGpzb25cIl09ZnVuY3Rpb24oKXtyZXR1cm4gc3x8Wi5lcnJvcihpK1wiIHdhcyBub3QgY2FsbGVkXCIpLHNbMF19LHQuZGF0YVR5cGVzWzBdPVwianNvblwiLG89ZVtpXSxlW2ldPWZ1bmN0aW9uKCl7cz1hcmd1bWVudHN9LHIuYWx3YXlzKGZ1bmN0aW9uKCl7ZVtpXT1vLHRbaV0mJih0Lmpzb25wQ2FsbGJhY2s9bi5qc29ucENhbGxiYWNrLHF0LnB1c2goaSkpLHMmJlouaXNGdW5jdGlvbihvKSYmbyhzWzBdKSxzPW89dm9pZCAwfSksXCJzY3JpcHRcIn0pLFoucGFyc2VIVE1MPWZ1bmN0aW9uKGUsdCxuKXtpZighZXx8XCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIG51bGw7XCJib29sZWFuXCI9PXR5cGVvZiB0JiYobj10LHQ9ITEpLHQ9dHx8Sjt2YXIgcj1zZS5leGVjKGUpLGk9IW4mJltdO3JldHVybiByP1t0LmNyZWF0ZUVsZW1lbnQoclsxXSldOihyPVouYnVpbGRGcmFnbWVudChbZV0sdCxpKSxpJiZpLmxlbmd0aCYmWihpKS5yZW1vdmUoKSxaLm1lcmdlKFtdLHIuY2hpbGROb2RlcykpfTt2YXIgT3Q9Wi5mbi5sb2FkO1ouZm4ubG9hZD1mdW5jdGlvbihlLHQsbil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUmJk90KXJldHVybiBPdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIHIsaSxvLHM9dGhpcyxhPWUuaW5kZXhPZihcIiBcIik7cmV0dXJuIGE+PTAmJihyPVoudHJpbShlLnNsaWNlKGEpKSxlPWUuc2xpY2UoMCxhKSksWi5pc0Z1bmN0aW9uKHQpPyhuPXQsdD12b2lkIDApOnQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiYoaT1cIlBPU1RcIikscy5sZW5ndGg+MCYmWi5hamF4KHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6XCJodG1sXCIsZGF0YTp0fSkuZG9uZShmdW5jdGlvbihlKXtvPWFyZ3VtZW50cyxzLmh0bWwocj9aKFwiPGRpdj5cIikuYXBwZW5kKFoucGFyc2VIVE1MKGUpKS5maW5kKHIpOmUpfSkuY29tcGxldGUobiYmZnVuY3Rpb24oZSx0KXtzLmVhY2gobixvfHxbZS5yZXNwb25zZVRleHQsdCxlXSl9KSx0aGlzfSxaLmVhY2goW1wiYWpheFN0YXJ0XCIsXCJhamF4U3RvcFwiLFwiYWpheENvbXBsZXRlXCIsXCJhamF4RXJyb3JcIixcImFqYXhTdWNjZXNzXCIsXCJhamF4U2VuZFwiXSxmdW5jdGlvbihlLHQpe1ouZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSxaLmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gWi5ncmVwKFoudGltZXJzLGZ1bmN0aW9uKHQpe3JldHVybiBlPT09dC5lbGVtfSkubGVuZ3RofTt2YXIgRnQ9ZS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7Wi5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLHMsYSx1LGwsYz1aLmNzcyhlLFwicG9zaXRpb25cIiksZj1aKGUpLHA9e307XCJzdGF0aWNcIj09PWMmJihlLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIiksYT1mLm9mZnNldCgpLG89Wi5jc3MoZSxcInRvcFwiKSx1PVouY3NzKGUsXCJsZWZ0XCIpLGw9KFwiYWJzb2x1dGVcIj09PWN8fFwiZml4ZWRcIj09PWMpJiYobyt1KS5pbmRleE9mKFwiYXV0b1wiKT4tMSxsPyhyPWYucG9zaXRpb24oKSxzPXIudG9wLGk9ci5sZWZ0KToocz1wYXJzZUZsb2F0KG8pfHwwLGk9cGFyc2VGbG9hdCh1KXx8MCksWi5pc0Z1bmN0aW9uKHQpJiYodD10LmNhbGwoZSxuLGEpKSxudWxsIT10LnRvcCYmKHAudG9wPXQudG9wLWEudG9wK3MpLG51bGwhPXQubGVmdCYmKHAubGVmdD10LmxlZnQtYS5sZWZ0K2kpLFwidXNpbmdcImluIHQ/dC51c2luZy5jYWxsKGUscCk6Zi5jc3MocCl9fSxaLmZuLmV4dGVuZCh7b2Zmc2V0OmZ1bmN0aW9uKGUpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PWU/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24odCl7Wi5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsZSx0KX0pO3ZhciB0LG4scj10aGlzWzBdLGk9e3RvcDowLGxlZnQ6MH0sbz1yJiZyLm93bmVyRG9jdW1lbnQ7aWYobylyZXR1cm4gdD1vLmRvY3VtZW50RWxlbWVudCxaLmNvbnRhaW5zKHQscik/KHR5cGVvZiByLmdldEJvdW5kaW5nQ2xpZW50UmVjdCE9PWtlJiYoaT1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxuPUkobykse3RvcDppLnRvcCtuLnBhZ2VZT2Zmc2V0LXQuY2xpZW50VG9wLGxlZnQ6aS5sZWZ0K24ucGFnZVhPZmZzZXQtdC5jbGllbnRMZWZ0fSk6aX0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgZSx0LG49dGhpc1swXSxyPXt0b3A6MCxsZWZ0OjB9O3JldHVyblwiZml4ZWRcIj09PVouY3NzKG4sXCJwb3NpdGlvblwiKT90PW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6KGU9dGhpcy5vZmZzZXRQYXJlbnQoKSx0PXRoaXMub2Zmc2V0KCksWi5ub2RlTmFtZShlWzBdLFwiaHRtbFwiKXx8KHI9ZS5vZmZzZXQoKSksci50b3ArPVouY3NzKGVbMF0sXCJib3JkZXJUb3BXaWR0aFwiLCEwKSxyLmxlZnQrPVouY3NzKGVbMF0sXCJib3JkZXJMZWZ0V2lkdGhcIiwhMCkpLHt0b3A6dC50b3Atci50b3AtWi5jc3MobixcIm1hcmdpblRvcFwiLCEwKSxsZWZ0OnQubGVmdC1yLmxlZnQtWi5jc3MobixcIm1hcmdpbkxlZnRcIiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMub2Zmc2V0UGFyZW50fHxGdDtlJiYhWi5ub2RlTmFtZShlLFwiaHRtbFwiKSYmXCJzdGF0aWNcIj09PVouY3NzKGUsXCJwb3NpdGlvblwiKTspZT1lLm9mZnNldFBhcmVudDtyZXR1cm4gZXx8RnR9KX19KSxaLmVhY2goe3Njcm9sbExlZnQ6XCJwYWdlWE9mZnNldFwiLHNjcm9sbFRvcDpcInBhZ2VZT2Zmc2V0XCJ9LGZ1bmN0aW9uKHQsbil7dmFyIHI9XCJwYWdlWU9mZnNldFwiPT09bjtaLmZuW3RdPWZ1bmN0aW9uKGkpe3JldHVybiBtZSh0aGlzLGZ1bmN0aW9uKHQsaSxvKXt2YXIgcz1JKHQpO3JldHVybiB2b2lkIDA9PT1vP3M/c1tuXTp0W2ldOnZvaWQocz9zLnNjcm9sbFRvKHI/ZS5wYWdlWE9mZnNldDpvLHI/bzplLnBhZ2VZT2Zmc2V0KTp0W2ldPW8pfSx0LGksYXJndW1lbnRzLmxlbmd0aCxudWxsKX19KSxaLmVhY2goW1widG9wXCIsXCJsZWZ0XCJdLGZ1bmN0aW9uKGUsdCl7Wi5jc3NIb29rc1t0XT1UKFEucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihlLG4pe2lmKG4pcmV0dXJuIG49dyhlLHQpLEJlLnRlc3Qobik/WihlKS5wb3NpdGlvbigpW3RdK1wicHhcIjpufSl9KSxaLmVhY2goe0hlaWdodDpcImhlaWdodFwiLFdpZHRoOlwid2lkdGhcIn0sZnVuY3Rpb24oZSx0KXtaLmVhY2goe3BhZGRpbmc6XCJpbm5lclwiK2UsY29udGVudDp0LFwiXCI6XCJvdXRlclwiK2V9LGZ1bmN0aW9uKG4scil7Wi5mbltyXT1mdW5jdGlvbihyLGkpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGgmJihufHxcImJvb2xlYW5cIiE9dHlwZW9mIHIpLHM9bnx8KHI9PT0hMHx8aT09PSEwP1wibWFyZ2luXCI6XCJib3JkZXJcIik7cmV0dXJuIG1lKHRoaXMsZnVuY3Rpb24odCxuLHIpe3ZhciBpO3JldHVybiBaLmlzV2luZG93KHQpP3QuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50W1wiY2xpZW50XCIrZV06OT09PXQubm9kZVR5cGU/KGk9dC5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgodC5ib2R5W1wic2Nyb2xsXCIrZV0saVtcInNjcm9sbFwiK2VdLHQuYm9keVtcIm9mZnNldFwiK2VdLGlbXCJvZmZzZXRcIitlXSxpW1wiY2xpZW50XCIrZV0pKTp2b2lkIDA9PT1yP1ouY3NzKHQsbixzKTpaLnN0eWxlKHQsbixyLHMpfSx0LG8/cjp2b2lkIDAsbyxudWxsKX19KX0pLFouZm4uc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0sWi5mbi5hbmRTZWxmPVouZm4uYWRkQmFjayxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZShcImpxdWVyeVwiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIFp9KTt2YXIgUHQ9ZS5qUXVlcnksUnQ9ZS4kO3JldHVybiBaLm5vQ29uZmxpY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGUuJD09PVomJihlLiQ9UnQpLHQmJmUualF1ZXJ5PT09WiYmKGUualF1ZXJ5PVB0KSxafSx0eXBlb2YgdD09PWtlJiYoZS5qUXVlcnk9ZS4kPVopLFp9KTtcbmlmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBqUXVlcnkpdGhyb3cgbmV3IEVycm9yKFwiQm9vdHN0cmFwJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnlcIik7K2Z1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3ZhciBlPXQuZm4uanF1ZXJ5LnNwbGl0KFwiIFwiKVswXS5zcGxpdChcIi5cIik7aWYoZVswXTwyJiZlWzFdPDl8fDE9PWVbMF0mJjk9PWVbMV0mJmVbMl08MXx8ZVswXT4yKXRocm93IG5ldyBFcnJvcihcIkJvb3RzdHJhcCdzIEphdmFTY3JpcHQgcmVxdWlyZXMgalF1ZXJ5IHZlcnNpb24gMS45LjEgb3IgaGlnaGVyLCBidXQgbG93ZXIgdGhhbiB2ZXJzaW9uIDNcIil9KGpRdWVyeSksK2Z1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYm9vdHN0cmFwXCIpLGU9e1dlYmtpdFRyYW5zaXRpb246XCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCIsTW96VHJhbnNpdGlvbjpcInRyYW5zaXRpb25lbmRcIixPVHJhbnNpdGlvbjpcIm9UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kXCIsdHJhbnNpdGlvbjpcInRyYW5zaXRpb25lbmRcIn07Zm9yKHZhciBpIGluIGUpaWYodm9pZCAwIT09dC5zdHlsZVtpXSlyZXR1cm57ZW5kOmVbaV19O3JldHVybiExfXQuZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQ9ZnVuY3Rpb24oZSl7dmFyIGk9ITEsbz10aGlzO3QodGhpcykub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsZnVuY3Rpb24oKXtpPSEwfSk7dmFyIG49ZnVuY3Rpb24oKXtpfHx0KG8pLnRyaWdnZXIodC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKX07cmV0dXJuIHNldFRpbWVvdXQobixlKSx0aGlzfSx0KGZ1bmN0aW9uKCl7dC5zdXBwb3J0LnRyYW5zaXRpb249ZSgpLHQuc3VwcG9ydC50cmFuc2l0aW9uJiYodC5ldmVudC5zcGVjaWFsLmJzVHJhbnNpdGlvbkVuZD17YmluZFR5cGU6dC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLGRlbGVnYXRlVHlwZTp0LnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsaGFuZGxlOmZ1bmN0aW9uKGUpe2lmKHQoZS50YXJnZXQpLmlzKHRoaXMpKXJldHVybiBlLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KX0pfShqUXVlcnkpLCtmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT10KHRoaXMpLG49aS5kYXRhKFwiYnMuYWxlcnRcIik7bnx8aS5kYXRhKFwiYnMuYWxlcnRcIixuPW5ldyBvKHRoaXMpKSxcInN0cmluZ1wiPT10eXBlb2YgZSYmbltlXS5jYWxsKGkpfSl9dmFyIGk9J1tkYXRhLWRpc21pc3M9XCJhbGVydFwiXScsbz1mdW5jdGlvbihlKXt0KGUpLm9uKFwiY2xpY2tcIixpLHRoaXMuY2xvc2UpfTtvLlZFUlNJT049XCIzLjMuNlwiLG8uVFJBTlNJVElPTl9EVVJBVElPTj0xNTAsby5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaSgpe2EuZGV0YWNoKCkudHJpZ2dlcihcImNsb3NlZC5icy5hbGVydFwiKS5yZW1vdmUoKX12YXIgbj10KHRoaXMpLHM9bi5hdHRyKFwiZGF0YS10YXJnZXRcIik7c3x8KHM9bi5hdHRyKFwiaHJlZlwiKSxzPXMmJnMucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLyxcIlwiKSk7dmFyIGE9dChzKTtlJiZlLnByZXZlbnREZWZhdWx0KCksYS5sZW5ndGh8fChhPW4uY2xvc2VzdChcIi5hbGVydFwiKSksYS50cmlnZ2VyKGU9dC5FdmVudChcImNsb3NlLmJzLmFsZXJ0XCIpKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoYS5yZW1vdmVDbGFzcyhcImluXCIpLHQuc3VwcG9ydC50cmFuc2l0aW9uJiZhLmhhc0NsYXNzKFwiZmFkZVwiKT9hLm9uZShcImJzVHJhbnNpdGlvbkVuZFwiLGkpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKG8uVFJBTlNJVElPTl9EVVJBVElPTik6aSgpKX07dmFyIG49dC5mbi5hbGVydDt0LmZuLmFsZXJ0PWUsdC5mbi5hbGVydC5Db25zdHJ1Y3Rvcj1vLHQuZm4uYWxlcnQubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiB0LmZuLmFsZXJ0PW4sdGhpc30sdChkb2N1bWVudCkub24oXCJjbGljay5icy5hbGVydC5kYXRhLWFwaVwiLGksby5wcm90b3R5cGUuY2xvc2UpfShqUXVlcnkpLCtmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbz10KHRoaXMpLG49by5kYXRhKFwiYnMuYnV0dG9uXCIpLHM9XCJvYmplY3RcIj09dHlwZW9mIGUmJmU7bnx8by5kYXRhKFwiYnMuYnV0dG9uXCIsbj1uZXcgaSh0aGlzLHMpKSxcInRvZ2dsZVwiPT1lP24udG9nZ2xlKCk6ZSYmbi5zZXRTdGF0ZShlKX0pfXZhciBpPWZ1bmN0aW9uKGUsbyl7dGhpcy4kZWxlbWVudD10KGUpLHRoaXMub3B0aW9ucz10LmV4dGVuZCh7fSxpLkRFRkFVTFRTLG8pLHRoaXMuaXNMb2FkaW5nPSExfTtpLlZFUlNJT049XCIzLjMuNlwiLGkuREVGQVVMVFM9e2xvYWRpbmdUZXh0OlwibG9hZGluZy4uLlwifSxpLnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihlKXt2YXIgaT1cImRpc2FibGVkXCIsbz10aGlzLiRlbGVtZW50LG49by5pcyhcImlucHV0XCIpP1widmFsXCI6XCJodG1sXCIscz1vLmRhdGEoKTtlKz1cIlRleHRcIixudWxsPT1zLnJlc2V0VGV4dCYmby5kYXRhKFwicmVzZXRUZXh0XCIsb1tuXSgpKSxzZXRUaW1lb3V0KHQucHJveHkoZnVuY3Rpb24oKXtvW25dKG51bGw9PXNbZV0/dGhpcy5vcHRpb25zW2VdOnNbZV0pLFwibG9hZGluZ1RleHRcIj09ZT8odGhpcy5pc0xvYWRpbmc9ITAsby5hZGRDbGFzcyhpKS5hdHRyKGksaSkpOnRoaXMuaXNMb2FkaW5nJiYodGhpcy5pc0xvYWRpbmc9ITEsby5yZW1vdmVDbGFzcyhpKS5yZW1vdmVBdHRyKGkpKX0sdGhpcyksMCl9LGkucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbigpe3ZhciB0PSEwLGU9dGhpcy4kZWxlbWVudC5jbG9zZXN0KCdbZGF0YS10b2dnbGU9XCJidXR0b25zXCJdJyk7aWYoZS5sZW5ndGgpe3ZhciBpPXRoaXMuJGVsZW1lbnQuZmluZChcImlucHV0XCIpO1wicmFkaW9cIj09aS5wcm9wKFwidHlwZVwiKT8oaS5wcm9wKFwiY2hlY2tlZFwiKSYmKHQ9ITEpLGUuZmluZChcIi5hY3RpdmVcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIiksdGhpcy4kZWxlbWVudC5hZGRDbGFzcyhcImFjdGl2ZVwiKSk6XCJjaGVja2JveFwiPT1pLnByb3AoXCJ0eXBlXCIpJiYoaS5wcm9wKFwiY2hlY2tlZFwiKSE9PXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoXCJhY3RpdmVcIikmJih0PSExKSx0aGlzLiRlbGVtZW50LnRvZ2dsZUNsYXNzKFwiYWN0aXZlXCIpKSxpLnByb3AoXCJjaGVja2VkXCIsdGhpcy4kZWxlbWVudC5oYXNDbGFzcyhcImFjdGl2ZVwiKSksdCYmaS50cmlnZ2VyKFwiY2hhbmdlXCIpfWVsc2UgdGhpcy4kZWxlbWVudC5hdHRyKFwiYXJpYS1wcmVzc2VkXCIsIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoXCJhY3RpdmVcIikpLHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIil9O3ZhciBvPXQuZm4uYnV0dG9uO3QuZm4uYnV0dG9uPWUsdC5mbi5idXR0b24uQ29uc3RydWN0b3I9aSx0LmZuLmJ1dHRvbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuZm4uYnV0dG9uPW8sdGhpc30sdChkb2N1bWVudCkub24oXCJjbGljay5icy5idXR0b24uZGF0YS1hcGlcIiwnW2RhdGEtdG9nZ2xlXj1cImJ1dHRvblwiXScsZnVuY3Rpb24oaSl7dmFyIG89dChpLnRhcmdldCk7by5oYXNDbGFzcyhcImJ0blwiKXx8KG89by5jbG9zZXN0KFwiLmJ0blwiKSksZS5jYWxsKG8sXCJ0b2dnbGVcIiksdChpLnRhcmdldCkuaXMoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXScpfHx0KGkudGFyZ2V0KS5pcygnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyl8fGkucHJldmVudERlZmF1bHQoKX0pLm9uKFwiZm9jdXMuYnMuYnV0dG9uLmRhdGEtYXBpIGJsdXIuYnMuYnV0dG9uLmRhdGEtYXBpXCIsJ1tkYXRhLXRvZ2dsZV49XCJidXR0b25cIl0nLGZ1bmN0aW9uKGUpe3QoZS50YXJnZXQpLmNsb3Nlc3QoXCIuYnRuXCIpLnRvZ2dsZUNsYXNzKFwiZm9jdXNcIiwvXmZvY3VzKGluKT8kLy50ZXN0KGUudHlwZSkpfSl9KGpRdWVyeSksK2Z1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBvPXQodGhpcyksbj1vLmRhdGEoXCJicy5jYXJvdXNlbFwiKSxzPXQuZXh0ZW5kKHt9LGkuREVGQVVMVFMsby5kYXRhKCksXCJvYmplY3RcIj09dHlwZW9mIGUmJmUpLGE9XCJzdHJpbmdcIj09dHlwZW9mIGU/ZTpzLnNsaWRlO258fG8uZGF0YShcImJzLmNhcm91c2VsXCIsbj1uZXcgaSh0aGlzLHMpKSxcIm51bWJlclwiPT10eXBlb2YgZT9uLnRvKGUpOmE/blthXSgpOnMuaW50ZXJ2YWwmJm4ucGF1c2UoKS5jeWNsZSgpfSl9dmFyIGk9ZnVuY3Rpb24oZSxpKXt0aGlzLiRlbGVtZW50PXQoZSksdGhpcy4kaW5kaWNhdG9ycz10aGlzLiRlbGVtZW50LmZpbmQoXCIuY2Fyb3VzZWwtaW5kaWNhdG9yc1wiKSx0aGlzLm9wdGlvbnM9aSx0aGlzLnBhdXNlZD1udWxsLHRoaXMuc2xpZGluZz1udWxsLHRoaXMuaW50ZXJ2YWw9bnVsbCx0aGlzLiRhY3RpdmU9bnVsbCx0aGlzLiRpdGVtcz1udWxsLHRoaXMub3B0aW9ucy5rZXlib2FyZCYmdGhpcy4kZWxlbWVudC5vbihcImtleWRvd24uYnMuY2Fyb3VzZWxcIix0LnByb3h5KHRoaXMua2V5ZG93bix0aGlzKSksXCJob3ZlclwiPT10aGlzLm9wdGlvbnMucGF1c2UmJiEoXCJvbnRvdWNoc3RhcnRcImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkmJnRoaXMuJGVsZW1lbnQub24oXCJtb3VzZWVudGVyLmJzLmNhcm91c2VsXCIsdC5wcm94eSh0aGlzLnBhdXNlLHRoaXMpKS5vbihcIm1vdXNlbGVhdmUuYnMuY2Fyb3VzZWxcIix0LnByb3h5KHRoaXMuY3ljbGUsdGhpcykpfTtpLlZFUlNJT049XCIzLjMuNlwiLGkuVFJBTlNJVElPTl9EVVJBVElPTj02MDAsaS5ERUZBVUxUUz17aW50ZXJ2YWw6NWUzLHBhdXNlOlwiaG92ZXJcIix3cmFwOiEwLGtleWJvYXJkOiEwfSxpLnByb3RvdHlwZS5rZXlkb3duPWZ1bmN0aW9uKHQpe2lmKCEvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KHQudGFyZ2V0LnRhZ05hbWUpKXtzd2l0Y2godC53aGljaCl7Y2FzZSAzNzp0aGlzLnByZXYoKTticmVhaztjYXNlIDM5OnRoaXMubmV4dCgpO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXQucHJldmVudERlZmF1bHQoKX19LGkucHJvdG90eXBlLmN5Y2xlPWZ1bmN0aW9uKGUpe3JldHVybiBlfHwodGhpcy5wYXVzZWQ9ITEpLHRoaXMuaW50ZXJ2YWwmJmNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCksdGhpcy5vcHRpb25zLmludGVydmFsJiYhdGhpcy5wYXVzZWQmJih0aGlzLmludGVydmFsPXNldEludGVydmFsKHQucHJveHkodGhpcy5uZXh0LHRoaXMpLHRoaXMub3B0aW9ucy5pbnRlcnZhbCkpLHRoaXN9LGkucHJvdG90eXBlLmdldEl0ZW1JbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy4kaXRlbXM9dC5wYXJlbnQoKS5jaGlsZHJlbihcIi5pdGVtXCIpLHRoaXMuJGl0ZW1zLmluZGV4KHR8fHRoaXMuJGFjdGl2ZSl9LGkucHJvdG90eXBlLmdldEl0ZW1Gb3JEaXJlY3Rpb249ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldEl0ZW1JbmRleChlKSxvPVwicHJldlwiPT10JiYwPT09aXx8XCJuZXh0XCI9PXQmJmk9PXRoaXMuJGl0ZW1zLmxlbmd0aC0xO2lmKG8mJiF0aGlzLm9wdGlvbnMud3JhcClyZXR1cm4gZTt2YXIgbj1cInByZXZcIj09dD8tMToxLHM9KGkrbikldGhpcy4kaXRlbXMubGVuZ3RoO3JldHVybiB0aGlzLiRpdGVtcy5lcShzKX0saS5wcm90b3R5cGUudG89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPXRoaXMuZ2V0SXRlbUluZGV4KHRoaXMuJGFjdGl2ZT10aGlzLiRlbGVtZW50LmZpbmQoXCIuaXRlbS5hY3RpdmVcIikpO2lmKCEodD50aGlzLiRpdGVtcy5sZW5ndGgtMXx8dDwwKSlyZXR1cm4gdGhpcy5zbGlkaW5nP3RoaXMuJGVsZW1lbnQub25lKFwic2xpZC5icy5jYXJvdXNlbFwiLGZ1bmN0aW9uKCl7ZS50byh0KX0pOmk9PXQ/dGhpcy5wYXVzZSgpLmN5Y2xlKCk6dGhpcy5zbGlkZSh0Pmk/XCJuZXh0XCI6XCJwcmV2XCIsdGhpcy4kaXRlbXMuZXEodCkpfSxpLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbihlKXtyZXR1cm4gZXx8KHRoaXMucGF1c2VkPSEwKSx0aGlzLiRlbGVtZW50LmZpbmQoXCIubmV4dCwgLnByZXZcIikubGVuZ3RoJiZ0LnN1cHBvcnQudHJhbnNpdGlvbiYmKHRoaXMuJGVsZW1lbnQudHJpZ2dlcih0LnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpLHRoaXMuY3ljbGUoITApKSx0aGlzLmludGVydmFsPWNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCksdGhpc30saS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe2lmKCF0aGlzLnNsaWRpbmcpcmV0dXJuIHRoaXMuc2xpZGUoXCJuZXh0XCIpfSxpLnByb3RvdHlwZS5wcmV2PWZ1bmN0aW9uKCl7aWYoIXRoaXMuc2xpZGluZylyZXR1cm4gdGhpcy5zbGlkZShcInByZXZcIil9LGkucHJvdG90eXBlLnNsaWRlPWZ1bmN0aW9uKGUsbyl7dmFyIG49dGhpcy4kZWxlbWVudC5maW5kKFwiLml0ZW0uYWN0aXZlXCIpLHM9b3x8dGhpcy5nZXRJdGVtRm9yRGlyZWN0aW9uKGUsbiksYT10aGlzLmludGVydmFsLHI9XCJuZXh0XCI9PWU/XCJsZWZ0XCI6XCJyaWdodFwiLGw9dGhpcztpZihzLmhhc0NsYXNzKFwiYWN0aXZlXCIpKXJldHVybiB0aGlzLnNsaWRpbmc9ITE7dmFyIGg9c1swXSxkPXQuRXZlbnQoXCJzbGlkZS5icy5jYXJvdXNlbFwiLHtyZWxhdGVkVGFyZ2V0OmgsZGlyZWN0aW9uOnJ9KTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIoZCksIWQuaXNEZWZhdWx0UHJldmVudGVkKCkpe2lmKHRoaXMuc2xpZGluZz0hMCxhJiZ0aGlzLnBhdXNlKCksdGhpcy4kaW5kaWNhdG9ycy5sZW5ndGgpe3RoaXMuJGluZGljYXRvcnMuZmluZChcIi5hY3RpdmVcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7dmFyIHA9dCh0aGlzLiRpbmRpY2F0b3JzLmNoaWxkcmVuKClbdGhpcy5nZXRJdGVtSW5kZXgocyldKTtwJiZwLmFkZENsYXNzKFwiYWN0aXZlXCIpfXZhciBjPXQuRXZlbnQoXCJzbGlkLmJzLmNhcm91c2VsXCIse3JlbGF0ZWRUYXJnZXQ6aCxkaXJlY3Rpb246cn0pO3JldHVybiB0LnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kZWxlbWVudC5oYXNDbGFzcyhcInNsaWRlXCIpPyhzLmFkZENsYXNzKGUpLHNbMF0ub2Zmc2V0V2lkdGgsbi5hZGRDbGFzcyhyKSxzLmFkZENsYXNzKHIpLG4ub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsZnVuY3Rpb24oKXtzLnJlbW92ZUNsYXNzKFtlLHJdLmpvaW4oXCIgXCIpKS5hZGRDbGFzcyhcImFjdGl2ZVwiKSxuLnJlbW92ZUNsYXNzKFtcImFjdGl2ZVwiLHJdLmpvaW4oXCIgXCIpKSxsLnNsaWRpbmc9ITEsc2V0VGltZW91dChmdW5jdGlvbigpe2wuJGVsZW1lbnQudHJpZ2dlcihjKX0sMCl9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZChpLlRSQU5TSVRJT05fRFVSQVRJT04pKToobi5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKSxzLmFkZENsYXNzKFwiYWN0aXZlXCIpLHRoaXMuc2xpZGluZz0hMSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoYykpLGEmJnRoaXMuY3ljbGUoKSx0aGlzfX07dmFyIG89dC5mbi5jYXJvdXNlbDt0LmZuLmNhcm91c2VsPWUsdC5mbi5jYXJvdXNlbC5Db25zdHJ1Y3Rvcj1pLHQuZm4uY2Fyb3VzZWwubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiB0LmZuLmNhcm91c2VsPW8sdGhpc307dmFyIG49ZnVuY3Rpb24oaSl7dmFyIG8sbj10KHRoaXMpLHM9dChuLmF0dHIoXCJkYXRhLXRhcmdldFwiKXx8KG89bi5hdHRyKFwiaHJlZlwiKSkmJm8ucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLyxcIlwiKSk7aWYocy5oYXNDbGFzcyhcImNhcm91c2VsXCIpKXt2YXIgYT10LmV4dGVuZCh7fSxzLmRhdGEoKSxuLmRhdGEoKSkscj1uLmF0dHIoXCJkYXRhLXNsaWRlLXRvXCIpO3ImJihhLmludGVydmFsPSExKSxlLmNhbGwocyxhKSxyJiZzLmRhdGEoXCJicy5jYXJvdXNlbFwiKS50byhyKSxpLnByZXZlbnREZWZhdWx0KCl9fTt0KGRvY3VtZW50KS5vbihcImNsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpXCIsXCJbZGF0YS1zbGlkZV1cIixuKS5vbihcImNsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpXCIsXCJbZGF0YS1zbGlkZS10b11cIixuKSx0KHdpbmRvdykub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt0KCdbZGF0YS1yaWRlPVwiY2Fyb3VzZWxcIl0nKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9dCh0aGlzKTtlLmNhbGwoaSxpLmRhdGEoKSl9KX0pfShqUXVlcnkpLCtmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUpe3ZhciBpLG89ZS5hdHRyKFwiZGF0YS10YXJnZXRcIil8fChpPWUuYXR0cihcImhyZWZcIikpJiZpLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sXCJcIik7cmV0dXJuIHQobyl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9dCh0aGlzKSxuPWkuZGF0YShcImJzLmNvbGxhcHNlXCIpLHM9dC5leHRlbmQoe30sby5ERUZBVUxUUyxpLmRhdGEoKSxcIm9iamVjdFwiPT10eXBlb2YgZSYmZSk7IW4mJnMudG9nZ2xlJiYvc2hvd3xoaWRlLy50ZXN0KGUpJiYocy50b2dnbGU9ITEpLG58fGkuZGF0YShcImJzLmNvbGxhcHNlXCIsbj1uZXcgbyh0aGlzLHMpKSxcInN0cmluZ1wiPT10eXBlb2YgZSYmbltlXSgpfSl9dmFyIG89ZnVuY3Rpb24oZSxpKXt0aGlzLiRlbGVtZW50PXQoZSksdGhpcy5vcHRpb25zPXQuZXh0ZW5kKHt9LG8uREVGQVVMVFMsaSksdGhpcy4kdHJpZ2dlcj10KCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtocmVmPVwiIycrZS5pZCsnXCJdLFtkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2RhdGEtdGFyZ2V0PVwiIycrZS5pZCsnXCJdJyksdGhpcy50cmFuc2l0aW9uaW5nPW51bGwsdGhpcy5vcHRpb25zLnBhcmVudD90aGlzLiRwYXJlbnQ9dGhpcy5nZXRQYXJlbnQoKTp0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLiRlbGVtZW50LHRoaXMuJHRyaWdnZXIpLHRoaXMub3B0aW9ucy50b2dnbGUmJnRoaXMudG9nZ2xlKCl9O28uVkVSU0lPTj1cIjMuMy42XCIsby5UUkFOU0lUSU9OX0RVUkFUSU9OPTM1MCxvLkRFRkFVTFRTPXt0b2dnbGU6ITB9LG8ucHJvdG90eXBlLmRpbWVuc2lvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoXCJ3aWR0aFwiKTtyZXR1cm4gdD9cIndpZHRoXCI6XCJoZWlnaHRcIn0sby5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe2lmKCF0aGlzLnRyYW5zaXRpb25pbmcmJiF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKFwiaW5cIikpe3ZhciBlLG49dGhpcy4kcGFyZW50JiZ0aGlzLiRwYXJlbnQuY2hpbGRyZW4oXCIucGFuZWxcIikuY2hpbGRyZW4oXCIuaW4sIC5jb2xsYXBzaW5nXCIpO2lmKCEobiYmbi5sZW5ndGgmJihlPW4uZGF0YShcImJzLmNvbGxhcHNlXCIpLGUmJmUudHJhbnNpdGlvbmluZykpKXt2YXIgcz10LkV2ZW50KFwic2hvdy5icy5jb2xsYXBzZVwiKTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIocyksIXMuaXNEZWZhdWx0UHJldmVudGVkKCkpe24mJm4ubGVuZ3RoJiYoaS5jYWxsKG4sXCJoaWRlXCIpLGV8fG4uZGF0YShcImJzLmNvbGxhcHNlXCIsbnVsbCkpO3ZhciBhPXRoaXMuZGltZW5zaW9uKCk7dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhcImNvbGxhcHNlXCIpLmFkZENsYXNzKFwiY29sbGFwc2luZ1wiKVthXSgwKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLCEwKSx0aGlzLiR0cmlnZ2VyLnJlbW92ZUNsYXNzKFwiY29sbGFwc2VkXCIpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsITApLHRoaXMudHJhbnNpdGlvbmluZz0xO3ZhciByPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhcImNvbGxhcHNpbmdcIikuYWRkQ2xhc3MoXCJjb2xsYXBzZSBpblwiKVthXShcIlwiKSx0aGlzLnRyYW5zaXRpb25pbmc9MCx0aGlzLiRlbGVtZW50LnRyaWdnZXIoXCJzaG93bi5icy5jb2xsYXBzZVwiKX07aWYoIXQuc3VwcG9ydC50cmFuc2l0aW9uKXJldHVybiByLmNhbGwodGhpcyk7dmFyIGw9dC5jYW1lbENhc2UoW1wic2Nyb2xsXCIsYV0uam9pbihcIi1cIikpO3RoaXMuJGVsZW1lbnQub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsdC5wcm94eShyLHRoaXMpKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChvLlRSQU5TSVRJT05fRFVSQVRJT04pW2FdKHRoaXMuJGVsZW1lbnRbMF1bbF0pfX19fSxvLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7aWYoIXRoaXMudHJhbnNpdGlvbmluZyYmdGhpcy4kZWxlbWVudC5oYXNDbGFzcyhcImluXCIpKXt2YXIgZT10LkV2ZW50KFwiaGlkZS5icy5jb2xsYXBzZVwiKTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSksIWUuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBpPXRoaXMuZGltZW5zaW9uKCk7dGhpcy4kZWxlbWVudFtpXSh0aGlzLiRlbGVtZW50W2ldKCkpWzBdLm9mZnNldEhlaWdodCx0aGlzLiRlbGVtZW50LmFkZENsYXNzKFwiY29sbGFwc2luZ1wiKS5yZW1vdmVDbGFzcyhcImNvbGxhcHNlIGluXCIpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsITEpLHRoaXMuJHRyaWdnZXIuYWRkQ2xhc3MoXCJjb2xsYXBzZWRcIikuYXR0cihcImFyaWEtZXhwYW5kZWRcIiwhMSksdGhpcy50cmFuc2l0aW9uaW5nPTE7dmFyIG49ZnVuY3Rpb24oKXt0aGlzLnRyYW5zaXRpb25pbmc9MCx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwiY29sbGFwc2luZ1wiKS5hZGRDbGFzcyhcImNvbGxhcHNlXCIpLnRyaWdnZXIoXCJoaWRkZW4uYnMuY29sbGFwc2VcIil9O3JldHVybiB0LnN1cHBvcnQudHJhbnNpdGlvbj92b2lkIHRoaXMuJGVsZW1lbnRbaV0oMCkub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsdC5wcm94eShuLHRoaXMpKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChvLlRSQU5TSVRJT05fRFVSQVRJT04pOm4uY2FsbCh0aGlzKX19fSxvLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oKXt0aGlzW3RoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoXCJpblwiKT9cImhpZGVcIjpcInNob3dcIl0oKX0sby5wcm90b3R5cGUuZ2V0UGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHQodGhpcy5vcHRpb25zLnBhcmVudCkuZmluZCgnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1bZGF0YS1wYXJlbnQ9XCInK3RoaXMub3B0aW9ucy5wYXJlbnQrJ1wiXScpLmVhY2godC5wcm94eShmdW5jdGlvbihpLG8pe3ZhciBuPXQobyk7dGhpcy5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MoZShuKSxuKX0sdGhpcykpLmVuZCgpfSxvLnByb3RvdHlwZS5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3M9ZnVuY3Rpb24odCxlKXt2YXIgaT10Lmhhc0NsYXNzKFwiaW5cIik7dC5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLGkpLGUudG9nZ2xlQ2xhc3MoXCJjb2xsYXBzZWRcIiwhaSkuYXR0cihcImFyaWEtZXhwYW5kZWRcIixpKX07dmFyIG49dC5mbi5jb2xsYXBzZTt0LmZuLmNvbGxhcHNlPWksdC5mbi5jb2xsYXBzZS5Db25zdHJ1Y3Rvcj1vLHQuZm4uY29sbGFwc2Uubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiB0LmZuLmNvbGxhcHNlPW4sdGhpc30sdChkb2N1bWVudCkub24oXCJjbGljay5icy5jb2xsYXBzZS5kYXRhLWFwaVwiLCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXScsZnVuY3Rpb24obyl7dmFyIG49dCh0aGlzKTtuLmF0dHIoXCJkYXRhLXRhcmdldFwiKXx8by5wcmV2ZW50RGVmYXVsdCgpO3ZhciBzPWUobiksYT1zLmRhdGEoXCJicy5jb2xsYXBzZVwiKSxyPWE/XCJ0b2dnbGVcIjpuLmRhdGEoKTtpLmNhbGwocyxyKX0pfShqUXVlcnkpLCtmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUpe3ZhciBpPWUuYXR0cihcImRhdGEtdGFyZ2V0XCIpO2l8fChpPWUuYXR0cihcImhyZWZcIiksaT1pJiYvI1tBLVphLXpdLy50ZXN0KGkpJiZpLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sXCJcIikpO3ZhciBvPWkmJnQoaSk7cmV0dXJuIG8mJm8ubGVuZ3RoP286ZS5wYXJlbnQoKX1mdW5jdGlvbiBpKGkpe2kmJjM9PT1pLndoaWNofHwodChuKS5yZW1vdmUoKSx0KHMpLmVhY2goZnVuY3Rpb24oKXt2YXIgbz10KHRoaXMpLG49ZShvKSxzPXtyZWxhdGVkVGFyZ2V0OnRoaXN9O24uaGFzQ2xhc3MoXCJvcGVuXCIpJiYoaSYmXCJjbGlja1wiPT1pLnR5cGUmJi9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoaS50YXJnZXQudGFnTmFtZSkmJnQuY29udGFpbnMoblswXSxpLnRhcmdldCl8fChuLnRyaWdnZXIoaT10LkV2ZW50KFwiaGlkZS5icy5kcm9wZG93blwiLHMpKSxpLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoby5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIiksbi5yZW1vdmVDbGFzcyhcIm9wZW5cIikudHJpZ2dlcih0LkV2ZW50KFwiaGlkZGVuLmJzLmRyb3Bkb3duXCIscykpKSkpfSkpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPXQodGhpcyksbz1pLmRhdGEoXCJicy5kcm9wZG93blwiKTtvfHxpLmRhdGEoXCJicy5kcm9wZG93blwiLG89bmV3IGEodGhpcykpLFwic3RyaW5nXCI9PXR5cGVvZiBlJiZvW2VdLmNhbGwoaSl9KX12YXIgbj1cIi5kcm9wZG93bi1iYWNrZHJvcFwiLHM9J1tkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJdJyxhPWZ1bmN0aW9uKGUpe3QoZSkub24oXCJjbGljay5icy5kcm9wZG93blwiLHRoaXMudG9nZ2xlKX07YS5WRVJTSU9OPVwiMy4zLjZcIixhLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24obyl7dmFyIG49dCh0aGlzKTtpZighbi5pcyhcIi5kaXNhYmxlZCwgOmRpc2FibGVkXCIpKXt2YXIgcz1lKG4pLGE9cy5oYXNDbGFzcyhcIm9wZW5cIik7aWYoaSgpLCFhKXtcIm9udG91Y2hzdGFydFwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiYhcy5jbG9zZXN0KFwiLm5hdmJhci1uYXZcIikubGVuZ3RoJiZ0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmFkZENsYXNzKFwiZHJvcGRvd24tYmFja2Ryb3BcIikuaW5zZXJ0QWZ0ZXIodCh0aGlzKSkub24oXCJjbGlja1wiLGkpO3ZhciByPXtyZWxhdGVkVGFyZ2V0OnRoaXN9O2lmKHMudHJpZ2dlcihvPXQuRXZlbnQoXCJzaG93LmJzLmRyb3Bkb3duXCIscikpLG8uaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuO24udHJpZ2dlcihcImZvY3VzXCIpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpLHMudG9nZ2xlQ2xhc3MoXCJvcGVuXCIpLnRyaWdnZXIodC5FdmVudChcInNob3duLmJzLmRyb3Bkb3duXCIscikpfXJldHVybiExfX0sYS5wcm90b3R5cGUua2V5ZG93bj1mdW5jdGlvbihpKXtpZigvKDM4fDQwfDI3fDMyKS8udGVzdChpLndoaWNoKSYmIS9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoaS50YXJnZXQudGFnTmFtZSkpe3ZhciBvPXQodGhpcyk7aWYoaS5wcmV2ZW50RGVmYXVsdCgpLGkuc3RvcFByb3BhZ2F0aW9uKCksIW8uaXMoXCIuZGlzYWJsZWQsIDpkaXNhYmxlZFwiKSl7dmFyIG49ZShvKSxhPW4uaGFzQ2xhc3MoXCJvcGVuXCIpO2lmKCFhJiYyNyE9aS53aGljaHx8YSYmMjc9PWkud2hpY2gpcmV0dXJuIDI3PT1pLndoaWNoJiZuLmZpbmQocykudHJpZ2dlcihcImZvY3VzXCIpLG8udHJpZ2dlcihcImNsaWNrXCIpO3ZhciByPVwiIGxpOm5vdCguZGlzYWJsZWQpOnZpc2libGUgYVwiLGw9bi5maW5kKFwiLmRyb3Bkb3duLW1lbnVcIityKTtpZihsLmxlbmd0aCl7dmFyIGg9bC5pbmRleChpLnRhcmdldCk7Mzg9PWkud2hpY2gmJmg+MCYmaC0tLDQwPT1pLndoaWNoJiZoPGwubGVuZ3RoLTEmJmgrKyx+aHx8KGg9MCksbC5lcShoKS50cmlnZ2VyKFwiZm9jdXNcIil9fX19O3ZhciByPXQuZm4uZHJvcGRvd247dC5mbi5kcm9wZG93bj1vLHQuZm4uZHJvcGRvd24uQ29uc3RydWN0b3I9YSx0LmZuLmRyb3Bkb3duLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdC5mbi5kcm9wZG93bj1yLHRoaXN9LHQoZG9jdW1lbnQpLm9uKFwiY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGlcIixpKS5vbihcImNsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpXCIsXCIuZHJvcGRvd24gZm9ybVwiLGZ1bmN0aW9uKHQpe3Quc3RvcFByb3BhZ2F0aW9uKCl9KS5vbihcImNsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpXCIscyxhLnByb3RvdHlwZS50b2dnbGUpLm9uKFwia2V5ZG93bi5icy5kcm9wZG93bi5kYXRhLWFwaVwiLHMsYS5wcm90b3R5cGUua2V5ZG93bikub24oXCJrZXlkb3duLmJzLmRyb3Bkb3duLmRhdGEtYXBpXCIsXCIuZHJvcGRvd24tbWVudVwiLGEucHJvdG90eXBlLmtleWRvd24pfShqUXVlcnkpLCtmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUsbyl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBuPXQodGhpcykscz1uLmRhdGEoXCJicy5tb2RhbFwiKSxhPXQuZXh0ZW5kKHt9LGkuREVGQVVMVFMsbi5kYXRhKCksXCJvYmplY3RcIj09dHlwZW9mIGUmJmUpO3N8fG4uZGF0YShcImJzLm1vZGFsXCIscz1uZXcgaSh0aGlzLGEpKSxcInN0cmluZ1wiPT10eXBlb2YgZT9zW2VdKG8pOmEuc2hvdyYmcy5zaG93KG8pfSl9dmFyIGk9ZnVuY3Rpb24oZSxpKXt0aGlzLm9wdGlvbnM9aSx0aGlzLiRib2R5PXQoZG9jdW1lbnQuYm9keSksdGhpcy4kZWxlbWVudD10KGUpLHRoaXMuJGRpYWxvZz10aGlzLiRlbGVtZW50LmZpbmQoXCIubW9kYWwtZGlhbG9nXCIpLHRoaXMuJGJhY2tkcm9wPW51bGwsdGhpcy5pc1Nob3duPW51bGwsdGhpcy5vcmlnaW5hbEJvZHlQYWQ9bnVsbCx0aGlzLnNjcm9sbGJhcldpZHRoPTAsdGhpcy5pZ25vcmVCYWNrZHJvcENsaWNrPSExLHRoaXMub3B0aW9ucy5yZW1vdGUmJnRoaXMuJGVsZW1lbnQuZmluZChcIi5tb2RhbC1jb250ZW50XCIpLmxvYWQodGhpcy5vcHRpb25zLnJlbW90ZSx0LnByb3h5KGZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC50cmlnZ2VyKFwibG9hZGVkLmJzLm1vZGFsXCIpfSx0aGlzKSl9O2kuVkVSU0lPTj1cIjMuMy42XCIsaS5UUkFOU0lUSU9OX0RVUkFUSU9OPTMwMCxpLkJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT049MTUwLGkuREVGQVVMVFM9e2JhY2tkcm9wOiEwLGtleWJvYXJkOiEwLHNob3c6ITB9LGkucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pc1Nob3duP3RoaXMuaGlkZSgpOnRoaXMuc2hvdyh0KX0saS5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbihlKXt2YXIgbz10aGlzLG49dC5FdmVudChcInNob3cuYnMubW9kYWxcIix7cmVsYXRlZFRhcmdldDplfSk7dGhpcy4kZWxlbWVudC50cmlnZ2VyKG4pLHRoaXMuaXNTaG93bnx8bi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHRoaXMuaXNTaG93bj0hMCx0aGlzLmNoZWNrU2Nyb2xsYmFyKCksdGhpcy5zZXRTY3JvbGxiYXIoKSx0aGlzLiRib2R5LmFkZENsYXNzKFwibW9kYWwtb3BlblwiKSx0aGlzLmVzY2FwZSgpLHRoaXMucmVzaXplKCksdGhpcy4kZWxlbWVudC5vbihcImNsaWNrLmRpc21pc3MuYnMubW9kYWxcIiwnW2RhdGEtZGlzbWlzcz1cIm1vZGFsXCJdJyx0LnByb3h5KHRoaXMuaGlkZSx0aGlzKSksdGhpcy4kZGlhbG9nLm9uKFwibW91c2Vkb3duLmRpc21pc3MuYnMubW9kYWxcIixmdW5jdGlvbigpe28uJGVsZW1lbnQub25lKFwibW91c2V1cC5kaXNtaXNzLmJzLm1vZGFsXCIsZnVuY3Rpb24oZSl7dChlLnRhcmdldCkuaXMoby4kZWxlbWVudCkmJihvLmlnbm9yZUJhY2tkcm9wQ2xpY2s9ITApfSl9KSx0aGlzLmJhY2tkcm9wKGZ1bmN0aW9uKCl7dmFyIG49dC5zdXBwb3J0LnRyYW5zaXRpb24mJm8uJGVsZW1lbnQuaGFzQ2xhc3MoXCJmYWRlXCIpO28uJGVsZW1lbnQucGFyZW50KCkubGVuZ3RofHxvLiRlbGVtZW50LmFwcGVuZFRvKG8uJGJvZHkpLG8uJGVsZW1lbnQuc2hvdygpLnNjcm9sbFRvcCgwKSxvLmFkanVzdERpYWxvZygpLG4mJm8uJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsby4kZWxlbWVudC5hZGRDbGFzcyhcImluXCIpLG8uZW5mb3JjZUZvY3VzKCk7dmFyIHM9dC5FdmVudChcInNob3duLmJzLm1vZGFsXCIse3JlbGF0ZWRUYXJnZXQ6ZX0pO24/by4kZGlhbG9nLm9uZShcImJzVHJhbnNpdGlvbkVuZFwiLGZ1bmN0aW9uKCl7by4kZWxlbWVudC50cmlnZ2VyKFwiZm9jdXNcIikudHJpZ2dlcihzKX0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGkuVFJBTlNJVElPTl9EVVJBVElPTik6by4kZWxlbWVudC50cmlnZ2VyKFwiZm9jdXNcIikudHJpZ2dlcihzKX0pKX0saS5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbihlKXtlJiZlLnByZXZlbnREZWZhdWx0KCksZT10LkV2ZW50KFwiaGlkZS5icy5tb2RhbFwiKSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSksdGhpcy5pc1Nob3duJiYhZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKHRoaXMuaXNTaG93bj0hMSx0aGlzLmVzY2FwZSgpLHRoaXMucmVzaXplKCksdChkb2N1bWVudCkub2ZmKFwiZm9jdXNpbi5icy5tb2RhbFwiKSx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwiaW5cIikub2ZmKFwiY2xpY2suZGlzbWlzcy5icy5tb2RhbFwiKS5vZmYoXCJtb3VzZXVwLmRpc21pc3MuYnMubW9kYWxcIiksdGhpcy4kZGlhbG9nLm9mZihcIm1vdXNlZG93bi5kaXNtaXNzLmJzLm1vZGFsXCIpLHQuc3VwcG9ydC50cmFuc2l0aW9uJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKFwiZmFkZVwiKT90aGlzLiRlbGVtZW50Lm9uZShcImJzVHJhbnNpdGlvbkVuZFwiLHQucHJveHkodGhpcy5oaWRlTW9kYWwsdGhpcykpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGkuVFJBTlNJVElPTl9EVVJBVElPTik6dGhpcy5oaWRlTW9kYWwoKSl9LGkucHJvdG90eXBlLmVuZm9yY2VGb2N1cz1mdW5jdGlvbigpe3QoZG9jdW1lbnQpLm9mZihcImZvY3VzaW4uYnMubW9kYWxcIikub24oXCJmb2N1c2luLmJzLm1vZGFsXCIsdC5wcm94eShmdW5jdGlvbih0KXt0aGlzLiRlbGVtZW50WzBdPT09dC50YXJnZXR8fHRoaXMuJGVsZW1lbnQuaGFzKHQudGFyZ2V0KS5sZW5ndGh8fHRoaXMuJGVsZW1lbnQudHJpZ2dlcihcImZvY3VzXCIpfSx0aGlzKSl9LGkucHJvdG90eXBlLmVzY2FwZT1mdW5jdGlvbigpe3RoaXMuaXNTaG93biYmdGhpcy5vcHRpb25zLmtleWJvYXJkP3RoaXMuJGVsZW1lbnQub24oXCJrZXlkb3duLmRpc21pc3MuYnMubW9kYWxcIix0LnByb3h5KGZ1bmN0aW9uKHQpezI3PT10LndoaWNoJiZ0aGlzLmhpZGUoKX0sdGhpcykpOnRoaXMuaXNTaG93bnx8dGhpcy4kZWxlbWVudC5vZmYoXCJrZXlkb3duLmRpc21pc3MuYnMubW9kYWxcIil9LGkucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe3RoaXMuaXNTaG93bj90KHdpbmRvdykub24oXCJyZXNpemUuYnMubW9kYWxcIix0LnByb3h5KHRoaXMuaGFuZGxlVXBkYXRlLHRoaXMpKTp0KHdpbmRvdykub2ZmKFwicmVzaXplLmJzLm1vZGFsXCIpfSxpLnByb3RvdHlwZS5oaWRlTW9kYWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuJGVsZW1lbnQuaGlkZSgpLHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24oKXt0LiRib2R5LnJlbW92ZUNsYXNzKFwibW9kYWwtb3BlblwiKSx0LnJlc2V0QWRqdXN0bWVudHMoKSx0LnJlc2V0U2Nyb2xsYmFyKCksdC4kZWxlbWVudC50cmlnZ2VyKFwiaGlkZGVuLmJzLm1vZGFsXCIpfSl9LGkucHJvdG90eXBlLnJlbW92ZUJhY2tkcm9wPWZ1bmN0aW9uKCl7dGhpcy4kYmFja2Ryb3AmJnRoaXMuJGJhY2tkcm9wLnJlbW92ZSgpLHRoaXMuJGJhY2tkcm9wPW51bGx9LGkucHJvdG90eXBlLmJhY2tkcm9wPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMsbj10aGlzLiRlbGVtZW50Lmhhc0NsYXNzKFwiZmFkZVwiKT9cImZhZGVcIjpcIlwiO2lmKHRoaXMuaXNTaG93biYmdGhpcy5vcHRpb25zLmJhY2tkcm9wKXt2YXIgcz10LnN1cHBvcnQudHJhbnNpdGlvbiYmbjtpZih0aGlzLiRiYWNrZHJvcD10KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmFkZENsYXNzKFwibW9kYWwtYmFja2Ryb3AgXCIrbikuYXBwZW5kVG8odGhpcy4kYm9keSksdGhpcy4kZWxlbWVudC5vbihcImNsaWNrLmRpc21pc3MuYnMubW9kYWxcIix0LnByb3h5KGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlnbm9yZUJhY2tkcm9wQ2xpY2s/dm9pZCh0aGlzLmlnbm9yZUJhY2tkcm9wQ2xpY2s9ITEpOnZvaWQodC50YXJnZXQ9PT10LmN1cnJlbnRUYXJnZXQmJihcInN0YXRpY1wiPT10aGlzLm9wdGlvbnMuYmFja2Ryb3A/dGhpcy4kZWxlbWVudFswXS5mb2N1cygpOnRoaXMuaGlkZSgpKSl9LHRoaXMpKSxzJiZ0aGlzLiRiYWNrZHJvcFswXS5vZmZzZXRXaWR0aCx0aGlzLiRiYWNrZHJvcC5hZGRDbGFzcyhcImluXCIpLCFlKXJldHVybjtzP3RoaXMuJGJhY2tkcm9wLm9uZShcImJzVHJhbnNpdGlvbkVuZFwiLGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGkuQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTik6ZSgpfWVsc2UgaWYoIXRoaXMuaXNTaG93biYmdGhpcy4kYmFja2Ryb3Ape3RoaXMuJGJhY2tkcm9wLnJlbW92ZUNsYXNzKFwiaW5cIik7dmFyIGE9ZnVuY3Rpb24oKXtvLnJlbW92ZUJhY2tkcm9wKCksZSYmZSgpfTt0LnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kZWxlbWVudC5oYXNDbGFzcyhcImZhZGVcIik/dGhpcy4kYmFja2Ryb3Aub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsYSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoaS5CQUNLRFJPUF9UUkFOU0lUSU9OX0RVUkFUSU9OKTphKCl9ZWxzZSBlJiZlKCl9LGkucHJvdG90eXBlLmhhbmRsZVVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuYWRqdXN0RGlhbG9nKCl9LGkucHJvdG90eXBlLmFkanVzdERpYWxvZz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuJGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0PmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7dGhpcy4kZWxlbWVudC5jc3Moe3BhZGRpbmdMZWZ0OiF0aGlzLmJvZHlJc092ZXJmbG93aW5nJiZ0P3RoaXMuc2Nyb2xsYmFyV2lkdGg6XCJcIixwYWRkaW5nUmlnaHQ6dGhpcy5ib2R5SXNPdmVyZmxvd2luZyYmIXQ/dGhpcy5zY3JvbGxiYXJXaWR0aDpcIlwifSl9LGkucHJvdG90eXBlLnJlc2V0QWRqdXN0bWVudHM9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmNzcyh7cGFkZGluZ0xlZnQ6XCJcIixwYWRkaW5nUmlnaHQ6XCJcIn0pfSxpLnByb3RvdHlwZS5jaGVja1Njcm9sbGJhcj1mdW5jdGlvbigpe3ZhciB0PXdpbmRvdy5pbm5lcldpZHRoO2lmKCF0KXt2YXIgZT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dD1lLnJpZ2h0LU1hdGguYWJzKGUubGVmdCl9dGhpcy5ib2R5SXNPdmVyZmxvd2luZz1kb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoPHQsdGhpcy5zY3JvbGxiYXJXaWR0aD10aGlzLm1lYXN1cmVTY3JvbGxiYXIoKX0saS5wcm90b3R5cGUuc2V0U2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dmFyIHQ9cGFyc2VJbnQodGhpcy4kYm9keS5jc3MoXCJwYWRkaW5nLXJpZ2h0XCIpfHwwLDEwKTt0aGlzLm9yaWdpbmFsQm9keVBhZD1kb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodHx8XCJcIix0aGlzLmJvZHlJc092ZXJmbG93aW5nJiZ0aGlzLiRib2R5LmNzcyhcInBhZGRpbmctcmlnaHRcIix0K3RoaXMuc2Nyb2xsYmFyV2lkdGgpfSxpLnByb3RvdHlwZS5yZXNldFNjcm9sbGJhcj1mdW5jdGlvbigpe3RoaXMuJGJvZHkuY3NzKFwicGFkZGluZy1yaWdodFwiLHRoaXMub3JpZ2luYWxCb2R5UGFkKX0saS5wcm90b3R5cGUubWVhc3VyZVNjcm9sbGJhcj1mdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5jbGFzc05hbWU9XCJtb2RhbC1zY3JvbGxiYXItbWVhc3VyZVwiLHRoaXMuJGJvZHkuYXBwZW5kKHQpO3ZhciBlPXQub2Zmc2V0V2lkdGgtdC5jbGllbnRXaWR0aDtyZXR1cm4gdGhpcy4kYm9keVswXS5yZW1vdmVDaGlsZCh0KSxlfTt2YXIgbz10LmZuLm1vZGFsO3QuZm4ubW9kYWw9ZSx0LmZuLm1vZGFsLkNvbnN0cnVjdG9yPWksdC5mbi5tb2RhbC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuZm4ubW9kYWw9byx0aGlzfSx0KGRvY3VtZW50KS5vbihcImNsaWNrLmJzLm1vZGFsLmRhdGEtYXBpXCIsJ1tkYXRhLXRvZ2dsZT1cIm1vZGFsXCJdJyxmdW5jdGlvbihpKXt2YXIgbz10KHRoaXMpLG49by5hdHRyKFwiaHJlZlwiKSxzPXQoby5hdHRyKFwiZGF0YS10YXJnZXRcIil8fG4mJm4ucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLyxcIlwiKSksYT1zLmRhdGEoXCJicy5tb2RhbFwiKT9cInRvZ2dsZVwiOnQuZXh0ZW5kKHtyZW1vdGU6IS8jLy50ZXN0KG4pJiZufSxzLmRhdGEoKSxvLmRhdGEoKSk7by5pcyhcImFcIikmJmkucHJldmVudERlZmF1bHQoKSxzLm9uZShcInNob3cuYnMubW9kYWxcIixmdW5jdGlvbih0KXt0LmlzRGVmYXVsdFByZXZlbnRlZCgpfHxzLm9uZShcImhpZGRlbi5icy5tb2RhbFwiLGZ1bmN0aW9uKCl7by5pcyhcIjp2aXNpYmxlXCIpJiZvLnRyaWdnZXIoXCJmb2N1c1wiKX0pfSksZS5jYWxsKHMsYSx0aGlzKX0pfShqUXVlcnkpLCtmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbz10KHRoaXMpLG49by5kYXRhKFwiYnMudG9vbHRpcFwiKSxzPVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlOyFuJiYvZGVzdHJveXxoaWRlLy50ZXN0KGUpfHwobnx8by5kYXRhKFwiYnMudG9vbHRpcFwiLG49bmV3IGkodGhpcyxzKSksXCJzdHJpbmdcIj09dHlwZW9mIGUmJm5bZV0oKSl9KX12YXIgaT1mdW5jdGlvbih0LGUpe3RoaXMudHlwZT1udWxsLHRoaXMub3B0aW9ucz1udWxsLHRoaXMuZW5hYmxlZD1udWxsLHRoaXMudGltZW91dD1udWxsLHRoaXMuaG92ZXJTdGF0ZT1udWxsLHRoaXMuJGVsZW1lbnQ9bnVsbCx0aGlzLmluU3RhdGU9bnVsbCx0aGlzLmluaXQoXCJ0b29sdGlwXCIsdCxlKX07aS5WRVJTSU9OPVwiMy4zLjZcIixpLlRSQU5TSVRJT05fRFVSQVRJT049MTUwLGkuREVGQVVMVFM9e2FuaW1hdGlvbjohMCxwbGFjZW1lbnQ6XCJ0b3BcIixzZWxlY3RvcjohMSx0ZW1wbGF0ZTonPGRpdiBjbGFzcz1cInRvb2x0aXBcIiByb2xlPVwidG9vbHRpcFwiPjxkaXYgY2xhc3M9XCJ0b29sdGlwLWFycm93XCI+PC9kaXY+PGRpdiBjbGFzcz1cInRvb2x0aXAtaW5uZXJcIj48L2Rpdj48L2Rpdj4nLHRyaWdnZXI6XCJob3ZlciBmb2N1c1wiLHRpdGxlOlwiXCIsZGVsYXk6MCxodG1sOiExLGNvbnRhaW5lcjohMSx2aWV3cG9ydDp7c2VsZWN0b3I6XCJib2R5XCIscGFkZGluZzowfX0saS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlLGksbyl7aWYodGhpcy5lbmFibGVkPSEwLHRoaXMudHlwZT1lLHRoaXMuJGVsZW1lbnQ9dChpKSx0aGlzLm9wdGlvbnM9dGhpcy5nZXRPcHRpb25zKG8pLHRoaXMuJHZpZXdwb3J0PXRoaXMub3B0aW9ucy52aWV3cG9ydCYmdCh0LmlzRnVuY3Rpb24odGhpcy5vcHRpb25zLnZpZXdwb3J0KT90aGlzLm9wdGlvbnMudmlld3BvcnQuY2FsbCh0aGlzLHRoaXMuJGVsZW1lbnQpOnRoaXMub3B0aW9ucy52aWV3cG9ydC5zZWxlY3Rvcnx8dGhpcy5vcHRpb25zLnZpZXdwb3J0KSx0aGlzLmluU3RhdGU9e2NsaWNrOiExLGhvdmVyOiExLGZvY3VzOiExfSx0aGlzLiRlbGVtZW50WzBdaW5zdGFuY2VvZiBkb2N1bWVudC5jb25zdHJ1Y3RvciYmIXRoaXMub3B0aW9ucy5zZWxlY3Rvcil0aHJvdyBuZXcgRXJyb3IoXCJgc2VsZWN0b3JgIG9wdGlvbiBtdXN0IGJlIHNwZWNpZmllZCB3aGVuIGluaXRpYWxpemluZyBcIit0aGlzLnR5cGUrXCIgb24gdGhlIHdpbmRvdy5kb2N1bWVudCBvYmplY3QhXCIpO2Zvcih2YXIgbj10aGlzLm9wdGlvbnMudHJpZ2dlci5zcGxpdChcIiBcIikscz1uLmxlbmd0aDtzLS07KXt2YXIgYT1uW3NdO2lmKFwiY2xpY2tcIj09YSl0aGlzLiRlbGVtZW50Lm9uKFwiY2xpY2suXCIrdGhpcy50eXBlLHRoaXMub3B0aW9ucy5zZWxlY3Rvcix0LnByb3h5KHRoaXMudG9nZ2xlLHRoaXMpKTtlbHNlIGlmKFwibWFudWFsXCIhPWEpe3ZhciByPVwiaG92ZXJcIj09YT9cIm1vdXNlZW50ZXJcIjpcImZvY3VzaW5cIixsPVwiaG92ZXJcIj09YT9cIm1vdXNlbGVhdmVcIjpcImZvY3Vzb3V0XCI7dGhpcy4kZWxlbWVudC5vbihyK1wiLlwiK3RoaXMudHlwZSx0aGlzLm9wdGlvbnMuc2VsZWN0b3IsdC5wcm94eSh0aGlzLmVudGVyLHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKGwrXCIuXCIrdGhpcy50eXBlLHRoaXMub3B0aW9ucy5zZWxlY3Rvcix0LnByb3h5KHRoaXMubGVhdmUsdGhpcykpfX10aGlzLm9wdGlvbnMuc2VsZWN0b3I/dGhpcy5fb3B0aW9ucz10LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMse3RyaWdnZXI6XCJtYW51YWxcIixzZWxlY3RvcjpcIlwifSk6dGhpcy5maXhUaXRsZSgpfSxpLnByb3RvdHlwZS5nZXREZWZhdWx0cz1mdW5jdGlvbigpe3JldHVybiBpLkRFRkFVTFRTfSxpLnByb3RvdHlwZS5nZXRPcHRpb25zPWZ1bmN0aW9uKGUpe3JldHVybiBlPXQuZXh0ZW5kKHt9LHRoaXMuZ2V0RGVmYXVsdHMoKSx0aGlzLiRlbGVtZW50LmRhdGEoKSxlKSxlLmRlbGF5JiZcIm51bWJlclwiPT10eXBlb2YgZS5kZWxheSYmKGUuZGVsYXk9e3Nob3c6ZS5kZWxheSxoaWRlOmUuZGVsYXl9KSxlfSxpLnByb3RvdHlwZS5nZXREZWxlZ2F0ZU9wdGlvbnM9ZnVuY3Rpb24oKXt2YXIgZT17fSxpPXRoaXMuZ2V0RGVmYXVsdHMoKTtyZXR1cm4gdGhpcy5fb3B0aW9ucyYmdC5lYWNoKHRoaXMuX29wdGlvbnMsZnVuY3Rpb24odCxvKXtpW3RdIT1vJiYoZVt0XT1vKX0pLGV9LGkucHJvdG90eXBlLmVudGVyPWZ1bmN0aW9uKGUpe3ZhciBpPWUgaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yP2U6dChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoXCJicy5cIit0aGlzLnR5cGUpO3JldHVybiBpfHwoaT1uZXcgdGhpcy5jb25zdHJ1Y3RvcihlLmN1cnJlbnRUYXJnZXQsdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSksdChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoXCJicy5cIit0aGlzLnR5cGUsaSkpLGUgaW5zdGFuY2VvZiB0LkV2ZW50JiYoaS5pblN0YXRlW1wiZm9jdXNpblwiPT1lLnR5cGU/XCJmb2N1c1wiOlwiaG92ZXJcIl09ITApLGkudGlwKCkuaGFzQ2xhc3MoXCJpblwiKXx8XCJpblwiPT1pLmhvdmVyU3RhdGU/dm9pZChpLmhvdmVyU3RhdGU9XCJpblwiKTooY2xlYXJUaW1lb3V0KGkudGltZW91dCksaS5ob3ZlclN0YXRlPVwiaW5cIixpLm9wdGlvbnMuZGVsYXkmJmkub3B0aW9ucy5kZWxheS5zaG93P3ZvaWQoaS50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtcImluXCI9PWkuaG92ZXJTdGF0ZSYmaS5zaG93KCl9LGkub3B0aW9ucy5kZWxheS5zaG93KSk6aS5zaG93KCkpfSxpLnByb3RvdHlwZS5pc0luU3RhdGVUcnVlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuaW5TdGF0ZSlpZih0aGlzLmluU3RhdGVbdF0pcmV0dXJuITA7cmV0dXJuITF9LGkucHJvdG90eXBlLmxlYXZlPWZ1bmN0aW9uKGUpe3ZhciBpPWUgaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yP2U6dChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoXCJicy5cIit0aGlzLnR5cGUpO2lmKGl8fChpPW5ldyB0aGlzLmNvbnN0cnVjdG9yKGUuY3VycmVudFRhcmdldCx0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKSx0KGUuY3VycmVudFRhcmdldCkuZGF0YShcImJzLlwiK3RoaXMudHlwZSxpKSksZSBpbnN0YW5jZW9mIHQuRXZlbnQmJihpLmluU3RhdGVbXCJmb2N1c291dFwiPT1lLnR5cGU/XCJmb2N1c1wiOlwiaG92ZXJcIl09ITEpLCFpLmlzSW5TdGF0ZVRydWUoKSlyZXR1cm4gY2xlYXJUaW1lb3V0KGkudGltZW91dCksaS5ob3ZlclN0YXRlPVwib3V0XCIsaS5vcHRpb25zLmRlbGF5JiZpLm9wdGlvbnMuZGVsYXkuaGlkZT92b2lkKGkudGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XCJvdXRcIj09aS5ob3ZlclN0YXRlJiZpLmhpZGUoKX0saS5vcHRpb25zLmRlbGF5LmhpZGUpKTppLmhpZGUoKX0saS5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3ZhciBlPXQuRXZlbnQoXCJzaG93LmJzLlwiK3RoaXMudHlwZSk7aWYodGhpcy5oYXNDb250ZW50KCkmJnRoaXMuZW5hYmxlZCl7dGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpO3ZhciBvPXQuY29udGFpbnModGhpcy4kZWxlbWVudFswXS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx0aGlzLiRlbGVtZW50WzBdKTtpZihlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwhbylyZXR1cm47dmFyIG49dGhpcyxzPXRoaXMudGlwKCksYT10aGlzLmdldFVJRCh0aGlzLnR5cGUpO3RoaXMuc2V0Q29udGVudCgpLHMuYXR0cihcImlkXCIsYSksdGhpcy4kZWxlbWVudC5hdHRyKFwiYXJpYS1kZXNjcmliZWRieVwiLGEpLHRoaXMub3B0aW9ucy5hbmltYXRpb24mJnMuYWRkQ2xhc3MoXCJmYWRlXCIpO3ZhciByPVwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQ/dGhpcy5vcHRpb25zLnBsYWNlbWVudC5jYWxsKHRoaXMsc1swXSx0aGlzLiRlbGVtZW50WzBdKTp0aGlzLm9wdGlvbnMucGxhY2VtZW50LGw9L1xccz9hdXRvP1xccz8vaSxoPWwudGVzdChyKTtoJiYocj1yLnJlcGxhY2UobCxcIlwiKXx8XCJ0b3BcIikscy5kZXRhY2goKS5jc3Moe3RvcDowLGxlZnQ6MCxkaXNwbGF5OlwiYmxvY2tcIn0pLmFkZENsYXNzKHIpLmRhdGEoXCJicy5cIit0aGlzLnR5cGUsdGhpcyksdGhpcy5vcHRpb25zLmNvbnRhaW5lcj9zLmFwcGVuZFRvKHRoaXMub3B0aW9ucy5jb250YWluZXIpOnMuaW5zZXJ0QWZ0ZXIodGhpcy4kZWxlbWVudCksdGhpcy4kZWxlbWVudC50cmlnZ2VyKFwiaW5zZXJ0ZWQuYnMuXCIrdGhpcy50eXBlKTt2YXIgZD10aGlzLmdldFBvc2l0aW9uKCkscD1zWzBdLm9mZnNldFdpZHRoLGM9c1swXS5vZmZzZXRIZWlnaHQ7aWYoaCl7dmFyIGY9cix1PXRoaXMuZ2V0UG9zaXRpb24odGhpcy4kdmlld3BvcnQpO3I9XCJib3R0b21cIj09ciYmZC5ib3R0b20rYz51LmJvdHRvbT9cInRvcFwiOlwidG9wXCI9PXImJmQudG9wLWM8dS50b3A/XCJib3R0b21cIjpcInJpZ2h0XCI9PXImJmQucmlnaHQrcD51LndpZHRoP1wibGVmdFwiOlwibGVmdFwiPT1yJiZkLmxlZnQtcDx1LmxlZnQ/XCJyaWdodFwiOnIscy5yZW1vdmVDbGFzcyhmKS5hZGRDbGFzcyhyKX12YXIgZz10aGlzLmdldENhbGN1bGF0ZWRPZmZzZXQocixkLHAsYyk7dGhpcy5hcHBseVBsYWNlbWVudChnLHIpO3ZhciBtPWZ1bmN0aW9uKCl7dmFyIHQ9bi5ob3ZlclN0YXRlO24uJGVsZW1lbnQudHJpZ2dlcihcInNob3duLmJzLlwiK24udHlwZSksbi5ob3ZlclN0YXRlPW51bGwsXCJvdXRcIj09dCYmbi5sZWF2ZShuKX07dC5zdXBwb3J0LnRyYW5zaXRpb24mJnRoaXMuJHRpcC5oYXNDbGFzcyhcImZhZGVcIik/cy5vbmUoXCJic1RyYW5zaXRpb25FbmRcIixtKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChpLlRSQU5TSVRJT05fRFVSQVRJT04pOm0oKX19LGkucHJvdG90eXBlLmFwcGx5UGxhY2VtZW50PWZ1bmN0aW9uKGUsaSl7dmFyIG89dGhpcy50aXAoKSxuPW9bMF0ub2Zmc2V0V2lkdGgscz1vWzBdLm9mZnNldEhlaWdodCxhPXBhcnNlSW50KG8uY3NzKFwibWFyZ2luLXRvcFwiKSwxMCkscj1wYXJzZUludChvLmNzcyhcIm1hcmdpbi1sZWZ0XCIpLDEwKTtpc05hTihhKSYmKGE9MCksaXNOYU4ocikmJihyPTApLGUudG9wKz1hLGUubGVmdCs9cix0Lm9mZnNldC5zZXRPZmZzZXQob1swXSx0LmV4dGVuZCh7dXNpbmc6ZnVuY3Rpb24odCl7by5jc3Moe3RvcDpNYXRoLnJvdW5kKHQudG9wKSxsZWZ0Ok1hdGgucm91bmQodC5sZWZ0KX0pfX0sZSksMCksby5hZGRDbGFzcyhcImluXCIpO3ZhciBsPW9bMF0ub2Zmc2V0V2lkdGgsaD1vWzBdLm9mZnNldEhlaWdodDtcInRvcFwiPT1pJiZoIT1zJiYoZS50b3A9ZS50b3Arcy1oKTt2YXIgZD10aGlzLmdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YShpLGUsbCxoKTtkLmxlZnQ/ZS5sZWZ0Kz1kLmxlZnQ6ZS50b3ArPWQudG9wO3ZhciBwPS90b3B8Ym90dG9tLy50ZXN0KGkpLGM9cD8yKmQubGVmdC1uK2w6MipkLnRvcC1zK2gsZj1wP1wib2Zmc2V0V2lkdGhcIjpcIm9mZnNldEhlaWdodFwiO28ub2Zmc2V0KGUpLHRoaXMucmVwbGFjZUFycm93KGMsb1swXVtmXSxwKX0saS5wcm90b3R5cGUucmVwbGFjZUFycm93PWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmFycm93KCkuY3NzKGk/XCJsZWZ0XCI6XCJ0b3BcIiw1MCooMS10L2UpK1wiJVwiKS5jc3MoaT9cInRvcFwiOlwibGVmdFwiLFwiXCIpfSxpLnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50aXAoKSxlPXRoaXMuZ2V0VGl0bGUoKTt0LmZpbmQoXCIudG9vbHRpcC1pbm5lclwiKVt0aGlzLm9wdGlvbnMuaHRtbD9cImh0bWxcIjpcInRleHRcIl0oZSksdC5yZW1vdmVDbGFzcyhcImZhZGUgaW4gdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0XCIpfSxpLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG8oKXtcImluXCIhPW4uaG92ZXJTdGF0ZSYmcy5kZXRhY2goKSxuLiRlbGVtZW50LnJlbW92ZUF0dHIoXCJhcmlhLWRlc2NyaWJlZGJ5XCIpLnRyaWdnZXIoXCJoaWRkZW4uYnMuXCIrbi50eXBlKSxlJiZlKCl9dmFyIG49dGhpcyxzPXQodGhpcy4kdGlwKSxhPXQuRXZlbnQoXCJoaWRlLmJzLlwiK3RoaXMudHlwZSk7aWYodGhpcy4kZWxlbWVudC50cmlnZ2VyKGEpLCFhLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiBzLnJlbW92ZUNsYXNzKFwiaW5cIiksdC5zdXBwb3J0LnRyYW5zaXRpb24mJnMuaGFzQ2xhc3MoXCJmYWRlXCIpP3Mub25lKFwiYnNUcmFuc2l0aW9uRW5kXCIsbykuZW11bGF0ZVRyYW5zaXRpb25FbmQoaS5UUkFOU0lUSU9OX0RVUkFUSU9OKTpvKCksdGhpcy5ob3ZlclN0YXRlPW51bGwsdGhpc30saS5wcm90b3R5cGUuZml4VGl0bGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLiRlbGVtZW50Oyh0LmF0dHIoXCJ0aXRsZVwiKXx8XCJzdHJpbmdcIiE9dHlwZW9mIHQuYXR0cihcImRhdGEtb3JpZ2luYWwtdGl0bGVcIikpJiZ0LmF0dHIoXCJkYXRhLW9yaWdpbmFsLXRpdGxlXCIsdC5hdHRyKFwidGl0bGVcIil8fFwiXCIpLmF0dHIoXCJ0aXRsZVwiLFwiXCIpfSxpLnByb3RvdHlwZS5oYXNDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGl0bGUoKX0saS5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oZSl7ZT1lfHx0aGlzLiRlbGVtZW50O3ZhciBpPWVbMF0sbz1cIkJPRFlcIj09aS50YWdOYW1lLG49aS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtudWxsPT1uLndpZHRoJiYobj10LmV4dGVuZCh7fSxuLHt3aWR0aDpuLnJpZ2h0LW4ubGVmdCxoZWlnaHQ6bi5ib3R0b20tbi50b3B9KSk7dmFyIHM9bz97dG9wOjAsbGVmdDowfTplLm9mZnNldCgpLGE9e3Njcm9sbDpvP2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wOmUuc2Nyb2xsVG9wKCl9LHI9bz97d2lkdGg6dCh3aW5kb3cpLndpZHRoKCksaGVpZ2h0OnQod2luZG93KS5oZWlnaHQoKX06bnVsbDtyZXR1cm4gdC5leHRlbmQoe30sbixhLHIscyl9LGkucHJvdG90eXBlLmdldENhbGN1bGF0ZWRPZmZzZXQ9ZnVuY3Rpb24odCxlLGksbyl7cmV0dXJuXCJib3R0b21cIj09dD97dG9wOmUudG9wK2UuaGVpZ2h0LGxlZnQ6ZS5sZWZ0K2Uud2lkdGgvMi1pLzJ9OlwidG9wXCI9PXQ/e3RvcDplLnRvcC1vLGxlZnQ6ZS5sZWZ0K2Uud2lkdGgvMi1pLzJ9OlwibGVmdFwiPT10P3t0b3A6ZS50b3ArZS5oZWlnaHQvMi1vLzIsbGVmdDplLmxlZnQtaX06e3RvcDplLnRvcCtlLmhlaWdodC8yLW8vMixsZWZ0OmUubGVmdCtlLndpZHRofX0saS5wcm90b3R5cGUuZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhPWZ1bmN0aW9uKHQsZSxpLG8pe3ZhciBuPXt0b3A6MCxsZWZ0OjB9O2lmKCF0aGlzLiR2aWV3cG9ydClyZXR1cm4gbjt2YXIgcz10aGlzLm9wdGlvbnMudmlld3BvcnQmJnRoaXMub3B0aW9ucy52aWV3cG9ydC5wYWRkaW5nfHwwLGE9dGhpcy5nZXRQb3NpdGlvbih0aGlzLiR2aWV3cG9ydCk7aWYoL3JpZ2h0fGxlZnQvLnRlc3QodCkpe3ZhciByPWUudG9wLXMtYS5zY3JvbGwsbD1lLnRvcCtzLWEuc2Nyb2xsK287cjxhLnRvcD9uLnRvcD1hLnRvcC1yOmw+YS50b3ArYS5oZWlnaHQmJihuLnRvcD1hLnRvcCthLmhlaWdodC1sKX1lbHNle3ZhciBoPWUubGVmdC1zLGQ9ZS5sZWZ0K3MraTtoPGEubGVmdD9uLmxlZnQ9YS5sZWZ0LWg6ZD5hLnJpZ2h0JiYobi5sZWZ0PWEubGVmdCthLndpZHRoLWQpfXJldHVybiBufSxpLnByb3RvdHlwZS5nZXRUaXRsZT1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy4kZWxlbWVudCxpPXRoaXMub3B0aW9ucztyZXR1cm4gdD1lLmF0dHIoXCJkYXRhLW9yaWdpbmFsLXRpdGxlXCIpfHwoXCJmdW5jdGlvblwiPT10eXBlb2YgaS50aXRsZT9pLnRpdGxlLmNhbGwoZVswXSk6aS50aXRsZSl9LGkucHJvdG90eXBlLmdldFVJRD1mdW5jdGlvbih0KXtkbyB0Kz1+figxZTYqTWF0aC5yYW5kb20oKSk7d2hpbGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCkpO3JldHVybiB0fSxpLnByb3RvdHlwZS50aXA9ZnVuY3Rpb24oKXtpZighdGhpcy4kdGlwJiYodGhpcy4kdGlwPXQodGhpcy5vcHRpb25zLnRlbXBsYXRlKSwxIT10aGlzLiR0aXAubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IodGhpcy50eXBlK1wiIGB0ZW1wbGF0ZWAgb3B0aW9uIG11c3QgY29uc2lzdCBvZiBleGFjdGx5IDEgdG9wLWxldmVsIGVsZW1lbnQhXCIpO3JldHVybiB0aGlzLiR0aXB9LGkucHJvdG90eXBlLmFycm93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGFycm93PXRoaXMuJGFycm93fHx0aGlzLnRpcCgpLmZpbmQoXCIudG9vbHRpcC1hcnJvd1wiKX0saS5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSEwfSxpLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSExfSxpLnByb3RvdHlwZS50b2dnbGVFbmFibGVkPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSF0aGlzLmVuYWJsZWR9LGkucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihlKXt2YXIgaT10aGlzO2UmJihpPXQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKFwiYnMuXCIrdGhpcy50eXBlKSxpfHwoaT1uZXcgdGhpcy5jb25zdHJ1Y3RvcihlLmN1cnJlbnRUYXJnZXQsdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSksdChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoXCJicy5cIit0aGlzLnR5cGUsaSkpKSxlPyhpLmluU3RhdGUuY2xpY2s9IWkuaW5TdGF0ZS5jbGljayxpLmlzSW5TdGF0ZVRydWUoKT9pLmVudGVyKGkpOmkubGVhdmUoaSkpOmkudGlwKCkuaGFzQ2xhc3MoXCJpblwiKT9pLmxlYXZlKGkpOmkuZW50ZXIoaSl9LGkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2NsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpLHRoaXMuaGlkZShmdW5jdGlvbigpe3QuJGVsZW1lbnQub2ZmKFwiLlwiK3QudHlwZSkucmVtb3ZlRGF0YShcImJzLlwiK3QudHlwZSksdC4kdGlwJiZ0LiR0aXAuZGV0YWNoKCksdC4kdGlwPW51bGwsdC4kYXJyb3c9bnVsbCx0LiR2aWV3cG9ydD1udWxsfSl9O3ZhciBvPXQuZm4udG9vbHRpcDt0LmZuLnRvb2x0aXA9ZSx0LmZuLnRvb2x0aXAuQ29uc3RydWN0b3I9aSx0LmZuLnRvb2x0aXAubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiB0LmZuLnRvb2x0aXA9byx0aGlzfX0oalF1ZXJ5KSwrZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG89dCh0aGlzKSxuPW8uZGF0YShcImJzLnBvcG92ZXJcIikscz1cIm9iamVjdFwiPT10eXBlb2YgZSYmZTshbiYmL2Rlc3Ryb3l8aGlkZS8udGVzdChlKXx8KG58fG8uZGF0YShcImJzLnBvcG92ZXJcIixuPW5ldyBpKHRoaXMscykpLFwic3RyaW5nXCI9PXR5cGVvZiBlJiZuW2VdKCkpfSl9dmFyIGk9ZnVuY3Rpb24odCxlKXt0aGlzLmluaXQoXCJwb3BvdmVyXCIsdCxlKX07aWYoIXQuZm4udG9vbHRpcCl0aHJvdyBuZXcgRXJyb3IoXCJQb3BvdmVyIHJlcXVpcmVzIHRvb2x0aXAuanNcIik7aS5WRVJTSU9OPVwiMy4zLjZcIixpLkRFRkFVTFRTPXQuZXh0ZW5kKHt9LHQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5ERUZBVUxUUyx7cGxhY2VtZW50OlwicmlnaHRcIix0cmlnZ2VyOlwiY2xpY2tcIixjb250ZW50OlwiXCIsdGVtcGxhdGU6JzxkaXYgY2xhc3M9XCJwb3BvdmVyXCIgcm9sZT1cInRvb2x0aXBcIj48ZGl2IGNsYXNzPVwiYXJyb3dcIj48L2Rpdj48aDMgY2xhc3M9XCJwb3BvdmVyLXRpdGxlXCI+PC9oMz48ZGl2IGNsYXNzPVwicG9wb3Zlci1jb250ZW50XCI+PC9kaXY+PC9kaXY+J30pLGkucHJvdG90eXBlPXQuZXh0ZW5kKHt9LHQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5wcm90b3R5cGUpLGkucHJvdG90eXBlLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuZ2V0RGVmYXVsdHM9ZnVuY3Rpb24oKXtyZXR1cm4gaS5ERUZBVUxUU30saS5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbigpe3ZhciB0PXRoaXMudGlwKCksZT10aGlzLmdldFRpdGxlKCksaT10aGlzLmdldENvbnRlbnQoKTt0LmZpbmQoXCIucG9wb3Zlci10aXRsZVwiKVt0aGlzLm9wdGlvbnMuaHRtbD9cImh0bWxcIjpcInRleHRcIl0oZSksdC5maW5kKFwiLnBvcG92ZXItY29udGVudFwiKS5jaGlsZHJlbigpLmRldGFjaCgpLmVuZCgpW3RoaXMub3B0aW9ucy5odG1sP1wic3RyaW5nXCI9PXR5cGVvZiBpP1wiaHRtbFwiOlwiYXBwZW5kXCI6XCJ0ZXh0XCJdKGkpLHQucmVtb3ZlQ2xhc3MoXCJmYWRlIHRvcCBib3R0b20gbGVmdCByaWdodCBpblwiKSx0LmZpbmQoXCIucG9wb3Zlci10aXRsZVwiKS5odG1sKCl8fHQuZmluZChcIi5wb3BvdmVyLXRpdGxlXCIpLmhpZGUoKX0saS5wcm90b3R5cGUuaGFzQ29udGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRpdGxlKCl8fHRoaXMuZ2V0Q29udGVudCgpfSxpLnByb3RvdHlwZS5nZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy4kZWxlbWVudCxlPXRoaXMub3B0aW9ucztyZXR1cm4gdC5hdHRyKFwiZGF0YS1jb250ZW50XCIpfHwoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jb250ZW50P2UuY29udGVudC5jYWxsKHRbMF0pOmUuY29udGVudCl9LGkucHJvdG90eXBlLmFycm93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGFycm93PXRoaXMuJGFycm93fHx0aGlzLnRpcCgpLmZpbmQoXCIuYXJyb3dcIil9O3ZhciBvPXQuZm4ucG9wb3Zlcjt0LmZuLnBvcG92ZXI9ZSx0LmZuLnBvcG92ZXIuQ29uc3RydWN0b3I9aSx0LmZuLnBvcG92ZXIubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiB0LmZuLnBvcG92ZXI9byx0aGlzfX0oalF1ZXJ5KSwrZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZShpLG8pe3RoaXMuJGJvZHk9dChkb2N1bWVudC5ib2R5KSx0aGlzLiRzY3JvbGxFbGVtZW50PXQodChpKS5pcyhkb2N1bWVudC5ib2R5KT93aW5kb3c6aSksdGhpcy5vcHRpb25zPXQuZXh0ZW5kKHt9LGUuREVGQVVMVFMsbyksdGhpcy5zZWxlY3Rvcj0odGhpcy5vcHRpb25zLnRhcmdldHx8XCJcIikrXCIgLm5hdiBsaSA+IGFcIix0aGlzLm9mZnNldHM9W10sdGhpcy50YXJnZXRzPVtdLHRoaXMuYWN0aXZlVGFyZ2V0PW51bGwsdGhpcy5zY3JvbGxIZWlnaHQ9MCx0aGlzLiRzY3JvbGxFbGVtZW50Lm9uKFwic2Nyb2xsLmJzLnNjcm9sbHNweVwiLHQucHJveHkodGhpcy5wcm9jZXNzLHRoaXMpKSx0aGlzLnJlZnJlc2goKSx0aGlzLnByb2Nlc3MoKX1mdW5jdGlvbiBpKGkpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbz10KHRoaXMpLG49by5kYXRhKFwiYnMuc2Nyb2xsc3B5XCIpLHM9XCJvYmplY3RcIj09dHlwZW9mIGkmJmk7bnx8by5kYXRhKFwiYnMuc2Nyb2xsc3B5XCIsbj1uZXcgZSh0aGlzLHMpKSxcInN0cmluZ1wiPT10eXBlb2YgaSYmbltpXSgpfSl9ZS5WRVJTSU9OPVwiMy4zLjZcIixlLkRFRkFVTFRTPXtvZmZzZXQ6MTB9LGUucHJvdG90eXBlLmdldFNjcm9sbEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRzY3JvbGxFbGVtZW50WzBdLnNjcm9sbEhlaWdodHx8TWF0aC5tYXgodGhpcy4kYm9keVswXS5zY3JvbGxIZWlnaHQsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCl9LGUucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGk9XCJvZmZzZXRcIixvPTA7dGhpcy5vZmZzZXRzPVtdLHRoaXMudGFyZ2V0cz1bXSx0aGlzLnNjcm9sbEhlaWdodD10aGlzLmdldFNjcm9sbEhlaWdodCgpLHQuaXNXaW5kb3codGhpcy4kc2Nyb2xsRWxlbWVudFswXSl8fChpPVwicG9zaXRpb25cIixvPXRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKCkpLHRoaXMuJGJvZHkuZmluZCh0aGlzLnNlbGVjdG9yKS5tYXAoZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpLG49ZS5kYXRhKFwidGFyZ2V0XCIpfHxlLmF0dHIoXCJocmVmXCIpLHM9L14jLi8udGVzdChuKSYmdChuKTtyZXR1cm4gcyYmcy5sZW5ndGgmJnMuaXMoXCI6dmlzaWJsZVwiKSYmW1tzW2ldKCkudG9wK28sbl1dfHxudWxsfSkuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0WzBdLWVbMF19KS5lYWNoKGZ1bmN0aW9uKCl7ZS5vZmZzZXRzLnB1c2godGhpc1swXSksZS50YXJnZXRzLnB1c2godGhpc1sxXSl9KX0sZS5wcm90b3R5cGUucHJvY2Vzcz1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKSt0aGlzLm9wdGlvbnMub2Zmc2V0LGk9dGhpcy5nZXRTY3JvbGxIZWlnaHQoKSxvPXRoaXMub3B0aW9ucy5vZmZzZXQraS10aGlzLiRzY3JvbGxFbGVtZW50LmhlaWdodCgpLG49dGhpcy5vZmZzZXRzLHM9dGhpcy50YXJnZXRzLGE9dGhpcy5hY3RpdmVUYXJnZXQ7aWYodGhpcy5zY3JvbGxIZWlnaHQhPWkmJnRoaXMucmVmcmVzaCgpLGU+PW8pcmV0dXJuIGEhPSh0PXNbcy5sZW5ndGgtMV0pJiZ0aGlzLmFjdGl2YXRlKHQpO2lmKGEmJmU8blswXSlyZXR1cm4gdGhpcy5hY3RpdmVUYXJnZXQ9bnVsbCx0aGlzLmNsZWFyKCk7Zm9yKHQ9bi5sZW5ndGg7dC0tOylhIT1zW3RdJiZlPj1uW3RdJiYodm9pZCAwPT09blt0KzFdfHxlPG5bdCsxXSkmJnRoaXMuYWN0aXZhdGUoc1t0XSl9LGUucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKGUpe3RoaXMuYWN0aXZlVGFyZ2V0PWUsdGhpcy5jbGVhcigpO3ZhciBpPXRoaXMuc2VsZWN0b3IrJ1tkYXRhLXRhcmdldD1cIicrZSsnXCJdLCcrdGhpcy5zZWxlY3RvcisnW2hyZWY9XCInK2UrJ1wiXScsbz10KGkpLnBhcmVudHMoXCJsaVwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtvLnBhcmVudChcIi5kcm9wZG93bi1tZW51XCIpLmxlbmd0aCYmKG89by5jbG9zZXN0KFwibGkuZHJvcGRvd25cIikuYWRkQ2xhc3MoXCJhY3RpdmVcIikpLFxuby50cmlnZ2VyKFwiYWN0aXZhdGUuYnMuc2Nyb2xsc3B5XCIpfSxlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3QodGhpcy5zZWxlY3RvcikucGFyZW50c1VudGlsKHRoaXMub3B0aW9ucy50YXJnZXQsXCIuYWN0aXZlXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpfTt2YXIgbz10LmZuLnNjcm9sbHNweTt0LmZuLnNjcm9sbHNweT1pLHQuZm4uc2Nyb2xsc3B5LkNvbnN0cnVjdG9yPWUsdC5mbi5zY3JvbGxzcHkubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiB0LmZuLnNjcm9sbHNweT1vLHRoaXN9LHQod2luZG93KS5vbihcImxvYWQuYnMuc2Nyb2xsc3B5LmRhdGEtYXBpXCIsZnVuY3Rpb24oKXt0KCdbZGF0YS1zcHk9XCJzY3JvbGxcIl0nKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKTtpLmNhbGwoZSxlLmRhdGEoKSl9KX0pfShqUXVlcnkpLCtmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbz10KHRoaXMpLG49by5kYXRhKFwiYnMudGFiXCIpO258fG8uZGF0YShcImJzLnRhYlwiLG49bmV3IGkodGhpcykpLFwic3RyaW5nXCI9PXR5cGVvZiBlJiZuW2VdKCl9KX12YXIgaT1mdW5jdGlvbihlKXt0aGlzLmVsZW1lbnQ9dChlKX07aS5WRVJTSU9OPVwiMy4zLjZcIixpLlRSQU5TSVRJT05fRFVSQVRJT049MTUwLGkucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnQsaT1lLmNsb3Nlc3QoXCJ1bDpub3QoLmRyb3Bkb3duLW1lbnUpXCIpLG89ZS5kYXRhKFwidGFyZ2V0XCIpO2lmKG98fChvPWUuYXR0cihcImhyZWZcIiksbz1vJiZvLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sXCJcIikpLCFlLnBhcmVudChcImxpXCIpLmhhc0NsYXNzKFwiYWN0aXZlXCIpKXt2YXIgbj1pLmZpbmQoXCIuYWN0aXZlOmxhc3QgYVwiKSxzPXQuRXZlbnQoXCJoaWRlLmJzLnRhYlwiLHtyZWxhdGVkVGFyZ2V0OmVbMF19KSxhPXQuRXZlbnQoXCJzaG93LmJzLnRhYlwiLHtyZWxhdGVkVGFyZ2V0Om5bMF19KTtpZihuLnRyaWdnZXIocyksZS50cmlnZ2VyKGEpLCFhLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYhcy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIHI9dChvKTt0aGlzLmFjdGl2YXRlKGUuY2xvc2VzdChcImxpXCIpLGkpLHRoaXMuYWN0aXZhdGUocixyLnBhcmVudCgpLGZ1bmN0aW9uKCl7bi50cmlnZ2VyKHt0eXBlOlwiaGlkZGVuLmJzLnRhYlwiLHJlbGF0ZWRUYXJnZXQ6ZVswXX0pLGUudHJpZ2dlcih7dHlwZTpcInNob3duLmJzLnRhYlwiLHJlbGF0ZWRUYXJnZXQ6blswXX0pfSl9fX0saS5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24oZSxvLG4pe2Z1bmN0aW9uIHMoKXthLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLmZpbmQoXCI+IC5kcm9wZG93bi1tZW51ID4gLmFjdGl2ZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKS5lbmQoKS5maW5kKCdbZGF0YS10b2dnbGU9XCJ0YWJcIl0nKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLCExKSxlLmFkZENsYXNzKFwiYWN0aXZlXCIpLmZpbmQoJ1tkYXRhLXRvZ2dsZT1cInRhYlwiXScpLmF0dHIoXCJhcmlhLWV4cGFuZGVkXCIsITApLHI/KGVbMF0ub2Zmc2V0V2lkdGgsZS5hZGRDbGFzcyhcImluXCIpKTplLnJlbW92ZUNsYXNzKFwiZmFkZVwiKSxlLnBhcmVudChcIi5kcm9wZG93bi1tZW51XCIpLmxlbmd0aCYmZS5jbG9zZXN0KFwibGkuZHJvcGRvd25cIikuYWRkQ2xhc3MoXCJhY3RpdmVcIikuZW5kKCkuZmluZCgnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJykuYXR0cihcImFyaWEtZXhwYW5kZWRcIiwhMCksbiYmbigpfXZhciBhPW8uZmluZChcIj4gLmFjdGl2ZVwiKSxyPW4mJnQuc3VwcG9ydC50cmFuc2l0aW9uJiYoYS5sZW5ndGgmJmEuaGFzQ2xhc3MoXCJmYWRlXCIpfHwhIW8uZmluZChcIj4gLmZhZGVcIikubGVuZ3RoKTthLmxlbmd0aCYmcj9hLm9uZShcImJzVHJhbnNpdGlvbkVuZFwiLHMpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGkuVFJBTlNJVElPTl9EVVJBVElPTik6cygpLGEucmVtb3ZlQ2xhc3MoXCJpblwiKX07dmFyIG89dC5mbi50YWI7dC5mbi50YWI9ZSx0LmZuLnRhYi5Db25zdHJ1Y3Rvcj1pLHQuZm4udGFiLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdC5mbi50YWI9byx0aGlzfTt2YXIgbj1mdW5jdGlvbihpKXtpLnByZXZlbnREZWZhdWx0KCksZS5jYWxsKHQodGhpcyksXCJzaG93XCIpfTt0KGRvY3VtZW50KS5vbihcImNsaWNrLmJzLnRhYi5kYXRhLWFwaVwiLCdbZGF0YS10b2dnbGU9XCJ0YWJcIl0nLG4pLm9uKFwiY2xpY2suYnMudGFiLmRhdGEtYXBpXCIsJ1tkYXRhLXRvZ2dsZT1cInBpbGxcIl0nLG4pfShqUXVlcnkpLCtmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbz10KHRoaXMpLG49by5kYXRhKFwiYnMuYWZmaXhcIikscz1cIm9iamVjdFwiPT10eXBlb2YgZSYmZTtufHxvLmRhdGEoXCJicy5hZmZpeFwiLG49bmV3IGkodGhpcyxzKSksXCJzdHJpbmdcIj09dHlwZW9mIGUmJm5bZV0oKX0pfXZhciBpPWZ1bmN0aW9uKGUsbyl7dGhpcy5vcHRpb25zPXQuZXh0ZW5kKHt9LGkuREVGQVVMVFMsbyksdGhpcy4kdGFyZ2V0PXQodGhpcy5vcHRpb25zLnRhcmdldCkub24oXCJzY3JvbGwuYnMuYWZmaXguZGF0YS1hcGlcIix0LnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbix0aGlzKSkub24oXCJjbGljay5icy5hZmZpeC5kYXRhLWFwaVwiLHQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCx0aGlzKSksdGhpcy4kZWxlbWVudD10KGUpLHRoaXMuYWZmaXhlZD1udWxsLHRoaXMudW5waW49bnVsbCx0aGlzLnBpbm5lZE9mZnNldD1udWxsLHRoaXMuY2hlY2tQb3NpdGlvbigpfTtpLlZFUlNJT049XCIzLjMuNlwiLGkuUkVTRVQ9XCJhZmZpeCBhZmZpeC10b3AgYWZmaXgtYm90dG9tXCIsaS5ERUZBVUxUUz17b2Zmc2V0OjAsdGFyZ2V0OndpbmRvd30saS5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24odCxlLGksbyl7dmFyIG49dGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpLHM9dGhpcy4kZWxlbWVudC5vZmZzZXQoKSxhPXRoaXMuJHRhcmdldC5oZWlnaHQoKTtpZihudWxsIT1pJiZcInRvcFwiPT10aGlzLmFmZml4ZWQpcmV0dXJuIG48aSYmXCJ0b3BcIjtpZihcImJvdHRvbVwiPT10aGlzLmFmZml4ZWQpcmV0dXJuIG51bGwhPWk/IShuK3RoaXMudW5waW48PXMudG9wKSYmXCJib3R0b21cIjohKG4rYTw9dC1vKSYmXCJib3R0b21cIjt2YXIgcj1udWxsPT10aGlzLmFmZml4ZWQsbD1yP246cy50b3AsaD1yP2E6ZTtyZXR1cm4gbnVsbCE9aSYmbjw9aT9cInRvcFwiOm51bGwhPW8mJmwraD49dC1vJiZcImJvdHRvbVwifSxpLnByb3RvdHlwZS5nZXRQaW5uZWRPZmZzZXQ9ZnVuY3Rpb24oKXtpZih0aGlzLnBpbm5lZE9mZnNldClyZXR1cm4gdGhpcy5waW5uZWRPZmZzZXQ7dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhpLlJFU0VUKS5hZGRDbGFzcyhcImFmZml4XCIpO3ZhciB0PXRoaXMuJHRhcmdldC5zY3JvbGxUb3AoKSxlPXRoaXMuJGVsZW1lbnQub2Zmc2V0KCk7cmV0dXJuIHRoaXMucGlubmVkT2Zmc2V0PWUudG9wLXR9LGkucHJvdG90eXBlLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wPWZ1bmN0aW9uKCl7c2V0VGltZW91dCh0LnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbix0aGlzKSwxKX0saS5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMuJGVsZW1lbnQuaXMoXCI6dmlzaWJsZVwiKSl7dmFyIGU9dGhpcy4kZWxlbWVudC5oZWlnaHQoKSxvPXRoaXMub3B0aW9ucy5vZmZzZXQsbj1vLnRvcCxzPW8uYm90dG9tLGE9TWF0aC5tYXgodChkb2N1bWVudCkuaGVpZ2h0KCksdChkb2N1bWVudC5ib2R5KS5oZWlnaHQoKSk7XCJvYmplY3RcIiE9dHlwZW9mIG8mJihzPW49byksXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmKG49by50b3AodGhpcy4kZWxlbWVudCkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHMmJihzPW8uYm90dG9tKHRoaXMuJGVsZW1lbnQpKTt2YXIgcj10aGlzLmdldFN0YXRlKGEsZSxuLHMpO2lmKHRoaXMuYWZmaXhlZCE9cil7bnVsbCE9dGhpcy51bnBpbiYmdGhpcy4kZWxlbWVudC5jc3MoXCJ0b3BcIixcIlwiKTt2YXIgbD1cImFmZml4XCIrKHI/XCItXCIrcjpcIlwiKSxoPXQuRXZlbnQobCtcIi5icy5hZmZpeFwiKTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIoaCksaC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm47dGhpcy5hZmZpeGVkPXIsdGhpcy51bnBpbj1cImJvdHRvbVwiPT1yP3RoaXMuZ2V0UGlubmVkT2Zmc2V0KCk6bnVsbCx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKGkuUkVTRVQpLmFkZENsYXNzKGwpLnRyaWdnZXIobC5yZXBsYWNlKFwiYWZmaXhcIixcImFmZml4ZWRcIikrXCIuYnMuYWZmaXhcIil9XCJib3R0b21cIj09ciYmdGhpcy4kZWxlbWVudC5vZmZzZXQoe3RvcDphLWUtc30pfX07dmFyIG89dC5mbi5hZmZpeDt0LmZuLmFmZml4PWUsdC5mbi5hZmZpeC5Db25zdHJ1Y3Rvcj1pLHQuZm4uYWZmaXgubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiB0LmZuLmFmZml4PW8sdGhpc30sdCh3aW5kb3cpLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dCgnW2RhdGEtc3B5PVwiYWZmaXhcIl0nKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9dCh0aGlzKSxvPWkuZGF0YSgpO28ub2Zmc2V0PW8ub2Zmc2V0fHx7fSxudWxsIT1vLm9mZnNldEJvdHRvbSYmKG8ub2Zmc2V0LmJvdHRvbT1vLm9mZnNldEJvdHRvbSksbnVsbCE9by5vZmZzZXRUb3AmJihvLm9mZnNldC50b3A9by5vZmZzZXRUb3ApLGUuY2FsbChpLG8pfSl9KX0oalF1ZXJ5KTtcbiFmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlLG49YXJndW1lbnRzWzBdO2ZvcihlPVwiW1wiKyh0P3QrXCI6XCI6XCJcIikrbitcIl0gaHR0cDovL2Vycm9ycy5hbmd1bGFyanMub3JnLzEuNS43L1wiKyh0P3QrXCIvXCI6XCJcIikrbixuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl7ZT1lKygxPT1uP1wiP1wiOlwiJlwiKStcInBcIisobi0xKStcIj1cIjt2YXIgcixpPWVuY29kZVVSSUNvbXBvbmVudDtyPWFyZ3VtZW50c1tuXSxyPVwiZnVuY3Rpb25cIj09dHlwZW9mIHI/ci50b1N0cmluZygpLnJlcGxhY2UoLyBcXHtbXFxzXFxTXSokLyxcIlwiKTpcInVuZGVmaW5lZFwiPT10eXBlb2Ygcj9cInVuZGVmaW5lZFwiOlwic3RyaW5nXCIhPXR5cGVvZiByP0pTT04uc3RyaW5naWZ5KHIpOnIsZSs9aShyKX1yZXR1cm4gRXJyb3IoZSl9fWZ1bmN0aW9uIG4odCl7aWYobnVsbD09dHx8RSh0KSlyZXR1cm4hMTtpZihhcih0KXx8Yih0KXx8em4mJnQgaW5zdGFuY2VvZiB6bilyZXR1cm4hMDt2YXIgZT1cImxlbmd0aFwiaW4gT2JqZWN0KHQpJiZ0Lmxlbmd0aDtyZXR1cm4gdyhlKSYmKDA8PWUmJihlLTEgaW4gdHx8dCBpbnN0YW5jZW9mIEFycmF5KXx8XCJmdW5jdGlvblwiPT10eXBlb2YgdC5pdGVtKX1mdW5jdGlvbiByKHQsZSxpKXt2YXIgbyxhO2lmKHQpaWYoUyh0KSlmb3IobyBpbiB0KVwicHJvdG90eXBlXCI9PW98fFwibGVuZ3RoXCI9PW98fFwibmFtZVwiPT1vfHx0Lmhhc093blByb3BlcnR5JiYhdC5oYXNPd25Qcm9wZXJ0eShvKXx8ZS5jYWxsKGksdFtvXSxvLHQpO2Vsc2UgaWYoYXIodCl8fG4odCkpe3ZhciBzPVwib2JqZWN0XCIhPXR5cGVvZiB0O2ZvcihvPTAsYT10Lmxlbmd0aDtvPGE7bysrKShzfHxvIGluIHQpJiZlLmNhbGwoaSx0W29dLG8sdCl9ZWxzZSBpZih0LmZvckVhY2gmJnQuZm9yRWFjaCE9PXIpdC5mb3JFYWNoKGUsaSx0KTtlbHNlIGlmKHkodCkpZm9yKG8gaW4gdCllLmNhbGwoaSx0W29dLG8sdCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lmhhc093blByb3BlcnR5KWZvcihvIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShvKSYmZS5jYWxsKGksdFtvXSxvLHQpO2Vsc2UgZm9yKG8gaW4gdClKbi5jYWxsKHQsbykmJmUuY2FsbChpLHRbb10sbyx0KTtyZXR1cm4gdH1mdW5jdGlvbiBpKHQsZSxuKXtmb3IodmFyIHI9T2JqZWN0LmtleXModCkuc29ydCgpLGk9MDtpPHIubGVuZ3RoO2krKyllLmNhbGwobix0W3JbaV1dLHJbaV0pO3JldHVybiByfWZ1bmN0aW9uIG8odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dChuLGUpfX1mdW5jdGlvbiBhKCl7cmV0dXJuKytvcn1mdW5jdGlvbiBzKHQsZSxuKXtmb3IodmFyIHI9dC4kJGhhc2hLZXksaT0wLG89ZS5sZW5ndGg7aTxvOysraSl7dmFyIGE9ZVtpXTtpZihnKGEpfHxTKGEpKWZvcih2YXIgdT1PYmplY3Qua2V5cyhhKSxjPTAsbD11Lmxlbmd0aDtjPGw7YysrKXt2YXIgZj11W2NdLGg9YVtmXTtuJiZnKGgpP3goaCk/dFtmXT1uZXcgRGF0ZShoLnZhbHVlT2YoKSk6QyhoKT90W2ZdPW5ldyBSZWdFeHAoaCk6aC5ub2RlTmFtZT90W2ZdPWguY2xvbmVOb2RlKCEwKTpNKGgpP3RbZl09aC5jbG9uZSgpOihnKHRbZl0pfHwodFtmXT1hcihoKT9bXTp7fSkscyh0W2ZdLFtoXSwhMCkpOnRbZl09aH19cmV0dXJuIHI/dC4kJGhhc2hLZXk9cjpkZWxldGUgdC4kJGhhc2hLZXksdH1mdW5jdGlvbiB1KHQpe3JldHVybiBzKHQsWG4uY2FsbChhcmd1bWVudHMsMSksITEpfWZ1bmN0aW9uIGModCl7cmV0dXJuIHModCxYbi5jYWxsKGFyZ3VtZW50cywxKSwhMCl9ZnVuY3Rpb24gbCh0KXtyZXR1cm4gcGFyc2VJbnQodCwxMCl9ZnVuY3Rpb24gZih0LGUpe3JldHVybiB1KE9iamVjdC5jcmVhdGUodCksZSl9ZnVuY3Rpb24gaCgpe31mdW5jdGlvbiBwKHQpe3JldHVybiB0fWZ1bmN0aW9uIGQodCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fWZ1bmN0aW9uICQodCl7cmV0dXJuIFModC50b1N0cmluZykmJnQudG9TdHJpbmchPT1lcn1mdW5jdGlvbiBtKHQpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiB0fWZ1bmN0aW9uIHYodCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHR9ZnVuY3Rpb24gZyh0KXtyZXR1cm4gbnVsbCE9PXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0fWZ1bmN0aW9uIHkodCl7cmV0dXJuIG51bGwhPT10JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmIW5yKHQpfWZ1bmN0aW9uIGIodCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHR9ZnVuY3Rpb24gdyh0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdH1mdW5jdGlvbiB4KHQpe3JldHVyblwiW29iamVjdCBEYXRlXVwiPT09ZXIuY2FsbCh0KX1mdW5jdGlvbiBTKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHR9ZnVuY3Rpb24gQyh0KXtyZXR1cm5cIltvYmplY3QgUmVnRXhwXVwiPT09ZXIuY2FsbCh0KX1mdW5jdGlvbiBFKHQpe3JldHVybiB0JiZ0LndpbmRvdz09PXR9ZnVuY3Rpb24gQSh0KXtyZXR1cm4gdCYmdC4kZXZhbEFzeW5jJiZ0LiR3YXRjaH1mdW5jdGlvbiBrKHQpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgdH1mdW5jdGlvbiBPKHQpe3JldHVybiB0JiZ3KHQubGVuZ3RoKSYmc3IudGVzdChlci5jYWxsKHQpKX1mdW5jdGlvbiBNKHQpe3JldHVybiEoIXR8fCEodC5ub2RlTmFtZXx8dC5wcm9wJiZ0LmF0dHImJnQuZmluZCkpfWZ1bmN0aW9uIE4odCl7dmFyIGU9e307dD10LnNwbGl0KFwiLFwiKTt2YXIgbjtmb3Iobj0wO248dC5sZW5ndGg7bisrKWVbdFtuXV09ITA7cmV0dXJuIGV9ZnVuY3Rpb24gVCh0KXtyZXR1cm4gS24odC5ub2RlTmFtZXx8dFswXSYmdFswXS5ub2RlTmFtZSl9ZnVuY3Rpb24gVih0LGUpe3ZhciBuPXQuaW5kZXhPZihlKTtyZXR1cm4gMDw9biYmdC5zcGxpY2UobiwxKSxufWZ1bmN0aW9uIGoodCxlKXtmdW5jdGlvbiBuKHQsZSl7dmFyIG4scj1lLiQkaGFzaEtleTtpZihhcih0KSl7bj0wO2Zvcih2YXIgbz10Lmxlbmd0aDtuPG87bisrKWUucHVzaChpKHRbbl0pKX1lbHNlIGlmKHkodCkpZm9yKG4gaW4gdCllW25dPWkodFtuXSk7ZWxzZSBpZih0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lmhhc093blByb3BlcnR5KWZvcihuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09aSh0W25dKSk7ZWxzZSBmb3IobiBpbiB0KUpuLmNhbGwodCxuKSYmKGVbbl09aSh0W25dKSk7cmV0dXJuIHI/ZS4kJGhhc2hLZXk9cjpkZWxldGUgZS4kJGhhc2hLZXksZX1mdW5jdGlvbiBpKHQpe2lmKCFnKHQpKXJldHVybiB0O3ZhciBlPWEuaW5kZXhPZih0KTtpZigtMSE9PWUpcmV0dXJuIHNbZV07aWYoRSh0KXx8QSh0KSl0aHJvdyBycihcImNwd3NcIik7dmFyIGU9ITEscj1vKHQpO3JldHVybiB2b2lkIDA9PT1yJiYocj1hcih0KT9bXTpPYmplY3QuY3JlYXRlKG5yKHQpKSxlPSEwKSxhLnB1c2godCkscy5wdXNoKHIpLGU/bih0LHIpOnJ9ZnVuY3Rpb24gbyh0KXtzd2l0Y2goZXIuY2FsbCh0KSl7Y2FzZVwiW29iamVjdCBJbnQ4QXJyYXldXCI6Y2FzZVwiW29iamVjdCBJbnQxNkFycmF5XVwiOmNhc2VcIltvYmplY3QgSW50MzJBcnJheV1cIjpjYXNlXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIjpjYXNlXCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIjpjYXNlXCJbb2JqZWN0IFVpbnQ4QXJyYXldXCI6Y2FzZVwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIjpjYXNlXCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiOmNhc2VcIltvYmplY3QgVWludDMyQXJyYXldXCI6cmV0dXJuIG5ldyB0LmNvbnN0cnVjdG9yKGkodC5idWZmZXIpKTtjYXNlXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiOmlmKCF0LnNsaWNlKXt2YXIgZT1uZXcgQXJyYXlCdWZmZXIodC5ieXRlTGVuZ3RoKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZSkuc2V0KG5ldyBVaW50OEFycmF5KHQpKSxlfXJldHVybiB0LnNsaWNlKDApO2Nhc2VcIltvYmplY3QgQm9vbGVhbl1cIjpjYXNlXCJbb2JqZWN0IE51bWJlcl1cIjpjYXNlXCJbb2JqZWN0IFN0cmluZ11cIjpjYXNlXCJbb2JqZWN0IERhdGVdXCI6cmV0dXJuIG5ldyB0LmNvbnN0cnVjdG9yKHQudmFsdWVPZigpKTtjYXNlXCJbb2JqZWN0IFJlZ0V4cF1cIjpyZXR1cm4gZT1uZXcgUmVnRXhwKHQuc291cmNlLHQudG9TdHJpbmcoKS5tYXRjaCgvW15cXC9dKiQvKVswXSksZS5sYXN0SW5kZXg9dC5sYXN0SW5kZXgsZTtjYXNlXCJbb2JqZWN0IEJsb2JdXCI6cmV0dXJuIG5ldyB0LmNvbnN0cnVjdG9yKFt0XSx7dHlwZTp0LnR5cGV9KX1pZihTKHQuY2xvbmVOb2RlKSlyZXR1cm4gdC5jbG9uZU5vZGUoITApfXZhciBhPVtdLHM9W107aWYoZSl7aWYoTyhlKXx8XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09ZXIuY2FsbChlKSl0aHJvdyBycihcImNwdGFcIik7aWYodD09PWUpdGhyb3cgcnIoXCJjcGlcIik7cmV0dXJuIGFyKGUpP2UubGVuZ3RoPTA6cihlLGZ1bmN0aW9uKHQsbil7XCIkJGhhc2hLZXlcIiE9PW4mJmRlbGV0ZSBlW25dfSksYS5wdXNoKHQpLHMucHVzaChlKSxuKHQsZSl9cmV0dXJuIGkodCl9ZnVuY3Rpb24gSSh0LGUpe2lmKHQ9PT1lKXJldHVybiEwO2lmKG51bGw9PT10fHxudWxsPT09ZSlyZXR1cm4hMTtpZih0IT09dCYmZSE9PWUpcmV0dXJuITA7dmFyIG4scj10eXBlb2YgdDtpZihyPT10eXBlb2YgZSYmXCJvYmplY3RcIj09cil7aWYoIWFyKHQpKXtpZih4KHQpKXJldHVybiEheChlKSYmSSh0LmdldFRpbWUoKSxlLmdldFRpbWUoKSk7aWYoQyh0KSlyZXR1cm4hIUMoZSkmJnQudG9TdHJpbmcoKT09ZS50b1N0cmluZygpO2lmKEEodCl8fEEoZSl8fEUodCl8fEUoZSl8fGFyKGUpfHx4KGUpfHxDKGUpKXJldHVybiExO3I9YXQoKTtmb3IobiBpbiB0KWlmKFwiJFwiIT09bi5jaGFyQXQoMCkmJiFTKHRbbl0pKXtpZighSSh0W25dLGVbbl0pKXJldHVybiExO3Jbbl09ITB9Zm9yKG4gaW4gZSlpZighKG4gaW4gcikmJlwiJFwiIT09bi5jaGFyQXQoMCkmJnYoZVtuXSkmJiFTKGVbbl0pKXJldHVybiExO3JldHVybiEwfWlmKCFhcihlKSlyZXR1cm4hMTtpZigocj10Lmxlbmd0aCk9PWUubGVuZ3RoKXtmb3Iobj0wO248cjtuKyspaWYoIUkodFtuXSxlW25dKSlyZXR1cm4hMTtyZXR1cm4hMH19cmV0dXJuITF9ZnVuY3Rpb24gRCh0LGUsbil7cmV0dXJuIHQuY29uY2F0KFhuLmNhbGwoZSxuKSl9ZnVuY3Rpb24gUCh0LGUpe3ZhciBuPTI8YXJndW1lbnRzLmxlbmd0aD9Ybi5jYWxsKGFyZ3VtZW50cywyKTpbXTtyZXR1cm4hUyhlKXx8ZSBpbnN0YW5jZW9mIFJlZ0V4cD9lOm4ubGVuZ3RoP2Z1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/ZS5hcHBseSh0LEQobixhcmd1bWVudHMsMCkpOmUuYXBwbHkodCxuKX06ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9lLmFwcGx5KHQsYXJndW1lbnRzKTplLmNhbGwodCl9fWZ1bmN0aW9uIFIoZSxuKXt2YXIgcj1uO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiZcIiRcIj09PWUuY2hhckF0KDApJiZcIiRcIj09PWUuY2hhckF0KDEpP3I9dm9pZCAwOkUobik/cj1cIiRXSU5ET1dcIjpuJiZ0LmRvY3VtZW50PT09bj9yPVwiJERPQ1VNRU5UXCI6QShuKSYmKHI9XCIkU0NPUEVcIikscn1mdW5jdGlvbiBGKHQsZSl7aWYoIW0odCkpcmV0dXJuIHcoZSl8fChlPWU/MjpudWxsKSxKU09OLnN0cmluZ2lmeSh0LFIsZSl9ZnVuY3Rpb24gVSh0KXtyZXR1cm4gYih0KT9KU09OLnBhcnNlKHQpOnR9ZnVuY3Rpb24gXyh0LGUpe3Q9dC5yZXBsYWNlKGhyLFwiXCIpO3ZhciBuPURhdGUucGFyc2UoXCJKYW4gMDEsIDE5NzAgMDA6MDA6MDAgXCIrdCkvNmU0O3JldHVybiBpc05hTihuKT9lOm59ZnVuY3Rpb24gcSh0LGUsbil7bj1uPy0xOjE7dmFyIHI9dC5nZXRUaW1lem9uZU9mZnNldCgpO3JldHVybiBlPV8oZSxyKSxuKj1lLXIsdD1uZXcgRGF0ZSh0LmdldFRpbWUoKSksdC5zZXRNaW51dGVzKHQuZ2V0TWludXRlcygpK24pLHR9ZnVuY3Rpb24gTCh0KXt0PXpuKHQpLmNsb25lKCk7dHJ5e3QuZW1wdHkoKX1jYXRjaCh0KXt9dmFyIGU9em4oXCI8ZGl2PlwiKS5hcHBlbmQodCkuaHRtbCgpO3RyeXtyZXR1cm4gdFswXS5ub2RlVHlwZT09PW1yP0tuKGUpOmUubWF0Y2goL14oPFtePl0rPikvKVsxXS5yZXBsYWNlKC9ePChbXFx3XFwtXSspLyxmdW5jdGlvbih0LGUpe3JldHVyblwiPFwiK0tuKGUpfSl9Y2F0Y2godCl7cmV0dXJuIEtuKGUpfX1mdW5jdGlvbiBCKHQpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHQpfWNhdGNoKHQpe319ZnVuY3Rpb24gSCh0KXt2YXIgZT17fTtyZXR1cm4gcigodHx8XCJcIikuc3BsaXQoXCImXCIpLGZ1bmN0aW9uKHQpe3ZhciBuLHIsaTt0JiYocj10PXQucmVwbGFjZSgvXFwrL2csXCIlMjBcIiksbj10LmluZGV4T2YoXCI9XCIpLC0xIT09biYmKHI9dC5zdWJzdHJpbmcoMCxuKSxpPXQuc3Vic3RyaW5nKG4rMSkpLHI9QihyKSx2KHIpJiYoaT0hdihpKXx8QihpKSxKbi5jYWxsKGUscik/YXIoZVtyXSk/ZVtyXS5wdXNoKGkpOmVbcl09W2Vbcl0saV06ZVtyXT1pKSl9KSxlfWZ1bmN0aW9uIHoodCl7dmFyIGU9W107cmV0dXJuIHIodCxmdW5jdGlvbih0LG4pe2FyKHQpP3IodCxmdW5jdGlvbih0KXtlLnB1c2goRyhuLCEwKSsoITA9PT10P1wiXCI6XCI9XCIrRyh0LCEwKSkpfSk6ZS5wdXNoKEcobiwhMCkrKCEwPT09dD9cIlwiOlwiPVwiK0codCwhMCkpKX0pLGUubGVuZ3RoP2Uuam9pbihcIiZcIik6XCJcIn1mdW5jdGlvbiBXKHQpe3JldHVybiBHKHQsITApLnJlcGxhY2UoLyUyNi9naSxcIiZcIikucmVwbGFjZSgvJTNEL2dpLFwiPVwiKS5yZXBsYWNlKC8lMkIvZ2ksXCIrXCIpfWZ1bmN0aW9uIEcodCxlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHQpLnJlcGxhY2UoLyU0MC9naSxcIkBcIikucmVwbGFjZSgvJTNBL2dpLFwiOlwiKS5yZXBsYWNlKC8lMjQvZyxcIiRcIikucmVwbGFjZSgvJTJDL2dpLFwiLFwiKS5yZXBsYWNlKC8lM0IvZ2ksXCI7XCIpLnJlcGxhY2UoLyUyMC9nLGU/XCIlMjBcIjpcIitcIil9ZnVuY3Rpb24gWih0LGUpe3ZhciBuLHIsaT1wci5sZW5ndGg7Zm9yKHI9MDtyPGk7KytyKWlmKG49cHJbcl0rZSxiKG49dC5nZXRBdHRyaWJ1dGUobikpKXJldHVybiBuO3JldHVybiBudWxsfWZ1bmN0aW9uIEoodCxlKXt2YXIgbixpLG89e307cihwcixmdW5jdGlvbihlKXtlKz1cImFwcFwiLCFuJiZ0Lmhhc0F0dHJpYnV0ZSYmdC5oYXNBdHRyaWJ1dGUoZSkmJihuPXQsaT10LmdldEF0dHJpYnV0ZShlKSl9KSxyKHByLGZ1bmN0aW9uKGUpe2UrPVwiYXBwXCI7dmFyIHI7IW4mJihyPXQucXVlcnlTZWxlY3RvcihcIltcIitlLnJlcGxhY2UoXCI6XCIsXCJcXFxcOlwiKStcIl1cIikpJiYobj1yLGk9ci5nZXRBdHRyaWJ1dGUoZSkpfSksbiYmKG8uc3RyaWN0RGk9bnVsbCE9PVoobixcInN0cmljdC1kaVwiKSxlKG4saT9baV06W10sbykpfWZ1bmN0aW9uIEsoZSxuLGkpe2coaSl8fChpPXt9KSxpPXUoe3N0cmljdERpOiExfSxpKTt2YXIgbz1mdW5jdGlvbigpe2lmKGU9em4oZSksZS5pbmplY3RvcigpKXt2YXIgcj1lWzBdPT09dC5kb2N1bWVudD9cImRvY3VtZW50XCI6TChlKTt0aHJvdyBycihcImJ0c3RycGRcIixyLnJlcGxhY2UoLzwvLFwiJmx0O1wiKS5yZXBsYWNlKC8+LyxcIiZndDtcIikpfXJldHVybiBuPW58fFtdLG4udW5zaGlmdChbXCIkcHJvdmlkZVwiLGZ1bmN0aW9uKHQpe3QudmFsdWUoXCIkcm9vdEVsZW1lbnRcIixlKX1dKSxpLmRlYnVnSW5mb0VuYWJsZWQmJm4ucHVzaChbXCIkY29tcGlsZVByb3ZpZGVyXCIsZnVuY3Rpb24odCl7dC5kZWJ1Z0luZm9FbmFibGVkKCEwKX1dKSxuLnVuc2hpZnQoXCJuZ1wiKSxyPVV0KG4saS5zdHJpY3REaSksci5pbnZva2UoW1wiJHJvb3RTY29wZVwiLFwiJHJvb3RFbGVtZW50XCIsXCIkY29tcGlsZVwiLFwiJGluamVjdG9yXCIsZnVuY3Rpb24odCxlLG4scil7dC4kYXBwbHkoZnVuY3Rpb24oKXtlLmRhdGEoXCIkaW5qZWN0b3JcIixyKSxuKGUpKHQpfSl9XSkscn0sYT0vXk5HX0VOQUJMRV9ERUJVR19JTkZPIS8scz0vXk5HX0RFRkVSX0JPT1RTVFJBUCEvO3JldHVybiB0JiZhLnRlc3QodC5uYW1lKSYmKGkuZGVidWdJbmZvRW5hYmxlZD0hMCx0Lm5hbWU9dC5uYW1lLnJlcGxhY2UoYSxcIlwiKSksdCYmIXMudGVzdCh0Lm5hbWUpP28oKToodC5uYW1lPXQubmFtZS5yZXBsYWNlKHMsXCJcIiksaXIucmVzdW1lQm9vdHN0cmFwPWZ1bmN0aW9uKHQpe3JldHVybiByKHQsZnVuY3Rpb24odCl7bi5wdXNoKHQpfSksbygpfSx2b2lkKFMoaXIucmVzdW1lRGVmZXJyZWRCb290c3RyYXApJiZpci5yZXN1bWVEZWZlcnJlZEJvb3RzdHJhcCgpKSl9ZnVuY3Rpb24gWSgpe3QubmFtZT1cIk5HX0VOQUJMRV9ERUJVR19JTkZPIVwiK3QubmFtZSx0LmxvY2F0aW9uLnJlbG9hZCgpfWZ1bmN0aW9uIFgodCl7aWYodD1pci5lbGVtZW50KHQpLmluamVjdG9yKCksIXQpdGhyb3cgcnIoXCJ0ZXN0XCIpO3JldHVybiB0LmdldChcIiQkdGVzdGFiaWxpdHlcIil9ZnVuY3Rpb24gUSh0LGUpe3JldHVybiBlPWV8fFwiX1wiLHQucmVwbGFjZShkcixmdW5jdGlvbih0LG4pe3JldHVybihuP2U6XCJcIikrdC50b0xvd2VyQ2FzZSgpfSl9ZnVuY3Rpb24gdHQoKXt2YXIgZTtpZighJHIpe3ZhciBuPWZyKCk7KFduPW0obik/dC5qUXVlcnk6bj90W25dOnZvaWQgMCkmJlduLmZuLm9uPyh6bj1Xbix1KFduLmZuLHtzY29wZTpOci5zY29wZSxpc29sYXRlU2NvcGU6TnIuaXNvbGF0ZVNjb3BlLGNvbnRyb2xsZXI6TnIuY29udHJvbGxlcixpbmplY3RvcjpOci5pbmplY3Rvcixpbmhlcml0ZWREYXRhOk5yLmluaGVyaXRlZERhdGF9KSxlPVduLmNsZWFuRGF0YSxXbi5jbGVhbkRhdGE9ZnVuY3Rpb24odCl7Zm9yKHZhciBuLHIsaT0wO251bGwhPShyPXRbaV0pO2krKykobj1Xbi5fZGF0YShyLFwiZXZlbnRzXCIpKSYmbi4kZGVzdHJveSYmV24ocikudHJpZ2dlckhhbmRsZXIoXCIkZGVzdHJveVwiKTtlKHQpfSk6em49ZHQsaXIuZWxlbWVudD16biwkcj0hMH19ZnVuY3Rpb24gZXQodCxlLG4pe2lmKCF0KXRocm93IHJyKFwiYXJlcVwiLGV8fFwiP1wiLG58fFwicmVxdWlyZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gbnQodCxlLG4pe3JldHVybiBuJiZhcih0KSYmKHQ9dFt0Lmxlbmd0aC0xXSksZXQoUyh0KSxlLFwibm90IGEgZnVuY3Rpb24sIGdvdCBcIisodCYmXCJvYmplY3RcIj09dHlwZW9mIHQ/dC5jb25zdHJ1Y3Rvci5uYW1lfHxcIk9iamVjdFwiOnR5cGVvZiB0KSksdH1mdW5jdGlvbiBydCh0LGUpe2lmKFwiaGFzT3duUHJvcGVydHlcIj09PXQpdGhyb3cgcnIoXCJiYWRuYW1lXCIsZSl9ZnVuY3Rpb24gaXQodCxlLG4pe2lmKCFlKXJldHVybiB0O2U9ZS5zcGxpdChcIi5cIik7Zm9yKHZhciByLGk9dCxvPWUubGVuZ3RoLGE9MDthPG87YSsrKXI9ZVthXSx0JiYodD0oaT10KVtyXSk7cmV0dXJuIW4mJlModCk/UChpLHQpOnR9ZnVuY3Rpb24gb3QodCl7Zm9yKHZhciBlLG49dFswXSxyPXRbdC5sZW5ndGgtMV0saT0xO24hPT1yJiYobj1uLm5leHRTaWJsaW5nKTtpKyspKGV8fHRbaV0hPT1uKSYmKGV8fChlPXpuKFhuLmNhbGwodCwwLGkpKSksZS5wdXNoKG4pKTtyZXR1cm4gZXx8dH1mdW5jdGlvbiBhdCgpe3JldHVybiBPYmplY3QuY3JlYXRlKG51bGwpfWZ1bmN0aW9uIHN0KHQpe2Z1bmN0aW9uIG4odCxlLG4pe3JldHVybiB0W2VdfHwodFtlXT1uKCkpfXZhciByPWUoXCIkaW5qZWN0b3JcIiksaT1lKFwibmdcIik7cmV0dXJuIHQ9bih0LFwiYW5ndWxhclwiLE9iamVjdCksdC4kJG1pbkVycj10LiQkbWluRXJyfHxlLG4odCxcIm1vZHVsZVwiLGZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIGZ1bmN0aW9uKGUsbyxhKXtpZihcImhhc093blByb3BlcnR5XCI9PT1lKXRocm93IGkoXCJiYWRuYW1lXCIsXCJtb2R1bGVcIik7cmV0dXJuIG8mJnQuaGFzT3duUHJvcGVydHkoZSkmJih0W2VdPW51bGwpLG4odCxlLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyKXtyZXR1cm4gcnx8KHI9aSksZnVuY3Rpb24oKXtyZXR1cm4gcltufHxcInB1c2hcIl0oW3QsZSxhcmd1bWVudHNdKSxsfX1mdW5jdGlvbiBuKHQsbil7cmV0dXJuIGZ1bmN0aW9uKHIsbyl7cmV0dXJuIG8mJlMobykmJihvLiQkbW9kdWxlTmFtZT1lKSxpLnB1c2goW3Qsbixhcmd1bWVudHNdKSxsfX1pZighbyl0aHJvdyByKFwibm9tb2RcIixlKTt2YXIgaT1bXSxzPVtdLHU9W10sYz10KFwiJGluamVjdG9yXCIsXCJpbnZva2VcIixcInB1c2hcIixzKSxsPXtfaW52b2tlUXVldWU6aSxfY29uZmlnQmxvY2tzOnMsX3J1bkJsb2Nrczp1LHJlcXVpcmVzOm8sbmFtZTplLHByb3ZpZGVyOm4oXCIkcHJvdmlkZVwiLFwicHJvdmlkZXJcIiksZmFjdG9yeTpuKFwiJHByb3ZpZGVcIixcImZhY3RvcnlcIiksc2VydmljZTpuKFwiJHByb3ZpZGVcIixcInNlcnZpY2VcIiksdmFsdWU6dChcIiRwcm92aWRlXCIsXCJ2YWx1ZVwiKSxjb25zdGFudDp0KFwiJHByb3ZpZGVcIixcImNvbnN0YW50XCIsXCJ1bnNoaWZ0XCIpLGRlY29yYXRvcjpuKFwiJHByb3ZpZGVcIixcImRlY29yYXRvclwiKSxhbmltYXRpb246bihcIiRhbmltYXRlUHJvdmlkZXJcIixcInJlZ2lzdGVyXCIpLGZpbHRlcjpuKFwiJGZpbHRlclByb3ZpZGVyXCIsXCJyZWdpc3RlclwiKSxjb250cm9sbGVyOm4oXCIkY29udHJvbGxlclByb3ZpZGVyXCIsXCJyZWdpc3RlclwiKSxkaXJlY3RpdmU6bihcIiRjb21waWxlUHJvdmlkZXJcIixcImRpcmVjdGl2ZVwiKSxjb21wb25lbnQ6bihcIiRjb21waWxlUHJvdmlkZXJcIixcImNvbXBvbmVudFwiKSxjb25maWc6YyxydW46ZnVuY3Rpb24odCl7cmV0dXJuIHUucHVzaCh0KSx0aGlzfX07cmV0dXJuIGEmJmMoYSksbH0pfX0pfWZ1bmN0aW9uIHV0KHQsZSl7aWYoYXIodCkpe2U9ZXx8W107Zm9yKHZhciBuPTAscj10Lmxlbmd0aDtuPHI7bisrKWVbbl09dFtuXX1lbHNlIGlmKGcodCkpZm9yKG4gaW4gZT1lfHx7fSx0KVwiJFwiPT09bi5jaGFyQXQoMCkmJlwiJFwiPT09bi5jaGFyQXQoMSl8fChlW25dPXRbbl0pO3JldHVybiBlfHx0fWZ1bmN0aW9uIGN0KG4pe3Uobix7Ym9vdHN0cmFwOkssY29weTpqLGV4dGVuZDp1LG1lcmdlOmMsZXF1YWxzOkksZWxlbWVudDp6bixmb3JFYWNoOnIsaW5qZWN0b3I6VXQsbm9vcDpoLGJpbmQ6UCx0b0pzb246Rixmcm9tSnNvbjpVLGlkZW50aXR5OnAsaXNVbmRlZmluZWQ6bSxpc0RlZmluZWQ6dixpc1N0cmluZzpiLGlzRnVuY3Rpb246Uyxpc09iamVjdDpnLGlzTnVtYmVyOncsaXNFbGVtZW50Ok0saXNBcnJheTphcix2ZXJzaW9uOnZyLGlzRGF0ZTp4LGxvd2VyY2FzZTpLbix1cHBlcmNhc2U6WW4sY2FsbGJhY2tzOntjb3VudGVyOjB9LGdldFRlc3RhYmlsaXR5OlgsJCRtaW5FcnI6ZSwkJGNzcDpscixyZWxvYWRXaXRoRGVidWdJbmZvOll9KSwoR249c3QodCkpKFwibmdcIixbXCJuZ0xvY2FsZVwiXSxbXCIkcHJvdmlkZVwiLGZ1bmN0aW9uKHQpe3QucHJvdmlkZXIoeyQkc2FuaXRpemVVcmk6WWV9KSx0LnByb3ZpZGVyKFwiJGNvbXBpbGVcIixadCkuZGlyZWN0aXZlKHthOkRpLGlucHV0OlhpLHRleHRhcmVhOlhpLGZvcm06VWksc2NyaXB0OkxvLHNlbGVjdDp6byxzdHlsZTpHbyxvcHRpb246V28sbmdCaW5kOmVvLG5nQmluZEh0bWw6cm8sbmdCaW5kVGVtcGxhdGU6bm8sbmdDbGFzczpvbyxuZ0NsYXNzRXZlbjpzbyxuZ0NsYXNzT2RkOmFvLG5nQ2xvYWs6dW8sbmdDb250cm9sbGVyOmNvLG5nRm9ybTpfaSxuZ0hpZGU6RG8sbmdJZjpobyxuZ0luY2x1ZGU6cG8sbmdJbml0Om1vLG5nTm9uQmluZGFibGU6T28sbmdQbHVyYWxpemU6Vm8sbmdSZXBlYXQ6am8sbmdTaG93OklvLG5nU3R5bGU6UG8sbmdTd2l0Y2g6Um8sbmdTd2l0Y2hXaGVuOkZvLG5nU3dpdGNoRGVmYXVsdDpVbyxuZ09wdGlvbnM6VG8sbmdUcmFuc2NsdWRlOnFvLG5nTW9kZWw6RW8sbmdMaXN0OnZvLG5nQ2hhbmdlOmlvLHBhdHRlcm46Sm8sbmdQYXR0ZXJuOkpvLHJlcXVpcmVkOlpvLG5nUmVxdWlyZWQ6Wm8sbWlubGVuZ3RoOllvLG5nTWlubGVuZ3RoOllvLG1heGxlbmd0aDpLbyxuZ01heGxlbmd0aDpLbyxuZ1ZhbHVlOnRvLG5nTW9kZWxPcHRpb25zOmtvfSkuZGlyZWN0aXZlKHtuZ0luY2x1ZGU6JG99KS5kaXJlY3RpdmUoUGkpLmRpcmVjdGl2ZShsbyksdC5wcm92aWRlcih7JGFuY2hvclNjcm9sbDpfdCwkYW5pbWF0ZTpIciwkYW5pbWF0ZUNzczpHciwkJGFuaW1hdGVKczpMciwkJGFuaW1hdGVRdWV1ZTpCciwkJEFuaW1hdGVSdW5uZXI6V3IsJCRhbmltYXRlQXN5bmNSdW46enIsJGJyb3dzZXI6enQsJGNhY2hlRmFjdG9yeTpXdCwkY29udHJvbGxlcjp0ZSwkZG9jdW1lbnQ6ZWUsJGV4Y2VwdGlvbkhhbmRsZXI6bmUsJGZpbHRlcjpobiwkJGZvcmNlUmVmbG93OlFyLCRpbnRlcnBvbGF0ZTpkZSwkaW50ZXJ2YWw6JGUsJGh0dHA6bGUsJGh0dHBQYXJhbVNlcmlhbGl6ZXI6aWUsJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2U6b2UsJGh0dHBCYWNrZW5kOmhlLCR4aHJGYWN0b3J5OmZlLCRsb2NhdGlvbjprZSwkbG9nOk9lLCRwYXJzZTp6ZSwkcm9vdFNjb3BlOktlLCRxOldlLCQkcTpHZSwkc2NlOmVuLCRzY2VEZWxlZ2F0ZTp0biwkc25pZmZlcjpubiwkdGVtcGxhdGVDYWNoZTpHdCwkdGVtcGxhdGVSZXF1ZXN0OnJuLCQkdGVzdGFiaWxpdHk6b24sJHRpbWVvdXQ6YW4sJHdpbmRvdzpjbiwkJHJBRjpKZSwkJGpxTGl0ZTpJdCwkJEhhc2hNYXA6SXIsJCRjb29raWVSZWFkZXI6Zm59KX1dKX1mdW5jdGlvbiBsdCh0KXtyZXR1cm4gdC5yZXBsYWNlKGJyLGZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiByP24udG9VcHBlckNhc2UoKTpufSkucmVwbGFjZSh3cixcIk1veiQxXCIpfWZ1bmN0aW9uIGZ0KHQpe3JldHVybiB0PXQubm9kZVR5cGUsMT09PXR8fCF0fHw5PT09dH1mdW5jdGlvbiBodCh0LGUpe3ZhciBuLGksbz1lLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxhPVtdO2lmKEVyLnRlc3QodCkpe2ZvcihuPW58fG8uYXBwZW5kQ2hpbGQoZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxpPShBci5leGVjKHQpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKSxpPU9yW2ldfHxPci5fZGVmYXVsdCxuLmlubmVySFRNTD1pWzFdK3QucmVwbGFjZShrcixcIjwkMT48LyQyPlwiKStpWzJdLGk9aVswXTtpLS07KW49bi5sYXN0Q2hpbGQ7YT1EKGEsbi5jaGlsZE5vZGVzKSxuPW8uZmlyc3RDaGlsZCxuLnRleHRDb250ZW50PVwiXCJ9ZWxzZSBhLnB1c2goZS5jcmVhdGVUZXh0Tm9kZSh0KSk7cmV0dXJuIG8udGV4dENvbnRlbnQ9XCJcIixvLmlubmVySFRNTD1cIlwiLHIoYSxmdW5jdGlvbih0KXtvLmFwcGVuZENoaWxkKHQpfSksb31mdW5jdGlvbiBwdCh0LGUpe3ZhciBuPXQucGFyZW50Tm9kZTtuJiZuLnJlcGxhY2VDaGlsZChlLHQpLGUuYXBwZW5kQ2hpbGQodCl9ZnVuY3Rpb24gZHQoZSl7aWYoZSBpbnN0YW5jZW9mIGR0KXJldHVybiBlO3ZhciBuO2lmKGIoZSkmJihlPXVyKGUpLG49ITApLCEodGhpcyBpbnN0YW5jZW9mIGR0KSl7aWYobiYmXCI8XCIhPWUuY2hhckF0KDApKXRocm93IFNyKFwibm9zZWxcIik7cmV0dXJuIG5ldyBkdChlKX1pZihuKXtuPXQuZG9jdW1lbnQ7dmFyIHI7ZT0ocj1Dci5leGVjKGUpKT9bbi5jcmVhdGVFbGVtZW50KHJbMV0pXToocj1odChlLG4pKT9yLmNoaWxkTm9kZXM6W119Q3QodGhpcyxlKX1mdW5jdGlvbiAkdCh0KXtyZXR1cm4gdC5jbG9uZU5vZGUoITApfWZ1bmN0aW9uIG10KHQsZSl7aWYoZXx8Z3QodCksdC5xdWVyeVNlbGVjdG9yQWxsKWZvcih2YXIgbj10LnF1ZXJ5U2VsZWN0b3JBbGwoXCIqXCIpLHI9MCxpPW4ubGVuZ3RoO3I8aTtyKyspZ3QobltyXSl9ZnVuY3Rpb24gdnQodCxlLG4saSl7aWYodihpKSl0aHJvdyBTcihcIm9mZmFyZ3NcIik7dmFyIG89KGk9eXQodCkpJiZpLmV2ZW50cyxhPWkmJmkuaGFuZGxlO2lmKGEpaWYoZSl7dmFyIHM9ZnVuY3Rpb24oZSl7dmFyIHI9b1tlXTt2KG4pJiZWKHJ8fFtdLG4pLHYobikmJnImJjA8ci5sZW5ndGh8fCh0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxhLCExKSxkZWxldGUgb1tlXSl9O3IoZS5zcGxpdChcIiBcIiksZnVuY3Rpb24odCl7cyh0KSx4clt0XSYmcyh4clt0XSl9KX1lbHNlIGZvcihlIGluIG8pXCIkZGVzdHJveVwiIT09ZSYmdC5yZW1vdmVFdmVudExpc3RlbmVyKGUsYSwhMSksZGVsZXRlIG9bZV19ZnVuY3Rpb24gZ3QodCxlKXt2YXIgbj10Lm5nMzM5LHI9biYmZ3Jbbl07ciYmKGU/ZGVsZXRlIHIuZGF0YVtlXTooci5oYW5kbGUmJihyLmV2ZW50cy4kZGVzdHJveSYmci5oYW5kbGUoe30sXCIkZGVzdHJveVwiKSx2dCh0KSksZGVsZXRlIGdyW25dLHQubmczMzk9dm9pZCAwKSl9ZnVuY3Rpb24geXQodCxlKXt2YXIgbj10Lm5nMzM5LG49biYmZ3Jbbl07cmV0dXJuIGUmJiFuJiYodC5uZzMzOT1uPSsreXIsbj1ncltuXT17ZXZlbnRzOnt9LGRhdGE6e30saGFuZGxlOnZvaWQgMH0pLG59ZnVuY3Rpb24gYnQodCxlLG4pe2lmKGZ0KHQpKXt2YXIgcj12KG4pLGk9IXImJmUmJiFnKGUpLG89IWU7aWYodD0odD15dCh0LCFpKSkmJnQuZGF0YSxyKXRbZV09bjtlbHNle2lmKG8pcmV0dXJuIHQ7aWYoaSlyZXR1cm4gdCYmdFtlXTt1KHQsZSl9fX1mdW5jdGlvbiB3dCh0LGUpe3JldHVybiEhdC5nZXRBdHRyaWJ1dGUmJi0xPChcIiBcIisodC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIikrXCIgXCIpLnJlcGxhY2UoL1tcXG5cXHRdL2csXCIgXCIpLmluZGV4T2YoXCIgXCIrZStcIiBcIil9ZnVuY3Rpb24geHQodCxlKXtlJiZ0LnNldEF0dHJpYnV0ZSYmcihlLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihlKXt0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsdXIoKFwiIFwiKyh0LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKStcIiBcIikucmVwbGFjZSgvW1xcblxcdF0vZyxcIiBcIikucmVwbGFjZShcIiBcIit1cihlKStcIiBcIixcIiBcIikpKX0pfWZ1bmN0aW9uIFN0KHQsZSl7aWYoZSYmdC5zZXRBdHRyaWJ1dGUpe3ZhciBuPShcIiBcIisodC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIikrXCIgXCIpLnJlcGxhY2UoL1tcXG5cXHRdL2csXCIgXCIpO3IoZS5zcGxpdChcIiBcIiksZnVuY3Rpb24odCl7dD11cih0KSwtMT09PW4uaW5kZXhPZihcIiBcIit0K1wiIFwiKSYmKG4rPXQrXCIgXCIpfSksdC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLHVyKG4pKX19ZnVuY3Rpb24gQ3QodCxlKXtpZihlKWlmKGUubm9kZVR5cGUpdFt0Lmxlbmd0aCsrXT1lO2Vsc2V7dmFyIG49ZS5sZW5ndGg7aWYoXCJudW1iZXJcIj09dHlwZW9mIG4mJmUud2luZG93IT09ZSl7aWYobilmb3IodmFyIHI9MDtyPG47cisrKXRbdC5sZW5ndGgrK109ZVtyXX1lbHNlIHRbdC5sZW5ndGgrK109ZX19ZnVuY3Rpb24gRXQodCxlKXtyZXR1cm4gQXQodCxcIiRcIisoZXx8XCJuZ0NvbnRyb2xsZXJcIikrXCJDb250cm9sbGVyXCIpfWZ1bmN0aW9uIEF0KHQsZSxuKXtmb3IoOT09dC5ub2RlVHlwZSYmKHQ9dC5kb2N1bWVudEVsZW1lbnQpLGU9YXIoZSk/ZTpbZV07dDspe2Zvcih2YXIgcj0wLGk9ZS5sZW5ndGg7cjxpO3IrKylpZih2KG49em4uZGF0YSh0LGVbcl0pKSlyZXR1cm4gbjt0PXQucGFyZW50Tm9kZXx8MTE9PT10Lm5vZGVUeXBlJiZ0Lmhvc3R9fWZ1bmN0aW9uIGt0KHQpe2ZvcihtdCh0LCEwKTt0LmZpcnN0Q2hpbGQ7KXQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKX1mdW5jdGlvbiBPdCh0LGUpe2V8fG10KHQpO3ZhciBuPXQucGFyZW50Tm9kZTtuJiZuLnJlbW92ZUNoaWxkKHQpfWZ1bmN0aW9uIE10KGUsbil7bj1ufHx0LFwiY29tcGxldGVcIj09PW4uZG9jdW1lbnQucmVhZHlTdGF0ZT9uLnNldFRpbWVvdXQoZSk6em4obikub24oXCJsb2FkXCIsZSl9ZnVuY3Rpb24gTnQodCxlKXt2YXIgbj1UcltlLnRvTG93ZXJDYXNlKCldO3JldHVybiBuJiZWcltUKHQpXSYmbn1mdW5jdGlvbiBUdCh0LGUpe3ZhciBuPWZ1bmN0aW9uKG4scil7bi5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbi5kZWZhdWx0UHJldmVudGVkfTt2YXIgaT1lW3J8fG4udHlwZV0sbz1pP2kubGVuZ3RoOjA7aWYobyl7aWYobShuLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCkpe3ZhciBhPW4uc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO24uc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7bi5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9ITAsbi5zdG9wUHJvcGFnYXRpb24mJm4uc3RvcFByb3BhZ2F0aW9uKCksYSYmYS5jYWxsKG4pfX1uLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPWZ1bmN0aW9uKCl7cmV0dXJuITA9PT1uLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZH07dmFyIHM9aS5zcGVjaWFsSGFuZGxlcldyYXBwZXJ8fFZ0OzE8byYmKGk9dXQoaSkpO2Zvcih2YXIgdT0wO3U8bzt1Kyspbi5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpfHxzKHQsbixpW3VdKX19O3JldHVybiBuLmVsZW09dCxufWZ1bmN0aW9uIFZ0KHQsZSxuKXtuLmNhbGwodCxlKX1mdW5jdGlvbiBqdCh0LGUsbil7dmFyIHI9ZS5yZWxhdGVkVGFyZ2V0O3ImJihyPT09dHx8TXIuY2FsbCh0LHIpKXx8bi5jYWxsKHQsZSl9ZnVuY3Rpb24gSXQoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdShkdCx7aGFzQ2xhc3M6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5hdHRyJiYodD10WzBdKSx3dCh0LGUpfSxhZGRDbGFzczpmdW5jdGlvbih0LGUpe3JldHVybiB0LmF0dHImJih0PXRbMF0pLFN0KHQsZSl9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuYXR0ciYmKHQ9dFswXSkseHQodCxlKX19KX19ZnVuY3Rpb24gRHQodCxlKXt2YXIgbj10JiZ0LiQkaGFzaEtleTtyZXR1cm4gbj8oXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmKG49dC4kJGhhc2hLZXkoKSksbik6KG49dHlwZW9mIHQsbj1cImZ1bmN0aW9uXCI9PW58fFwib2JqZWN0XCI9PW4mJm51bGwhPT10P3QuJCRoYXNoS2V5PW4rXCI6XCIrKGV8fGEpKCk6bitcIjpcIit0KX1mdW5jdGlvbiBQdCh0LGUpe2lmKGUpe3ZhciBuPTA7dGhpcy5uZXh0VWlkPWZ1bmN0aW9uKCl7cmV0dXJuKytufX1yKHQsdGhpcy5wdXQsdGhpcyl9ZnVuY3Rpb24gUnQodCl7cmV0dXJuIHQ9KEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpK1wiIFwiKS5yZXBsYWNlKFVyLFwiXCIpLHQubWF0Y2goRHIpfHx0Lm1hdGNoKFByKX1mdW5jdGlvbiBGdCh0KXtyZXR1cm4odD1SdCh0KSk/XCJmdW5jdGlvbihcIisodFsxXXx8XCJcIikucmVwbGFjZSgvW1xcc1xcclxcbl0rLyxcIiBcIikrXCIpXCI6XCJmblwifWZ1bmN0aW9uIFV0KHQsZSl7ZnVuY3Rpb24gbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gZyhlKT92b2lkIHIoZSxvKHQpKTp0KGUsbil9fWZ1bmN0aW9uIGkodCxlKXtpZihydCh0LFwic2VydmljZVwiKSwoUyhlKXx8YXIoZSkpJiYoZT0kLmluc3RhbnRpYXRlKGUpKSwhZS4kZ2V0KXRocm93IF9yKFwicGdldFwiLHQpO3JldHVybiBwW3QrXCJQcm92aWRlclwiXT1lfWZ1bmN0aW9uIGEodCxlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj13Lmludm9rZShlLHRoaXMpO2lmKG0obikpdGhyb3cgX3IoXCJ1bmRlZlwiLHQpO3JldHVybiBufX1mdW5jdGlvbiBzKHQsZSxuKXtyZXR1cm4gaSh0LHskZ2V0OiExIT09bj9hKHQsZSk6ZX0pfWZ1bmN0aW9uIHUodCl7ZXQobSh0KXx8YXIodCksXCJtb2R1bGVzVG9Mb2FkXCIsXCJub3QgYW4gYXJyYXlcIik7dmFyIGUsbj1bXTtyZXR1cm4gcih0LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIodCl7dmFyIGUsbjtmb3IoZT0wLG49dC5sZW5ndGg7ZTxuO2UrKyl7dmFyIHI9dFtlXSxpPSQuZ2V0KHJbMF0pO2lbclsxXV0uYXBwbHkoaSxyWzJdKX19aWYoIWguZ2V0KHQpKXtoLnB1dCh0LCEwKTt0cnl7Yih0KT8oZT1Hbih0KSxuPW4uY29uY2F0KHUoZS5yZXF1aXJlcykpLmNvbmNhdChlLl9ydW5CbG9ja3MpLHIoZS5faW52b2tlUXVldWUpLHIoZS5fY29uZmlnQmxvY2tzKSk6Uyh0KT9uLnB1c2goJC5pbnZva2UodCkpOmFyKHQpP24ucHVzaCgkLmludm9rZSh0KSk6bnQodCxcIm1vZHVsZVwiKX1jYXRjaChlKXt0aHJvdyBhcih0KSYmKHQ9dFt0Lmxlbmd0aC0xXSksZS5tZXNzYWdlJiZlLnN0YWNrJiYtMT09ZS5zdGFjay5pbmRleE9mKGUubWVzc2FnZSkmJihlPWUubWVzc2FnZStcIlxcblwiK2Uuc3RhY2spLF9yKFwibW9kdWxlcnJcIix0LGUuc3RhY2t8fGUubWVzc2FnZXx8ZSl9fX0pLG59ZnVuY3Rpb24gYyh0LG4pe2Z1bmN0aW9uIHIoZSxyKXtpZih0Lmhhc093blByb3BlcnR5KGUpKXtpZih0W2VdPT09bCl0aHJvdyBfcihcImNkZXBcIixlK1wiIDwtIFwiK2Yuam9pbihcIiA8LSBcIikpO3JldHVybiB0W2VdfXRyeXtyZXR1cm4gZi51bnNoaWZ0KGUpLHRbZV09bCx0W2VdPW4oZSxyKX1jYXRjaChuKXt0aHJvdyB0W2VdPT09bCYmZGVsZXRlIHRbZV0sbn1maW5hbGx5e2Yuc2hpZnQoKX19ZnVuY3Rpb24gaSh0LG4saSl7dmFyIG89W107dD1VdC4kJGFubm90YXRlKHQsZSxpKTtmb3IodmFyIGE9MCxzPXQubGVuZ3RoO2E8czthKyspe3ZhciB1PXRbYV07aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHUpdGhyb3cgX3IoXCJpdGtuXCIsdSk7by5wdXNoKG4mJm4uaGFzT3duUHJvcGVydHkodSk/blt1XTpyKHUsaSkpfXJldHVybiBvfXJldHVybntpbnZva2U6ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIG4mJihyPW4sbj1udWxsKSxuPWkodCxuLHIpLGFyKHQpJiYodD10W3QubGVuZ3RoLTFdKSxyPSEoMTE+PUhuKSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJi9eKD86Y2xhc3NcXHN8Y29uc3RydWN0b3JcXCgpLy50ZXN0KEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpK1wiIFwiKSkscj8obi51bnNoaWZ0KG51bGwpLG5ldyhGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSh0LG4pKSk6dC5hcHBseShlLG4pfSxpbnN0YW50aWF0ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9YXIodCk/dFt0Lmxlbmd0aC0xXTp0O3JldHVybiB0PWkodCxlLG4pLHQudW5zaGlmdChudWxsKSxuZXcoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkocix0KSl9LGdldDpyLGFubm90YXRlOlV0LiQkYW5ub3RhdGUsaGFzOmZ1bmN0aW9uKGUpe3JldHVybiBwLmhhc093blByb3BlcnR5KGUrXCJQcm92aWRlclwiKXx8dC5oYXNPd25Qcm9wZXJ0eShlKX19fWU9ITA9PT1lO3ZhciBsPXt9LGY9W10saD1uZXcgUHQoW10sKCEwKSkscD17JHByb3ZpZGU6e3Byb3ZpZGVyOm4oaSksZmFjdG9yeTpuKHMpLHNlcnZpY2U6bihmdW5jdGlvbih0LGUpe3JldHVybiBzKHQsW1wiJGluamVjdG9yXCIsZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5zdGFudGlhdGUoZSl9XSl9KSx2YWx1ZTpuKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHModCxkKGUpLCExKX0pLGNvbnN0YW50Om4oZnVuY3Rpb24odCxlKXtydCh0LFwiY29uc3RhbnRcIikscFt0XT1lLHZbdF09ZX0pLGRlY29yYXRvcjpmdW5jdGlvbih0LGUpe3ZhciBuPSQuZ2V0KHQrXCJQcm92aWRlclwiKSxyPW4uJGdldDtuLiRnZXQ9ZnVuY3Rpb24oKXt2YXIgdD13Lmludm9rZShyLG4pO3JldHVybiB3Lmludm9rZShlLG51bGwseyRkZWxlZ2F0ZTp0fSl9fX19LCQ9cC4kaW5qZWN0b3I9YyhwLGZ1bmN0aW9uKHQsZSl7dGhyb3cgaXIuaXNTdHJpbmcoZSkmJmYucHVzaChlKSxfcihcInVucHJcIixmLmpvaW4oXCIgPC0gXCIpKX0pLHY9e30seT1jKHYsZnVuY3Rpb24odCxlKXt2YXIgbj0kLmdldCh0K1wiUHJvdmlkZXJcIixlKTtyZXR1cm4gdy5pbnZva2Uobi4kZ2V0LG4sdm9pZCAwLHQpfSksdz15O3AuJGluamVjdG9yUHJvdmlkZXI9eyRnZXQ6ZCh5KX07dmFyIHg9dSh0KSx3PXkuZ2V0KFwiJGluamVjdG9yXCIpO3JldHVybiB3LnN0cmljdERpPWUscih4LGZ1bmN0aW9uKHQpe3QmJncuaW52b2tlKHQpfSksd31mdW5jdGlvbiBfdCgpe3ZhciB0PSEwO3RoaXMuZGlzYWJsZUF1dG9TY3JvbGxpbmc9ZnVuY3Rpb24oKXt0PSExfSx0aGlzLiRnZXQ9W1wiJHdpbmRvd1wiLFwiJGxvY2F0aW9uXCIsXCIkcm9vdFNjb3BlXCIsZnVuY3Rpb24oZSxuLHIpe2Z1bmN0aW9uIGkodCl7dmFyIGU9bnVsbDtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNvbWUuY2FsbCh0LGZ1bmN0aW9uKHQpe2lmKFwiYVwiPT09VCh0KSlyZXR1cm4gZT10LCEwfSksZX1mdW5jdGlvbiBvKHQpe2lmKHQpe3Quc2Nyb2xsSW50b1ZpZXcoKTt2YXIgbjtuPWEueU9mZnNldCxTKG4pP249bigpOk0obik/KG49blswXSxuPVwiZml4ZWRcIiE9PWUuZ2V0Q29tcHV0ZWRTdHlsZShuKS5wb3NpdGlvbj8wOm4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tKTp3KG4pfHwobj0wKSxuJiYodD10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCxlLnNjcm9sbEJ5KDAsdC1uKSl9ZWxzZSBlLnNjcm9sbFRvKDAsMCl9ZnVuY3Rpb24gYSh0KXt0PWIodCk/dDpuLmhhc2goKTt2YXIgZTt0PyhlPXMuZ2V0RWxlbWVudEJ5SWQodCkpP28oZSk6KGU9aShzLmdldEVsZW1lbnRzQnlOYW1lKHQpKSk/byhlKTpcInRvcFwiPT09dCYmbyhudWxsKTpvKG51bGwpfXZhciBzPWUuZG9jdW1lbnQ7cmV0dXJuIHQmJnIuJHdhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIG4uaGFzaCgpfSxmdW5jdGlvbih0LGUpe3Q9PT1lJiZcIlwiPT09dHx8TXQoZnVuY3Rpb24oKXtyLiRldmFsQXN5bmMoYSl9KX0pLGF9XX1mdW5jdGlvbiBxdCh0LGUpe3JldHVybiB0fHxlP3Q/ZT8oYXIodCkmJih0PXQuam9pbihcIiBcIikpLGFyKGUpJiYoZT1lLmpvaW4oXCIgXCIpKSx0K1wiIFwiK2UpOnQ6ZTpcIlwifWZ1bmN0aW9uIEx0KHQpe2IodCkmJih0PXQuc3BsaXQoXCIgXCIpKTt2YXIgZT1hdCgpO3JldHVybiByKHQsZnVuY3Rpb24odCl7dC5sZW5ndGgmJihlW3RdPSEwKX0pLGV9ZnVuY3Rpb24gQnQodCl7cmV0dXJuIGcodCk/dDp7fX1mdW5jdGlvbiBIdCh0LGUsbixpKXtmdW5jdGlvbiBvKHQpe3RyeXt0LmFwcGx5KG51bGwsWG4uY2FsbChhcmd1bWVudHMsMSkpfWZpbmFsbHl7aWYodi0tLDA9PT12KWZvcig7Zy5sZW5ndGg7KXRyeXtnLnBvcCgpKCl9Y2F0Y2godCl7bi5lcnJvcih0KX19fWZ1bmN0aW9uIGEoKXtTPW51bGwscygpLHUoKX1mdW5jdGlvbiBzKCl7eT1DKCkseT1tKHkpP251bGw6eSxJKHksaykmJih5PWspLGs9eX1mdW5jdGlvbiB1KCl7dz09PWMudXJsKCkmJmI9PT15fHwodz1jLnVybCgpLGI9eSxyKEUsZnVuY3Rpb24odCl7dChjLnVybCgpLHkpfSkpfXZhciBjPXRoaXMsbD10LmxvY2F0aW9uLGY9dC5oaXN0b3J5LHA9dC5zZXRUaW1lb3V0LGQ9dC5jbGVhclRpbWVvdXQsJD17fTtjLmlzTW9jaz0hMTt2YXIgdj0wLGc9W107Yy4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0PW8sYy4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50PWZ1bmN0aW9uKCl7disrfSxjLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHM9ZnVuY3Rpb24odCl7MD09PXY/dCgpOmcucHVzaCh0KX07dmFyIHksYix3PWwuaHJlZix4PWUuZmluZChcImJhc2VcIiksUz1udWxsLEM9aS5oaXN0b3J5P2Z1bmN0aW9uKCl7dHJ5e3JldHVybiBmLnN0YXRlfWNhdGNoKHQpe319Omg7cygpLGI9eSxjLnVybD1mdW5jdGlvbihlLG4scil7aWYobShyKSYmKHI9bnVsbCksbCE9PXQubG9jYXRpb24mJihsPXQubG9jYXRpb24pLGYhPT10Lmhpc3RvcnkmJihmPXQuaGlzdG9yeSksZSl7dmFyIG89Yj09PXI7aWYodz09PWUmJighaS5oaXN0b3J5fHxvKSlyZXR1cm4gYzt2YXIgYT13JiZiZSh3KT09PWJlKGUpO3JldHVybiB3PWUsYj1yLCFpLmhpc3Rvcnl8fGEmJm8/KGF8fChTPWUpLG4/bC5yZXBsYWNlKGUpOmE/KG49bCxyPWUuaW5kZXhPZihcIiNcIikscj0tMT09PXI/XCJcIjplLnN1YnN0cihyKSxuLmhhc2g9cik6bC5ocmVmPWUsbC5ocmVmIT09ZSYmKFM9ZSkpOihmW24/XCJyZXBsYWNlU3RhdGVcIjpcInB1c2hTdGF0ZVwiXShyLFwiXCIsZSkscygpLGI9eSksUyYmKFM9ZSksY31yZXR1cm4gU3x8bC5ocmVmLnJlcGxhY2UoLyUyNy9nLFwiJ1wiKX0sYy5zdGF0ZT1mdW5jdGlvbigpe3JldHVybiB5fTt2YXIgRT1bXSxBPSExLGs9bnVsbDtjLm9uVXJsQ2hhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiBBfHwoaS5oaXN0b3J5JiZ6bih0KS5vbihcInBvcHN0YXRlXCIsYSksem4odCkub24oXCJoYXNoY2hhbmdlXCIsYSksQT0hMCksRS5wdXNoKGUpLGV9LGMuJCRhcHBsaWNhdGlvbkRlc3Ryb3llZD1mdW5jdGlvbigpe3puKHQpLm9mZihcImhhc2hjaGFuZ2UgcG9wc3RhdGVcIixhKX0sYy4kJGNoZWNrVXJsQ2hhbmdlPXUsYy5iYXNlSHJlZj1mdW5jdGlvbigpe3ZhciB0PXguYXR0cihcImhyZWZcIik7cmV0dXJuIHQ/dC5yZXBsYWNlKC9eKGh0dHBzP1xcOik/XFwvXFwvW15cXC9dKi8sXCJcIik6XCJcIn0sYy5kZWZlcj1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiB2Kyssbj1wKGZ1bmN0aW9uKCl7ZGVsZXRlICRbbl0sbyh0KX0sZXx8MCksJFtuXT0hMCxufSxjLmRlZmVyLmNhbmNlbD1mdW5jdGlvbih0KXtyZXR1cm4hISRbdF0mJihkZWxldGUgJFt0XSxkKHQpLG8oaCksITApfX1mdW5jdGlvbiB6dCgpe3RoaXMuJGdldD1bXCIkd2luZG93XCIsXCIkbG9nXCIsXCIkc25pZmZlclwiLFwiJGRvY3VtZW50XCIsZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG5ldyBIdCh0LHIsZSxuKX1dfWZ1bmN0aW9uIFd0KCl7dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LHIpe2Z1bmN0aW9uIGkodCl7dCE9aCYmKHA/cD09dCYmKHA9dC5uKTpwPXQsbyh0Lm4sdC5wKSxvKHQsaCksaD10LGgubj1udWxsKX1mdW5jdGlvbiBvKHQsZSl7dCE9ZSYmKHQmJih0LnA9ZSksZSYmKGUubj10KSl9aWYodCBpbiBuKXRocm93IGUoXCIkY2FjaGVGYWN0b3J5XCIpKFwiaWlkXCIsdCk7dmFyIGE9MCxzPXUoe30scix7aWQ6dH0pLGM9YXQoKSxsPXImJnIuY2FwYWNpdHl8fE51bWJlci5NQVhfVkFMVUUsZj1hdCgpLGg9bnVsbCxwPW51bGw7cmV0dXJuIG5bdF09e3B1dDpmdW5jdGlvbih0LGUpe2lmKCFtKGUpKXtpZihsPE51bWJlci5NQVhfVkFMVUUpe3ZhciBuPWZbdF18fChmW3RdPXtrZXk6dH0pO2kobil9cmV0dXJuIHQgaW4gY3x8YSsrLGNbdF09ZSxhPmwmJnRoaXMucmVtb3ZlKHAua2V5KSxlfX0sZ2V0OmZ1bmN0aW9uKHQpe2lmKGw8TnVtYmVyLk1BWF9WQUxVRSl7dmFyIGU9Zlt0XTtpZighZSlyZXR1cm47aShlKX1yZXR1cm4gY1t0XX0scmVtb3ZlOmZ1bmN0aW9uKHQpe2lmKGw8TnVtYmVyLk1BWF9WQUxVRSl7dmFyIGU9Zlt0XTtpZighZSlyZXR1cm47ZT09aCYmKGg9ZS5wKSxlPT1wJiYocD1lLm4pLG8oZS5uLGUucCksZGVsZXRlIGZbdF19dCBpbiBjJiYoZGVsZXRlIGNbdF0sYS0tKX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7Yz1hdCgpLGE9MCxmPWF0KCksaD1wPW51bGx9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmPXM9Yz1udWxsLGRlbGV0ZSBuW3RdfSxpbmZvOmZ1bmN0aW9uKCl7cmV0dXJuIHUoe30scyx7c2l6ZTphfSl9fX12YXIgbj17fTtyZXR1cm4gdC5pbmZvPWZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIHIobixmdW5jdGlvbihlLG4pe3Rbbl09ZS5pbmZvKCl9KSx0fSx0LmdldD1mdW5jdGlvbih0KXtyZXR1cm4gblt0XX0sdH19ZnVuY3Rpb24gR3QoKXt0aGlzLiRnZXQ9W1wiJGNhY2hlRmFjdG9yeVwiLGZ1bmN0aW9uKHQpe3JldHVybiB0KFwidGVtcGxhdGVzXCIpfV19ZnVuY3Rpb24gWnQoZSxuKXtmdW5jdGlvbiBpKHQsZSxuKXt2YXIgaT0vXlxccyooW0AmPF18PShcXCo/KSkoXFw/PylcXHMqKFxcdyopXFxzKiQvLG89YXQoKTtyZXR1cm4gcih0LGZ1bmN0aW9uKHQscil7aWYodCBpbiBDKW9bcl09Q1t0XTtlbHNle3ZhciBhPXQubWF0Y2goaSk7aWYoIWEpdGhyb3cgWnIoXCJpc2NwXCIsZSxyLHQsbj9cImNvbnRyb2xsZXIgYmluZGluZ3MgZGVmaW5pdGlvblwiOlwiaXNvbGF0ZSBzY29wZSBkZWZpbml0aW9uXCIpO29bcl09e21vZGU6YVsxXVswXSxjb2xsZWN0aW9uOlwiKlwiPT09YVsyXSxvcHRpb25hbDpcIj9cIj09PWFbM10sYXR0ck5hbWU6YVs0XXx8cn0sYVs0XSYmKENbdF09b1tyXSl9fSksb31mdW5jdGlvbiBhKHQpe3ZhciBlPXQuY2hhckF0KDApO2lmKCFlfHxlIT09S24oZSkpdGhyb3cgWnIoXCJiYWRkaXJcIix0KTtpZih0IT09dC50cmltKCkpdGhyb3cgWnIoXCJiYWRkaXJcIix0KX1mdW5jdGlvbiBzKHQpe3ZhciBlPXQucmVxdWlyZXx8dC5jb250cm9sbGVyJiZ0Lm5hbWU7cmV0dXJuIWFyKGUpJiZnKGUpJiZyKGUsZnVuY3Rpb24odCxuKXt2YXIgcj10Lm1hdGNoKHcpO3Quc3Vic3RyaW5nKHJbMF0ubGVuZ3RoKXx8KGVbbl09clswXStuKX0pLGV9dmFyIGM9e30sbD0vXlxccypkaXJlY3RpdmVcXDpcXHMqKFtcXHdcXC1dKylcXHMrKC4qKSQvLCQ9LygoW1xcd1xcLV0rKSg/OlxcOihbXjtdKykpPzs/KS8seT1OKFwibmdTcmMsbmdTcmNzZXQsc3JjLHNyY3NldFwiKSx3PS9eKD86KFxcXlxcXj8pPyhcXD8pPyhcXF5cXF4/KT8pPy8seD0vXihvblthLXpdK3xmb3JtYWN0aW9uKSQvLEM9YXQoKTt0aGlzLmRpcmVjdGl2ZT1mdW5jdGlvbiB0KG4saSl7cmV0dXJuIHJ0KG4sXCJkaXJlY3RpdmVcIiksYihuKT8oYShuKSxldChpLFwiZGlyZWN0aXZlRmFjdG9yeVwiKSxjLmhhc093blByb3BlcnR5KG4pfHwoY1tuXT1bXSxlLmZhY3RvcnkobitcIkRpcmVjdGl2ZVwiLFtcIiRpbmplY3RvclwiLFwiJGV4Y2VwdGlvbkhhbmRsZXJcIixmdW5jdGlvbih0LGUpe3ZhciBpPVtdO3JldHVybiByKGNbbl0sZnVuY3Rpb24ocixvKXt0cnl7dmFyIGE9dC5pbnZva2Uocik7UyhhKT9hPXtjb21waWxlOmQoYSl9OiFhLmNvbXBpbGUmJmEubGluayYmKGEuY29tcGlsZT1kKGEubGluaykpLGEucHJpb3JpdHk9YS5wcmlvcml0eXx8MCxhLmluZGV4PW8sYS5uYW1lPWEubmFtZXx8bixhLnJlcXVpcmU9cyhhKSxhLnJlc3RyaWN0PWEucmVzdHJpY3R8fFwiRUFcIixhLiQkbW9kdWxlTmFtZT1yLiQkbW9kdWxlTmFtZSxpLnB1c2goYSl9Y2F0Y2godCl7ZSh0KX19KSxpfV0pKSxjW25dLnB1c2goaSkpOnIobixvKHQpKSx0aGlzfSx0aGlzLmNvbXBvbmVudD1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCl7ZnVuY3Rpb24gbihlKXtyZXR1cm4gUyhlKXx8YXIoZSk/ZnVuY3Rpb24obixyKXtyZXR1cm4gdC5pbnZva2UoZSx0aGlzLHskZWxlbWVudDpuLCRhdHRyczpyfSl9OmV9dmFyIG89ZS50ZW1wbGF0ZXx8ZS50ZW1wbGF0ZVVybD9lLnRlbXBsYXRlOlwiXCIsYT17Y29udHJvbGxlcjppLGNvbnRyb2xsZXJBczpRdChlLmNvbnRyb2xsZXIpfHxlLmNvbnRyb2xsZXJBc3x8XCIkY3RybFwiLHRlbXBsYXRlOm4obyksdGVtcGxhdGVVcmw6bihlLnRlbXBsYXRlVXJsKSx0cmFuc2NsdWRlOmUudHJhbnNjbHVkZSxzY29wZTp7fSxiaW5kVG9Db250cm9sbGVyOmUuYmluZGluZ3N8fHt9LHJlc3RyaWN0OlwiRVwiLHJlcXVpcmU6ZS5yZXF1aXJlfTtyZXR1cm4gcihlLGZ1bmN0aW9uKHQsZSl7XCIkXCI9PT1lLmNoYXJBdCgwKSYmKGFbZV09dCl9KSxhfXZhciBpPWUuY29udHJvbGxlcnx8ZnVuY3Rpb24oKXt9O3JldHVybiByKGUsZnVuY3Rpb24odCxlKXtcIiRcIj09PWUuY2hhckF0KDApJiYobltlXT10LFMoaSkmJihpW2VdPXQpKX0pLG4uJGluamVjdD1bXCIkaW5qZWN0b3JcIl0sdGhpcy5kaXJlY3RpdmUodCxuKX0sdGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbih0KXtyZXR1cm4gdih0KT8obi5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCh0KSx0aGlzKTpuLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0KCl9LHRoaXMuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0PWZ1bmN0aW9uKHQpe3JldHVybiB2KHQpPyhuLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCh0KSx0aGlzKTpuLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCgpfTt2YXIgRT0hMDt0aGlzLmRlYnVnSW5mb0VuYWJsZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHYodCk/KEU9dCx0aGlzKTpFfTt2YXIgTz0xMDt0aGlzLm9uQ2hhbmdlc1R0bD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oTz10LHRoaXMpOk99LHRoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixcIiRpbnRlcnBvbGF0ZVwiLFwiJGV4Y2VwdGlvbkhhbmRsZXJcIixcIiR0ZW1wbGF0ZVJlcXVlc3RcIixcIiRwYXJzZVwiLFwiJGNvbnRyb2xsZXJcIixcIiRyb290U2NvcGVcIixcIiRzY2VcIixcIiRhbmltYXRlXCIsXCIkJHNhbml0aXplVXJpXCIsZnVuY3Rpb24oZSxuLG8sYSxzLGQsQyxNLE4sail7ZnVuY3Rpb24gRCgpe3RyeXtpZighLS1idCl0aHJvdyB2dD12b2lkIDAsWnIoXCJpbmZjaG5nXCIsTyk7Qy4kYXBwbHkoZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wLG49dnQubGVuZ3RoO2U8bjsrK2UpdHJ5e3Z0W2VdKCl9Y2F0Y2goZSl7dC5wdXNoKGUpfWlmKHZ0PXZvaWQgMCx0Lmxlbmd0aCl0aHJvdyB0fSl9ZmluYWxseXtidCsrfX1mdW5jdGlvbiBSKHQsZSl7aWYoZSl7dmFyIG4scixpLG89T2JqZWN0LmtleXMoZSk7Zm9yKG49MCxyPW8ubGVuZ3RoO248cjtuKyspaT1vW25dLHRoaXNbaV09ZVtpXX1lbHNlIHRoaXMuJGF0dHI9e307dGhpcy4kJGVsZW1lbnQ9dH1mdW5jdGlvbiBGKHQsZSxuKXt5dC5pbm5lckhUTUw9XCI8c3BhbiBcIitlK1wiPlwiLGU9eXQuZmlyc3RDaGlsZC5hdHRyaWJ1dGVzO3ZhciByPWVbMF07ZS5yZW1vdmVOYW1lZEl0ZW0oci5uYW1lKSxyLnZhbHVlPW4sdC5hdHRyaWJ1dGVzLnNldE5hbWVkSXRlbShyKX1mdW5jdGlvbiBVKHQsZSl7dHJ5e3QuYWRkQ2xhc3MoZSl9Y2F0Y2godCl7fX1mdW5jdGlvbiBfKGUsbixyLGksbyl7ZSBpbnN0YW5jZW9mIHpufHwoZT16bihlKSk7Zm9yKHZhciBhPS9cXFMrLyxzPTAsdT1lLmxlbmd0aDtzPHU7cysrKXt2YXIgYz1lW3NdO2Mubm9kZVR5cGU9PT1tciYmYy5ub2RlVmFsdWUubWF0Y2goYSkmJnB0KGMsZVtzXT10LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpKX12YXIgbD1xKGUsbixlLHIsaSxvKTtfLiQkYWRkU2NvcGVDbGFzcyhlKTt2YXIgZj1udWxsO3JldHVybiBmdW5jdGlvbih0LG4scil7ZXQodCxcInNjb3BlXCIpLG8mJm8ubmVlZHNOZXdTY29wZSYmKHQ9dC4kcGFyZW50LiRuZXcoKSkscj1yfHx7fTt2YXIgaT1yLnBhcmVudEJvdW5kVHJhbnNjbHVkZUZuLGE9ci50cmFuc2NsdWRlQ29udHJvbGxlcnM7aWYocj1yLmZ1dHVyZVBhcmVudEVsZW1lbnQsaSYmaS4kJGJvdW5kVHJhbnNjbHVkZSYmKGk9aS4kJGJvdW5kVHJhbnNjbHVkZSksZnx8KGY9KHI9ciYmclswXSkmJlwiZm9yZWlnbm9iamVjdFwiIT09VChyKSYmZXIuY2FsbChyKS5tYXRjaCgvU1ZHLyk/XCJzdmdcIjpcImh0bWxcIikscj1cImh0bWxcIiE9PWY/em4odXQoZix6bihcIjxkaXY+XCIpLmFwcGVuZChlKS5odG1sKCkpKTpuP05yLmNsb25lLmNhbGwoZSk6ZSxhKWZvcih2YXIgcyBpbiBhKXIuZGF0YShcIiRcIitzK1wiQ29udHJvbGxlclwiLGFbc10uaW5zdGFuY2UpO3JldHVybiBfLiQkYWRkU2NvcGVJbmZvKHIsdCksbiYmbihyLHQpLGwmJmwodCxyLHIsaSkscn19ZnVuY3Rpb24gcSh0LGUsbixyLGksbyl7ZnVuY3Rpb24gYSh0LG4scixpKXt2YXIgbyxhLHMsdSxjLGwscDtpZihmKWZvcihwPUFycmF5KG4ubGVuZ3RoKSx1PTA7dTxoLmxlbmd0aDt1Kz0zKW89aFt1XSxwW29dPW5bb107ZWxzZSBwPW47Zm9yKHU9MCxjPWgubGVuZ3RoO3U8YzspYT1wW2hbdSsrXV0sbj1oW3UrK10sbz1oW3UrK10sbj8obi5zY29wZT8ocz10LiRuZXcoKSxfLiQkYWRkU2NvcGVJbmZvKHpuKGEpLHMpKTpzPXQsbD1uLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50P0IodCxuLnRyYW5zY2x1ZGUsaSk6IW4udGVtcGxhdGVPblRoaXNFbGVtZW50JiZpP2k6IWkmJmU/Qih0LGUpOm51bGwsbihvLHMsYSxyLGwpKTpvJiZvKHQsYS5jaGlsZE5vZGVzLHZvaWQgMCxpKX1mb3IodmFyIHMsdSxjLGwsZixoPVtdLHA9MDtwPHQubGVuZ3RoO3ArKylzPW5ldyBSLHU9SCh0W3BdLFtdLHMsMD09PXA/cjp2b2lkIDAsaSksKG89dS5sZW5ndGg/Wih1LHRbcF0scyxlLG4sbnVsbCxbXSxbXSxvKTpudWxsKSYmby5zY29wZSYmXy4kJGFkZFNjb3BlQ2xhc3Mocy4kJGVsZW1lbnQpLHM9byYmby50ZXJtaW5hbHx8IShjPXRbcF0uY2hpbGROb2Rlcyl8fCFjLmxlbmd0aD9udWxsOnEoYyxvPyhvLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50fHwhby50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQpJiZvLnRyYW5zY2x1ZGU6ZSksKG98fHMpJiYoaC5wdXNoKHAsbyxzKSxsPSEwLGY9Znx8byksbz1udWxsO3JldHVybiBsP2E6bnVsbH1mdW5jdGlvbiBCKHQsZSxuKXtmdW5jdGlvbiByKHIsaSxvLGEscyl7cmV0dXJuIHJ8fChyPXQuJG5ldyghMSxzKSxyLiQkdHJhbnNjbHVkZWQ9ITApLGUocixpLHtwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbjpuLHRyYW5zY2x1ZGVDb250cm9sbGVyczpvLGZ1dHVyZVBhcmVudEVsZW1lbnQ6YX0pfXZhciBpLG89ci4kJHNsb3RzPWF0KCk7Zm9yKGkgaW4gZS4kJHNsb3RzKW9baV09ZS4kJHNsb3RzW2ldP0IodCxlLiQkc2xvdHNbaV0sbik6bnVsbDtyZXR1cm4gcn1mdW5jdGlvbiBIKHQsZSxuLHIsaSl7dmFyIG8sYT1uLiRhdHRyO3N3aXRjaCh0Lm5vZGVUeXBlKXtjYXNlIDE6WChlLEt0KFQodCkpLFwiRVwiLHIsaSk7Zm9yKHZhciBzLHUsYyxmPXQuYXR0cmlidXRlcyxoPTAscD1mJiZmLmxlbmd0aDtoPHA7aCsrKXt2YXIgZD0hMSxtPSExO3M9ZltoXSxvPXMubmFtZSx1PXVyKHMudmFsdWUpLHM9S3QobyksKGM9Q3QudGVzdChzKSkmJihvPW8ucmVwbGFjZShLcixcIlwiKS5zdWJzdHIoOCkucmVwbGFjZSgvXyguKS9nLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudG9VcHBlckNhc2UoKX0pKSwocz1zLm1hdGNoKEV0KSkmJnR0KHNbMV0pJiYoZD1vLG09by5zdWJzdHIoMCxvLmxlbmd0aC01KStcImVuZFwiLG89by5zdWJzdHIoMCxvLmxlbmd0aC02KSkscz1LdChvLnRvTG93ZXJDYXNlKCkpLGFbc109bywhYyYmbi5oYXNPd25Qcm9wZXJ0eShzKXx8KG5bc109dSxOdCh0LHMpJiYobltzXT0hMCkpLGx0KHQsZSx1LHMsYyksWChlLHMsXCJBXCIscixpLGQsbSl9aWYodD10LmNsYXNzTmFtZSxnKHQpJiYodD10LmFuaW1WYWwpLGIodCkmJlwiXCIhPT10KWZvcig7bz0kLmV4ZWModCk7KXM9S3Qob1syXSksWChlLHMsXCJDXCIscixpKSYmKG5bc109dXIob1szXSkpLHQ9dC5zdWJzdHIoby5pbmRleCtvWzBdLmxlbmd0aCk7YnJlYWs7Y2FzZSBtcjppZigxMT09PUhuKWZvcig7dC5wYXJlbnROb2RlJiZ0Lm5leHRTaWJsaW5nJiZ0Lm5leHRTaWJsaW5nLm5vZGVUeXBlPT09bXI7KXQubm9kZVZhbHVlKz10Lm5leHRTaWJsaW5nLm5vZGVWYWx1ZSx0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodC5uZXh0U2libGluZyk7c3QoZSx0Lm5vZGVWYWx1ZSk7YnJlYWs7Y2FzZSA4OnRyeXsobz1sLmV4ZWModC5ub2RlVmFsdWUpKSYmKHM9S3Qob1sxXSksWChlLHMsXCJNXCIscixpKSYmKG5bc109dXIob1syXSkpKX1jYXRjaCh0KXt9fXJldHVybiBlLnNvcnQoaXQpLGV9ZnVuY3Rpb24geih0LGUsbil7dmFyIHI9W10saT0wO2lmKGUmJnQuaGFzQXR0cmlidXRlJiZ0Lmhhc0F0dHJpYnV0ZShlKSl7ZG97aWYoIXQpdGhyb3cgWnIoXCJ1dGVyZGlyXCIsZSxuKTsxPT10Lm5vZGVUeXBlJiYodC5oYXNBdHRyaWJ1dGUoZSkmJmkrKyx0Lmhhc0F0dHJpYnV0ZShuKSYmaS0tKSxyLnB1c2godCksdD10Lm5leHRTaWJsaW5nfXdoaWxlKDA8aSl9ZWxzZSByLnB1c2godCk7cmV0dXJuIHpuKHIpfWZ1bmN0aW9uIFcodCxlLG4pe3JldHVybiBmdW5jdGlvbihyLGksbyxhLHMpe3JldHVybiBpPXooaVswXSxlLG4pLHQocixpLG8sYSxzKX19ZnVuY3Rpb24gRyh0LGUsbixyLGksbyl7dmFyIGE7cmV0dXJuIHQ/XyhlLG4scixpLG8pOmZ1bmN0aW9uKCl7cmV0dXJuIGF8fChhPV8oZSxuLHIsaSxvKSxlPW49bz1udWxsKSxhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gWih0LGUsbixpLGEscyxjLGwsZil7ZnVuY3Rpb24gaCh0LGUsbixyKXt0JiYobiYmKHQ9Vyh0LG4scikpLHQucmVxdWlyZT1kLnJlcXVpcmUsdC5kaXJlY3RpdmVOYW1lPSQsKEU9PT1kfHxkLiQkaXNvbGF0ZVNjb3BlKSYmKHQ9aHQodCx7aXNvbGF0ZVNjb3BlOiEwfSkpLGMucHVzaCh0KSksZSYmKG4mJihlPVcoZSxuLHIpKSxlLnJlcXVpcmU9ZC5yZXF1aXJlLGUuZGlyZWN0aXZlTmFtZT0kLChFPT09ZHx8ZC4kJGlzb2xhdGVTY29wZSkmJihlPWh0KGUse2lzb2xhdGVTY29wZTohMH0pKSxsLnB1c2goZSkpfWZ1bmN0aW9uIHAodCxpLGEscyxmKXtmdW5jdGlvbiBoKHQsZSxuLHIpe3ZhciBpO2lmKEEodCl8fChyPW4sbj1lLGU9dCx0PXZvaWQgMCksViYmKGk9Yiksbnx8KG49Vj9PLnBhcmVudCgpOk8pLCFyKXJldHVybiBmKHQsZSxpLG4sVCk7dmFyIG89Zi4kJHNsb3RzW3JdO2lmKG8pcmV0dXJuIG8odCxlLGksbixUKTtpZihtKG8pKXRocm93IFpyKFwibm9zbG90XCIscixMKE8pKX12YXIgcCxkLCQsdix5LGIsdyxPO2U9PT1hPyhzPW4sTz1uLiQkZWxlbWVudCk6KE89em4oYSkscz1uZXcgUihPLG4pKSx5PWksRT92PWkuJG5ldyghMCk6eCYmKHk9aS4kcGFyZW50KSxmJiYodz1oLHcuJCRib3VuZFRyYW5zY2x1ZGU9Zix3LmlzU2xvdEZpbGxlZD1mdW5jdGlvbih0KXtyZXR1cm4hIWYuJCRzbG90c1t0XX0pLEMmJihiPUsoTyxzLHcsQyx2LGksRSkpLEUmJihfLiQkYWRkU2NvcGVJbmZvKE8sdiwhMCwhKGsmJihrPT09RXx8az09PUUuJCRvcmlnaW5hbERpcmVjdGl2ZSkpKSxfLiQkYWRkU2NvcGVDbGFzcyhPLCEwKSx2LiQkaXNvbGF0ZUJpbmRpbmdzPUUuJCRpc29sYXRlQmluZGluZ3MsZD1tdChpLHMsdix2LiQkaXNvbGF0ZUJpbmRpbmdzLEUpLGQucmVtb3ZlV2F0Y2hlcyYmdi4kb24oXCIkZGVzdHJveVwiLGQucmVtb3ZlV2F0Y2hlcykpO2ZvcihwIGluIGIpe2Q9Q1twXSwkPWJbcF07dmFyIE09ZC4kJGJpbmRpbmdzLmJpbmRUb0NvbnRyb2xsZXI7JC5iaW5kaW5nSW5mbz0kLmlkZW50aWZpZXImJk0/bXQoeSxzLCQuaW5zdGFuY2UsTSxkKTp7fTt2YXIgTj0kKCk7TiE9PSQuaW5zdGFuY2UmJigkLmluc3RhbmNlPU4sTy5kYXRhKFwiJFwiK2QubmFtZStcIkNvbnRyb2xsZXJcIixOKSwkLmJpbmRpbmdJbmZvLnJlbW92ZVdhdGNoZXMmJiQuYmluZGluZ0luZm8ucmVtb3ZlV2F0Y2hlcygpLCQuYmluZGluZ0luZm89bXQoeSxzLCQuaW5zdGFuY2UsTSxkKSl9Zm9yKHIoQyxmdW5jdGlvbih0LGUpe3ZhciBuPXQucmVxdWlyZTt0LmJpbmRUb0NvbnRyb2xsZXImJiFhcihuKSYmZyhuKSYmdShiW2VdLmluc3RhbmNlLEooZSxuLE8sYikpfSkscihiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5zdGFuY2U7aWYoUyhlLiRvbkNoYW5nZXMpKXRyeXtlLiRvbkNoYW5nZXModC5iaW5kaW5nSW5mby5pbml0aWFsQ2hhbmdlcyl9Y2F0Y2godCl7byh0KX1pZihTKGUuJG9uSW5pdCkpdHJ5e2UuJG9uSW5pdCgpfWNhdGNoKHQpe28odCl9UyhlLiRvbkRlc3Ryb3kpJiZ5LiRvbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtlLiRvbkRlc3Ryb3koKX0pfSkscD0wLGQ9Yy5sZW5ndGg7cDxkO3ArKykkPWNbcF0sZHQoJCwkLmlzb2xhdGVTY29wZT92OmksTyxzLCQucmVxdWlyZSYmSigkLmRpcmVjdGl2ZU5hbWUsJC5yZXF1aXJlLE8sYiksdyk7dmFyIFQ9aTtmb3IoRSYmKEUudGVtcGxhdGV8fG51bGw9PT1FLnRlbXBsYXRlVXJsKSYmKFQ9diksdCYmdChULGEuY2hpbGROb2Rlcyx2b2lkIDAsZikscD1sLmxlbmd0aC0xOzA8PXA7cC0tKSQ9bFtwXSxkdCgkLCQuaXNvbGF0ZVNjb3BlP3Y6aSxPLHMsJC5yZXF1aXJlJiZKKCQuZGlyZWN0aXZlTmFtZSwkLnJlcXVpcmUsTyxiKSx3KTtyKGIsZnVuY3Rpb24odCl7dD10Lmluc3RhbmNlLFModC4kcG9zdExpbmspJiZ0LiRwb3N0TGluaygpfSl9Zj1mfHx7fTtmb3IodmFyIGQsJCx2LHksYix3PS1OdW1iZXIuTUFYX1ZBTFVFLHg9Zi5uZXdTY29wZURpcmVjdGl2ZSxDPWYuY29udHJvbGxlckRpcmVjdGl2ZXMsRT1mLm5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSxrPWYudGVtcGxhdGVEaXJlY3RpdmUsTz1mLm5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUsTT0hMSxOPSExLFY9Zi5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSxqPW4uJCRlbGVtZW50PXpuKGUpLEk9aSxEPSExLEY9ITEsVT0wLHE9dC5sZW5ndGg7VTxxO1UrKyl7ZD10W1VdO3ZhciBCPWQuJCRzdGFydCxaPWQuJCRlbmQ7aWYoQiYmKGo9eihlLEIsWikpLHY9dm9pZCAwLHc+ZC5wcmlvcml0eSlicmVhaztpZigoYj1kLnNjb3BlKSYmKGQudGVtcGxhdGVVcmx8fChnKGIpPyhvdChcIm5ldy9pc29sYXRlZCBzY29wZVwiLEV8fHgsZCxqKSxFPWQpOm90KFwibmV3L2lzb2xhdGVkIHNjb3BlXCIsRSxkLGopKSx4PXh8fGQpLCQ9ZC5uYW1lLCFEJiYoZC5yZXBsYWNlJiYoZC50ZW1wbGF0ZVVybHx8ZC50ZW1wbGF0ZSl8fGQudHJhbnNjbHVkZSYmIWQuJCR0bGIpKXtmb3IoYj1VKzE7RD10W2IrK107KWlmKEQudHJhbnNjbHVkZSYmIUQuJCR0bGJ8fEQucmVwbGFjZSYmKEQudGVtcGxhdGVVcmx8fEQudGVtcGxhdGUpKXtGPSEwO2JyZWFrfUQ9ITB9aWYoIWQudGVtcGxhdGVVcmwmJmQuY29udHJvbGxlciYmKGI9ZC5jb250cm9sbGVyLEM9Q3x8YXQoKSxvdChcIidcIiskK1wiJyBjb250cm9sbGVyXCIsQ1skXSxkLGopLENbJF09ZCksYj1kLnRyYW5zY2x1ZGUpaWYoTT0hMCxkLiQkdGxifHwob3QoXCJ0cmFuc2NsdXNpb25cIixPLGQsaiksTz1kKSxcImVsZW1lbnRcIj09YilWPSEwLHc9ZC5wcmlvcml0eSx2PWosaj1uLiQkZWxlbWVudD16bihfLiQkY3JlYXRlQ29tbWVudCgkLG5bJF0pKSxlPWpbMF0sZnQoYSxYbi5jYWxsKHYsMCksZSksdlswXS4kJHBhcmVudE5vZGU9dlswXS5wYXJlbnROb2RlLEk9RyhGLHYsaSx3LHMmJnMubmFtZSx7bm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTpPfSk7ZWxzZXt2YXIgWD1hdCgpO2lmKHY9em4oJHQoZSkpLmNvbnRlbnRzKCksZyhiKSl7dj1bXTt2YXIgUT1hdCgpLHR0PWF0KCk7cihiLGZ1bmN0aW9uKHQsZSl7XG52YXIgbj1cIj9cIj09PXQuY2hhckF0KDApO3Q9bj90LnN1YnN0cmluZygxKTp0LFFbdF09ZSxYW2VdPW51bGwsdHRbZV09bn0pLHIoai5jb250ZW50cygpLGZ1bmN0aW9uKHQpe3ZhciBlPVFbS3QoVCh0KSldO2U/KHR0W2VdPSEwLFhbZV09WFtlXXx8W10sWFtlXS5wdXNoKHQpKTp2LnB1c2godCl9KSxyKHR0LGZ1bmN0aW9uKHQsZSl7aWYoIXQpdGhyb3cgWnIoXCJyZXFzbG90XCIsZSl9KTtmb3IodmFyIGV0IGluIFgpWFtldF0mJihYW2V0XT1HKEYsWFtldF0saSkpfWouZW1wdHkoKSxJPUcoRix2LGksdm9pZCAwLHZvaWQgMCx7bmVlZHNOZXdTY29wZTpkLiQkaXNvbGF0ZVNjb3BlfHxkLiQkbmV3U2NvcGV9KSxJLiQkc2xvdHM9WH1pZihkLnRlbXBsYXRlKWlmKE49ITAsb3QoXCJ0ZW1wbGF0ZVwiLGssZCxqKSxrPWQsYj1TKGQudGVtcGxhdGUpP2QudGVtcGxhdGUoaixuKTpkLnRlbXBsYXRlLGI9U3QoYiksZC5yZXBsYWNlKXtpZihzPWQsdj1Fci50ZXN0KGIpP1h0KHV0KGQudGVtcGxhdGVOYW1lc3BhY2UsdXIoYikpKTpbXSxlPXZbMF0sMSE9di5sZW5ndGh8fDEhPT1lLm5vZGVUeXBlKXRocm93IFpyKFwidHBscnRcIiwkLFwiXCIpO2Z0KGEsaixlKSxxPXskYXR0cjp7fX0sYj1IKGUsW10scSk7dmFyIGl0PXQuc3BsaWNlKFUrMSx0Lmxlbmd0aC0oVSsxKSk7KEV8fHgpJiZZKGIsRSx4KSx0PXQuY29uY2F0KGIpLmNvbmNhdChpdCksbnQobixxKSxxPXQubGVuZ3RofWVsc2Ugai5odG1sKGIpO2lmKGQudGVtcGxhdGVVcmwpTj0hMCxvdChcInRlbXBsYXRlXCIsayxkLGopLGs9ZCxkLnJlcGxhY2UmJihzPWQpLHA9cnQodC5zcGxpY2UoVSx0Lmxlbmd0aC1VKSxqLG4sYSxNJiZJLGMsbCx7Y29udHJvbGxlckRpcmVjdGl2ZXM6QyxuZXdTY29wZURpcmVjdGl2ZTp4IT09ZCYmeCxuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU6RSx0ZW1wbGF0ZURpcmVjdGl2ZTprLG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6T30pLHE9dC5sZW5ndGg7ZWxzZSBpZihkLmNvbXBpbGUpdHJ5e3k9ZC5jb21waWxlKGosbixJKTt2YXIgc3Q9ZC4kJG9yaWdpbmFsRGlyZWN0aXZlfHxkO1MoeSk/aChudWxsLFAoc3QseSksQixaKTp5JiZoKFAoc3QseS5wcmUpLFAoc3QseS5wb3N0KSxCLFopfWNhdGNoKHQpe28odCxMKGopKX1kLnRlcm1pbmFsJiYocC50ZXJtaW5hbD0hMCx3PU1hdGgubWF4KHcsZC5wcmlvcml0eSkpfXJldHVybiBwLnNjb3BlPXgmJiEwPT09eC5zY29wZSxwLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50PU0scC50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQ9TixwLnRyYW5zY2x1ZGU9SSxmLmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlPVYscH1mdW5jdGlvbiBKKHQsZSxuLGkpe3ZhciBvO2lmKGIoZSkpe3ZhciBhPWUubWF0Y2godyk7ZT1lLnN1YnN0cmluZyhhWzBdLmxlbmd0aCk7dmFyIHM9YVsxXXx8YVszXSxhPVwiP1wiPT09YVsyXTtpZihcIl5eXCI9PT1zP249bi5wYXJlbnQoKTpvPShvPWkmJmlbZV0pJiZvLmluc3RhbmNlLCFvKXt2YXIgdT1cIiRcIitlK1wiQ29udHJvbGxlclwiO289cz9uLmluaGVyaXRlZERhdGEodSk6bi5kYXRhKHUpfWlmKCFvJiYhYSl0aHJvdyBacihcImN0cmVxXCIsZSx0KX1lbHNlIGlmKGFyKGUpKWZvcihvPVtdLHM9MCxhPWUubGVuZ3RoO3M8YTtzKyspb1tzXT1KKHQsZVtzXSxuLGkpO2Vsc2UgZyhlKSYmKG89e30scihlLGZ1bmN0aW9uKGUscil7b1tyXT1KKHQsZSxuLGkpfSkpO3JldHVybiBvfHxudWxsfWZ1bmN0aW9uIEsodCxlLG4scixpLG8sYSl7dmFyIHMsdT1hdCgpO2ZvcihzIGluIHIpe3ZhciBjPXJbc10sbD17JHNjb3BlOmM9PT1hfHxjLiQkaXNvbGF0ZVNjb3BlP2k6bywkZWxlbWVudDp0LCRhdHRyczplLCR0cmFuc2NsdWRlOm59LGY9Yy5jb250cm9sbGVyO1wiQFwiPT1mJiYoZj1lW2MubmFtZV0pLGw9ZChmLGwsITAsYy5jb250cm9sbGVyQXMpLHVbYy5uYW1lXT1sLHQuZGF0YShcIiRcIitjLm5hbWUrXCJDb250cm9sbGVyXCIsbC5pbnN0YW5jZSl9cmV0dXJuIHV9ZnVuY3Rpb24gWSh0LGUsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXRbcl09Zih0W3JdLHskJGlzb2xhdGVTY29wZTplLCQkbmV3U2NvcGU6bn0pfWZ1bmN0aW9uIFgodCxuLHIsYSxzLHUsbCl7aWYobj09PXMpcmV0dXJuIG51bGw7aWYocz1udWxsLGMuaGFzT3duUHJvcGVydHkobikpe3ZhciBoO249ZS5nZXQobitcIkRpcmVjdGl2ZVwiKTtmb3IodmFyIHA9MCxkPW4ubGVuZ3RoO3A8ZDtwKyspdHJ5e2lmKGg9bltwXSwobShhKXx8YT5oLnByaW9yaXR5KSYmLTEhPWgucmVzdHJpY3QuaW5kZXhPZihyKSl7aWYodSYmKGg9ZihoLHskJHN0YXJ0OnUsJCRlbmQ6bH0pKSwhaC4kJGJpbmRpbmdzKXt2YXIgJD1oLHY9aCx5PWgubmFtZSxiPXtpc29sYXRlU2NvcGU6bnVsbCxiaW5kVG9Db250cm9sbGVyOm51bGx9O2lmKGcodi5zY29wZSkmJighMD09PXYuYmluZFRvQ29udHJvbGxlcj8oYi5iaW5kVG9Db250cm9sbGVyPWkodi5zY29wZSx5LCEwKSxiLmlzb2xhdGVTY29wZT17fSk6Yi5pc29sYXRlU2NvcGU9aSh2LnNjb3BlLHksITEpKSxnKHYuYmluZFRvQ29udHJvbGxlcikmJihiLmJpbmRUb0NvbnRyb2xsZXI9aSh2LmJpbmRUb0NvbnRyb2xsZXIseSwhMCkpLGcoYi5iaW5kVG9Db250cm9sbGVyKSl7dmFyIHc9di5jb250cm9sbGVyLHg9di5jb250cm9sbGVyQXM7aWYoIXcpdGhyb3cgWnIoXCJub2N0cmxcIix5KTtpZighUXQodyx4KSl0aHJvdyBacihcIm5vaWRlbnRcIix5KX12YXIgUz0kLiQkYmluZGluZ3M9YjtnKFMuaXNvbGF0ZVNjb3BlKSYmKGguJCRpc29sYXRlQmluZGluZ3M9Uy5pc29sYXRlU2NvcGUpfXQucHVzaChoKSxzPWh9fWNhdGNoKHQpe28odCl9fXJldHVybiBzfWZ1bmN0aW9uIHR0KHQpe2lmKGMuaGFzT3duUHJvcGVydHkodCkpZm9yKHZhciBuPWUuZ2V0KHQrXCJEaXJlY3RpdmVcIikscj0wLGk9bi5sZW5ndGg7cjxpO3IrKylpZih0PW5bcl0sdC5tdWx0aUVsZW1lbnQpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gbnQodCxlKXt2YXIgbj1lLiRhdHRyLGk9dC4kYXR0cjtyKHQsZnVuY3Rpb24ocixpKXtcIiRcIiE9aS5jaGFyQXQoMCkmJihlW2ldJiZlW2ldIT09ciYmKHIrPShcInN0eWxlXCI9PT1pP1wiO1wiOlwiIFwiKStlW2ldKSx0LiRzZXQoaSxyLCEwLG5baV0pKX0pLHIoZSxmdW5jdGlvbihlLHIpe3QuaGFzT3duUHJvcGVydHkocil8fFwiJFwiPT09ci5jaGFyQXQoMCl8fCh0W3JdPWUsXCJjbGFzc1wiIT09ciYmXCJzdHlsZVwiIT09ciYmKGlbcl09bltyXSkpfSl9ZnVuY3Rpb24gcnQodCxlLG4saSxvLHMsdSxjKXt2YXIgbCxoLHA9W10sZD1lWzBdLCQ9dC5zaGlmdCgpLG09ZigkLHt0ZW1wbGF0ZVVybDpudWxsLHRyYW5zY2x1ZGU6bnVsbCxyZXBsYWNlOm51bGwsJCRvcmlnaW5hbERpcmVjdGl2ZTokfSksdj1TKCQudGVtcGxhdGVVcmwpPyQudGVtcGxhdGVVcmwoZSxuKTokLnRlbXBsYXRlVXJsLHk9JC50ZW1wbGF0ZU5hbWVzcGFjZTtyZXR1cm4gZS5lbXB0eSgpLGEodikudGhlbihmdW5jdGlvbihhKXt2YXIgZixiO2lmKGE9U3QoYSksJC5yZXBsYWNlKXtpZihhPUVyLnRlc3QoYSk/WHQodXQoeSx1cihhKSkpOltdLGY9YVswXSwxIT1hLmxlbmd0aHx8MSE9PWYubm9kZVR5cGUpdGhyb3cgWnIoXCJ0cGxydFwiLCQubmFtZSx2KTthPXskYXR0cjp7fX0sZnQoaSxlLGYpO3ZhciB3PUgoZixbXSxhKTtnKCQuc2NvcGUpJiZZKHcsITApLHQ9dy5jb25jYXQodCksbnQobixhKX1lbHNlIGY9ZCxlLmh0bWwoYSk7Zm9yKHQudW5zaGlmdChtKSxsPVoodCxmLG4sbyxlLCQscyx1LGMpLHIoaSxmdW5jdGlvbih0LG4pe3Q9PWYmJihpW25dPWVbMF0pfSksaD1xKGVbMF0uY2hpbGROb2RlcyxvKTtwLmxlbmd0aDspe2E9cC5zaGlmdCgpLGI9cC5zaGlmdCgpO3ZhciB4PXAuc2hpZnQoKSxTPXAuc2hpZnQoKSx3PWVbMF07aWYoIWEuJCRkZXN0cm95ZWQpe2lmKGIhPT1kKXt2YXIgQz1iLmNsYXNzTmFtZTtjLmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlJiYkLnJlcGxhY2V8fCh3PSR0KGYpKSxmdCh4LHpuKGIpLHcpLFUoem4odyksQyl9Yj1sLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50P0IoYSxsLnRyYW5zY2x1ZGUsUyk6UyxsKGgsYSx3LGksYil9fXA9bnVsbH0pLGZ1bmN0aW9uKHQsZSxuLHIsaSl7dD1pLGUuJCRkZXN0cm95ZWR8fChwP3AucHVzaChlLG4scix0KToobC50cmFuc2NsdWRlT25UaGlzRWxlbWVudCYmKHQ9QihlLGwudHJhbnNjbHVkZSxpKSksbChoLGUsbixyLHQpKSl9fWZ1bmN0aW9uIGl0KHQsZSl7dmFyIG49ZS5wcmlvcml0eS10LnByaW9yaXR5O3JldHVybiAwIT09bj9uOnQubmFtZSE9PWUubmFtZT90Lm5hbWU8ZS5uYW1lPy0xOjE6dC5pbmRleC1lLmluZGV4fWZ1bmN0aW9uIG90KHQsZSxuLHIpe2Z1bmN0aW9uIGkodCl7cmV0dXJuIHQ/XCIgKG1vZHVsZTogXCIrdCtcIilcIjpcIlwifWlmKGUpdGhyb3cgWnIoXCJtdWx0aWRpclwiLGUubmFtZSxpKGUuJCRtb2R1bGVOYW1lKSxuLm5hbWUsaShuLiQkbW9kdWxlTmFtZSksdCxMKHIpKX1mdW5jdGlvbiBzdCh0LGUpe3ZhciByPW4oZSwhMCk7ciYmdC5wdXNoKHtwcmlvcml0eTowLGNvbXBpbGU6ZnVuY3Rpb24odCl7dD10LnBhcmVudCgpO3ZhciBlPSEhdC5sZW5ndGg7cmV0dXJuIGUmJl8uJCRhZGRCaW5kaW5nQ2xhc3ModCksZnVuY3Rpb24odCxuKXt2YXIgaT1uLnBhcmVudCgpO2V8fF8uJCRhZGRCaW5kaW5nQ2xhc3MoaSksXy4kJGFkZEJpbmRpbmdJbmZvKGksci5leHByZXNzaW9ucyksdC4kd2F0Y2gocixmdW5jdGlvbih0KXtuWzBdLm5vZGVWYWx1ZT10fSl9fX0pfWZ1bmN0aW9uIHV0KGUsbil7c3dpdGNoKGU9S24oZXx8XCJodG1sXCIpKXtjYXNlXCJzdmdcIjpjYXNlXCJtYXRoXCI6dmFyIHI9dC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiByLmlubmVySFRNTD1cIjxcIitlK1wiPlwiK24rXCI8L1wiK2UrXCI+XCIsci5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXM7ZGVmYXVsdDpyZXR1cm4gbn19ZnVuY3Rpb24gY3QodCxlKXtpZihcInNyY2RvY1wiPT1lKXJldHVybiBNLkhUTUw7dmFyIG49VCh0KTtyZXR1cm5cInhsaW5rSHJlZlwiPT1lfHxcImZvcm1cIj09biYmXCJhY3Rpb25cIj09ZXx8XCJpbWdcIiE9biYmKFwic3JjXCI9PWV8fFwibmdTcmNcIj09ZSk/TS5SRVNPVVJDRV9VUkw6dm9pZCAwfWZ1bmN0aW9uIGx0KHQsZSxyLGksbyl7dmFyIGE9Y3QodCxpKTtvPXlbaV18fG87dmFyIHM9bihyLCEwLGEsbyk7aWYocyl7aWYoXCJtdWx0aXBsZVwiPT09aSYmXCJzZWxlY3RcIj09PVQodCkpdGhyb3cgWnIoXCJzZWxtdWx0aVwiLEwodCkpO2UucHVzaCh7cHJpb3JpdHk6MTAwLGNvbXBpbGU6ZnVuY3Rpb24oKXtyZXR1cm57cHJlOmZ1bmN0aW9uKHQsZSx1KXtpZihlPXUuJCRvYnNlcnZlcnN8fCh1LiQkb2JzZXJ2ZXJzPWF0KCkpLHgudGVzdChpKSl0aHJvdyBacihcIm5vZG9tZXZlbnRzXCIpO3ZhciBjPXVbaV07YyE9PXImJihzPWMmJm4oYywhMCxhLG8pLHI9YykscyYmKHVbaV09cyh0KSwoZVtpXXx8KGVbaV09W10pKS4kJGludGVyPSEwLCh1LiQkb2JzZXJ2ZXJzJiZ1LiQkb2JzZXJ2ZXJzW2ldLiQkc2NvcGV8fHQpLiR3YXRjaChzLGZ1bmN0aW9uKHQsZSl7XCJjbGFzc1wiPT09aSYmdCE9ZT91LiR1cGRhdGVDbGFzcyh0LGUpOnUuJHNldChpLHQpfSkpfX19fSl9fWZ1bmN0aW9uIGZ0KGUsbixyKXt2YXIgaSxvLGE9blswXSxzPW4ubGVuZ3RoLHU9YS5wYXJlbnROb2RlO2lmKGUpZm9yKGk9MCxvPWUubGVuZ3RoO2k8bztpKyspaWYoZVtpXT09YSl7ZVtpKytdPXIsbz1pK3MtMTtmb3IodmFyIGM9ZS5sZW5ndGg7aTxjO2krKyxvKyspbzxjP2VbaV09ZVtvXTpkZWxldGUgZVtpXTtlLmxlbmd0aC09cy0xLGUuY29udGV4dD09PWEmJihlLmNvbnRleHQ9cik7YnJlYWt9Zm9yKHUmJnUucmVwbGFjZUNoaWxkKHIsYSksZT10LmRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxpPTA7aTxzO2krKyllLmFwcGVuZENoaWxkKG5baV0pO2Zvcih6bi5oYXNEYXRhKGEpJiYoem4uZGF0YShyLHpuLmRhdGEoYSkpLHpuKGEpLm9mZihcIiRkZXN0cm95XCIpKSx6bi5jbGVhbkRhdGEoZS5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKSksaT0xO2k8cztpKyspZGVsZXRlIG5baV07blswXT1yLG4ubGVuZ3RoPTF9ZnVuY3Rpb24gaHQodCxlKXtyZXR1cm4gdShmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdCxlKX1mdW5jdGlvbiBkdCh0LGUsbixyLGksYSl7dHJ5e3QoZSxuLHIsaSxhKX1jYXRjaCh0KXtvKHQsTChuKSl9fWZ1bmN0aW9uIG10KHQsZSxpLG8sYSl7ZnVuY3Rpb24gdShlLG4scil7UyhpLiRvbkNoYW5nZXMpJiZuIT09ciYmKHZ0fHwodC4kJHBvc3REaWdlc3QoRCksdnQ9W10pLGx8fChsPXt9LHZ0LnB1c2goYykpLGxbZV0mJihyPWxbZV0ucHJldmlvdXNWYWx1ZSksbFtlXT1uZXcgSnQocixuKSl9ZnVuY3Rpb24gYygpe2kuJG9uQ2hhbmdlcyhsKSxsPXZvaWQgMH12YXIgbCxmPVtdLHA9e307cmV0dXJuIHIobyxmdW5jdGlvbihyLG8pe3ZhciBjLGwsZCwkLG09ci5hdHRyTmFtZSx2PXIub3B0aW9uYWw7c3dpdGNoKHIubW9kZSl7Y2FzZVwiQFwiOnZ8fEpuLmNhbGwoZSxtKXx8KGlbb109ZVttXT12b2lkIDApLGUuJG9ic2VydmUobSxmdW5jdGlvbih0KXsoYih0KXx8ayh0KSkmJih1KG8sdCxpW29dKSxpW29dPXQpfSksZS4kJG9ic2VydmVyc1ttXS4kJHNjb3BlPXQsYz1lW21dLGIoYyk/aVtvXT1uKGMpKHQpOmsoYykmJihpW29dPWMpLHBbb109bmV3IEp0KEpyLGlbb10pO2JyZWFrO2Nhc2VcIj1cIjppZighSm4uY2FsbChlLG0pKXtpZih2KWJyZWFrO2VbbV09dm9pZCAwfWlmKHYmJiFlW21dKWJyZWFrO2w9cyhlW21dKSwkPWwubGl0ZXJhbD9JOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PT1lfHx0IT09dCYmZSE9PWV9LGQ9bC5hc3NpZ258fGZ1bmN0aW9uKCl7dGhyb3cgYz1pW29dPWwodCksWnIoXCJub25hc3NpZ25cIixlW21dLG0sYS5uYW1lKX0sYz1pW29dPWwodCksdj1mdW5jdGlvbihlKXtyZXR1cm4gJChlLGlbb10pfHwoJChlLGMpP2QodCxlPWlbb10pOmlbb109ZSksYz1lfSx2LiRzdGF0ZWZ1bD0hMCx2PXIuY29sbGVjdGlvbj90LiR3YXRjaENvbGxlY3Rpb24oZVttXSx2KTp0LiR3YXRjaChzKGVbbV0sdiksbnVsbCxsLmxpdGVyYWwpLGYucHVzaCh2KTticmVhaztjYXNlXCI8XCI6aWYoIUpuLmNhbGwoZSxtKSl7aWYodilicmVhaztlW21dPXZvaWQgMH1pZih2JiYhZVttXSlicmVhaztsPXMoZVttXSk7dmFyIGc9aVtvXT1sKHQpO3Bbb109bmV3IEp0KEpyLGlbb10pLHY9dC4kd2F0Y2gobCxmdW5jdGlvbih0LGUpe2lmKGU9PT10KXtpZihlPT09ZylyZXR1cm47ZT1nfXUobyx0LGUpLGlbb109dH0sbC5saXRlcmFsKSxmLnB1c2godik7YnJlYWs7Y2FzZVwiJlwiOmlmKGw9ZS5oYXNPd25Qcm9wZXJ0eShtKT9zKGVbbV0pOmgsbD09PWgmJnYpYnJlYWs7aVtvXT1mdW5jdGlvbihlKXtyZXR1cm4gbCh0LGUpfX19KSx7aW5pdGlhbENoYW5nZXM6cCxyZW1vdmVXYXRjaGVzOmYubGVuZ3RoJiZmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9Zi5sZW5ndGg7dDxlOysrdClmW3RdKCl9fX12YXIgdnQsZ3Q9L15cXHcvLHl0PXQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxidD1PO1IucHJvdG90eXBlPXskbm9ybWFsaXplOkt0LCRhZGRDbGFzczpmdW5jdGlvbih0KXt0JiYwPHQubGVuZ3RoJiZOLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LHQpfSwkcmVtb3ZlQ2xhc3M6ZnVuY3Rpb24odCl7dCYmMDx0Lmxlbmd0aCYmTi5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCx0KX0sJHVwZGF0ZUNsYXNzOmZ1bmN0aW9uKHQsZSl7dmFyIG49WXQodCxlKTtuJiZuLmxlbmd0aCYmTi5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCxuKSwobj1ZdChlLHQpKSYmbi5sZW5ndGgmJk4ucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsbil9LCRzZXQ6ZnVuY3Rpb24odCxlLG4saSl7dmFyIGE9TnQodGhpcy4kJGVsZW1lbnRbMF0sdCkscz1qclt0XSx1PXQ7aWYoYT8odGhpcy4kJGVsZW1lbnQucHJvcCh0LGUpLGk9YSk6cyYmKHRoaXNbc109ZSx1PXMpLHRoaXNbdF09ZSxpP3RoaXMuJGF0dHJbdF09aTooaT10aGlzLiRhdHRyW3RdKXx8KHRoaXMuJGF0dHJbdF09aT1RKHQsXCItXCIpKSxhPVQodGhpcy4kJGVsZW1lbnQpLFwiYVwiPT09YSYmKFwiaHJlZlwiPT09dHx8XCJ4bGlua0hyZWZcIj09PXQpfHxcImltZ1wiPT09YSYmXCJzcmNcIj09PXQpdGhpc1t0XT1lPWooZSxcInNyY1wiPT09dCk7ZWxzZSBpZihcImltZ1wiPT09YSYmXCJzcmNzZXRcIj09PXQmJnYoZSkpe2Zvcih2YXIgYT1cIlwiLHM9dXIoZSksYz0vKFxccytcXGQreFxccyosfFxccytcXGQrd1xccyosfFxccyssfCxcXHMrKS8sYz0vXFxzLy50ZXN0KHMpP2M6LygsKS8scz1zLnNwbGl0KGMpLGM9TWF0aC5mbG9vcihzLmxlbmd0aC8yKSxsPTA7bDxjO2wrKyl2YXIgZj0yKmwsYT1hK2oodXIoc1tmXSksITApLGE9YSsoXCIgXCIrdXIoc1tmKzFdKSk7cz11cihzWzIqbF0pLnNwbGl0KC9cXHMvKSxhKz1qKHVyKHNbMF0pLCEwKSwyPT09cy5sZW5ndGgmJihhKz1cIiBcIit1cihzWzFdKSksdGhpc1t0XT1lPWF9ITEhPT1uJiYobnVsbD09PWV8fG0oZSk/dGhpcy4kJGVsZW1lbnQucmVtb3ZlQXR0cihpKTpndC50ZXN0KGkpP3RoaXMuJCRlbGVtZW50LmF0dHIoaSxlKTpGKHRoaXMuJCRlbGVtZW50WzBdLGksZSkpLCh0PXRoaXMuJCRvYnNlcnZlcnMpJiZyKHRbdV0sZnVuY3Rpb24odCl7dHJ5e3QoZSl9Y2F0Y2godCl7byh0KX19KX0sJG9ic2VydmU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9bi4kJG9ic2VydmVyc3x8KG4uJCRvYnNlcnZlcnM9YXQoKSksaT1yW3RdfHwoclt0XT1bXSk7cmV0dXJuIGkucHVzaChlKSxDLiRldmFsQXN5bmMoZnVuY3Rpb24oKXtpLiQkaW50ZXJ8fCFuLmhhc093blByb3BlcnR5KHQpfHxtKG5bdF0pfHxlKG5bdF0pfSksZnVuY3Rpb24oKXtWKGksZSl9fX07dmFyIHd0PW4uc3RhcnRTeW1ib2woKSx4dD1uLmVuZFN5bWJvbCgpLFN0PVwie3tcIj09d3QmJlwifX1cIj09eHQ/cDpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9cXHtcXHsvZyx3dCkucmVwbGFjZSgvfX0vZyx4dCl9LEN0PS9ebmdBdHRyW0EtWl0vLEV0PS9eKC4rKVN0YXJ0JC87cmV0dXJuIF8uJCRhZGRCaW5kaW5nSW5mbz1FP2Z1bmN0aW9uKHQsZSl7dmFyIG49dC5kYXRhKFwiJGJpbmRpbmdcIil8fFtdO2FyKGUpP249bi5jb25jYXQoZSk6bi5wdXNoKGUpLHQuZGF0YShcIiRiaW5kaW5nXCIsbil9OmgsXy4kJGFkZEJpbmRpbmdDbGFzcz1FP2Z1bmN0aW9uKHQpe1UodCxcIm5nLWJpbmRpbmdcIil9OmgsXy4kJGFkZFNjb3BlSW5mbz1FP2Z1bmN0aW9uKHQsZSxuLHIpe3QuZGF0YShuP3I/XCIkaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZVwiOlwiJGlzb2xhdGVTY29wZVwiOlwiJHNjb3BlXCIsZSl9OmgsXy4kJGFkZFNjb3BlQ2xhc3M9RT9mdW5jdGlvbih0LGUpe1UodCxlP1wibmctaXNvbGF0ZS1zY29wZVwiOlwibmctc2NvcGVcIil9OmgsXy4kJGNyZWF0ZUNvbW1lbnQ9ZnVuY3Rpb24oZSxuKXt2YXIgcj1cIlwiO3JldHVybiBFJiYocj1cIiBcIisoZXx8XCJcIikrXCI6IFwiLG4mJihyKz1uK1wiIFwiKSksdC5kb2N1bWVudC5jcmVhdGVDb21tZW50KHIpfSxffV19ZnVuY3Rpb24gSnQodCxlKXt0aGlzLnByZXZpb3VzVmFsdWU9dCx0aGlzLmN1cnJlbnRWYWx1ZT1lfWZ1bmN0aW9uIEt0KHQpe3JldHVybiBsdCh0LnJlcGxhY2UoS3IsXCJcIikpfWZ1bmN0aW9uIFl0KHQsZSl7dmFyIG49XCJcIixyPXQuc3BsaXQoL1xccysvKSxpPWUuc3BsaXQoL1xccysvKSxvPTA7dDpmb3IoO288ci5sZW5ndGg7bysrKXtmb3IodmFyIGE9cltvXSxzPTA7czxpLmxlbmd0aDtzKyspaWYoYT09aVtzXSljb250aW51ZSB0O24rPSgwPG4ubGVuZ3RoP1wiIFwiOlwiXCIpK2F9cmV0dXJuIG59ZnVuY3Rpb24gWHQodCl7dD16bih0KTt2YXIgZT10Lmxlbmd0aDtpZigxPj1lKXJldHVybiB0O2Zvcig7ZS0tOyk4PT09dFtlXS5ub2RlVHlwZSYmUW4uY2FsbCh0LGUsMSk7cmV0dXJuIHR9ZnVuY3Rpb24gUXQodCxlKXtpZihlJiZiKGUpKXJldHVybiBlO2lmKGIodCkpe3ZhciBuPVhyLmV4ZWModCk7aWYobilyZXR1cm4gblszXX19ZnVuY3Rpb24gdGUoKXt2YXIgdD17fSxuPSExO3RoaXMuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiB0Lmhhc093blByb3BlcnR5KGUpfSx0aGlzLnJlZ2lzdGVyPWZ1bmN0aW9uKGUsbil7cnQoZSxcImNvbnRyb2xsZXJcIiksZyhlKT91KHQsZSk6dFtlXT1ufSx0aGlzLmFsbG93R2xvYmFscz1mdW5jdGlvbigpe249ITB9LHRoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixcIiR3aW5kb3dcIixmdW5jdGlvbihyLGkpe2Z1bmN0aW9uIG8odCxuLHIsaSl7aWYoIXR8fCFnKHQuJHNjb3BlKSl0aHJvdyBlKFwiJGNvbnRyb2xsZXJcIikoXCJub3NjcFwiLGksbik7dC4kc2NvcGVbbl09cn1yZXR1cm4gZnVuY3Rpb24oZSxhLHMsYyl7dmFyIGwsZixoO2lmKHM9ITA9PT1zLGMmJmIoYykmJihoPWMpLGIoZSkpe2lmKGM9ZS5tYXRjaChYciksIWMpdGhyb3cgWXIoXCJjdHJsZm10XCIsZSk7Zj1jWzFdLGg9aHx8Y1szXSxlPXQuaGFzT3duUHJvcGVydHkoZik/dFtmXTppdChhLiRzY29wZSxmLCEwKXx8KG4/aXQoaSxmLCEwKTp2b2lkIDApLG50KGUsZiwhMCl9cmV0dXJuIHM/KHM9KGFyKGUpP2VbZS5sZW5ndGgtMV06ZSkucHJvdG90eXBlLGw9T2JqZWN0LmNyZWF0ZShzfHxudWxsKSxoJiZvKGEsaCxsLGZ8fGUubmFtZSksdShmdW5jdGlvbigpe3ZhciB0PXIuaW52b2tlKGUsbCxhLGYpO3JldHVybiB0IT09bCYmKGcodCl8fFModCkpJiYobD10LGgmJm8oYSxoLGwsZnx8ZS5uYW1lKSksbH0se2luc3RhbmNlOmwsaWRlbnRpZmllcjpofSkpOihsPXIuaW5zdGFudGlhdGUoZSxhLGYpLGgmJm8oYSxoLGwsZnx8ZS5uYW1lKSxsKX19XX1mdW5jdGlvbiBlZSgpe3RoaXMuJGdldD1bXCIkd2luZG93XCIsZnVuY3Rpb24odCl7cmV0dXJuIHpuKHQuZG9jdW1lbnQpfV19ZnVuY3Rpb24gbmUoKXt0aGlzLiRnZXQ9W1wiJGxvZ1wiLGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3QuZXJyb3IuYXBwbHkodCxhcmd1bWVudHMpfX1dfWZ1bmN0aW9uIHJlKHQpe3JldHVybiBnKHQpP3godCk/dC50b0lTT1N0cmluZygpOkYodCk6dH1mdW5jdGlvbiBpZSgpe3RoaXMuJGdldD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtpZighdClyZXR1cm5cIlwiO3ZhciBlPVtdO3JldHVybiBpKHQsZnVuY3Rpb24odCxuKXtudWxsPT09dHx8bSh0KXx8KGFyKHQpP3IodCxmdW5jdGlvbih0KXtlLnB1c2goRyhuKStcIj1cIitHKHJlKHQpKSl9KTplLnB1c2goRyhuKStcIj1cIitHKHJlKHQpKSkpfSksZS5qb2luKFwiJlwiKX19fWZ1bmN0aW9uIG9lKCl7dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxvLGEpe251bGw9PT10fHxtKHQpfHwoYXIodCk/cih0LGZ1bmN0aW9uKHQsbil7ZSh0LG8rXCJbXCIrKGcodCk/bjpcIlwiKStcIl1cIil9KTpnKHQpJiYheCh0KT9pKHQsZnVuY3Rpb24odCxuKXtlKHQsbysoYT9cIlwiOlwiW1wiKStuKyhhP1wiXCI6XCJdXCIpKX0pOm4ucHVzaChHKG8pK1wiPVwiK0cocmUodCkpKSl9aWYoIXQpcmV0dXJuXCJcIjt2YXIgbj1bXTtyZXR1cm4gZSh0LFwiXCIsITApLG4uam9pbihcIiZcIil9fX1mdW5jdGlvbiBhZSh0LGUpe2lmKGIodCkpe3ZhciBuPXQucmVwbGFjZShpaSxcIlwiKS50cmltKCk7aWYobil7dmFyIHI9ZShcIkNvbnRlbnQtVHlwZVwiKTsocj1yJiYwPT09ci5pbmRleE9mKHRpKSl8fChyPShyPW4ubWF0Y2gobmkpKSYmcmlbclswXV0udGVzdChuKSksciYmKHQ9VShuKSl9fXJldHVybiB0fWZ1bmN0aW9uIHNlKHQpe3ZhciBlLG49YXQoKTtyZXR1cm4gYih0KT9yKHQuc3BsaXQoXCJcXG5cIiksZnVuY3Rpb24odCl7ZT10LmluZGV4T2YoXCI6XCIpO3ZhciByPUtuKHVyKHQuc3Vic3RyKDAsZSkpKTt0PXVyKHQuc3Vic3RyKGUrMSkpLHImJihuW3JdPW5bcl0/bltyXStcIiwgXCIrdDp0KX0pOmcodCkmJnIodCxmdW5jdGlvbih0LGUpe3ZhciByPUtuKGUpLGk9dXIodCk7ciYmKG5bcl09bltyXT9uW3JdK1wiLCBcIitpOmkpfSksbn1mdW5jdGlvbiB1ZSh0KXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGV8fChlPXNlKHQpKSxuPyhuPWVbS24obildLHZvaWQgMD09PW4mJihuPW51bGwpLG4pOmV9fWZ1bmN0aW9uIGNlKHQsZSxuLGkpe3JldHVybiBTKGkpP2kodCxlLG4pOihyKGksZnVuY3Rpb24ocil7dD1yKHQsZSxuKX0pLHQpfWZ1bmN0aW9uIGxlKCl7dmFyIHQ9dGhpcy5kZWZhdWx0cz17dHJhbnNmb3JtUmVzcG9uc2U6W2FlXSx0cmFuc2Zvcm1SZXF1ZXN0OltmdW5jdGlvbih0KXtyZXR1cm4gZyh0KSYmXCJbb2JqZWN0IEZpbGVdXCIhPT1lci5jYWxsKHQpJiZcIltvYmplY3QgQmxvYl1cIiE9PWVyLmNhbGwodCkmJlwiW29iamVjdCBGb3JtRGF0YV1cIiE9PWVyLmNhbGwodCk/Rih0KTp0fV0saGVhZGVyczp7Y29tbW9uOntBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLypcIn0scG9zdDp1dChlaSkscHV0OnV0KGVpKSxwYXRjaDp1dChlaSl9LHhzcmZDb29raWVOYW1lOlwiWFNSRi1UT0tFTlwiLHhzcmZIZWFkZXJOYW1lOlwiWC1YU1JGLVRPS0VOXCIscGFyYW1TZXJpYWxpemVyOlwiJGh0dHBQYXJhbVNlcmlhbGl6ZXJcIn0sbj0hMTt0aGlzLnVzZUFwcGx5QXN5bmM9ZnVuY3Rpb24odCl7cmV0dXJuIHYodCk/KG49ISF0LHRoaXMpOm59O3ZhciBpPSEwO3RoaXMudXNlTGVnYWN5UHJvbWlzZUV4dGVuc2lvbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHYodCk/KGk9ISF0LHRoaXMpOml9O3ZhciBvPXRoaXMuaW50ZXJjZXB0b3JzPVtdO3RoaXMuJGdldD1bXCIkaHR0cEJhY2tlbmRcIixcIiQkY29va2llUmVhZGVyXCIsXCIkY2FjaGVGYWN0b3J5XCIsXCIkcm9vdFNjb3BlXCIsXCIkcVwiLFwiJGluamVjdG9yXCIsZnVuY3Rpb24oYSxzLGMsbCxmLGgpe2Z1bmN0aW9uIHAobil7ZnVuY3Rpb24gbyh0KXt2YXIgZT11KHt9LHQpO3JldHVybiBlLmRhdGE9Y2UodC5kYXRhLHQuaGVhZGVycyx0LnN0YXR1cyxzLnRyYW5zZm9ybVJlc3BvbnNlKSx0PXQuc3RhdHVzLDIwMDw9dCYmMzAwPnQ/ZTpmLnJlamVjdChlKX1mdW5jdGlvbiBhKHQsZSl7dmFyIG4saT17fTtyZXR1cm4gcih0LGZ1bmN0aW9uKHQscil7Uyh0KT8obj10KGUpLG51bGwhPW4mJihpW3JdPW4pKTppW3JdPXR9KSxpfWlmKCFnKG4pKXRocm93IGUoXCIkaHR0cFwiKShcImJhZHJlcVwiLG4pO2lmKCFiKG4udXJsKSl0aHJvdyBlKFwiJGh0dHBcIikoXCJiYWRyZXFcIixuLnVybCk7dmFyIHM9dSh7bWV0aG9kOlwiZ2V0XCIsdHJhbnNmb3JtUmVxdWVzdDp0LnRyYW5zZm9ybVJlcXVlc3QsdHJhbnNmb3JtUmVzcG9uc2U6dC50cmFuc2Zvcm1SZXNwb25zZSxwYXJhbVNlcmlhbGl6ZXI6dC5wYXJhbVNlcmlhbGl6ZXJ9LG4pO3MuaGVhZGVycz1mdW5jdGlvbihlKXt2YXIgbixyLGksbz10LmhlYWRlcnMscz11KHt9LGUuaGVhZGVycyksbz11KHt9LG8uY29tbW9uLG9bS24oZS5tZXRob2QpXSk7dDpmb3IobiBpbiBvKXtyPUtuKG4pO2ZvcihpIGluIHMpaWYoS24oaSk9PT1yKWNvbnRpbnVlIHQ7c1tuXT1vW25dfXJldHVybiBhKHMsdXQoZSkpfShuKSxzLm1ldGhvZD1ZbihzLm1ldGhvZCkscy5wYXJhbVNlcmlhbGl6ZXI9YihzLnBhcmFtU2VyaWFsaXplcik/aC5nZXQocy5wYXJhbVNlcmlhbGl6ZXIpOnMucGFyYW1TZXJpYWxpemVyO3ZhciBjPVtmdW5jdGlvbihlKXt2YXIgbj1lLmhlYWRlcnMsaT1jZShlLmRhdGEsdWUobiksdm9pZCAwLGUudHJhbnNmb3JtUmVxdWVzdCk7cmV0dXJuIG0oaSkmJnIobixmdW5jdGlvbih0LGUpe1wiY29udGVudC10eXBlXCI9PT1LbihlKSYmZGVsZXRlIG5bZV19KSxtKGUud2l0aENyZWRlbnRpYWxzKSYmIW0odC53aXRoQ3JlZGVudGlhbHMpJiYoZS53aXRoQ3JlZGVudGlhbHM9dC53aXRoQ3JlZGVudGlhbHMpLGQoZSxpKS50aGVuKG8sbyl9LHZvaWQgMF0sbD1mLndoZW4ocyk7Zm9yKHIodyxmdW5jdGlvbih0KXsodC5yZXF1ZXN0fHx0LnJlcXVlc3RFcnJvcikmJmMudW5zaGlmdCh0LnJlcXVlc3QsdC5yZXF1ZXN0RXJyb3IpLCh0LnJlc3BvbnNlfHx0LnJlc3BvbnNlRXJyb3IpJiZjLnB1c2godC5yZXNwb25zZSx0LnJlc3BvbnNlRXJyb3IpfSk7Yy5sZW5ndGg7KXtuPWMuc2hpZnQoKTt2YXIgcD1jLnNoaWZ0KCksbD1sLnRoZW4obixwKX1yZXR1cm4gaT8obC5zdWNjZXNzPWZ1bmN0aW9uKHQpe3JldHVybiBudCh0LFwiZm5cIiksbC50aGVuKGZ1bmN0aW9uKGUpe3QoZS5kYXRhLGUuc3RhdHVzLGUuaGVhZGVycyxzKX0pLGx9LGwuZXJyb3I9ZnVuY3Rpb24odCl7cmV0dXJuIG50KHQsXCJmblwiKSxsLnRoZW4obnVsbCxmdW5jdGlvbihlKXt0KGUuZGF0YSxlLnN0YXR1cyxlLmhlYWRlcnMscyl9KSxsfSk6KGwuc3VjY2Vzcz1haShcInN1Y2Nlc3NcIiksbC5lcnJvcj1haShcImVycm9yXCIpKSxsfWZ1bmN0aW9uIGQoZSxpKXtmdW5jdGlvbiBvKHQpe2lmKHQpe3ZhciBlPXt9O3JldHVybiByKHQsZnVuY3Rpb24odCxyKXtlW3JdPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIoKXt0KGUpfW4/bC4kYXBwbHlBc3luYyhyKTpsLiQkcGhhc2U/cigpOmwuJGFwcGx5KHIpfX0pLGV9fWZ1bmN0aW9uIHUodCxlLHIsaSl7ZnVuY3Rpb24gbygpe2MoZSx0LHIsaSl9YiYmKDIwMDw9dCYmMzAwPnQ/Yi5wdXQoQSxbdCxlLHNlKHIpLGldKTpiLnJlbW92ZShBKSksbj9sLiRhcHBseUFzeW5jKG8pOihvKCksbC4kJHBoYXNlfHxsLiRhcHBseSgpKX1mdW5jdGlvbiBjKHQsbixyLGkpe249LTE8PW4/bjowLCgyMDA8PW4mJjMwMD5uP3gucmVzb2x2ZTp4LnJlamVjdCkoe2RhdGE6dCxzdGF0dXM6bixoZWFkZXJzOnVlKHIpLGNvbmZpZzplLHN0YXR1c1RleHQ6aX0pfWZ1bmN0aW9uIGgodCl7Yyh0LmRhdGEsdC5zdGF0dXMsdXQodC5oZWFkZXJzKCkpLHQuc3RhdHVzVGV4dCl9ZnVuY3Rpb24gZCgpe3ZhciB0PXAucGVuZGluZ1JlcXVlc3RzLmluZGV4T2YoZSk7LTEhPT10JiZwLnBlbmRpbmdSZXF1ZXN0cy5zcGxpY2UodCwxKX12YXIgYix3LHg9Zi5kZWZlcigpLEM9eC5wcm9taXNlLEU9ZS5oZWFkZXJzLEE9JChlLnVybCxlLnBhcmFtU2VyaWFsaXplcihlLnBhcmFtcykpO3JldHVybiBwLnBlbmRpbmdSZXF1ZXN0cy5wdXNoKGUpLEMudGhlbihkLGQpLCFlLmNhY2hlJiYhdC5jYWNoZXx8ITE9PT1lLmNhY2hlfHxcIkdFVFwiIT09ZS5tZXRob2QmJlwiSlNPTlBcIiE9PWUubWV0aG9kfHwoYj1nKGUuY2FjaGUpP2UuY2FjaGU6Zyh0LmNhY2hlKT90LmNhY2hlOnkpLGImJih3PWIuZ2V0KEEpLHYodyk/dyYmUyh3LnRoZW4pP3cudGhlbihoLGgpOmFyKHcpP2Mod1sxXSx3WzBdLHV0KHdbMl0pLHdbM10pOmModywyMDAse30sXCJPS1wiKTpiLnB1dChBLEMpKSxtKHcpJiYoKHc9dW4oZS51cmwpP3MoKVtlLnhzcmZDb29raWVOYW1lfHx0LnhzcmZDb29raWVOYW1lXTp2b2lkIDApJiYoRVtlLnhzcmZIZWFkZXJOYW1lfHx0LnhzcmZIZWFkZXJOYW1lXT13KSxhKGUubWV0aG9kLEEsaSx1LEUsZS50aW1lb3V0LGUud2l0aENyZWRlbnRpYWxzLGUucmVzcG9uc2VUeXBlLG8oZS5ldmVudEhhbmRsZXJzKSxvKGUudXBsb2FkRXZlbnRIYW5kbGVycykpKSxDfWZ1bmN0aW9uICQodCxlKXtyZXR1cm4gMDxlLmxlbmd0aCYmKHQrPSgtMT09dC5pbmRleE9mKFwiP1wiKT9cIj9cIjpcIiZcIikrZSksdH12YXIgeT1jKFwiJGh0dHBcIik7dC5wYXJhbVNlcmlhbGl6ZXI9Yih0LnBhcmFtU2VyaWFsaXplcik/aC5nZXQodC5wYXJhbVNlcmlhbGl6ZXIpOnQucGFyYW1TZXJpYWxpemVyO3ZhciB3PVtdO3JldHVybiByKG8sZnVuY3Rpb24odCl7dy51bnNoaWZ0KGIodCk/aC5nZXQodCk6aC5pbnZva2UodCkpfSkscC5wZW5kaW5nUmVxdWVzdHM9W10sZnVuY3Rpb24odCl7cihhcmd1bWVudHMsZnVuY3Rpb24odCl7cFt0XT1mdW5jdGlvbihlLG4pe3JldHVybiBwKHUoe30sbnx8e30se21ldGhvZDp0LHVybDplfSkpfX0pfShcImdldFwiLFwiZGVsZXRlXCIsXCJoZWFkXCIsXCJqc29ucFwiKSxmdW5jdGlvbih0KXtyKGFyZ3VtZW50cyxmdW5jdGlvbih0KXtwW3RdPWZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gcCh1KHt9LHJ8fHt9LHttZXRob2Q6dCx1cmw6ZSxkYXRhOm59KSl9fSl9KFwicG9zdFwiLFwicHV0XCIsXCJwYXRjaFwiKSxwLmRlZmF1bHRzPXQscH1dfWZ1bmN0aW9uIGZlKCl7dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0LlhNTEh0dHBSZXF1ZXN0fX19ZnVuY3Rpb24gaGUoKXt0aGlzLiRnZXQ9W1wiJGJyb3dzZXJcIixcIiR3aW5kb3dcIixcIiRkb2N1bWVudFwiLFwiJHhockZhY3RvcnlcIixmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gcGUodCxyLHQuZGVmZXIsZS5hbmd1bGFyLmNhbGxiYWNrcyxuWzBdKX1dfWZ1bmN0aW9uIHBlKHQsZSxuLGksbyl7ZnVuY3Rpb24gYSh0LGUsbil7dmFyIHI9by5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpLGE9bnVsbDtyZXR1cm4gci50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIsci5zcmM9dCxyLmFzeW5jPSEwLGE9ZnVuY3Rpb24odCl7ci5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLGEsITEpLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsYSwhMSksby5ib2R5LnJlbW92ZUNoaWxkKHIpLHI9bnVsbDt2YXIgcz0tMSx1PVwidW5rbm93blwiO3QmJihcImxvYWRcIiE9PXQudHlwZXx8aVtlXS5jYWxsZWR8fCh0PXt0eXBlOlwiZXJyb3JcIn0pLHU9dC50eXBlLHM9XCJlcnJvclwiPT09dC50eXBlPzQwNDoyMDApLG4mJm4ocyx1KX0sci5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGEsITEpLHIuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsYSwhMSksby5ib2R5LmFwcGVuZENoaWxkKHIpLGF9cmV0dXJuIGZ1bmN0aW9uKG8scyx1LGMsbCxmLHAsZCwkLGcpe2Z1bmN0aW9uIHkoKXt4JiZ4KCksQyYmQy5hYm9ydCgpfWZ1bmN0aW9uIGIoZSxyLGksbyxhKXt2KEUpJiZuLmNhbmNlbChFKSx4PUM9bnVsbCxlKHIsaSxvLGEpLHQuJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChoKX1pZih0LiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQoKSxzPXN8fHQudXJsKCksXCJqc29ucFwiPT1LbihvKSl7dmFyIHc9XCJfXCIrKGkuY291bnRlcisrKS50b1N0cmluZygzNik7aVt3XT1mdW5jdGlvbih0KXtpW3ddLmRhdGE9dCxpW3ddLmNhbGxlZD0hMH07dmFyIHg9YShzLnJlcGxhY2UoXCJKU09OX0NBTExCQUNLXCIsXCJhbmd1bGFyLmNhbGxiYWNrcy5cIit3KSx3LGZ1bmN0aW9uKHQsZSl7YihjLHQsaVt3XS5kYXRhLFwiXCIsZSksaVt3XT1ofSl9ZWxzZXt2YXIgQz1lKG8scyk7aWYoQy5vcGVuKG8scywhMCkscihsLGZ1bmN0aW9uKHQsZSl7dih0KSYmQy5zZXRSZXF1ZXN0SGVhZGVyKGUsdCl9KSxDLm9ubG9hZD1mdW5jdGlvbigpe3ZhciB0PUMuc3RhdHVzVGV4dHx8XCJcIixlPVwicmVzcG9uc2VcImluIEM/Qy5yZXNwb25zZTpDLnJlc3BvbnNlVGV4dCxuPTEyMjM9PT1DLnN0YXR1cz8yMDQ6Qy5zdGF0dXM7MD09PW4mJihuPWU/MjAwOlwiZmlsZVwiPT1zbihzKS5wcm90b2NvbD80MDQ6MCksYihjLG4sZSxDLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLHQpfSxvPWZ1bmN0aW9uKCl7YihjLC0xLG51bGwsbnVsbCxcIlwiKX0sQy5vbmVycm9yPW8sQy5vbmFib3J0PW8scigkLGZ1bmN0aW9uKHQsZSl7Qy5hZGRFdmVudExpc3RlbmVyKGUsdCl9KSxyKGcsZnVuY3Rpb24odCxlKXtDLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKGUsdCl9KSxwJiYoQy53aXRoQ3JlZGVudGlhbHM9ITApLGQpdHJ5e0MucmVzcG9uc2VUeXBlPWR9Y2F0Y2godCl7aWYoXCJqc29uXCIhPT1kKXRocm93IHR9Qy5zZW5kKG0odSk/bnVsbDp1KX1pZigwPGYpdmFyIEU9bih5LGYpO2Vsc2UgZiYmUyhmLnRoZW4pJiZmLnRoZW4oeSl9fWZ1bmN0aW9uIGRlKCl7dmFyIHQ9XCJ7e1wiLGU9XCJ9fVwiO3RoaXMuc3RhcnRTeW1ib2w9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/KHQ9ZSx0aGlzKTp0fSx0aGlzLmVuZFN5bWJvbD1mdW5jdGlvbih0KXtyZXR1cm4gdD8oZT10LHRoaXMpOmV9LHRoaXMuJGdldD1bXCIkcGFyc2VcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsXCIkc2NlXCIsZnVuY3Rpb24obixyLGkpe2Z1bmN0aW9uIG8odCl7cmV0dXJuXCJcXFxcXFxcXFxcXFxcIit0fWZ1bmN0aW9uIGEobil7cmV0dXJuIG4ucmVwbGFjZShoLHQpLnJlcGxhY2UocCxlKX1mdW5jdGlvbiBzKHQsZSxuLHIpe3ZhciBpO3JldHVybiBpPXQuJHdhdGNoKGZ1bmN0aW9uKHQpe3JldHVybiBpKCkscih0KX0sZSxuKX1mdW5jdGlvbiBjKG8sYyxoLHApe2Z1bmN0aW9uICQodCl7dHJ5e3ZhciBlPXQ7dD1oP2kuZ2V0VHJ1c3RlZChoLGUpOmkudmFsdWVPZihlKTt2YXIgbjtpZihwJiYhdih0KSluPXQ7ZWxzZSBpZihudWxsPT10KW49XCJcIjtlbHNle3N3aXRjaCh0eXBlb2YgdCl7Y2FzZVwic3RyaW5nXCI6YnJlYWs7Y2FzZVwibnVtYmVyXCI6dD1cIlwiK3Q7YnJlYWs7ZGVmYXVsdDp0PUYodCl9bj10fXJldHVybiBufWNhdGNoKHQpe3Ioc2kuaW50ZXJyKG8sdCkpfX1pZighby5sZW5ndGh8fC0xPT09by5pbmRleE9mKHQpKXt2YXIgZztyZXR1cm4gY3x8KGM9YShvKSxnPWQoYyksZy5leHA9byxnLmV4cHJlc3Npb25zPVtdLGcuJCR3YXRjaERlbGVnYXRlPXMpLGd9cD0hIXA7dmFyIHksYix3PTAseD1bXSxDPVtdO2c9by5sZW5ndGg7Zm9yKHZhciBFPVtdLEE9W107dzxnOyl7aWYoLTE9PSh5PW8uaW5kZXhPZih0LHcpKXx8LTE9PShiPW8uaW5kZXhPZihlLHkrbCkpKXt3IT09ZyYmRS5wdXNoKGEoby5zdWJzdHJpbmcodykpKTticmVha313IT09eSYmRS5wdXNoKGEoby5zdWJzdHJpbmcodyx5KSkpLHc9by5zdWJzdHJpbmcoeStsLGIpLHgucHVzaCh3KSxDLnB1c2gobih3LCQpKSx3PWIrZixBLnB1c2goRS5sZW5ndGgpLEUucHVzaChcIlwiKX1pZihoJiYxPEUubGVuZ3RoJiZzaS50aHJvd05vY29uY2F0KG8pLCFjfHx4Lmxlbmd0aCl7dmFyIGs9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj14Lmxlbmd0aDtlPG47ZSsrKXtpZihwJiZtKHRbZV0pKXJldHVybjtFW0FbZV1dPXRbZV19cmV0dXJuIEUuam9pbihcIlwiKX07cmV0dXJuIHUoZnVuY3Rpb24odCl7dmFyIGU9MCxuPXgubGVuZ3RoLGk9QXJyYXkobik7dHJ5e2Zvcig7ZTxuO2UrKylpW2VdPUNbZV0odCk7cmV0dXJuIGsoaSl9Y2F0Y2godCl7cihzaS5pbnRlcnIobyx0KSl9fSx7ZXhwOm8sZXhwcmVzc2lvbnM6eCwkJHdhdGNoRGVsZWdhdGU6ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gdC4kd2F0Y2hHcm91cChDLGZ1bmN0aW9uKHIsaSl7dmFyIG89ayhyKTtTKGUpJiZlLmNhbGwodGhpcyxvLHIhPT1pP246byx0KSxuPW99KX19KX19dmFyIGw9dC5sZW5ndGgsZj1lLmxlbmd0aCxoPW5ldyBSZWdFeHAodC5yZXBsYWNlKC8uL2csbyksXCJnXCIpLHA9bmV3IFJlZ0V4cChlLnJlcGxhY2UoLy4vZyxvKSxcImdcIik7cmV0dXJuIGMuc3RhcnRTeW1ib2w9ZnVuY3Rpb24oKXtyZXR1cm4gdH0sYy5lbmRTeW1ib2w9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sY31dfWZ1bmN0aW9uICRlKCl7dGhpcy4kZ2V0PVtcIiRyb290U2NvcGVcIixcIiR3aW5kb3dcIixcIiRxXCIsXCIkJHFcIixcIiRicm93c2VyXCIsZnVuY3Rpb24odCxlLG4scixpKXtmdW5jdGlvbiBvKG8scyx1LGMpe2Z1bmN0aW9uIGwoKXtmP28uYXBwbHkobnVsbCxoKTpvKCQpfXZhciBmPTQ8YXJndW1lbnRzLmxlbmd0aCxoPWY/WG4uY2FsbChhcmd1bWVudHMsNCk6W10scD1lLnNldEludGVydmFsLGQ9ZS5jbGVhckludGVydmFsLCQ9MCxtPXYoYykmJiFjLGc9KG0/cjpuKS5kZWZlcigpLHk9Zy5wcm9taXNlO3JldHVybiB1PXYodSk/dTowLHkuJCRpbnRlcnZhbElkPXAoZnVuY3Rpb24oKXttP2kuZGVmZXIobCk6dC4kZXZhbEFzeW5jKGwpLGcubm90aWZ5KCQrKyksMDx1JiYkPj11JiYoZy5yZXNvbHZlKCQpLGQoeS4kJGludGVydmFsSWQpLGRlbGV0ZSBhW3kuJCRpbnRlcnZhbElkXSksbXx8dC4kYXBwbHkoKX0scyksYVt5LiQkaW50ZXJ2YWxJZF09Zyx5fXZhciBhPXt9O3JldHVybiBvLmNhbmNlbD1mdW5jdGlvbih0KXtyZXR1cm4hISh0JiZ0LiQkaW50ZXJ2YWxJZCBpbiBhKSYmKGFbdC4kJGludGVydmFsSWRdLnJlamVjdChcImNhbmNlbGVkXCIpLGUuY2xlYXJJbnRlcnZhbCh0LiQkaW50ZXJ2YWxJZCksZGVsZXRlIGFbdC4kJGludGVydmFsSWRdLCEwKX0sb31dfWZ1bmN0aW9uIG1lKHQpe3Q9dC5zcGxpdChcIi9cIik7Zm9yKHZhciBlPXQubGVuZ3RoO2UtLTspdFtlXT1XKHRbZV0pO3JldHVybiB0LmpvaW4oXCIvXCIpfWZ1bmN0aW9uIHZlKHQsZSl7dmFyIG49c24odCk7ZS4kJHByb3RvY29sPW4ucHJvdG9jb2wsZS4kJGhvc3Q9bi5ob3N0bmFtZSxlLiQkcG9ydD1sKG4ucG9ydCl8fGNpW24ucHJvdG9jb2xdfHxudWxsfWZ1bmN0aW9uIGdlKHQsZSl7dmFyIG49XCIvXCIhPT10LmNoYXJBdCgwKTtuJiYodD1cIi9cIit0KTt2YXIgcj1zbih0KTtlLiQkcGF0aD1kZWNvZGVVUklDb21wb25lbnQobiYmXCIvXCI9PT1yLnBhdGhuYW1lLmNoYXJBdCgwKT9yLnBhdGhuYW1lLnN1YnN0cmluZygxKTpyLnBhdGhuYW1lKSxlLiQkc2VhcmNoPUgoci5zZWFyY2gpLGUuJCRoYXNoPWRlY29kZVVSSUNvbXBvbmVudChyLmhhc2gpLGUuJCRwYXRoJiZcIi9cIiE9ZS4kJHBhdGguY2hhckF0KDApJiYoZS4kJHBhdGg9XCIvXCIrZS4kJHBhdGgpfWZ1bmN0aW9uIHllKHQsZSl7aWYoMD09PWUubGFzdEluZGV4T2YodCwwKSlyZXR1cm4gZS5zdWJzdHIodC5sZW5ndGgpfWZ1bmN0aW9uIGJlKHQpe3ZhciBlPXQuaW5kZXhPZihcIiNcIik7cmV0dXJuLTE9PWU/dDp0LnN1YnN0cigwLGUpfWZ1bmN0aW9uIHdlKHQpe3JldHVybiB0LnJlcGxhY2UoLygjLispfCMkLyxcIiQxXCIpfWZ1bmN0aW9uIHhlKHQsZSxuKXt0aGlzLiQkaHRtbDU9ITAsbj1ufHxcIlwiLHZlKHQsdGhpcyksdGhpcy4kJHBhcnNlPWZ1bmN0aW9uKHQpe3ZhciBuPXllKGUsdCk7aWYoIWIobikpdGhyb3cgbGkoXCJpcHRocHJmeFwiLHQsZSk7Z2Uobix0aGlzKSx0aGlzLiQkcGF0aHx8KHRoaXMuJCRwYXRoPVwiL1wiKSx0aGlzLiQkY29tcG9zZSgpfSx0aGlzLiQkY29tcG9zZT1mdW5jdGlvbigpe3ZhciB0PXoodGhpcy4kJHNlYXJjaCksbj10aGlzLiQkaGFzaD9cIiNcIitXKHRoaXMuJCRoYXNoKTpcIlwiO3RoaXMuJCR1cmw9bWUodGhpcy4kJHBhdGgpKyh0P1wiP1wiK3Q6XCJcIikrbix0aGlzLiQkYWJzVXJsPWUrdGhpcy4kJHVybC5zdWJzdHIoMSl9LHRoaXMuJCRwYXJzZUxpbmtVcmw9ZnVuY3Rpb24ocixpKXtpZihpJiZcIiNcIj09PWlbMF0pcmV0dXJuIHRoaXMuaGFzaChpLnNsaWNlKDEpKSwhMDt2YXIgbyxhO3JldHVybiB2KG89eWUodCxyKSk/KGE9byxhPXYobz15ZShuLG8pKT9lKyh5ZShcIi9cIixvKXx8byk6dCthKTp2KG89eWUoZSxyKSk/YT1lK286ZT09citcIi9cIiYmKGE9ZSksYSYmdGhpcy4kJHBhcnNlKGEpLCEhYX19ZnVuY3Rpb24gU2UodCxlLG4pe3ZlKHQsdGhpcyksdGhpcy4kJHBhcnNlPWZ1bmN0aW9uKHIpe3ZhciBpLG89eWUodCxyKXx8eWUoZSxyKTttKG8pfHxcIiNcIiE9PW8uY2hhckF0KDApP3RoaXMuJCRodG1sNT9pPW86KGk9XCJcIixtKG8pJiYodD1yLHRoaXMucmVwbGFjZSgpKSk6KGk9eWUobixvKSxtKGkpJiYoaT1vKSksZ2UoaSx0aGlzKSxyPXRoaXMuJCRwYXRoO3ZhciBvPXQsYT0vXlxcL1tBLVpdOihcXC8uKikvOzA9PT1pLmxhc3RJbmRleE9mKG8sMCkmJihpPWkucmVwbGFjZShvLFwiXCIpKSxhLmV4ZWMoaSl8fChyPShpPWEuZXhlYyhyKSk/aVsxXTpyKSx0aGlzLiQkcGF0aD1yLHRoaXMuJCRjb21wb3NlKCl9LHRoaXMuJCRjb21wb3NlPWZ1bmN0aW9uKCl7dmFyIGU9eih0aGlzLiQkc2VhcmNoKSxyPXRoaXMuJCRoYXNoP1wiI1wiK1codGhpcy4kJGhhc2gpOlwiXCI7dGhpcy4kJHVybD1tZSh0aGlzLiQkcGF0aCkrKGU/XCI/XCIrZTpcIlwiKStyLHRoaXMuJCRhYnNVcmw9dCsodGhpcy4kJHVybD9uK3RoaXMuJCR1cmw6XCJcIil9LHRoaXMuJCRwYXJzZUxpbmtVcmw9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gYmUodCk9PWJlKGUpJiYodGhpcy4kJHBhcnNlKGUpLCEwKX19ZnVuY3Rpb24gQ2UodCxlLG4pe3RoaXMuJCRodG1sNT0hMCxTZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy4kJHBhcnNlTGlua1VybD1mdW5jdGlvbihyLGkpe2lmKGkmJlwiI1wiPT09aVswXSlyZXR1cm4gdGhpcy5oYXNoKGkuc2xpY2UoMSkpLCEwO3ZhciBvLGE7cmV0dXJuIHQ9PWJlKHIpP289cjooYT15ZShlLHIpKT9vPXQrbithOmU9PT1yK1wiL1wiJiYobz1lKSxvJiZ0aGlzLiQkcGFyc2UobyksISFvfSx0aGlzLiQkY29tcG9zZT1mdW5jdGlvbigpe3ZhciBlPXoodGhpcy4kJHNlYXJjaCkscj10aGlzLiQkaGFzaD9cIiNcIitXKHRoaXMuJCRoYXNoKTpcIlwiO3RoaXMuJCR1cmw9bWUodGhpcy4kJHBhdGgpKyhlP1wiP1wiK2U6XCJcIikrcix0aGlzLiQkYWJzVXJsPXQrbit0aGlzLiQkdXJsfX1mdW5jdGlvbiBFZSh0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1t0XX19ZnVuY3Rpb24gQWUodCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG0obik/dGhpc1t0XToodGhpc1t0XT1lKG4pLHRoaXMuJCRjb21wb3NlKCksdGhpcyl9fWZ1bmN0aW9uIGtlKCl7dmFyIHQ9XCJcIixlPXtlbmFibGVkOiExLHJlcXVpcmVCYXNlOiEwLHJld3JpdGVMaW5rczohMH07dGhpcy5oYXNoUHJlZml4PWZ1bmN0aW9uKGUpe3JldHVybiB2KGUpPyh0PWUsdGhpcyk6dH0sdGhpcy5odG1sNU1vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIGsodCk/KGUuZW5hYmxlZD10LHRoaXMpOmcodCk/KGsodC5lbmFibGVkKSYmKGUuZW5hYmxlZD10LmVuYWJsZWQpLGsodC5yZXF1aXJlQmFzZSkmJihlLnJlcXVpcmVCYXNlPXQucmVxdWlyZUJhc2UpLGsodC5yZXdyaXRlTGlua3MpJiYoZS5yZXdyaXRlTGlua3M9dC5yZXdyaXRlTGlua3MpLHRoaXMpOmV9LHRoaXMuJGdldD1bXCIkcm9vdFNjb3BlXCIsXCIkYnJvd3NlclwiLFwiJHNuaWZmZXJcIixcIiRyb290RWxlbWVudFwiLFwiJHdpbmRvd1wiLGZ1bmN0aW9uKG4scixpLG8sYSl7ZnVuY3Rpb24gcyh0LGUsbil7dmFyIGk9Yy51cmwoKSxvPWMuJCRzdGF0ZTt0cnl7ci51cmwodCxlLG4pLGMuJCRzdGF0ZT1yLnN0YXRlKCl9Y2F0Y2godCl7dGhyb3cgYy51cmwoaSksYy4kJHN0YXRlPW8sdH19ZnVuY3Rpb24gdSh0LGUpe24uJGJyb2FkY2FzdChcIiRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3NcIixjLmFic1VybCgpLHQsYy4kJHN0YXRlLGUpfXZhciBjLGw7bD1yLmJhc2VIcmVmKCk7dmFyIGYsaD1yLnVybCgpO2lmKGUuZW5hYmxlZCl7aWYoIWwmJmUucmVxdWlyZUJhc2UpdGhyb3cgbGkoXCJub2Jhc2VcIik7Zj1oLnN1YnN0cmluZygwLGguaW5kZXhPZihcIi9cIixoLmluZGV4T2YoXCIvL1wiKSsyKSkrKGx8fFwiL1wiKSxsPWkuaGlzdG9yeT94ZTpDZX1lbHNlIGY9YmUoaCksbD1TZTt2YXIgcD1mLnN1YnN0cigwLGJlKGYpLmxhc3RJbmRleE9mKFwiL1wiKSsxKTtjPW5ldyBsKGYscCxcIiNcIit0KSxjLiQkcGFyc2VMaW5rVXJsKGgsaCksYy4kJHN0YXRlPXIuc3RhdGUoKTt2YXIgZD0vXlxccyooamF2YXNjcmlwdHxtYWlsdG8pOi9pO28ub24oXCJjbGlja1wiLGZ1bmN0aW9uKHQpe2lmKGUucmV3cml0ZUxpbmtzJiYhdC5jdHJsS2V5JiYhdC5tZXRhS2V5JiYhdC5zaGlmdEtleSYmMiE9dC53aGljaCYmMiE9dC5idXR0b24pe2Zvcih2YXIgaT16bih0LnRhcmdldCk7XCJhXCIhPT1UKGlbMF0pOylpZihpWzBdPT09b1swXXx8IShpPWkucGFyZW50KCkpWzBdKXJldHVybjt2YXIgcz1pLnByb3AoXCJocmVmXCIpLHU9aS5hdHRyKFwiaHJlZlwiKXx8aS5hdHRyKFwieGxpbms6aHJlZlwiKTtnKHMpJiZcIltvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddXCI9PT1zLnRvU3RyaW5nKCkmJihzPXNuKHMuYW5pbVZhbCkuaHJlZiksZC50ZXN0KHMpfHwhc3x8aS5hdHRyKFwidGFyZ2V0XCIpfHx0LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwhYy4kJHBhcnNlTGlua1VybChzLHUpfHwodC5wcmV2ZW50RGVmYXVsdCgpLGMuYWJzVXJsKCkhPXIudXJsKCkmJihuLiRhcHBseSgpLGEuYW5ndWxhcltcImZmLTY4NDIwOC1wcmV2ZW50RGVmYXVsdFwiXT0hMCkpfX0pLHdlKGMuYWJzVXJsKCkpIT13ZShoKSYmci51cmwoYy5hYnNVcmwoKSwhMCk7dmFyICQ9ITA7cmV0dXJuIHIub25VcmxDaGFuZ2UoZnVuY3Rpb24odCxlKXttKHllKHAsdCkpP2EubG9jYXRpb24uaHJlZj10OihuLiRldmFsQXN5bmMoZnVuY3Rpb24oKXt2YXIgcixpPWMuYWJzVXJsKCksbz1jLiQkc3RhdGU7dD13ZSh0KSxjLiQkcGFyc2UodCksYy4kJHN0YXRlPWUscj1uLiRicm9hZGNhc3QoXCIkbG9jYXRpb25DaGFuZ2VTdGFydFwiLHQsaSxlLG8pLmRlZmF1bHRQcmV2ZW50ZWQsYy5hYnNVcmwoKT09PXQmJihyPyhjLiQkcGFyc2UoaSksYy4kJHN0YXRlPW8scyhpLCExLG8pKTooJD0hMSx1KGksbykpKX0pLG4uJCRwaGFzZXx8bi4kZGlnZXN0KCkpfSksbi4kd2F0Y2goZnVuY3Rpb24oKXt2YXIgdD13ZShyLnVybCgpKSxlPXdlKGMuYWJzVXJsKCkpLG89ci5zdGF0ZSgpLGE9Yy4kJHJlcGxhY2UsbD10IT09ZXx8Yy4kJGh0bWw1JiZpLmhpc3RvcnkmJm8hPT1jLiQkc3RhdGU7KCR8fGwpJiYoJD0hMSxuLiRldmFsQXN5bmMoZnVuY3Rpb24oKXt2YXIgZT1jLmFic1VybCgpLHI9bi4kYnJvYWRjYXN0KFwiJGxvY2F0aW9uQ2hhbmdlU3RhcnRcIixlLHQsYy4kJHN0YXRlLG8pLmRlZmF1bHRQcmV2ZW50ZWQ7Yy5hYnNVcmwoKT09PWUmJihyPyhjLiQkcGFyc2UodCksYy4kJHN0YXRlPW8pOihsJiZzKGUsYSxvPT09Yy4kJHN0YXRlP251bGw6Yy4kJHN0YXRlKSx1KHQsbykpKX0pKSxjLiQkcmVwbGFjZT0hMX0pLGN9XX1mdW5jdGlvbiBPZSgpe3ZhciB0PSEwLGU9dGhpczt0aGlzLmRlYnVnRW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm4gdihlKT8odD1lLHRoaXMpOnR9LHRoaXMuJGdldD1bXCIkd2luZG93XCIsZnVuY3Rpb24obil7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEVycm9yJiYodC5zdGFjaz90PXQubWVzc2FnZSYmLTE9PT10LnN0YWNrLmluZGV4T2YodC5tZXNzYWdlKT9cIkVycm9yOiBcIit0Lm1lc3NhZ2UrXCJcXG5cIit0LnN0YWNrOnQuc3RhY2s6dC5zb3VyY2VVUkwmJih0PXQubWVzc2FnZStcIlxcblwiK3Quc291cmNlVVJMK1wiOlwiK3QubGluZSkpLHR9ZnVuY3Rpb24gbyh0KXt2YXIgZT1uLmNvbnNvbGV8fHt9LG89ZVt0XXx8ZS5sb2d8fGg7dD0hMTt0cnl7dD0hIW8uYXBwbHl9Y2F0Y2godCl7fXJldHVybiB0P2Z1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHIoYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3QucHVzaChpKGUpKX0pLG8uYXBwbHkoZSx0KX06ZnVuY3Rpb24odCxlKXtvKHQsbnVsbD09ZT9cIlwiOmUpfX1yZXR1cm57bG9nOm8oXCJsb2dcIiksaW5mbzpvKFwiaW5mb1wiKSx3YXJuOm8oXCJ3YXJuXCIpLGVycm9yOm8oXCJlcnJvclwiKSxkZWJ1ZzpmdW5jdGlvbigpe3ZhciBuPW8oXCJkZWJ1Z1wiKTtyZXR1cm4gZnVuY3Rpb24oKXt0JiZuLmFwcGx5KGUsYXJndW1lbnRzKX19KCl9fV19ZnVuY3Rpb24gTWUodCxlKXtpZihcIl9fZGVmaW5lR2V0dGVyX19cIj09PXR8fFwiX19kZWZpbmVTZXR0ZXJfX1wiPT09dHx8XCJfX2xvb2t1cEdldHRlcl9fXCI9PT10fHxcIl9fbG9va3VwU2V0dGVyX19cIj09PXR8fFwiX19wcm90b19fXCI9PT10KXRocm93IGhpKFwiaXNlY2ZsZFwiLGUpO3JldHVybiB0fWZ1bmN0aW9uIE5lKHQpe3JldHVybiB0K1wiXCJ9ZnVuY3Rpb24gVGUodCxlKXtpZih0KXtpZih0LmNvbnN0cnVjdG9yPT09dCl0aHJvdyBoaShcImlzZWNmblwiLGUpO2lmKHQud2luZG93PT09dCl0aHJvdyBoaShcImlzZWN3aW5kb3dcIixlKTtpZih0LmNoaWxkcmVuJiYodC5ub2RlTmFtZXx8dC5wcm9wJiZ0LmF0dHImJnQuZmluZCkpdGhyb3cgaGkoXCJpc2VjZG9tXCIsZSk7aWYodD09PU9iamVjdCl0aHJvdyBoaShcImlzZWNvYmpcIixlKX1yZXR1cm4gdH1mdW5jdGlvbiBWZSh0LGUpe2lmKHQpe2lmKHQuY29uc3RydWN0b3I9PT10KXRocm93IGhpKFwiaXNlY2ZuXCIsZSk7aWYodD09PXBpfHx0PT09ZGl8fHQ9PT0kaSl0aHJvdyBoaShcImlzZWNmZlwiLGUpfX1mdW5jdGlvbiBqZSh0LGUpe2lmKHQmJih0PT09KDApLmNvbnN0cnVjdG9yfHx0PT09KCExKS5jb25zdHJ1Y3Rvcnx8dD09PVwiXCIuY29uc3RydWN0b3J8fHQ9PT17fS5jb25zdHJ1Y3Rvcnx8dD09PVtdLmNvbnN0cnVjdG9yfHx0PT09RnVuY3Rpb24uY29uc3RydWN0b3IpKXRocm93IGhpKFwiaXNlY2FmXCIsZSl9ZnVuY3Rpb24gSWUodCxlKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgdD90OmV9ZnVuY3Rpb24gRGUodCxlKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgdD9lOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP3Q6dCtlfWZ1bmN0aW9uIFBlKHQsZSl7dmFyIG4saTtzd2l0Y2godC50eXBlKXtjYXNlIHlpLlByb2dyYW06bj0hMCxyKHQuYm9keSxmdW5jdGlvbih0KXtQZSh0LmV4cHJlc3Npb24sZSksbj1uJiZ0LmV4cHJlc3Npb24uY29uc3RhbnR9KSx0LmNvbnN0YW50PW47YnJlYWs7Y2FzZSB5aS5MaXRlcmFsOnQuY29uc3RhbnQ9ITAsdC50b1dhdGNoPVtdO2JyZWFrO2Nhc2UgeWkuVW5hcnlFeHByZXNzaW9uOlBlKHQuYXJndW1lbnQsZSksdC5jb25zdGFudD10LmFyZ3VtZW50LmNvbnN0YW50LHQudG9XYXRjaD10LmFyZ3VtZW50LnRvV2F0Y2g7YnJlYWs7Y2FzZSB5aS5CaW5hcnlFeHByZXNzaW9uOlBlKHQubGVmdCxlKSxQZSh0LnJpZ2h0LGUpLHQuY29uc3RhbnQ9dC5sZWZ0LmNvbnN0YW50JiZ0LnJpZ2h0LmNvbnN0YW50LHQudG9XYXRjaD10LmxlZnQudG9XYXRjaC5jb25jYXQodC5yaWdodC50b1dhdGNoKTticmVhaztjYXNlIHlpLkxvZ2ljYWxFeHByZXNzaW9uOlBlKHQubGVmdCxlKSxQZSh0LnJpZ2h0LGUpLHQuY29uc3RhbnQ9dC5sZWZ0LmNvbnN0YW50JiZ0LnJpZ2h0LmNvbnN0YW50LHQudG9XYXRjaD10LmNvbnN0YW50P1tdOlt0XTticmVhaztjYXNlIHlpLkNvbmRpdGlvbmFsRXhwcmVzc2lvbjpQZSh0LnRlc3QsZSksUGUodC5hbHRlcm5hdGUsZSksUGUodC5jb25zZXF1ZW50LGUpLHQuY29uc3RhbnQ9dC50ZXN0LmNvbnN0YW50JiZ0LmFsdGVybmF0ZS5jb25zdGFudCYmdC5jb25zZXF1ZW50LmNvbnN0YW50LHQudG9XYXRjaD10LmNvbnN0YW50P1tdOlt0XTticmVhaztjYXNlIHlpLklkZW50aWZpZXI6dC5jb25zdGFudD0hMSx0LnRvV2F0Y2g9W3RdO2JyZWFrO2Nhc2UgeWkuTWVtYmVyRXhwcmVzc2lvbjpQZSh0Lm9iamVjdCxlKSx0LmNvbXB1dGVkJiZQZSh0LnByb3BlcnR5LGUpLHQuY29uc3RhbnQ9dC5vYmplY3QuY29uc3RhbnQmJighdC5jb21wdXRlZHx8dC5wcm9wZXJ0eS5jb25zdGFudCksdC50b1dhdGNoPVt0XTticmVhaztjYXNlIHlpLkNhbGxFeHByZXNzaW9uOm49ISF0LmZpbHRlciYmIWUodC5jYWxsZWUubmFtZSkuJHN0YXRlZnVsLGk9W10scih0LmFyZ3VtZW50cyxmdW5jdGlvbih0KXtQZSh0LGUpLG49biYmdC5jb25zdGFudCx0LmNvbnN0YW50fHxpLnB1c2guYXBwbHkoaSx0LnRvV2F0Y2gpfSksdC5jb25zdGFudD1uLHQudG9XYXRjaD10LmZpbHRlciYmIWUodC5jYWxsZWUubmFtZSkuJHN0YXRlZnVsP2k6W3RdO2JyZWFrO2Nhc2UgeWkuQXNzaWdubWVudEV4cHJlc3Npb246UGUodC5sZWZ0LGUpLFBlKHQucmlnaHQsZSksdC5jb25zdGFudD10LmxlZnQuY29uc3RhbnQmJnQucmlnaHQuY29uc3RhbnQsdC50b1dhdGNoPVt0XTticmVhaztjYXNlIHlpLkFycmF5RXhwcmVzc2lvbjpuPSEwLGk9W10scih0LmVsZW1lbnRzLGZ1bmN0aW9uKHQpe1BlKHQsZSksbj1uJiZ0LmNvbnN0YW50LHQuY29uc3RhbnR8fGkucHVzaC5hcHBseShpLHQudG9XYXRjaCl9KSx0LmNvbnN0YW50PW4sdC50b1dhdGNoPWk7YnJlYWs7Y2FzZSB5aS5PYmplY3RFeHByZXNzaW9uOm49ITAsaT1bXSxyKHQucHJvcGVydGllcyxmdW5jdGlvbih0KXtQZSh0LnZhbHVlLGUpLG49biYmdC52YWx1ZS5jb25zdGFudCYmIXQuY29tcHV0ZWQsdC52YWx1ZS5jb25zdGFudHx8aS5wdXNoLmFwcGx5KGksdC52YWx1ZS50b1dhdGNoKX0pLHQuY29uc3RhbnQ9bix0LnRvV2F0Y2g9aTticmVhaztjYXNlIHlpLlRoaXNFeHByZXNzaW9uOnQuY29uc3RhbnQ9ITEsdC50b1dhdGNoPVtdO2JyZWFrO2Nhc2UgeWkuTG9jYWxzRXhwcmVzc2lvbjp0LmNvbnN0YW50PSExLHQudG9XYXRjaD1bXX19ZnVuY3Rpb24gUmUodCl7aWYoMT09dC5sZW5ndGgpe3Q9dFswXS5leHByZXNzaW9uO3ZhciBlPXQudG9XYXRjaDtyZXR1cm4gMSE9PWUubGVuZ3RoP2U6ZVswXSE9PXQ/ZTp2b2lkIDB9fWZ1bmN0aW9uIEZlKHQpe3JldHVybiB0LnR5cGU9PT15aS5JZGVudGlmaWVyfHx0LnR5cGU9PT15aS5NZW1iZXJFeHByZXNzaW9ufWZ1bmN0aW9uIFVlKHQpe2lmKDE9PT10LmJvZHkubGVuZ3RoJiZGZSh0LmJvZHlbMF0uZXhwcmVzc2lvbikpcmV0dXJue3R5cGU6eWkuQXNzaWdubWVudEV4cHJlc3Npb24sbGVmdDp0LmJvZHlbMF0uZXhwcmVzc2lvbixyaWdodDp7dHlwZTp5aS5OR1ZhbHVlUGFyYW1ldGVyfSxvcGVyYXRvcjpcIj1cIn19ZnVuY3Rpb24gX2UodCl7cmV0dXJuIDA9PT10LmJvZHkubGVuZ3RofHwxPT09dC5ib2R5Lmxlbmd0aCYmKHQuYm9keVswXS5leHByZXNzaW9uLnR5cGU9PT15aS5MaXRlcmFsfHx0LmJvZHlbMF0uZXhwcmVzc2lvbi50eXBlPT09eWkuQXJyYXlFeHByZXNzaW9ufHx0LmJvZHlbMF0uZXhwcmVzc2lvbi50eXBlPT09eWkuT2JqZWN0RXhwcmVzc2lvbil9ZnVuY3Rpb24gcWUodCxlKXt0aGlzLmFzdEJ1aWxkZXI9dCx0aGlzLiRmaWx0ZXI9ZX1mdW5jdGlvbiBMZSh0LGUpe3RoaXMuYXN0QnVpbGRlcj10LHRoaXMuJGZpbHRlcj1lfWZ1bmN0aW9uIEJlKHQpe3JldHVyblwiY29uc3RydWN0b3JcIj09dH1mdW5jdGlvbiBIZSh0KXtyZXR1cm4gUyh0LnZhbHVlT2YpP3QudmFsdWVPZigpOndpLmNhbGwodCl9ZnVuY3Rpb24gemUoKXt2YXIgdCxlLG49YXQoKSxpPWF0KCksbz17dHJ1ZTohMCxmYWxzZTohMSxudWxsOm51bGwsdW5kZWZpbmVkOnZvaWQgMH07dGhpcy5hZGRMaXRlcmFsPWZ1bmN0aW9uKHQsZSl7b1t0XT1lfSx0aGlzLnNldElkZW50aWZpZXJGbnM9ZnVuY3Rpb24obixyKXtyZXR1cm4gdD1uLGU9cix0aGlzfSx0aGlzLiRnZXQ9W1wiJGZpbHRlclwiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIHModCxlLHIpe3ZhciBvLHMsYztzd2l0Y2gocj1yfHxiLHR5cGVvZiB0KXtjYXNlXCJzdHJpbmdcIjpjPXQ9dC50cmltKCk7dmFyIG09cj9pOm47aWYobz1tW2NdLCFvKXtcIjpcIj09PXQuY2hhckF0KDApJiZcIjpcIj09PXQuY2hhckF0KDEpJiYocz0hMCx0PXQuc3Vic3RyaW5nKDIpKSxvPXI/eTpnO3ZhciB2PW5ldyBnaShvKTtvPW5ldyBiaSh2LGEsbykucGFyc2UodCksby5jb25zdGFudD9vLiQkd2F0Y2hEZWxlZ2F0ZT1kOnM/by4kJHdhdGNoRGVsZWdhdGU9by5saXRlcmFsP3A6ZjpvLmlucHV0cyYmKG8uJCR3YXRjaERlbGVnYXRlPWwpLHImJihvPXUobykpLG1bY109b31yZXR1cm4gJChvLGUpO2Nhc2VcImZ1bmN0aW9uXCI6cmV0dXJuICQodCxlKTtkZWZhdWx0OnJldHVybiAkKGgsZSl9fWZ1bmN0aW9uIHUodCl7ZnVuY3Rpb24gZShlLG4scixpKXt2YXIgbz1iO2I9ITA7dHJ5e3JldHVybiB0KGUsbixyLGkpfWZpbmFsbHl7Yj1vfX1pZighdClyZXR1cm4gdDtlLiQkd2F0Y2hEZWxlZ2F0ZT10LiQkd2F0Y2hEZWxlZ2F0ZSxlLmFzc2lnbj11KHQuYXNzaWduKSxlLmNvbnN0YW50PXQuY29uc3RhbnQsZS5saXRlcmFsPXQubGl0ZXJhbDtmb3IodmFyIG49MDt0LmlucHV0cyYmbjx0LmlucHV0cy5sZW5ndGg7KytuKXQuaW5wdXRzW25dPXUodC5pbnB1dHNbbl0pO3JldHVybiBlLmlucHV0cz10LmlucHV0cyxlfWZ1bmN0aW9uIGModCxlKXtyZXR1cm4gbnVsbD09dHx8bnVsbD09ZT90PT09ZTooXCJvYmplY3RcIiE9dHlwZW9mIHR8fCh0PUhlKHQpLFwib2JqZWN0XCIhPXR5cGVvZiB0KSkmJih0PT09ZXx8dCE9PXQmJmUhPT1lKX1mdW5jdGlvbiBsKHQsZSxuLHIsaSl7dmFyIG8sYT1yLmlucHV0cztpZigxPT09YS5sZW5ndGgpe3ZhciBzPWMsYT1hWzBdO3JldHVybiB0LiR3YXRjaChmdW5jdGlvbih0KXt2YXIgZT1hKHQpO3JldHVybiBjKGUscyl8fChvPXIodCx2b2lkIDAsdm9pZCAwLFtlXSkscz1lJiZIZShlKSksb30sZSxuLGkpfWZvcih2YXIgdT1bXSxsPVtdLGY9MCxoPWEubGVuZ3RoO2Y8aDtmKyspdVtmXT1jLGxbZl09bnVsbDtyZXR1cm4gdC4kd2F0Y2goZnVuY3Rpb24odCl7Zm9yKHZhciBlPSExLG49MCxpPWEubGVuZ3RoO248aTtuKyspe3ZhciBzPWFbbl0odCk7KGV8fChlPSFjKHMsdVtuXSkpKSYmKGxbbl09cyx1W25dPXMmJkhlKHMpKX1yZXR1cm4gZSYmKG89cih0LHZvaWQgMCx2b2lkIDAsbCkpLG99LGUsbixpKX1mdW5jdGlvbiBmKHQsZSxuLHIpe3ZhciBpLG87cmV0dXJuIGk9dC4kd2F0Y2goZnVuY3Rpb24odCl7cmV0dXJuIHIodCl9LGZ1bmN0aW9uKHQsbixyKXtvPXQsUyhlKSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdih0KSYmci4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKXt2KG8pJiZpKCl9KX0sbil9ZnVuY3Rpb24gcCh0LGUsbixpKXtmdW5jdGlvbiBvKHQpe3ZhciBlPSEwO3JldHVybiByKHQsZnVuY3Rpb24odCl7dih0KXx8KGU9ITEpfSksZX12YXIgYSxzO3JldHVybiBhPXQuJHdhdGNoKGZ1bmN0aW9uKHQpe3JldHVybiBpKHQpfSxmdW5jdGlvbih0LG4scil7cz10LFMoZSkmJmUuY2FsbCh0aGlzLHQsbixyKSxvKHQpJiZyLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpe28ocykmJmEoKX0pfSxuKX1mdW5jdGlvbiBkKHQsZSxuLHIpe3ZhciBpO3JldHVybiBpPXQuJHdhdGNoKGZ1bmN0aW9uKHQpe3JldHVybiBpKCkscih0KX0sZSxuKX1mdW5jdGlvbiAkKHQsZSl7aWYoIWUpcmV0dXJuIHQ7dmFyIG49dC4kJHdhdGNoRGVsZWdhdGUscj0hMSxuPW4hPT1wJiZuIT09Zj9mdW5jdGlvbihuLGksbyxhKXtyZXR1cm4gbz1yJiZhP2FbMF06dChuLGksbyxhKSxlKG8sbixpKX06ZnVuY3Rpb24obixyLGksbyl7cmV0dXJuIGk9dChuLHIsaSxvKSxuPWUoaSxuLHIpLHYoaSk/bjppfTtyZXR1cm4gdC4kJHdhdGNoRGVsZWdhdGUmJnQuJCR3YXRjaERlbGVnYXRlIT09bD9uLiQkd2F0Y2hEZWxlZ2F0ZT10LiQkd2F0Y2hEZWxlZ2F0ZTplLiRzdGF0ZWZ1bHx8KG4uJCR3YXRjaERlbGVnYXRlPWwscj0hdC5pbnB1dHMsbi5pbnB1dHM9dC5pbnB1dHM/dC5pbnB1dHM6W3RdKSxufXZhciBtPWxyKCkubm9VbnNhZmVFdmFsLGc9e2NzcDptLGV4cGVuc2l2ZUNoZWNrczohMSxsaXRlcmFsczpqKG8pLGlzSWRlbnRpZmllclN0YXJ0OlModCkmJnQsaXNJZGVudGlmaWVyQ29udGludWU6UyhlKSYmZX0seT17Y3NwOm0sZXhwZW5zaXZlQ2hlY2tzOiEwLGxpdGVyYWxzOmoobyksaXNJZGVudGlmaWVyU3RhcnQ6Uyh0KSYmdCxpc0lkZW50aWZpZXJDb250aW51ZTpTKGUpJiZlfSxiPSExO3JldHVybiBzLiQkcnVubmluZ0V4cGVuc2l2ZUNoZWNrcz1mdW5jdGlvbigpe3JldHVybiBifSxzfV19ZnVuY3Rpb24gV2UoKXt0aGlzLiRnZXQ9W1wiJHJvb3RTY29wZVwiLFwiJGV4Y2VwdGlvbkhhbmRsZXJcIixmdW5jdGlvbih0LGUpe3JldHVybiBaZShmdW5jdGlvbihlKXt0LiRldmFsQXN5bmMoZSl9LGUpfV19ZnVuY3Rpb24gR2UoKXt0aGlzLiRnZXQ9W1wiJGJyb3dzZXJcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsZnVuY3Rpb24odCxlKXtyZXR1cm4gWmUoZnVuY3Rpb24oZSl7dC5kZWZlcihlKX0sZSl9XX1mdW5jdGlvbiBaZSh0LG4pe2Z1bmN0aW9uIGkoKXt0aGlzLiQkc3RhdGU9e3N0YXR1czowfX1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2UuY2FsbCh0LG4pfX1mdW5jdGlvbiBhKGUpeyFlLnByb2Nlc3NTY2hlZHVsZWQmJmUucGVuZGluZyYmKGUucHJvY2Vzc1NjaGVkdWxlZD0hMCx0KGZ1bmN0aW9uKCl7dmFyIHQscixpO2k9ZS5wZW5kaW5nLGUucHJvY2Vzc1NjaGVkdWxlZD0hMSxlLnBlbmRpbmc9dm9pZCAwO2Zvcih2YXIgbz0wLGE9aS5sZW5ndGg7bzxhOysrbyl7cj1pW29dWzBdLHQ9aVtvXVtlLnN0YXR1c107dHJ5e1ModCk/ci5yZXNvbHZlKHQoZS52YWx1ZSkpOjE9PT1lLnN0YXR1cz9yLnJlc29sdmUoZS52YWx1ZSk6ci5yZWplY3QoZS52YWx1ZSl9Y2F0Y2godCl7ci5yZWplY3QodCksbih0KX19fSkpfWZ1bmN0aW9uIHMoKXt0aGlzLnByb21pc2U9bmV3IGl9dmFyIGM9ZShcIiRxXCIsVHlwZUVycm9yKTt1KGkucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKHQsZSxuKXtpZihtKHQpJiZtKGUpJiZtKG4pKXJldHVybiB0aGlzO3ZhciByPW5ldyBzO3JldHVybiB0aGlzLiQkc3RhdGUucGVuZGluZz10aGlzLiQkc3RhdGUucGVuZGluZ3x8W10sdGhpcy4kJHN0YXRlLnBlbmRpbmcucHVzaChbcix0LGUsbl0pLDA8dGhpcy4kJHN0YXRlLnN0YXR1cyYmYSh0aGlzLiQkc3RhdGUpLHIucHJvbWlzZX0sY2F0Y2g6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhlbihudWxsLHQpfSxmaW5hbGx5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZihlLCEwLHQpfSxmdW5jdGlvbihlKXtyZXR1cm4gZihlLCExLHQpfSxlKX19KSx1KHMucHJvdG90eXBlLHtyZXNvbHZlOmZ1bmN0aW9uKHQpe3RoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1c3x8KHQ9PT10aGlzLnByb21pc2U/dGhpcy4kJHJlamVjdChjKFwicWN5Y2xlXCIsdCkpOnRoaXMuJCRyZXNvbHZlKHQpKTtcbn0sJCRyZXNvbHZlOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dXx8KHU9ITAscy4kJHJlc29sdmUodCkpfWZ1bmN0aW9uIHIodCl7dXx8KHU9ITAscy4kJHJlamVjdCh0KSl9dmFyIGkscz10aGlzLHU9ITE7dHJ5eyhnKHQpfHxTKHQpKSYmKGk9dCYmdC50aGVuKSxTKGkpPyh0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXM9LTEsaS5jYWxsKHQsZSxyLG8odGhpcyx0aGlzLm5vdGlmeSkpKToodGhpcy5wcm9taXNlLiQkc3RhdGUudmFsdWU9dCx0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXM9MSxhKHRoaXMucHJvbWlzZS4kJHN0YXRlKSl9Y2F0Y2godCl7cih0KSxuKHQpfX0scmVqZWN0OmZ1bmN0aW9uKHQpe3RoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1c3x8dGhpcy4kJHJlamVjdCh0KX0sJCRyZWplY3Q6ZnVuY3Rpb24odCl7dGhpcy5wcm9taXNlLiQkc3RhdGUudmFsdWU9dCx0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXM9MixhKHRoaXMucHJvbWlzZS4kJHN0YXRlKX0sbm90aWZ5OmZ1bmN0aW9uKGUpe3ZhciByPXRoaXMucHJvbWlzZS4kJHN0YXRlLnBlbmRpbmc7MD49dGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzJiZyJiZyLmxlbmd0aCYmdChmdW5jdGlvbigpe2Zvcih2YXIgdCxpLG89MCxhPXIubGVuZ3RoO288YTtvKyspe2k9cltvXVswXSx0PXJbb11bM107dHJ5e2kubm90aWZ5KFModCk/dChlKTplKX1jYXRjaCh0KXtuKHQpfX19KX19KTt2YXIgbD1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBzO3JldHVybiBlP24ucmVzb2x2ZSh0KTpuLnJlamVjdCh0KSxuLnByb21pc2V9LGY9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW51bGw7dHJ5e1MobikmJihyPW4oKSl9Y2F0Y2godCl7cmV0dXJuIGwodCwhMSl9cmV0dXJuIHImJlMoci50aGVuKT9yLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbCh0LGUpfSxmdW5jdGlvbih0KXtyZXR1cm4gbCh0LCExKX0pOmwodCxlKX0saD1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1uZXcgcztyZXR1cm4gaS5yZXNvbHZlKHQpLGkucHJvbWlzZS50aGVuKGUsbixyKX0scD1mdW5jdGlvbih0KXtpZighUyh0KSl0aHJvdyBjKFwibm9yc2x2clwiLHQpO3ZhciBlPW5ldyBzO3JldHVybiB0KGZ1bmN0aW9uKHQpe2UucmVzb2x2ZSh0KX0sZnVuY3Rpb24odCl7ZS5yZWplY3QodCl9KSxlLnByb21pc2V9O3JldHVybiBwLnByb3RvdHlwZT1pLnByb3RvdHlwZSxwLmRlZmVyPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHM7cmV0dXJuIHQucmVzb2x2ZT1vKHQsdC5yZXNvbHZlKSx0LnJlamVjdD1vKHQsdC5yZWplY3QpLHQubm90aWZ5PW8odCx0Lm5vdGlmeSksdH0scC5yZWplY3Q9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHM7cmV0dXJuIGUucmVqZWN0KHQpLGUucHJvbWlzZX0scC53aGVuPWgscC5yZXNvbHZlPWgscC5hbGw9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHMsbj0wLGk9YXIodCk/W106e307cmV0dXJuIHIodCxmdW5jdGlvbih0LHIpe24rKyxoKHQpLnRoZW4oZnVuY3Rpb24odCl7aS5oYXNPd25Qcm9wZXJ0eShyKXx8KGlbcl09dCwtLW58fGUucmVzb2x2ZShpKSl9LGZ1bmN0aW9uKHQpe2kuaGFzT3duUHJvcGVydHkocil8fGUucmVqZWN0KHQpfSl9KSwwPT09biYmZS5yZXNvbHZlKGkpLGUucHJvbWlzZX0scH1mdW5jdGlvbiBKZSgpe3RoaXMuJGdldD1bXCIkd2luZG93XCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lLHI9dC5jYW5jZWxBbmltYXRpb25GcmFtZXx8dC53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZXx8dC53ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUsaT0hIW4sbz1pP2Z1bmN0aW9uKHQpe3ZhciBlPW4odCk7cmV0dXJuIGZ1bmN0aW9uKCl7cihlKX19OmZ1bmN0aW9uKHQpe3ZhciBuPWUodCwxNi42NiwhMSk7cmV0dXJuIGZ1bmN0aW9uKCl7ZS5jYW5jZWwobil9fTtyZXR1cm4gby5zdXBwb3J0ZWQ9aSxvfV19ZnVuY3Rpb24gS2UoKXtmdW5jdGlvbiB0KHQpe2Z1bmN0aW9uIGUoKXt0aGlzLiQkd2F0Y2hlcnM9dGhpcy4kJG5leHRTaWJsaW5nPXRoaXMuJCRjaGlsZEhlYWQ9dGhpcy4kJGNoaWxkVGFpbD1udWxsLHRoaXMuJCRsaXN0ZW5lcnM9e30sdGhpcy4kJGxpc3RlbmVyQ291bnQ9e30sdGhpcy4kJHdhdGNoZXJzQ291bnQ9MCx0aGlzLiRpZD0rK29yLHRoaXMuJCRDaGlsZFNjb3BlPW51bGx9cmV0dXJuIGUucHJvdG90eXBlPXQsZX12YXIgaT0xMCxvPWUoXCIkcm9vdFNjb3BlXCIpLGE9bnVsbCxzPW51bGw7dGhpcy5kaWdlc3RUdGw9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJihpPXQpLGl9LHRoaXMuJGdldD1bXCIkZXhjZXB0aW9uSGFuZGxlclwiLFwiJHBhcnNlXCIsXCIkYnJvd3NlclwiLGZ1bmN0aW9uKGUsdSxjKXtmdW5jdGlvbiBsKHQpe3QuY3VycmVudFNjb3BlLiQkZGVzdHJveWVkPSEwfWZ1bmN0aW9uIGYodCl7OT09PUhuJiYodC4kJGNoaWxkSGVhZCYmZih0LiQkY2hpbGRIZWFkKSx0LiQkbmV4dFNpYmxpbmcmJmYodC4kJG5leHRTaWJsaW5nKSksdC4kcGFyZW50PXQuJCRuZXh0U2libGluZz10LiQkcHJldlNpYmxpbmc9dC4kJGNoaWxkSGVhZD10LiQkY2hpbGRUYWlsPXQuJHJvb3Q9dC4kJHdhdGNoZXJzPW51bGx9ZnVuY3Rpb24gcCgpe3RoaXMuJGlkPSsrb3IsdGhpcy4kJHBoYXNlPXRoaXMuJHBhcmVudD10aGlzLiQkd2F0Y2hlcnM9dGhpcy4kJG5leHRTaWJsaW5nPXRoaXMuJCRwcmV2U2libGluZz10aGlzLiQkY2hpbGRIZWFkPXRoaXMuJCRjaGlsZFRhaWw9bnVsbCx0aGlzLiRyb290PXRoaXMsdGhpcy4kJGRlc3Ryb3llZD0hMSx0aGlzLiQkbGlzdGVuZXJzPXt9LHRoaXMuJCRsaXN0ZW5lckNvdW50PXt9LHRoaXMuJCR3YXRjaGVyc0NvdW50PTAsdGhpcy4kJGlzb2xhdGVCaW5kaW5ncz1udWxsfWZ1bmN0aW9uIGQodCl7aWYoeC4kJHBoYXNlKXRocm93IG8oXCJpbnByb2dcIix4LiQkcGhhc2UpO3guJCRwaGFzZT10fWZ1bmN0aW9uICQodCxlKXtkbyB0LiQkd2F0Y2hlcnNDb3VudCs9ZTt3aGlsZSh0PXQuJHBhcmVudCl9ZnVuY3Rpb24gdih0LGUsbil7ZG8gdC4kJGxpc3RlbmVyQ291bnRbbl0tPWUsMD09PXQuJCRsaXN0ZW5lckNvdW50W25dJiZkZWxldGUgdC4kJGxpc3RlbmVyQ291bnRbbl07d2hpbGUodD10LiRwYXJlbnQpfWZ1bmN0aW9uIHkoKXt9ZnVuY3Rpb24gYigpe2Zvcig7QS5sZW5ndGg7KXRyeXtBLnNoaWZ0KCkoKX1jYXRjaCh0KXtlKHQpfXM9bnVsbH1mdW5jdGlvbiB3KCl7bnVsbD09PXMmJihzPWMuZGVmZXIoZnVuY3Rpb24oKXt4LiRhcHBseShiKX0pKX1wLnByb3RvdHlwZT17Y29uc3RydWN0b3I6cCwkbmV3OmZ1bmN0aW9uKGUsbil7dmFyIHI7cmV0dXJuIG49bnx8dGhpcyxlPyhyPW5ldyBwLHIuJHJvb3Q9dGhpcy4kcm9vdCk6KHRoaXMuJCRDaGlsZFNjb3BlfHwodGhpcy4kJENoaWxkU2NvcGU9dCh0aGlzKSkscj1uZXcgdGhpcy4kJENoaWxkU2NvcGUpLHIuJHBhcmVudD1uLHIuJCRwcmV2U2libGluZz1uLiQkY2hpbGRUYWlsLG4uJCRjaGlsZEhlYWQ/KG4uJCRjaGlsZFRhaWwuJCRuZXh0U2libGluZz1yLG4uJCRjaGlsZFRhaWw9cik6bi4kJGNoaWxkSGVhZD1uLiQkY2hpbGRUYWlsPXIsKGV8fG4hPXRoaXMpJiZyLiRvbihcIiRkZXN0cm95XCIsbCkscn0sJHdhdGNoOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXUodCk7aWYoaS4kJHdhdGNoRGVsZWdhdGUpcmV0dXJuIGkuJCR3YXRjaERlbGVnYXRlKHRoaXMsZSxuLGksdCk7dmFyIG89dGhpcyxzPW8uJCR3YXRjaGVycyxjPXtmbjplLGxhc3Q6eSxnZXQ6aSxleHA6cnx8dCxlcTohIW59O3JldHVybiBhPW51bGwsUyhlKXx8KGMuZm49aCksc3x8KHM9by4kJHdhdGNoZXJzPVtdKSxzLnVuc2hpZnQoYyksJCh0aGlzLDEpLGZ1bmN0aW9uKCl7MDw9VihzLGMpJiYkKG8sLTEpLGE9bnVsbH19LCR3YXRjaEdyb3VwOmZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3U9ITEsYz8oYz0hMSxlKG8sbyxzKSk6ZShvLGkscyl9dmFyIGk9QXJyYXkodC5sZW5ndGgpLG89QXJyYXkodC5sZW5ndGgpLGE9W10scz10aGlzLHU9ITEsYz0hMDtpZighdC5sZW5ndGgpe3ZhciBsPSEwO3JldHVybiBzLiRldmFsQXN5bmMoZnVuY3Rpb24oKXtsJiZlKG8sbyxzKX0pLGZ1bmN0aW9uKCl7bD0hMX19cmV0dXJuIDE9PT10Lmxlbmd0aD90aGlzLiR3YXRjaCh0WzBdLGZ1bmN0aW9uKHQsbixyKXtvWzBdPXQsaVswXT1uLGUobyx0PT09bj9vOmkscil9KToocih0LGZ1bmN0aW9uKHQsZSl7dmFyIHI9cy4kd2F0Y2godCxmdW5jdGlvbih0LHIpe29bZV09dCxpW2VdPXIsdXx8KHU9ITAscy4kZXZhbEFzeW5jKG4pKX0pO2EucHVzaChyKX0pLGZ1bmN0aW9uKCl7Zm9yKDthLmxlbmd0aDspYS5zaGlmdCgpKCl9KX0sJHdhdGNoQ29sbGVjdGlvbjpmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHIodCl7aT10O3ZhciBlLHIsYSxzO2lmKCFtKGkpKXtpZihnKGkpKWlmKG4oaSkpZm9yKG8hPT1oJiYobz1oLCQ9by5sZW5ndGg9MCxsKyspLHQ9aS5sZW5ndGgsJCE9PXQmJihsKyssby5sZW5ndGg9JD10KSxlPTA7ZTx0O2UrKylzPW9bZV0sYT1pW2VdLHI9cyE9PXMmJmEhPT1hLHJ8fHM9PT1hfHwobCsrLG9bZV09YSk7ZWxzZXtvIT09cCYmKG89cD17fSwkPTAsbCsrKSx0PTA7Zm9yKGUgaW4gaSlKbi5jYWxsKGksZSkmJih0KyssYT1pW2VdLHM9b1tlXSxlIGluIG8/KHI9cyE9PXMmJmEhPT1hLHJ8fHM9PT1hfHwobCsrLG9bZV09YSkpOigkKyssb1tlXT1hLGwrKykpO2lmKCQ+dClmb3IoZSBpbiBsKyssbylKbi5jYWxsKGksZSl8fCgkLS0sZGVsZXRlIG9bZV0pfWVsc2UgbyE9PWkmJihvPWksbCsrKTtyZXR1cm4gbH19ci4kc3RhdGVmdWw9ITA7dmFyIGksbyxhLHM9dGhpcyxjPTE8ZS5sZW5ndGgsbD0wLGY9dSh0LHIpLGg9W10scD17fSxkPSEwLCQ9MDtyZXR1cm4gdGhpcy4kd2F0Y2goZixmdW5jdGlvbigpe2lmKGQ/KGQ9ITEsZShpLGkscykpOmUoaSxhLHMpLGMpaWYoZyhpKSlpZihuKGkpKXthPUFycmF5KGkubGVuZ3RoKTtmb3IodmFyIHQ9MDt0PGkubGVuZ3RoO3QrKylhW3RdPWlbdF19ZWxzZSBmb3IodCBpbiBhPXt9LGkpSm4uY2FsbChpLHQpJiYoYVt0XT1pW3RdKTtlbHNlIGE9aX0pfSwkZGlnZXN0OmZ1bmN0aW9uKCl7dmFyIHQsbixyLHUsbCxmLGgscCwkLG0sdixnPWksdz1bXTtkKFwiJGRpZ2VzdFwiKSxjLiQkY2hlY2tVcmxDaGFuZ2UoKSx0aGlzPT09eCYmbnVsbCE9PXMmJihjLmRlZmVyLmNhbmNlbChzKSxiKCkpLGE9bnVsbDtkb3tmb3IocD0hMSwkPXRoaXMsZj0wO2Y8Qy5sZW5ndGg7ZisrKXt0cnl7dj1DW2ZdLHYuc2NvcGUuJGV2YWwodi5leHByZXNzaW9uLHYubG9jYWxzKX1jYXRjaCh0KXtlKHQpfWE9bnVsbH1DLmxlbmd0aD0wO3Q6ZG97aWYoZj0kLiQkd2F0Y2hlcnMpZm9yKGg9Zi5sZW5ndGg7aC0tOyl0cnl7aWYodD1mW2hdKWlmKGw9dC5nZXQsKG49bCgkKSk9PT0ocj10Lmxhc3QpfHwodC5lcT9JKG4scik6XCJudW1iZXJcIj09dHlwZW9mIG4mJlwibnVtYmVyXCI9PXR5cGVvZiByJiZpc05hTihuKSYmaXNOYU4ocikpKXtpZih0PT09YSl7cD0hMTticmVhayB0fX1lbHNlIHA9ITAsYT10LHQubGFzdD10LmVxP2oobixudWxsKTpuLHU9dC5mbix1KG4scj09PXk/bjpyLCQpLDU+ZyYmKG09NC1nLHdbbV18fCh3W21dPVtdKSx3W21dLnB1c2goe21zZzpTKHQuZXhwKT9cImZuOiBcIisodC5leHAubmFtZXx8dC5leHAudG9TdHJpbmcoKSk6dC5leHAsbmV3VmFsOm4sb2xkVmFsOnJ9KSl9Y2F0Y2godCl7ZSh0KX1pZighKGY9JC4kJHdhdGNoZXJzQ291bnQmJiQuJCRjaGlsZEhlYWR8fCQhPT10aGlzJiYkLiQkbmV4dFNpYmxpbmcpKWZvcig7JCE9PXRoaXMmJiEoZj0kLiQkbmV4dFNpYmxpbmcpOykkPSQuJHBhcmVudH13aGlsZSgkPWYpO2lmKChwfHxDLmxlbmd0aCkmJiFnLS0pdGhyb3cgeC4kJHBoYXNlPW51bGwsbyhcImluZmRpZ1wiLGksdyl9d2hpbGUocHx8Qy5sZW5ndGgpO2Zvcih4LiQkcGhhc2U9bnVsbDtrPEUubGVuZ3RoOyl0cnl7RVtrKytdKCl9Y2F0Y2godCl7ZSh0KX1FLmxlbmd0aD1rPTB9LCRkZXN0cm95OmZ1bmN0aW9uKCl7aWYoIXRoaXMuJCRkZXN0cm95ZWQpe3ZhciB0PXRoaXMuJHBhcmVudDt0aGlzLiRicm9hZGNhc3QoXCIkZGVzdHJveVwiKSx0aGlzLiQkZGVzdHJveWVkPSEwLHRoaXM9PT14JiZjLiQkYXBwbGljYXRpb25EZXN0cm95ZWQoKSwkKHRoaXMsLXRoaXMuJCR3YXRjaGVyc0NvdW50KTtmb3IodmFyIGUgaW4gdGhpcy4kJGxpc3RlbmVyQ291bnQpdih0aGlzLHRoaXMuJCRsaXN0ZW5lckNvdW50W2VdLGUpO3QmJnQuJCRjaGlsZEhlYWQ9PXRoaXMmJih0LiQkY2hpbGRIZWFkPXRoaXMuJCRuZXh0U2libGluZyksdCYmdC4kJGNoaWxkVGFpbD09dGhpcyYmKHQuJCRjaGlsZFRhaWw9dGhpcy4kJHByZXZTaWJsaW5nKSx0aGlzLiQkcHJldlNpYmxpbmcmJih0aGlzLiQkcHJldlNpYmxpbmcuJCRuZXh0U2libGluZz10aGlzLiQkbmV4dFNpYmxpbmcpLHRoaXMuJCRuZXh0U2libGluZyYmKHRoaXMuJCRuZXh0U2libGluZy4kJHByZXZTaWJsaW5nPXRoaXMuJCRwcmV2U2libGluZyksdGhpcy4kZGVzdHJveT10aGlzLiRkaWdlc3Q9dGhpcy4kYXBwbHk9dGhpcy4kZXZhbEFzeW5jPXRoaXMuJGFwcGx5QXN5bmM9aCx0aGlzLiRvbj10aGlzLiR3YXRjaD10aGlzLiR3YXRjaEdyb3VwPWZ1bmN0aW9uKCl7cmV0dXJuIGh9LHRoaXMuJCRsaXN0ZW5lcnM9e30sdGhpcy4kJG5leHRTaWJsaW5nPW51bGwsZih0aGlzKX19LCRldmFsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHUodCkodGhpcyxlKX0sJGV2YWxBc3luYzpmdW5jdGlvbih0LGUpe3guJCRwaGFzZXx8Qy5sZW5ndGh8fGMuZGVmZXIoZnVuY3Rpb24oKXtDLmxlbmd0aCYmeC4kZGlnZXN0KCl9KSxDLnB1c2goe3Njb3BlOnRoaXMsZXhwcmVzc2lvbjp1KHQpLGxvY2FsczplfSl9LCQkcG9zdERpZ2VzdDpmdW5jdGlvbih0KXtFLnB1c2godCl9LCRhcHBseTpmdW5jdGlvbih0KXt0cnl7ZChcIiRhcHBseVwiKTt0cnl7cmV0dXJuIHRoaXMuJGV2YWwodCl9ZmluYWxseXt4LiQkcGhhc2U9bnVsbH19Y2F0Y2godCl7ZSh0KX1maW5hbGx5e3RyeXt4LiRkaWdlc3QoKX1jYXRjaCh0KXt0aHJvdyBlKHQpLHR9fX0sJGFwcGx5QXN5bmM6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe24uJGV2YWwodCl9dmFyIG49dGhpczt0JiZBLnB1c2goZSksdD11KHQpLHcoKX0sJG9uOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy4kJGxpc3RlbmVyc1t0XTtufHwodGhpcy4kJGxpc3RlbmVyc1t0XT1uPVtdKSxuLnB1c2goZSk7dmFyIHI9dGhpcztkbyByLiQkbGlzdGVuZXJDb3VudFt0XXx8KHIuJCRsaXN0ZW5lckNvdW50W3RdPTApLHIuJCRsaXN0ZW5lckNvdW50W3RdKys7d2hpbGUocj1yLiRwYXJlbnQpO3ZhciBpPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHI9bi5pbmRleE9mKGUpOy0xIT09ciYmKG5bcl09bnVsbCx2KGksMSx0KSl9fSwkZW1pdDpmdW5jdGlvbih0LG4pe3ZhciByLGksbyxhPVtdLHM9dGhpcyx1PSExLGM9e25hbWU6dCx0YXJnZXRTY29wZTpzLHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3U9ITB9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7Yy5kZWZhdWx0UHJldmVudGVkPSEwfSxkZWZhdWx0UHJldmVudGVkOiExfSxsPUQoW2NdLGFyZ3VtZW50cywxKTtkb3tmb3Iocj1zLiQkbGlzdGVuZXJzW3RdfHxhLGMuY3VycmVudFNjb3BlPXMsaT0wLG89ci5sZW5ndGg7aTxvO2krKylpZihyW2ldKXRyeXtyW2ldLmFwcGx5KG51bGwsbCl9Y2F0Y2godCl7ZSh0KX1lbHNlIHIuc3BsaWNlKGksMSksaS0tLG8tLTtpZih1KXJldHVybiBjLmN1cnJlbnRTY29wZT1udWxsLGM7cz1zLiRwYXJlbnR9d2hpbGUocyk7cmV0dXJuIGMuY3VycmVudFNjb3BlPW51bGwsY30sJGJyb2FkY2FzdDpmdW5jdGlvbih0LG4pe3ZhciByPXRoaXMsaT10aGlzLG89e25hbWU6dCx0YXJnZXRTY29wZTp0aGlzLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7by5kZWZhdWx0UHJldmVudGVkPSEwfSxkZWZhdWx0UHJldmVudGVkOiExfTtpZighdGhpcy4kJGxpc3RlbmVyQ291bnRbdF0pcmV0dXJuIG87Zm9yKHZhciBhLHMsdT1EKFtvXSxhcmd1bWVudHMsMSk7cj1pOyl7Zm9yKG8uY3VycmVudFNjb3BlPXIsaT1yLiQkbGlzdGVuZXJzW3RdfHxbXSxhPTAscz1pLmxlbmd0aDthPHM7YSsrKWlmKGlbYV0pdHJ5e2lbYV0uYXBwbHkobnVsbCx1KX1jYXRjaCh0KXtlKHQpfWVsc2UgaS5zcGxpY2UoYSwxKSxhLS0scy0tO2lmKCEoaT1yLiQkbGlzdGVuZXJDb3VudFt0XSYmci4kJGNoaWxkSGVhZHx8ciE9PXRoaXMmJnIuJCRuZXh0U2libGluZykpZm9yKDtyIT09dGhpcyYmIShpPXIuJCRuZXh0U2libGluZyk7KXI9ci4kcGFyZW50fXJldHVybiBvLmN1cnJlbnRTY29wZT1udWxsLG99fTt2YXIgeD1uZXcgcCxDPXguJCRhc3luY1F1ZXVlPVtdLEU9eC4kJHBvc3REaWdlc3RRdWV1ZT1bXSxBPXguJCRhcHBseUFzeW5jUXVldWU9W10saz0wO3JldHVybiB4fV19ZnVuY3Rpb24gWWUoKXt2YXIgdD0vXlxccyooaHR0cHM/fGZ0cHxtYWlsdG98dGVsfGZpbGUpOi8sZT0vXlxccyooKGh0dHBzP3xmdHB8ZmlsZXxibG9iKTp8ZGF0YTppbWFnZVxcLykvO3RoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHYoZSk/KHQ9ZSx0aGlzKTp0fSx0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbih0KXtyZXR1cm4gdih0KT8oZT10LHRoaXMpOmV9LHRoaXMuJGdldD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBpLG89cj9lOnQ7cmV0dXJuIGk9c24obikuaHJlZixcIlwiPT09aXx8aS5tYXRjaChvKT9uOlwidW5zYWZlOlwiK2l9fX1mdW5jdGlvbiBYZSh0KXtpZihcInNlbGZcIj09PXQpcmV0dXJuIHQ7aWYoYih0KSl7aWYoLTE8dC5pbmRleE9mKFwiKioqXCIpKXRocm93IHhpKFwiaXdjYXJkXCIsdCk7cmV0dXJuIHQ9Y3IodCkucmVwbGFjZShcIlxcXFwqXFxcXCpcIixcIi4qXCIpLnJlcGxhY2UoXCJcXFxcKlwiLFwiW146Ly4/JjtdKlwiKSxuZXcgUmVnRXhwKFwiXlwiK3QrXCIkXCIpfWlmKEModCkpcmV0dXJuIG5ldyBSZWdFeHAoXCJeXCIrdC5zb3VyY2UrXCIkXCIpO3Rocm93IHhpKFwiaW1hdGNoZXJcIil9ZnVuY3Rpb24gUWUodCl7dmFyIGU9W107cmV0dXJuIHYodCkmJnIodCxmdW5jdGlvbih0KXtlLnB1c2goWGUodCkpfSksZX1mdW5jdGlvbiB0bigpe3RoaXMuU0NFX0NPTlRFWFRTPVNpO3ZhciB0PVtcInNlbGZcIl0sZT1bXTt0aGlzLnJlc291cmNlVXJsV2hpdGVsaXN0PWZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiYodD1RZShlKSksdH0sdGhpcy5yZXNvdXJjZVVybEJsYWNrbGlzdD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmKGU9UWUodCkpLGV9LHRoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixmdW5jdGlvbihuKXtmdW5jdGlvbiByKHQsZSl7cmV0dXJuXCJzZWxmXCI9PT10P3VuKGUpOiEhdC5leGVjKGUuaHJlZil9ZnVuY3Rpb24gaSh0KXt2YXIgZT1mdW5jdGlvbih0KXt0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHR9fTtyZXR1cm4gdCYmKGUucHJvdG90eXBlPW5ldyB0KSxlLnByb3RvdHlwZS52YWx1ZU9mPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUoKX0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpLnRvU3RyaW5nKCl9LGV9dmFyIG89ZnVuY3Rpb24odCl7dGhyb3cgeGkoXCJ1bnNhZmVcIil9O24uaGFzKFwiJHNhbml0aXplXCIpJiYobz1uLmdldChcIiRzYW5pdGl6ZVwiKSk7dmFyIGE9aSgpLHM9e307cmV0dXJuIHNbU2kuSFRNTF09aShhKSxzW1NpLkNTU109aShhKSxzW1NpLlVSTF09aShhKSxzW1NpLkpTXT1pKGEpLHNbU2kuUkVTT1VSQ0VfVVJMXT1pKHNbU2kuVVJMXSkse3RydXN0QXM6ZnVuY3Rpb24odCxlKXt2YXIgbj1zLmhhc093blByb3BlcnR5KHQpP3NbdF06bnVsbDtpZighbil0aHJvdyB4aShcImljb250ZXh0XCIsdCxlKTtpZihudWxsPT09ZXx8bShlKXx8XCJcIj09PWUpcmV0dXJuIGU7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgeGkoXCJpdHlwZVwiLHQpO3JldHVybiBuZXcgbihlKX0sZ2V0VHJ1c3RlZDpmdW5jdGlvbihuLGkpe2lmKG51bGw9PT1pfHxtKGkpfHxcIlwiPT09aSlyZXR1cm4gaTt2YXIgYT1zLmhhc093blByb3BlcnR5KG4pP3Nbbl06bnVsbDtpZihhJiZpIGluc3RhbmNlb2YgYSlyZXR1cm4gaS4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO2lmKG49PT1TaS5SRVNPVVJDRV9VUkwpe3ZhciB1LGMsYT1zbihpLnRvU3RyaW5nKCkpLGw9ITE7Zm9yKHU9MCxjPXQubGVuZ3RoO3U8Yzt1KyspaWYocih0W3VdLGEpKXtsPSEwO2JyZWFrfWlmKGwpZm9yKHU9MCxjPWUubGVuZ3RoO3U8Yzt1KyspaWYocihlW3VdLGEpKXtsPSExO2JyZWFrfWlmKGwpcmV0dXJuIGk7dGhyb3cgeGkoXCJpbnNlY3VybFwiLGkudG9TdHJpbmcoKSl9aWYobj09PVNpLkhUTUwpcmV0dXJuIG8oaSk7dGhyb3cgeGkoXCJ1bnNhZmVcIil9LHZhbHVlT2Y6ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBhP3QuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTp0fX19XX1mdW5jdGlvbiBlbigpe3ZhciB0PSEwO3RoaXMuZW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmKHQ9ISFlKSx0fSx0aGlzLiRnZXQ9W1wiJHBhcnNlXCIsXCIkc2NlRGVsZWdhdGVcIixmdW5jdGlvbihlLG4pe2lmKHQmJjg+SG4pdGhyb3cgeGkoXCJpZXF1aXJrc1wiKTt2YXIgaT11dChTaSk7aS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdH0saS50cnVzdEFzPW4udHJ1c3RBcyxpLmdldFRydXN0ZWQ9bi5nZXRUcnVzdGVkLGkudmFsdWVPZj1uLnZhbHVlT2YsdHx8KGkudHJ1c3RBcz1pLmdldFRydXN0ZWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZX0saS52YWx1ZU9mPXApLGkucGFyc2VBcz1mdW5jdGlvbih0LG4pe3ZhciByPWUobik7cmV0dXJuIHIubGl0ZXJhbCYmci5jb25zdGFudD9yOmUobixmdW5jdGlvbihlKXtyZXR1cm4gaS5nZXRUcnVzdGVkKHQsZSl9KX07dmFyIG89aS5wYXJzZUFzLGE9aS5nZXRUcnVzdGVkLHM9aS50cnVzdEFzO3JldHVybiByKFNpLGZ1bmN0aW9uKHQsZSl7dmFyIG49S24oZSk7aVtsdChcInBhcnNlX2FzX1wiK24pXT1mdW5jdGlvbihlKXtyZXR1cm4gbyh0LGUpfSxpW2x0KFwiZ2V0X3RydXN0ZWRfXCIrbildPWZ1bmN0aW9uKGUpe3JldHVybiBhKHQsZSl9LGlbbHQoXCJ0cnVzdF9hc19cIituKV09ZnVuY3Rpb24oZSl7cmV0dXJuIHModCxlKX19KSxpfV19ZnVuY3Rpb24gbm4oKXt0aGlzLiRnZXQ9W1wiJHdpbmRvd1wiLFwiJGRvY3VtZW50XCIsZnVuY3Rpb24odCxlKXt2YXIgbixyPXt9LGk9ISh0LmNocm9tZSYmdC5jaHJvbWUuYXBwJiZ0LmNocm9tZS5hcHAucnVudGltZSkmJnQuaGlzdG9yeSYmdC5oaXN0b3J5LnB1c2hTdGF0ZSxvPWwoKC9hbmRyb2lkIChcXGQrKS8uZXhlYyhLbigodC5uYXZpZ2F0b3J8fHt9KS51c2VyQWdlbnQpKXx8W10pWzFdKSxhPS9Cb3hlZS9pLnRlc3QoKHQubmF2aWdhdG9yfHx7fSkudXNlckFnZW50KSxzPWVbMF18fHt9LHU9L14oTW96fHdlYmtpdHxtcykoPz1bQS1aXSkvLGM9cy5ib2R5JiZzLmJvZHkuc3R5bGUsZj0hMSxoPSExO2lmKGMpe2Zvcih2YXIgcCBpbiBjKWlmKGY9dS5leGVjKHApKXtuPWZbMF0sbj1uWzBdLnRvVXBwZXJDYXNlKCkrbi5zdWJzdHIoMSk7YnJlYWt9bnx8KG49XCJXZWJraXRPcGFjaXR5XCJpbiBjJiZcIndlYmtpdFwiKSxmPSEhKFwidHJhbnNpdGlvblwiaW4gY3x8bitcIlRyYW5zaXRpb25cImluIGMpLGg9ISEoXCJhbmltYXRpb25cImluIGN8fG4rXCJBbmltYXRpb25cImluIGMpLCFvfHxmJiZofHwoZj1iKGMud2Via2l0VHJhbnNpdGlvbiksaD1iKGMud2Via2l0QW5pbWF0aW9uKSl9cmV0dXJue2hpc3Rvcnk6ISghaXx8ND5vfHxhKSxoYXNFdmVudDpmdW5jdGlvbih0KXtpZihcImlucHV0XCI9PT10JiYxMT49SG4pcmV0dXJuITE7aWYobShyW3RdKSl7dmFyIGU9cy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JbdF09XCJvblwiK3QgaW4gZX1yZXR1cm4gclt0XX0sY3NwOmxyKCksdmVuZG9yUHJlZml4Om4sdHJhbnNpdGlvbnM6ZixhbmltYXRpb25zOmgsYW5kcm9pZDpvfX1dfWZ1bmN0aW9uIHJuKCl7dmFyIHQ7dGhpcy5odHRwT3B0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gZT8odD1lLHRoaXMpOnR9LHRoaXMuJGdldD1bXCIkdGVtcGxhdGVDYWNoZVwiLFwiJGh0dHBcIixcIiRxXCIsXCIkc2NlXCIsZnVuY3Rpb24oZSxuLHIsaSl7ZnVuY3Rpb24gbyhhLHMpe28udG90YWxQZW5kaW5nUmVxdWVzdHMrKyxiKGEpJiYhbShlLmdldChhKSl8fChhPWkuZ2V0VHJ1c3RlZFJlc291cmNlVXJsKGEpKTt2YXIgYz1uLmRlZmF1bHRzJiZuLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlO3JldHVybiBhcihjKT9jPWMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0IT09YWV9KTpjPT09YWUmJihjPW51bGwpLG4uZ2V0KGEsdSh7Y2FjaGU6ZSx0cmFuc2Zvcm1SZXNwb25zZTpjfSx0KSkuZmluYWxseShmdW5jdGlvbigpe28udG90YWxQZW5kaW5nUmVxdWVzdHMtLX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUucHV0KGEsdC5kYXRhKSx0LmRhdGF9LGZ1bmN0aW9uKHQpe2lmKCFzKXRocm93IENpKFwidHBsb2FkXCIsYSx0LnN0YXR1cyx0LnN0YXR1c1RleHQpO3JldHVybiByLnJlamVjdCh0KX0pfXJldHVybiBvLnRvdGFsUGVuZGluZ1JlcXVlc3RzPTAsb31dfWZ1bmN0aW9uIG9uKCl7dGhpcy4kZ2V0PVtcIiRyb290U2NvcGVcIixcIiRicm93c2VyXCIsXCIkbG9jYXRpb25cIixmdW5jdGlvbih0LGUsbil7cmV0dXJue2ZpbmRCaW5kaW5nczpmdW5jdGlvbih0LGUsbil7dD10LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJuZy1iaW5kaW5nXCIpO3ZhciBpPVtdO3JldHVybiByKHQsZnVuY3Rpb24odCl7dmFyIG89aXIuZWxlbWVudCh0KS5kYXRhKFwiJGJpbmRpbmdcIik7byYmcihvLGZ1bmN0aW9uKHIpe24/bmV3IFJlZ0V4cChcIihefFxcXFxzKVwiK2NyKGUpK1wiKFxcXFxzfFxcXFx8fCQpXCIpLnRlc3QocikmJmkucHVzaCh0KTotMSE9ci5pbmRleE9mKGUpJiZpLnB1c2godCl9KX0pLGl9LGZpbmRNb2RlbHM6ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1bXCJuZy1cIixcImRhdGEtbmctXCIsXCJuZ1xcXFw6XCJdLGk9MDtpPHIubGVuZ3RoOysraSl7dmFyIG89dC5xdWVyeVNlbGVjdG9yQWxsKFwiW1wiK3JbaV0rXCJtb2RlbFwiKyhuP1wiPVwiOlwiKj1cIikrJ1wiJytlKydcIl0nKTtpZihvLmxlbmd0aClyZXR1cm4gb319LGdldExvY2F0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIG4udXJsKCl9LHNldExvY2F0aW9uOmZ1bmN0aW9uKGUpe2UhPT1uLnVybCgpJiYobi51cmwoZSksdC4kZGlnZXN0KCkpfSx3aGVuU3RhYmxlOmZ1bmN0aW9uKHQpe2Uubm90aWZ5V2hlbk5vT3V0c3RhbmRpbmdSZXF1ZXN0cyh0KX19fV19ZnVuY3Rpb24gYW4oKXt0aGlzLiRnZXQ9W1wiJHJvb3RTY29wZVwiLFwiJGJyb3dzZXJcIixcIiRxXCIsXCIkJHFcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsZnVuY3Rpb24odCxlLG4scixpKXtmdW5jdGlvbiBvKG8scyx1KXtTKG8pfHwodT1zLHM9byxvPWgpO3ZhciBjLGw9WG4uY2FsbChhcmd1bWVudHMsMyksZj12KHUpJiYhdSxwPShmP3I6bikuZGVmZXIoKSxkPXAucHJvbWlzZTtyZXR1cm4gYz1lLmRlZmVyKGZ1bmN0aW9uKCl7dHJ5e3AucmVzb2x2ZShvLmFwcGx5KG51bGwsbCkpfWNhdGNoKHQpe3AucmVqZWN0KHQpLGkodCl9ZmluYWxseXtkZWxldGUgYVtkLiQkdGltZW91dElkXX1mfHx0LiRhcHBseSgpfSxzKSxkLiQkdGltZW91dElkPWMsYVtjXT1wLGR9dmFyIGE9e307cmV0dXJuIG8uY2FuY2VsPWZ1bmN0aW9uKHQpe3JldHVybiEhKHQmJnQuJCR0aW1lb3V0SWQgaW4gYSkmJihhW3QuJCR0aW1lb3V0SWRdLnJlamVjdChcImNhbmNlbGVkXCIpLGRlbGV0ZSBhW3QuJCR0aW1lb3V0SWRdLGUuZGVmZXIuY2FuY2VsKHQuJCR0aW1lb3V0SWQpKX0sb31dfWZ1bmN0aW9uIHNuKHQpe3JldHVybiBIbiYmKEVpLnNldEF0dHJpYnV0ZShcImhyZWZcIix0KSx0PUVpLmhyZWYpLEVpLnNldEF0dHJpYnV0ZShcImhyZWZcIix0KSx7aHJlZjpFaS5ocmVmLHByb3RvY29sOkVpLnByb3RvY29sP0VpLnByb3RvY29sLnJlcGxhY2UoLzokLyxcIlwiKTpcIlwiLGhvc3Q6RWkuaG9zdCxzZWFyY2g6RWkuc2VhcmNoP0VpLnNlYXJjaC5yZXBsYWNlKC9eXFw/LyxcIlwiKTpcIlwiLGhhc2g6RWkuaGFzaD9FaS5oYXNoLnJlcGxhY2UoL14jLyxcIlwiKTpcIlwiLGhvc3RuYW1lOkVpLmhvc3RuYW1lLHBvcnQ6RWkucG9ydCxwYXRobmFtZTpcIi9cIj09PUVpLnBhdGhuYW1lLmNoYXJBdCgwKT9FaS5wYXRobmFtZTpcIi9cIitFaS5wYXRobmFtZX19ZnVuY3Rpb24gdW4odCl7cmV0dXJuIHQ9Yih0KT9zbih0KTp0LHQucHJvdG9jb2w9PT1BaS5wcm90b2NvbCYmdC5ob3N0PT09QWkuaG9zdH1mdW5jdGlvbiBjbigpe3RoaXMuJGdldD1kKHQpfWZ1bmN0aW9uIGxuKHQpe2Z1bmN0aW9uIGUodCl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQodCl9Y2F0Y2goZSl7cmV0dXJuIHR9fXZhciBuPXRbMF18fHt9LHI9e30saT1cIlwiO3JldHVybiBmdW5jdGlvbigpe3ZhciB0LG8sYSxzLHU7aWYodD1uLmNvb2tpZXx8XCJcIix0IT09aSlmb3IoaT10LHQ9aS5zcGxpdChcIjsgXCIpLHI9e30sYT0wO2E8dC5sZW5ndGg7YSsrKW89dFthXSxzPW8uaW5kZXhPZihcIj1cIiksMDxzJiYodT1lKG8uc3Vic3RyaW5nKDAscykpLG0oclt1XSkmJihyW3VdPWUoby5zdWJzdHJpbmcocysxKSkpKTtyZXR1cm4gcn19ZnVuY3Rpb24gZm4oKXt0aGlzLiRnZXQ9bG59ZnVuY3Rpb24gaG4odCl7ZnVuY3Rpb24gZShuLGkpe2lmKGcobikpe3ZhciBvPXt9O3JldHVybiByKG4sZnVuY3Rpb24odCxuKXtvW25dPWUobix0KX0pLG99cmV0dXJuIHQuZmFjdG9yeShuK1wiRmlsdGVyXCIsaSl9dGhpcy5yZWdpc3Rlcj1lLHRoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQuZ2V0KGUrXCJGaWx0ZXJcIil9fV0sZShcImN1cnJlbmN5XCIsdm4pLGUoXCJkYXRlXCIsT24pLGUoXCJmaWx0ZXJcIixwbiksZShcImpzb25cIixNbiksZShcImxpbWl0VG9cIixObiksZShcImxvd2VyY2FzZVwiLGppKSxlKFwibnVtYmVyXCIsZ24pLGUoXCJvcmRlckJ5XCIsVm4pLGUoXCJ1cHBlcmNhc2VcIixJaSl9ZnVuY3Rpb24gcG4oKXtyZXR1cm4gZnVuY3Rpb24odCxyLGkpe2lmKCFuKHQpKXtpZihudWxsPT10KXJldHVybiB0O3Rocm93IGUoXCJmaWx0ZXJcIikoXCJub3RhcnJheVwiLHQpfXZhciBvO3N3aXRjaChtbihyKSl7Y2FzZVwiZnVuY3Rpb25cIjpicmVhaztjYXNlXCJib29sZWFuXCI6Y2FzZVwibnVsbFwiOmNhc2VcIm51bWJlclwiOmNhc2VcInN0cmluZ1wiOm89ITA7Y2FzZVwib2JqZWN0XCI6cj1kbihyLGksbyk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdH1yZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKHQscil9fWZ1bmN0aW9uIGRuKHQsZSxuKXt2YXIgcj1nKHQpJiZcIiRcImluIHQ7cmV0dXJuITA9PT1lP2U9STpTKGUpfHwoZT1mdW5jdGlvbih0LGUpe3JldHVybiFtKHQpJiYobnVsbD09PXR8fG51bGw9PT1lP3Q9PT1lOiEoZyhlKXx8Zyh0KSYmISQodCkpJiYodD1LbihcIlwiK3QpLGU9S24oXCJcIitlKSwtMSE9PXQuaW5kZXhPZihlKSkpfSksZnVuY3Rpb24oaSl7cmV0dXJuIHImJiFnKGkpPyRuKGksdC4kLGUsITEpOiRuKGksdCxlLG4pfX1mdW5jdGlvbiAkbih0LGUsbixyLGkpe3ZhciBvPW1uKHQpLGE9bW4oZSk7aWYoXCJzdHJpbmdcIj09PWEmJlwiIVwiPT09ZS5jaGFyQXQoMCkpcmV0dXJuISRuKHQsZS5zdWJzdHJpbmcoMSksbixyKTtpZihhcih0KSlyZXR1cm4gdC5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiAkbih0LGUsbixyKX0pO3N3aXRjaChvKXtjYXNlXCJvYmplY3RcIjp2YXIgcztpZihyKXtmb3IocyBpbiB0KWlmKFwiJFwiIT09cy5jaGFyQXQoMCkmJiRuKHRbc10sZSxuLCEwKSlyZXR1cm4hMDtyZXR1cm4haSYmJG4odCxlLG4sITEpfWlmKFwib2JqZWN0XCI9PT1hKXtmb3IocyBpbiBlKWlmKGk9ZVtzXSwhUyhpKSYmIW0oaSkmJihvPVwiJFwiPT09cywhJG4obz90OnRbc10saSxuLG8sbykpKXJldHVybiExO3JldHVybiEwfXJldHVybiBuKHQsZSk7Y2FzZVwiZnVuY3Rpb25cIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiBuKHQsZSl9fWZ1bmN0aW9uIG1uKHQpe3JldHVybiBudWxsPT09dD9cIm51bGxcIjp0eXBlb2YgdH1mdW5jdGlvbiB2bih0KXt2YXIgZT10Lk5VTUJFUl9GT1JNQVRTO3JldHVybiBmdW5jdGlvbih0LG4scil7cmV0dXJuIG0obikmJihuPWUuQ1VSUkVOQ1lfU1lNKSxtKHIpJiYocj1lLlBBVFRFUk5TWzFdLm1heEZyYWMpLG51bGw9PXQ/dDp3bih0LGUuUEFUVEVSTlNbMV0sZS5HUk9VUF9TRVAsZS5ERUNJTUFMX1NFUCxyKS5yZXBsYWNlKC9cXHUwMEE0L2csbil9fWZ1bmN0aW9uIGduKHQpe3ZhciBlPXQuTlVNQkVSX0ZPUk1BVFM7cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIG51bGw9PXQ/dDp3bih0LGUuUEFUVEVSTlNbMF0sZS5HUk9VUF9TRVAsZS5ERUNJTUFMX1NFUCxuKX19ZnVuY3Rpb24geW4odCl7dmFyIGUsbixyLGksbyxhPTA7Zm9yKC0xPChuPXQuaW5kZXhPZihPaSkpJiYodD10LnJlcGxhY2UoT2ksXCJcIikpLDA8KHI9dC5zZWFyY2goL2UvaSkpPygwPm4mJihuPXIpLG4rPSt0LnNsaWNlKHIrMSksdD10LnN1YnN0cmluZygwLHIpKTowPm4mJihuPXQubGVuZ3RoKSxyPTA7dC5jaGFyQXQocik9PU1pO3IrKyk7aWYocj09KG89dC5sZW5ndGgpKWU9WzBdLG49MTtlbHNle2ZvcihvLS07dC5jaGFyQXQobyk9PU1pOylvLS07Zm9yKG4tPXIsZT1bXSxpPTA7cjw9bztyKyssaSsrKWVbaV09K3QuY2hhckF0KHIpfXJldHVybiBuPmtpJiYoZT1lLnNwbGljZSgwLGtpLTEpLGE9bi0xLG49MSkse2Q6ZSxlOmEsaTpufX1mdW5jdGlvbiBibih0LGUsbixyKXt2YXIgaT10LmQsbz1pLmxlbmd0aC10Lmk7aWYoZT1tKGUpP01hdGgubWluKE1hdGgubWF4KG4sbykscik6K2Usbj1lK3QuaSxyPWlbbl0sMDxuKXtpLnNwbGljZShNYXRoLm1heCh0LmksbikpO2Zvcih2YXIgYT1uO2E8aS5sZW5ndGg7YSsrKWlbYV09MH1lbHNlIGZvcihvPU1hdGgubWF4KDAsbyksdC5pPTEsaS5sZW5ndGg9TWF0aC5tYXgoMSxuPWUrMSksaVswXT0wLGE9MTthPG47YSsrKWlbYV09MDtpZig1PD1yKWlmKDA+bi0xKXtmb3Iocj0wO3I+bjtyLS0paS51bnNoaWZ0KDApLHQuaSsrO2kudW5zaGlmdCgxKSx0LmkrK31lbHNlIGlbbi0xXSsrO2Zvcig7bzxNYXRoLm1heCgwLGUpO28rKylpLnB1c2goMCk7KGU9aS5yZWR1Y2VSaWdodChmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gZSs9dCxyW25dPWUlMTAsTWF0aC5mbG9vcihlLzEwKX0sMCkpJiYoaS51bnNoaWZ0KGUpLHQuaSsrKX1mdW5jdGlvbiB3bih0LGUsbixyLGkpe2lmKCFiKHQpJiYhdyh0KXx8aXNOYU4odCkpcmV0dXJuXCJcIjt2YXIgbz0haXNGaW5pdGUodCksYT0hMSxzPU1hdGguYWJzKHQpK1wiXCIsdT1cIlwiO2lmKG8pdT1cIuKInlwiO2Vsc2V7Zm9yKGE9eW4ocyksYm4oYSxpLGUubWluRnJhYyxlLm1heEZyYWMpLHU9YS5kLHM9YS5pLGk9YS5lLG89W10sYT11LnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0JiYhZX0sITApOzA+czspdS51bnNoaWZ0KDApLHMrKztmb3IoMDxzP289dS5zcGxpY2Uocyx1Lmxlbmd0aCk6KG89dSx1PVswXSkscz1bXSx1Lmxlbmd0aD49ZS5sZ1NpemUmJnMudW5zaGlmdCh1LnNwbGljZSgtZS5sZ1NpemUsdS5sZW5ndGgpLmpvaW4oXCJcIikpO3UubGVuZ3RoPmUuZ1NpemU7KXMudW5zaGlmdCh1LnNwbGljZSgtZS5nU2l6ZSx1Lmxlbmd0aCkuam9pbihcIlwiKSk7dS5sZW5ndGgmJnMudW5zaGlmdCh1LmpvaW4oXCJcIikpLHU9cy5qb2luKG4pLG8ubGVuZ3RoJiYodSs9citvLmpvaW4oXCJcIikpLGkmJih1Kz1cImUrXCIraSl9cmV0dXJuIDA+dCYmIWE/ZS5uZWdQcmUrdStlLm5lZ1N1ZjplLnBvc1ByZSt1K2UucG9zU3VmfWZ1bmN0aW9uIHhuKHQsZSxuLHIpe3ZhciBpPVwiXCI7Zm9yKCgwPnR8fHImJjA+PXQpJiYocj90PS10KzE6KHQ9LXQsaT1cIi1cIikpLHQ9XCJcIit0O3QubGVuZ3RoPGU7KXQ9TWkrdDtyZXR1cm4gbiYmKHQ9dC5zdWJzdHIodC5sZW5ndGgtZSkpLGkrdH1mdW5jdGlvbiBTbih0LGUsbixyLGkpe3JldHVybiBuPW58fDAsZnVuY3Rpb24obyl7cmV0dXJuIG89b1tcImdldFwiK3RdKCksKDA8bnx8bz4tbikmJihvKz1uKSwwPT09byYmLTEyPT1uJiYobz0xMikseG4obyxlLHIsaSl9fWZ1bmN0aW9uIENuKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24ocixpKXt2YXIgbz1yW1wiZ2V0XCIrdF0oKSxhPVluKChuP1wiU1RBTkRBTE9ORVwiOlwiXCIpKyhlP1wiU0hPUlRcIjpcIlwiKSt0KTtyZXR1cm4gaVthXVtvXX19ZnVuY3Rpb24gRW4odCl7dmFyIGU9bmV3IERhdGUodCwwLDEpLmdldERheSgpO3JldHVybiBuZXcgRGF0ZSh0LDAsKDQ+PWU/NToxMiktZSl9ZnVuY3Rpb24gQW4odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPUVuKGUuZ2V0RnVsbFllYXIoKSk7cmV0dXJuIGU9K25ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKSxlLmdldE1vbnRoKCksZS5nZXREYXRlKCkrKDQtZS5nZXREYXkoKSkpLStuLGU9MStNYXRoLnJvdW5kKGUvNjA0OGU1KSx4bihlLHQpfX1mdW5jdGlvbiBrbih0LGUpe3JldHVybiAwPj10LmdldEZ1bGxZZWFyKCk/ZS5FUkFTWzBdOmUuRVJBU1sxXX1mdW5jdGlvbiBPbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBlO2lmKGU9dC5tYXRjaChuKSl7dD1uZXcgRGF0ZSgwKTt2YXIgcj0wLGk9MCxvPWVbOF0/dC5zZXRVVENGdWxsWWVhcjp0LnNldEZ1bGxZZWFyLGE9ZVs4XT90LnNldFVUQ0hvdXJzOnQuc2V0SG91cnM7ZVs5XSYmKHI9bChlWzldK2VbMTBdKSxpPWwoZVs5XStlWzExXSkpLG8uY2FsbCh0LGwoZVsxXSksbChlWzJdKS0xLGwoZVszXSkpLHI9bChlWzRdfHwwKS1yLGk9bChlWzVdfHwwKS1pLG89bChlWzZdfHwwKSxlPU1hdGgucm91bmQoMWUzKnBhcnNlRmxvYXQoXCIwLlwiKyhlWzddfHwwKSkpLGEuY2FsbCh0LHIsaSxvLGUpfXJldHVybiB0fXZhciBuPS9eKFxcZHs0fSktPyhcXGRcXGQpLT8oXFxkXFxkKSg/OlQoXFxkXFxkKSg/Ojo/KFxcZFxcZCkoPzo6PyhcXGRcXGQpKD86XFwuKFxcZCspKT8pPyk/KFp8KFsrLV0pKFxcZFxcZCk6PyhcXGRcXGQpKT8pPyQvO3JldHVybiBmdW5jdGlvbihuLGksbyl7dmFyIGEscyx1PVwiXCIsYz1bXTtpZihpPWl8fFwibWVkaXVtRGF0ZVwiLGk9dC5EQVRFVElNRV9GT1JNQVRTW2ldfHxpLGIobikmJihuPVZpLnRlc3Qobik/bChuKTplKG4pKSx3KG4pJiYobj1uZXcgRGF0ZShuKSksIXgobil8fCFpc0Zpbml0ZShuLmdldFRpbWUoKSkpcmV0dXJuIG47Zm9yKDtpOykocz1UaS5leGVjKGkpKT8oYz1EKGMscywxKSxpPWMucG9wKCkpOihjLnB1c2goaSksaT1udWxsKTt2YXIgZj1uLmdldFRpbWV6b25lT2Zmc2V0KCk7cmV0dXJuIG8mJihmPV8obyxmKSxuPXEobixvLCEwKSkscihjLGZ1bmN0aW9uKGUpe2E9TmlbZV0sdSs9YT9hKG4sdC5EQVRFVElNRV9GT1JNQVRTLGYpOlwiJydcIj09PWU/XCInXCI6ZS5yZXBsYWNlKC8oXid8JyQpL2csXCJcIikucmVwbGFjZSgvJycvZyxcIidcIil9KSx1fX1mdW5jdGlvbiBNbigpe3JldHVybiBmdW5jdGlvbih0LGUpe3JldHVybiBtKGUpJiYoZT0yKSxGKHQsZSl9fWZ1bmN0aW9uIE5uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gZT0xLzA9PT1NYXRoLmFicyhOdW1iZXIoZSkpP051bWJlcihlKTpsKGUpLGlzTmFOKGUpP3Q6KHcodCkmJih0PXQudG9TdHJpbmcoKSksbih0KT8ocj0hcnx8aXNOYU4ocik/MDpsKHIpLHI9MD5yP01hdGgubWF4KDAsdC5sZW5ndGgrcik6ciwwPD1lP1RuKHQscixyK2UpOjA9PT1yP1RuKHQsZSx0Lmxlbmd0aCk6VG4odCxNYXRoLm1heCgwLHIrZSkscikpOnQpfX1mdW5jdGlvbiBUbih0LGUsbil7cmV0dXJuIGIodCk/dC5zbGljZShlLG4pOlhuLmNhbGwodCxlLG4pfWZ1bmN0aW9uIFZuKHQpe2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3ZhciBuPTEscj1wO2lmKFMoZSkpcj1lO2Vsc2UgaWYoYihlKSYmKFwiK1wiIT1lLmNoYXJBdCgwKSYmXCItXCIhPWUuY2hhckF0KDApfHwobj1cIi1cIj09ZS5jaGFyQXQoMCk/LTE6MSxlPWUuc3Vic3RyaW5nKDEpKSxcIlwiIT09ZSYmKHI9dChlKSxyLmNvbnN0YW50KSkpdmFyIGk9cigpLHI9ZnVuY3Rpb24odCl7cmV0dXJuIHRbaV19O3JldHVybntnZXQ6cixkZXNjZW5kaW5nOm59fSl9ZnVuY3Rpb24gaSh0KXtzd2l0Y2godHlwZW9mIHQpe2Nhc2VcIm51bWJlclwiOmNhc2VcImJvb2xlYW5cIjpjYXNlXCJzdHJpbmdcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX1mdW5jdGlvbiBvKHQsZSl7dmFyIG49MCxyPXQudHlwZSxpPWUudHlwZTtpZihyPT09aSl7dmFyIGk9dC52YWx1ZSxvPWUudmFsdWU7XCJzdHJpbmdcIj09PXI/KGk9aS50b0xvd2VyQ2FzZSgpLG89by50b0xvd2VyQ2FzZSgpKTpcIm9iamVjdFwiPT09ciYmKGcoaSkmJihpPXQuaW5kZXgpLGcobykmJihvPWUuaW5kZXgpKSxpIT09byYmKG49aTxvPy0xOjEpfWVsc2Ugbj1yPGk/LTE6MTtyZXR1cm4gbn1yZXR1cm4gZnVuY3Rpb24odCxhLHMsdSl7aWYobnVsbD09dClyZXR1cm4gdDtpZighbih0KSl0aHJvdyBlKFwib3JkZXJCeVwiKShcIm5vdGFycmF5XCIsdCk7YXIoYSl8fChhPVthXSksMD09PWEubGVuZ3RoJiYoYT1bXCIrXCJdKTt2YXIgYz1yKGEpLGw9cz8tMToxLGY9Uyh1KT91Om87cmV0dXJuIHQ9QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKHQsZnVuY3Rpb24odCxlKXtyZXR1cm57dmFsdWU6dCx0aWVCcmVha2VyOnt2YWx1ZTplLHR5cGU6XCJudW1iZXJcIixpbmRleDplfSxwcmVkaWNhdGVWYWx1ZXM6Yy5tYXAoZnVuY3Rpb24obil7dmFyIHI9bi5nZXQodCk7cmV0dXJuIG49dHlwZW9mIHIsbnVsbD09PXI/KG49XCJzdHJpbmdcIixyPVwibnVsbFwiKTpcIm9iamVjdFwiPT09biYmKFMoci52YWx1ZU9mKSYmKHI9ci52YWx1ZU9mKCksaShyKSl8fCQocikmJihyPXIudG9TdHJpbmcoKSxpKHIpKSkse3ZhbHVlOnIsdHlwZTpuLGluZGV4OmV9fSl9fSksdC5zb3J0KGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj1jLmxlbmd0aDtuPHI7bisrKXt2YXIgaT1mKHQucHJlZGljYXRlVmFsdWVzW25dLGUucHJlZGljYXRlVmFsdWVzW25dKTtpZihpKXJldHVybiBpKmNbbl0uZGVzY2VuZGluZypsfXJldHVybiBmKHQudGllQnJlYWtlcixlLnRpZUJyZWFrZXIpKmx9KSx0PXQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlfSl9fWZ1bmN0aW9uIGpuKHQpe3JldHVybiBTKHQpJiYodD17bGluazp0fSksdC5yZXN0cmljdD10LnJlc3RyaWN0fHxcIkFDXCIsZCh0KX1mdW5jdGlvbiBJbih0LGUsbixpLG8pe3ZhciBhPXRoaXMscz1bXTthLiRlcnJvcj17fSxhLiQkc3VjY2Vzcz17fSxhLiRwZW5kaW5nPXZvaWQgMCxhLiRuYW1lPW8oZS5uYW1lfHxlLm5nRm9ybXx8XCJcIikobiksYS4kZGlydHk9ITEsYS4kcHJpc3RpbmU9ITAsYS4kdmFsaWQ9ITAsYS4kaW52YWxpZD0hMSxhLiRzdWJtaXR0ZWQ9ITEsYS4kJHBhcmVudEZvcm09UmksYS4kcm9sbGJhY2tWaWV3VmFsdWU9ZnVuY3Rpb24oKXtyKHMsZnVuY3Rpb24odCl7dC4kcm9sbGJhY2tWaWV3VmFsdWUoKX0pfSxhLiRjb21taXRWaWV3VmFsdWU9ZnVuY3Rpb24oKXtyKHMsZnVuY3Rpb24odCl7dC4kY29tbWl0Vmlld1ZhbHVlKCl9KX0sYS4kYWRkQ29udHJvbD1mdW5jdGlvbih0KXtydCh0LiRuYW1lLFwiaW5wdXRcIikscy5wdXNoKHQpLHQuJG5hbWUmJihhW3QuJG5hbWVdPXQpLHQuJCRwYXJlbnRGb3JtPWF9LGEuJCRyZW5hbWVDb250cm9sPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC4kbmFtZTthW25dPT09dCYmZGVsZXRlIGFbbl0sYVtlXT10LHQuJG5hbWU9ZX0sYS4kcmVtb3ZlQ29udHJvbD1mdW5jdGlvbih0KXt0LiRuYW1lJiZhW3QuJG5hbWVdPT09dCYmZGVsZXRlIGFbdC4kbmFtZV0scihhLiRwZW5kaW5nLGZ1bmN0aW9uKGUsbil7YS4kc2V0VmFsaWRpdHkobixudWxsLHQpfSkscihhLiRlcnJvcixmdW5jdGlvbihlLG4pe2EuJHNldFZhbGlkaXR5KG4sbnVsbCx0KX0pLHIoYS4kJHN1Y2Nlc3MsZnVuY3Rpb24oZSxuKXthLiRzZXRWYWxpZGl0eShuLG51bGwsdCl9KSxWKHMsdCksdC4kJHBhcmVudEZvcm09Uml9LExuKHtjdHJsOnRoaXMsJGVsZW1lbnQ6dCxzZXQ6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRbZV07cj8tMT09PXIuaW5kZXhPZihuKSYmci5wdXNoKG4pOnRbZV09W25dfSx1bnNldDpmdW5jdGlvbih0LGUsbil7dmFyIHI9dFtlXTtyJiYoVihyLG4pLDA9PT1yLmxlbmd0aCYmZGVsZXRlIHRbZV0pfSwkYW5pbWF0ZTppfSksYS4kc2V0RGlydHk9ZnVuY3Rpb24oKXtpLnJlbW92ZUNsYXNzKHQsYm8pLGkuYWRkQ2xhc3ModCx3byksYS4kZGlydHk9ITAsYS4kcHJpc3RpbmU9ITEsYS4kJHBhcmVudEZvcm0uJHNldERpcnR5KCl9LGEuJHNldFByaXN0aW5lPWZ1bmN0aW9uKCl7aS5zZXRDbGFzcyh0LGJvLHdvK1wiIG5nLXN1Ym1pdHRlZFwiKSxhLiRkaXJ0eT0hMSxhLiRwcmlzdGluZT0hMCxhLiRzdWJtaXR0ZWQ9ITEscihzLGZ1bmN0aW9uKHQpe3QuJHNldFByaXN0aW5lKCl9KX0sYS4kc2V0VW50b3VjaGVkPWZ1bmN0aW9uKCl7cihzLGZ1bmN0aW9uKHQpe3QuJHNldFVudG91Y2hlZCgpfSl9LGEuJHNldFN1Ym1pdHRlZD1mdW5jdGlvbigpe2kuYWRkQ2xhc3ModCxcIm5nLXN1Ym1pdHRlZFwiKSxhLiRzdWJtaXR0ZWQ9ITAsYS4kJHBhcmVudEZvcm0uJHNldFN1Ym1pdHRlZCgpfX1mdW5jdGlvbiBEbih0KXt0LiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oZSl7cmV0dXJuIHQuJGlzRW1wdHkoZSk/ZTplLnRvU3RyaW5nKCl9KX1mdW5jdGlvbiBQbih0LGUsbixyLGksbyl7dmFyIGE9S24oZVswXS50eXBlKTtpZighaS5hbmRyb2lkKXt2YXIgcz0hMTtlLm9uKFwiY29tcG9zaXRpb25zdGFydFwiLGZ1bmN0aW9uKCl7cz0hMH0pLGUub24oXCJjb21wb3NpdGlvbmVuZFwiLGZ1bmN0aW9uKCl7cz0hMSxjKCl9KX12YXIgdSxjPWZ1bmN0aW9uKHQpe2lmKHUmJihvLmRlZmVyLmNhbmNlbCh1KSx1PW51bGwpLCFzKXt2YXIgaT1lLnZhbCgpO3Q9dCYmdC50eXBlLFwicGFzc3dvcmRcIj09PWF8fG4ubmdUcmltJiZcImZhbHNlXCI9PT1uLm5nVHJpbXx8KGk9dXIoaSkpLChyLiR2aWV3VmFsdWUhPT1pfHxcIlwiPT09aSYmci4kJGhhc05hdGl2ZVZhbGlkYXRvcnMpJiZyLiRzZXRWaWV3VmFsdWUoaSx0KX19O2lmKGkuaGFzRXZlbnQoXCJpbnB1dFwiKSllLm9uKFwiaW5wdXRcIixjKTtlbHNle3ZhciBsPWZ1bmN0aW9uKHQsZSxuKXt1fHwodT1vLmRlZmVyKGZ1bmN0aW9uKCl7dT1udWxsLGUmJmUudmFsdWU9PT1ufHxjKHQpfSkpfTtlLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKHQpe3ZhciBlPXQua2V5Q29kZTs5MT09PWV8fDE1PGUmJjE5PmV8fDM3PD1lJiY0MD49ZXx8bCh0LHRoaXMsdGhpcy52YWx1ZSl9KSxpLmhhc0V2ZW50KFwicGFzdGVcIikmJmUub24oXCJwYXN0ZSBjdXRcIixsKX1lLm9uKFwiY2hhbmdlXCIsYyksS2lbYV0mJnIuJCRoYXNOYXRpdmVWYWxpZGF0b3JzJiZhPT09bi50eXBlJiZlLm9uKFwia2V5ZG93biB3aGVlbCBtb3VzZWRvd25cIixmdW5jdGlvbih0KXtpZighdSl7dmFyIGU9dGhpcy52YWxpZGl0eSxuPWUuYmFkSW5wdXQscj1lLnR5cGVNaXNtYXRjaDt1PW8uZGVmZXIoZnVuY3Rpb24oKXt1PW51bGwsZS5iYWRJbnB1dD09PW4mJmUudHlwZU1pc21hdGNoPT09cnx8Yyh0KX0pfX0pLHIuJHJlbmRlcj1mdW5jdGlvbigpe3ZhciB0PXIuJGlzRW1wdHkoci4kdmlld1ZhbHVlKT9cIlwiOnIuJHZpZXdWYWx1ZTtlLnZhbCgpIT09dCYmZS52YWwodCl9fWZ1bmN0aW9uIFJuKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4saSl7dmFyIG8sYTtpZih4KG4pKXJldHVybiBuO2lmKGIobikpe2lmKCdcIic9PW4uY2hhckF0KDApJiYnXCInPT1uLmNoYXJBdChuLmxlbmd0aC0xKSYmKG49bi5zdWJzdHJpbmcoMSxuLmxlbmd0aC0xKSkscWkudGVzdChuKSlyZXR1cm4gbmV3IERhdGUobik7aWYodC5sYXN0SW5kZXg9MCxvPXQuZXhlYyhuKSlyZXR1cm4gby5zaGlmdCgpLGE9aT97eXl5eTppLmdldEZ1bGxZZWFyKCksTU06aS5nZXRNb250aCgpKzEsZGQ6aS5nZXREYXRlKCksSEg6aS5nZXRIb3VycygpLG1tOmkuZ2V0TWludXRlcygpLHNzOmkuZ2V0U2Vjb25kcygpLHNzczppLmdldE1pbGxpc2Vjb25kcygpLzFlM306e3l5eXk6MTk3MCxNTToxLGRkOjEsSEg6MCxtbTowLHNzOjAsc3NzOjB9LHIobyxmdW5jdGlvbih0LG4pe248ZS5sZW5ndGgmJihhW2Vbbl1dPSt0KX0pLG5ldyBEYXRlKGEueXl5eSxhLk1NLTEsYS5kZCxhLkhILGEubW0sYS5zc3x8MCwxZTMqYS5zc3N8fDApfXJldHVybiBOYU59fWZ1bmN0aW9uIEZuKHQsZSxuLHIpe3JldHVybiBmdW5jdGlvbihpLG8sYSxzLHUsYyxsKXtmdW5jdGlvbiBmKHQpe3JldHVybiB0JiYhKHQuZ2V0VGltZSYmdC5nZXRUaW1lKCkhPT10LmdldFRpbWUoKSl9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gdih0KSYmIXgodCk/bih0KXx8dm9pZCAwOnR9VW4oaSxvLGEscyksUG4oaSxvLGEscyx1LGMpO3ZhciBwLGQ9cyYmcy4kb3B0aW9ucyYmcy4kb3B0aW9ucy50aW1lem9uZTtpZihzLiQkcGFyc2VyTmFtZT10LHMuJHBhcnNlcnMucHVzaChmdW5jdGlvbih0KXtyZXR1cm4gcy4kaXNFbXB0eSh0KT9udWxsOmUudGVzdCh0KT8odD1uKHQscCksZCYmKHQ9cSh0LGQpKSx0KTp2b2lkIDB9KSxzLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odCl7aWYodCYmIXgodCkpdGhyb3cgU28oXCJkYXRlZm10XCIsdCk7cmV0dXJuIGYodCk/KChwPXQpJiZkJiYocD1xKHAsZCwhMCkpLGwoXCJkYXRlXCIpKHQscixkKSk6KHA9bnVsbCxcIlwiKX0pLHYoYS5taW4pfHxhLm5nTWluKXt2YXIgJDtzLiR2YWxpZGF0b3JzLm1pbj1mdW5jdGlvbih0KXtyZXR1cm4hZih0KXx8bSgkKXx8bih0KT49JH0sYS4kb2JzZXJ2ZShcIm1pblwiLGZ1bmN0aW9uKHQpeyQ9aCh0KSxzLiR2YWxpZGF0ZSgpfSl9aWYodihhLm1heCl8fGEubmdNYXgpe3ZhciBnO3MuJHZhbGlkYXRvcnMubWF4PWZ1bmN0aW9uKHQpe3JldHVybiFmKHQpfHxtKGcpfHxuKHQpPD1nfSxhLiRvYnNlcnZlKFwibWF4XCIsZnVuY3Rpb24odCl7Zz1oKHQpLHMuJHZhbGlkYXRlKCl9KX19fWZ1bmN0aW9uIFVuKHQsZSxuLHIpeyhyLiQkaGFzTmF0aXZlVmFsaWRhdG9ycz1nKGVbMF0udmFsaWRpdHkpKSYmci4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHQpe3ZhciBuPWUucHJvcChcInZhbGlkaXR5XCIpfHx7fTtyZXR1cm4gbi5iYWRJbnB1dHx8bi50eXBlTWlzbWF0Y2g/dm9pZCAwOnR9KX1mdW5jdGlvbiBfbih0LGUsbixyLGkpe2lmKHYocikpe2lmKHQ9dChyKSwhdC5jb25zdGFudCl0aHJvdyBTbyhcImNvbnN0ZXhwclwiLG4scik7cmV0dXJuIHQoZSl9cmV0dXJuIGl9ZnVuY3Rpb24gcW4odCxlKXtyZXR1cm4gdD1cIm5nQ2xhc3NcIit0LFtcIiRhbmltYXRlXCIsZnVuY3Rpb24obil7ZnVuY3Rpb24gaSh0LGUpe3ZhciBuPVtdLHI9MDt0OmZvcig7cjx0Lmxlbmd0aDtyKyspe2Zvcih2YXIgaT10W3JdLG89MDtvPGUubGVuZ3RoO28rKylpZihpPT1lW29dKWNvbnRpbnVlIHQ7bi5wdXNoKGkpfXJldHVybiBufWZ1bmN0aW9uIG8odCl7dmFyIGU9W107cmV0dXJuIGFyKHQpPyhyKHQsZnVuY3Rpb24odCl7ZT1lLmNvbmNhdChvKHQpKX0pLGUpOmIodCk/dC5zcGxpdChcIiBcIik6Zyh0KT8ocih0LGZ1bmN0aW9uKHQsbil7dCYmKGU9ZS5jb25jYXQobi5zcGxpdChcIiBcIikpKX0pLGUpOnR9cmV0dXJue3Jlc3RyaWN0OlwiQUNcIixsaW5rOmZ1bmN0aW9uKGEscyx1KXtmdW5jdGlvbiBjKHQpe3Q9bCh0LDEpLHUuJGFkZENsYXNzKHQpfWZ1bmN0aW9uIGwodCxlKXt2YXIgbj1zLmRhdGEoXCIkY2xhc3NDb3VudHNcIil8fGF0KCksaT1bXTtyZXR1cm4gcih0LGZ1bmN0aW9uKHQpeygwPGV8fG5bdF0pJiYoblt0XT0oblt0XXx8MCkrZSxuW3RdPT09KygwPGUpJiZpLnB1c2godCkpfSkscy5kYXRhKFwiJGNsYXNzQ291bnRzXCIsbiksaS5qb2luKFwiIFwiKX1mdW5jdGlvbiBmKHQsZSl7dmFyIHI9aShlLHQpLG89aSh0LGUpLHI9bChyLDEpLG89bChvLC0xKTtyJiZyLmxlbmd0aCYmbi5hZGRDbGFzcyhzLHIpLG8mJm8ubGVuZ3RoJiZuLnJlbW92ZUNsYXNzKHMsbyl9ZnVuY3Rpb24gaCh0KXtpZighMD09PWV8fCgxJmEuJGluZGV4KT09PWUpe3ZhciBuPW8odHx8W10pO2lmKHApe2lmKCFJKHQscCkpe3ZhciByPW8ocCk7ZihyLG4pfX1lbHNlIGMobil9cD1hcih0KT90Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdXQodCl9KTp1dCh0KX12YXIgcDthLiR3YXRjaCh1W3RdLGgsITApLHUuJG9ic2VydmUoXCJjbGFzc1wiLGZ1bmN0aW9uKGUpe2goYS4kZXZhbCh1W3RdKSl9KSxcIm5nQ2xhc3NcIiE9PXQmJmEuJHdhdGNoKFwiJGluZGV4XCIsZnVuY3Rpb24obixyKXt2YXIgaT0xJm47aWYoaSE9PSgxJnIpKXt2YXIgcz1vKGEuJGV2YWwodVt0XSkpO2k9PT1lP2Mocyk6KGk9bChzLC0xKSx1LiRyZW1vdmVDbGFzcyhpKSl9fSl9fX1dfWZ1bmN0aW9uIExuKHQpe2Z1bmN0aW9uIGUodCxlKXtlJiYhb1t0XT8odS5hZGRDbGFzcyhpLHQpLG9bdF09ITApOiFlJiZvW3RdJiYodS5yZW1vdmVDbGFzcyhpLHQpLG9bdF09ITEpfWZ1bmN0aW9uIG4odCxuKXt0PXQ/XCItXCIrUSh0LFwiLVwiKTpcIlwiLGUoZ28rdCwhMD09PW4pLGUoeW8rdCwhMT09PW4pfXZhciByPXQuY3RybCxpPXQuJGVsZW1lbnQsbz17fSxhPXQuc2V0LHM9dC51bnNldCx1PXQuJGFuaW1hdGU7b1t5b109IShvW2dvXT1pLmhhc0NsYXNzKGdvKSksci4kc2V0VmFsaWRpdHk9ZnVuY3Rpb24odCxpLG8pe20oaSk/KHIuJHBlbmRpbmd8fChyLiRwZW5kaW5nPXt9KSxhKHIuJHBlbmRpbmcsdCxvKSk6KHIuJHBlbmRpbmcmJnMoci4kcGVuZGluZyx0LG8pLEJuKHIuJHBlbmRpbmcpJiYoci4kcGVuZGluZz12b2lkIDApKSxrKGkpP2k/KHMoci4kZXJyb3IsdCxvKSxhKHIuJCRzdWNjZXNzLHQsbykpOihhKHIuJGVycm9yLHQsbykscyhyLiQkc3VjY2Vzcyx0LG8pKToocyhyLiRlcnJvcix0LG8pLHMoci4kJHN1Y2Nlc3MsdCxvKSksci4kcGVuZGluZz8oZSh4bywhMCksci4kdmFsaWQ9ci4kaW52YWxpZD12b2lkIDAsbihcIlwiLG51bGwpKTooZSh4bywhMSksci4kdmFsaWQ9Qm4oci4kZXJyb3IpLHIuJGludmFsaWQ9IXIuJHZhbGlkLG4oXCJcIixyLiR2YWxpZCkpLGk9ci4kcGVuZGluZyYmci4kcGVuZGluZ1t0XT92b2lkIDA6IXIuJGVycm9yW3RdJiYoISFyLiQkc3VjY2Vzc1t0XXx8bnVsbCksbih0LGkpLHIuJCRwYXJlbnRGb3JtLiRzZXRWYWxpZGl0eSh0LGkscil9fWZ1bmN0aW9uIEJuKHQpe2lmKHQpZm9yKHZhciBlIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShlKSlyZXR1cm4hMTtyZXR1cm4hMH12YXIgSG4sem4sV24sR24sWm49L15cXC8oLispXFwvKFthLXpdKikkLyxKbj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LEtuPWZ1bmN0aW9uKHQpe3JldHVybiBiKHQpP3QudG9Mb3dlckNhc2UoKTp0fSxZbj1mdW5jdGlvbih0KXtyZXR1cm4gYih0KT90LnRvVXBwZXJDYXNlKCk6dH0sWG49W10uc2xpY2UsUW49W10uc3BsaWNlLHRyPVtdLnB1c2gsZXI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxucj1PYmplY3QuZ2V0UHJvdG90eXBlT2YscnI9ZShcIm5nXCIpLGlyPXQuYW5ndWxhcnx8KHQuYW5ndWxhcj17fSksb3I9MDtIbj10LmRvY3VtZW50LmRvY3VtZW50TW9kZSxoLiRpbmplY3Q9W10scC4kaW5qZWN0PVtdO3ZhciBhcj1BcnJheS5pc0FycmF5LHNyPS9eXFxbb2JqZWN0ICg/OlVpbnQ4fFVpbnQ4Q2xhbXBlZHxVaW50MTZ8VWludDMyfEludDh8SW50MTZ8SW50MzJ8RmxvYXQzMnxGbG9hdDY0KUFycmF5XFxdJC8sdXI9ZnVuY3Rpb24odCl7cmV0dXJuIGIodCk/dC50cmltKCk6dH0sY3I9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvKFstKClcXFtcXF17fSs/Ki4kXFxefCw6IzwhXFxcXF0pL2csXCJcXFxcJDFcIikucmVwbGFjZSgvXFx4MDgvZyxcIlxcXFx4MDhcIil9LGxyPWZ1bmN0aW9uKCl7aWYoIXYobHIucnVsZXMpKXt2YXIgZT10LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbbmctY3NwXVwiKXx8dC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtbmctY3NwXVwiKTtpZihlKXt2YXIgbj1lLmdldEF0dHJpYnV0ZShcIm5nLWNzcFwiKXx8ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5nLWNzcFwiKTtsci5ydWxlcz17bm9VbnNhZmVFdmFsOiFufHwtMSE9PW4uaW5kZXhPZihcIm5vLXVuc2FmZS1ldmFsXCIpLG5vSW5saW5lU3R5bGU6IW58fC0xIT09bi5pbmRleE9mKFwibm8taW5saW5lLXN0eWxlXCIpfX1lbHNle2U9bHI7dHJ5e25ldyBGdW5jdGlvbihcIlwiKSxuPSExfWNhdGNoKHQpe249ITB9ZS5ydWxlcz17bm9VbnNhZmVFdmFsOm4sbm9JbmxpbmVTdHlsZTohMX19fXJldHVybiBsci5ydWxlc30sZnI9ZnVuY3Rpb24oKXtpZih2KGZyLm5hbWVfKSlyZXR1cm4gZnIubmFtZV87dmFyIGUsbixyLGksbz1wci5sZW5ndGg7Zm9yKG49MDtuPG87KytuKWlmKHI9cHJbbl0sZT10LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbXCIrci5yZXBsYWNlKFwiOlwiLFwiXFxcXDpcIikrXCJqcV1cIikpe2k9ZS5nZXRBdHRyaWJ1dGUocitcImpxXCIpO2JyZWFrfXJldHVybiBmci5uYW1lXz1pfSxocj0vOi9nLHByPVtcIm5nLVwiLFwiZGF0YS1uZy1cIixcIm5nOlwiLFwieC1uZy1cIl0sZHI9L1tBLVpdL2csJHI9ITEsbXI9Myx2cj17ZnVsbDpcIjEuNS43XCIsbWFqb3I6MSxtaW5vcjo1LGRvdDo3LGNvZGVOYW1lOlwiaGV4YWdvbmFsLWNpcmN1bXZvbHV0aW9uXCJ9O2R0LmV4cGFuZG89XCJuZzMzOVwiO3ZhciBncj1kdC5jYWNoZT17fSx5cj0xO2R0Ll9kYXRhPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNhY2hlW3RbdGhpcy5leHBhbmRvXV18fHt9fTt2YXIgYnI9LyhbXFw6XFwtXFxfXSsoLikpL2csd3I9L15tb3ooW0EtWl0pLyx4cj17bW91c2VsZWF2ZTpcIm1vdXNlb3V0XCIsbW91c2VlbnRlcjpcIm1vdXNlb3ZlclwifSxTcj1lKFwianFMaXRlXCIpLENyPS9ePChbXFx3LV0rKVxccypcXC8/Pig/OjxcXC9cXDE+fCkkLyxFcj0vPHwmIz9cXHcrOy8sQXI9LzwoW1xcdzotXSspLyxrcj0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Oi1dKylbXj5dKilcXC8+L2dpLE9yPXtvcHRpb246WzEsJzxzZWxlY3QgbXVsdGlwbGU9XCJtdWx0aXBsZVwiPicsXCI8L3NlbGVjdD5cIl0sdGhlYWQ6WzEsXCI8dGFibGU+XCIsXCI8L3RhYmxlPlwiXSxjb2w6WzIsXCI8dGFibGU+PGNvbGdyb3VwPlwiLFwiPC9jb2xncm91cD48L3RhYmxlPlwiXSx0cjpbMixcIjx0YWJsZT48dGJvZHk+XCIsXCI8L3Rib2R5PjwvdGFibGU+XCJdLHRkOlszLFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIl0sX2RlZmF1bHQ6WzAsXCJcIixcIlwiXX07T3Iub3B0Z3JvdXA9T3Iub3B0aW9uLE9yLnRib2R5PU9yLnRmb290PU9yLmNvbGdyb3VwPU9yLmNhcHRpb249T3IudGhlYWQsT3IudGg9T3IudGQ7dmFyIE1yPXQuTm9kZS5wcm90b3R5cGUuY29udGFpbnN8fGZ1bmN0aW9uKHQpe3JldHVybiEhKDE2JnRoaXMuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCkpfSxOcj1kdC5wcm90b3R5cGU9e3JlYWR5OmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4oKXtyfHwocj0hMCxlKCkpfXZhciByPSExO1wiY29tcGxldGVcIj09PXQuZG9jdW1lbnQucmVhZHlTdGF0ZT90LnNldFRpbWVvdXQobik6KHRoaXMub24oXCJET01Db250ZW50TG9hZGVkXCIsbiksZHQodCkub24oXCJsb2FkXCIsbikpfSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiByKHRoaXMsZnVuY3Rpb24oZSl7dC5wdXNoKFwiXCIrZSl9KSxcIltcIit0LmpvaW4oXCIsIFwiKStcIl1cIn0sZXE6ZnVuY3Rpb24odCl7cmV0dXJuIHpuKDA8PXQ/dGhpc1t0XTp0aGlzW3RoaXMubGVuZ3RoK3RdKX0sbGVuZ3RoOjAscHVzaDp0cixzb3J0OltdLnNvcnQsc3BsaWNlOltdLnNwbGljZX0sVHI9e307cihcIm11bHRpcGxlIHNlbGVjdGVkIGNoZWNrZWQgZGlzYWJsZWQgcmVhZE9ubHkgcmVxdWlyZWQgb3BlblwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbih0KXtUcltLbih0KV09dH0pO3ZhciBWcj17fTtyKFwiaW5wdXQgc2VsZWN0IG9wdGlvbiB0ZXh0YXJlYSBidXR0b24gZm9ybSBkZXRhaWxzXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKHQpe1ZyW3RdPSEwfSk7dmFyIGpyPXtuZ01pbmxlbmd0aDpcIm1pbmxlbmd0aFwiLG5nTWF4bGVuZ3RoOlwibWF4bGVuZ3RoXCIsbmdNaW46XCJtaW5cIixuZ01heDpcIm1heFwiLG5nUGF0dGVybjpcInBhdHRlcm5cIn07cih7ZGF0YTpidCxyZW1vdmVEYXRhOmd0LGhhc0RhdGE6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIGdyW3QubmczMzldKXJldHVybiEwO3JldHVybiExfSxjbGVhbkRhdGE6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10Lmxlbmd0aDtlPG47ZSsrKWd0KHRbZV0pfX0sZnVuY3Rpb24odCxlKXtkdFtlXT10fSkscih7ZGF0YTpidCxpbmhlcml0ZWREYXRhOkF0LHNjb3BlOmZ1bmN0aW9uKHQpe3JldHVybiB6bi5kYXRhKHQsXCIkc2NvcGVcIil8fEF0KHQucGFyZW50Tm9kZXx8dCxbXCIkaXNvbGF0ZVNjb3BlXCIsXCIkc2NvcGVcIl0pfSxpc29sYXRlU2NvcGU6ZnVuY3Rpb24odCl7cmV0dXJuIHpuLmRhdGEodCxcIiRpc29sYXRlU2NvcGVcIil8fHpuLmRhdGEodCxcIiRpc29sYXRlU2NvcGVOb1RlbXBsYXRlXCIpfSxjb250cm9sbGVyOkV0LGluamVjdG9yOmZ1bmN0aW9uKHQpe3JldHVybiBBdCh0LFwiJGluamVjdG9yXCIpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKHQsZSl7dC5yZW1vdmVBdHRyaWJ1dGUoZSl9LGhhc0NsYXNzOnd0LGNzczpmdW5jdGlvbih0LGUsbil7cmV0dXJuIGU9bHQoZSksdihuKT92b2lkKHQuc3R5bGVbZV09bik6dC5zdHlsZVtlXX0sYXR0cjpmdW5jdGlvbih0LGUsbil7dmFyIHI9dC5ub2RlVHlwZTtpZihyIT09bXImJjIhPT1yJiY4IT09cilpZihyPUtuKGUpLFRyW3JdKXtpZighdihuKSlyZXR1cm4gdFtlXXx8KHQuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oZSl8fGgpLnNwZWNpZmllZD9yOnZvaWQgMDtuPyh0W2VdPSEwLHQuc2V0QXR0cmlidXRlKGUscikpOih0W2VdPSExLHQucmVtb3ZlQXR0cmlidXRlKHIpKX1lbHNlIGlmKHYobikpdC5zZXRBdHRyaWJ1dGUoZSxuKTtlbHNlIGlmKHQuZ2V0QXR0cmlidXRlKXJldHVybiB0PXQuZ2V0QXR0cmlidXRlKGUsMiksbnVsbD09PXQ/dm9pZCAwOnR9LHByb3A6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2KG4pP3ZvaWQodFtlXT1uKTp0W2VdfSx0ZXh0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2lmKG0oZSkpe3ZhciBuPXQubm9kZVR5cGU7cmV0dXJuIDE9PT1ufHxuPT09bXI/dC50ZXh0Q29udGVudDpcIlwifXQudGV4dENvbnRlbnQ9ZX1yZXR1cm4gdC4kZHY9XCJcIix0fSgpLHZhbDpmdW5jdGlvbih0LGUpe2lmKG0oZSkpe2lmKHQubXVsdGlwbGUmJlwic2VsZWN0XCI9PT1UKHQpKXt2YXIgbj1bXTtyZXR1cm4gcih0Lm9wdGlvbnMsZnVuY3Rpb24odCl7dC5zZWxlY3RlZCYmbi5wdXNoKHQudmFsdWV8fHQudGV4dCl9KSwwPT09bi5sZW5ndGg/bnVsbDpufXJldHVybiB0LnZhbHVlfXQudmFsdWU9ZX0saHRtbDpmdW5jdGlvbih0LGUpe3JldHVybiBtKGUpP3QuaW5uZXJIVE1MOihtdCh0LCEwKSx2b2lkKHQuaW5uZXJIVE1MPWUpKX0sZW1wdHk6a3R9LGZ1bmN0aW9uKHQsZSl7ZHQucHJvdG90eXBlW2VdPWZ1bmN0aW9uKGUsbil7dmFyIHIsaSxvPXRoaXMubGVuZ3RoO2lmKHQhPT1rdCYmbSgyPT10Lmxlbmd0aCYmdCE9PXd0JiZ0IT09RXQ/ZTpuKSl7aWYoZyhlKSl7Zm9yKHI9MDtyPG87cisrKWlmKHQ9PT1idCl0KHRoaXNbcl0sZSk7ZWxzZSBmb3IoaSBpbiBlKXQodGhpc1tyXSxpLGVbaV0pO3JldHVybiB0aGlzfWZvcihyPXQuJGR2LG89bShyKT9NYXRoLm1pbihvLDEpOm8saT0wO2k8bztpKyspe3ZhciBhPXQodGhpc1tpXSxlLG4pO3I9cj9yK2E6YX1yZXR1cm4gcn1mb3Iocj0wO3I8bztyKyspdCh0aGlzW3JdLGUsbik7cmV0dXJuIHRoaXN9fSkscih7cmVtb3ZlRGF0YTpndCxvbjpmdW5jdGlvbih0LGUsbixyKXtpZih2KHIpKXRocm93IFNyKFwib25hcmdzXCIpO2lmKGZ0KHQpKXtyPXl0KHQsITApO3ZhciBpPXIuZXZlbnRzLG89ci5oYW5kbGU7b3x8KG89ci5oYW5kbGU9VHQodCxpKSkscj0wPD1lLmluZGV4T2YoXCIgXCIpP2Uuc3BsaXQoXCIgXCIpOltlXTtmb3IodmFyIGE9ci5sZW5ndGgscz1mdW5jdGlvbihlLHIsYSl7dmFyIHM9aVtlXTtzfHwocz1pW2VdPVtdLHMuc3BlY2lhbEhhbmRsZXJXcmFwcGVyPXIsXCIkZGVzdHJveVwiPT09ZXx8YXx8dC5hZGRFdmVudExpc3RlbmVyKGUsbywhMSkpLHMucHVzaChuKX07YS0tOyllPXJbYV0seHJbZV0/KHMoeHJbZV0sanQpLHMoZSx2b2lkIDAsITApKTpzKGUpfX0sb2ZmOnZ0LG9uZTpmdW5jdGlvbih0LGUsbil7dD16bih0KSx0Lm9uKGUsZnVuY3Rpb24gcigpe3Qub2ZmKGUsbiksdC5vZmYoZSxyKX0pLHQub24oZSxuKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24odCxlKXt2YXIgbixpPXQucGFyZW50Tm9kZTtcbm10KHQpLHIobmV3IGR0KGUpLGZ1bmN0aW9uKGUpe24/aS5pbnNlcnRCZWZvcmUoZSxuLm5leHRTaWJsaW5nKTppLnJlcGxhY2VDaGlsZChlLHQpLG49ZX0pfSxjaGlsZHJlbjpmdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4gcih0LmNoaWxkTm9kZXMsZnVuY3Rpb24odCl7MT09PXQubm9kZVR5cGUmJmUucHVzaCh0KX0pLGV9LGNvbnRlbnRzOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbnRlbnREb2N1bWVudHx8dC5jaGlsZE5vZGVzfHxbXX0sYXBwZW5kOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5ub2RlVHlwZTtpZigxPT09bnx8MTE9PT1uKXtlPW5ldyBkdChlKTtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspdC5hcHBlbmRDaGlsZChlW25dKX19LHByZXBlbmQ6ZnVuY3Rpb24odCxlKXtpZigxPT09dC5ub2RlVHlwZSl7dmFyIG49dC5maXJzdENoaWxkO3IobmV3IGR0KGUpLGZ1bmN0aW9uKGUpe3QuaW5zZXJ0QmVmb3JlKGUsbil9KX19LHdyYXA6ZnVuY3Rpb24odCxlKXtwdCh0LHpuKGUpLmVxKDApLmNsb25lKClbMF0pfSxyZW1vdmU6T3QsZGV0YWNoOmZ1bmN0aW9uKHQpe090KHQsITApfSxhZnRlcjpmdW5jdGlvbih0LGUpe3ZhciBuPXQscj10LnBhcmVudE5vZGU7ZT1uZXcgZHQoZSk7Zm9yKHZhciBpPTAsbz1lLmxlbmd0aDtpPG87aSsrKXt2YXIgYT1lW2ldO3IuaW5zZXJ0QmVmb3JlKGEsbi5uZXh0U2libGluZyksbj1hfX0sYWRkQ2xhc3M6U3QscmVtb3ZlQ2xhc3M6eHQsdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24odCxlLG4pe2UmJnIoZS5zcGxpdChcIiBcIiksZnVuY3Rpb24oZSl7dmFyIHI9bjttKHIpJiYocj0hd3QodCxlKSksKHI/U3Q6eHQpKHQsZSl9KX0scGFyZW50OmZ1bmN0aW9uKHQpe3JldHVybih0PXQucGFyZW50Tm9kZSkmJjExIT09dC5ub2RlVHlwZT90Om51bGx9LG5leHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQubmV4dEVsZW1lbnRTaWJsaW5nfSxmaW5kOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZ2V0RWxlbWVudHNCeVRhZ05hbWU/dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTpbXX0sY2xvbmU6JHQsdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24odCxlLG4pe3ZhciBpLG8sYT1lLnR5cGV8fGUscz15dCh0KTsocz0ocz1zJiZzLmV2ZW50cykmJnNbYV0pJiYoaT17cHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9LGlzRGVmYXVsdFByZXZlbnRlZDpmdW5jdGlvbigpe3JldHVybiEwPT09dGhpcy5kZWZhdWx0UHJldmVudGVkfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD0hMH0saXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMD09PXRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkfSxzdG9wUHJvcGFnYXRpb246aCx0eXBlOmEsdGFyZ2V0OnR9LGUudHlwZSYmKGk9dShpLGUpKSxlPXV0KHMpLG89bj9baV0uY29uY2F0KG4pOltpXSxyKGUsZnVuY3Rpb24oZSl7aS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpfHxlLmFwcGx5KHQsbyl9KSl9fSxmdW5jdGlvbih0LGUpe2R0LnByb3RvdHlwZVtlXT1mdW5jdGlvbihlLG4scil7Zm9yKHZhciBpLG89MCxhPXRoaXMubGVuZ3RoO288YTtvKyspbShpKT8oaT10KHRoaXNbb10sZSxuLHIpLHYoaSkmJihpPXpuKGkpKSk6Q3QoaSx0KHRoaXNbb10sZSxuLHIpKTtyZXR1cm4gdihpKT9pOnRoaXN9LGR0LnByb3RvdHlwZS5iaW5kPWR0LnByb3RvdHlwZS5vbixkdC5wcm90b3R5cGUudW5iaW5kPWR0LnByb3RvdHlwZS5vZmZ9KSxQdC5wcm90b3R5cGU9e3B1dDpmdW5jdGlvbih0LGUpe3RoaXNbRHQodCx0aGlzLm5leHRVaWQpXT1lfSxnZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbRHQodCx0aGlzLm5leHRVaWQpXX0scmVtb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXNbdD1EdCh0LHRoaXMubmV4dFVpZCldO3JldHVybiBkZWxldGUgdGhpc1t0XSxlfX07dmFyIElyPVtmdW5jdGlvbigpe3RoaXMuJGdldD1bZnVuY3Rpb24oKXtyZXR1cm4gUHR9XX1dLERyPS9eKFteXFwoXSs/KT0+LyxQcj0vXlteXFwoXSpcXChcXHMqKFteXFwpXSopXFwpL20sUnI9LywvLEZyPS9eXFxzKihfPykoXFxTKz8pXFwxXFxzKiQvLFVyPS8oKFxcL1xcLy4qJCl8KFxcL1xcKltcXHNcXFNdKj9cXCpcXC8pKS9nbSxfcj1lKFwiJGluamVjdG9yXCIpO1V0LiQkYW5ub3RhdGU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpe2lmKCEoaT10LiRpbmplY3QpKXtpZihpPVtdLHQubGVuZ3RoKXtpZihlKXRocm93IGIobikmJm58fChuPXQubmFtZXx8RnQodCkpLF9yKFwic3RyaWN0ZGlcIixuKTtlPVJ0KHQpLHIoZVsxXS5zcGxpdChSciksZnVuY3Rpb24odCl7dC5yZXBsYWNlKEZyLGZ1bmN0aW9uKHQsZSxuKXtpLnB1c2gobil9KX0pfXQuJGluamVjdD1pfX1lbHNlIGFyKHQpPyhlPXQubGVuZ3RoLTEsbnQodFtlXSxcImZuXCIpLGk9dC5zbGljZSgwLGUpKTpudCh0LFwiZm5cIiwhMCk7cmV0dXJuIGl9O3ZhciBxcj1lKFwiJGFuaW1hdGVcIiksTHI9ZnVuY3Rpb24oKXt0aGlzLiRnZXQ9aH0sQnI9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgUHQsZT1bXTt0aGlzLiRnZXQ9W1wiJCRBbmltYXRlUnVubmVyXCIsXCIkcm9vdFNjb3BlXCIsZnVuY3Rpb24obixpKXtmdW5jdGlvbiBvKHQsZSxuKXt2YXIgaT0hMTtyZXR1cm4gZSYmKGU9YihlKT9lLnNwbGl0KFwiIFwiKTphcihlKT9lOltdLHIoZSxmdW5jdGlvbihlKXtlJiYoaT0hMCx0W2VdPW4pfSkpLGl9ZnVuY3Rpb24gYSgpe3IoZSxmdW5jdGlvbihlKXt2YXIgbj10LmdldChlKTtpZihuKXt2YXIgaT1MdChlLmF0dHIoXCJjbGFzc1wiKSksbz1cIlwiLGE9XCJcIjtyKG4sZnVuY3Rpb24odCxlKXt0IT09ISFpW2VdJiYodD9vKz0oby5sZW5ndGg/XCIgXCI6XCJcIikrZTphKz0oYS5sZW5ndGg/XCIgXCI6XCJcIikrZSl9KSxyKGUsZnVuY3Rpb24odCl7byYmU3QodCxvKSxhJiZ4dCh0LGEpfSksdC5yZW1vdmUoZSl9fSksZS5sZW5ndGg9MH1yZXR1cm57ZW5hYmxlZDpoLG9uOmgsb2ZmOmgscGluOmgscHVzaDpmdW5jdGlvbihyLHMsdSxjKXtyZXR1cm4gYyYmYygpLHU9dXx8e30sdS5mcm9tJiZyLmNzcyh1LmZyb20pLHUudG8mJnIuY3NzKHUudG8pLCh1LmFkZENsYXNzfHx1LnJlbW92ZUNsYXNzKSYmKHM9dS5hZGRDbGFzcyxjPXUucmVtb3ZlQ2xhc3MsdT10LmdldChyKXx8e30scz1vKHUscywhMCksYz1vKHUsYywhMSksKHN8fGMpJiYodC5wdXQocix1KSxlLnB1c2gociksMT09PWUubGVuZ3RoJiZpLiQkcG9zdERpZ2VzdChhKSkpLHI9bmV3IG4sci5jb21wbGV0ZSgpLHJ9fX1dfSxIcj1bXCIkcHJvdmlkZVwiLGZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy4kJHJlZ2lzdGVyZWRBbmltYXRpb25zPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5yZWdpc3Rlcj1mdW5jdGlvbihuLHIpe2lmKG4mJlwiLlwiIT09bi5jaGFyQXQoMCkpdGhyb3cgcXIoXCJub3Rjc2VsXCIsbik7dmFyIGk9bitcIi1hbmltYXRpb25cIjtlLiQkcmVnaXN0ZXJlZEFuaW1hdGlvbnNbbi5zdWJzdHIoMSldPWksdC5mYWN0b3J5KGkscil9LHRoaXMuY2xhc3NOYW1lRmlsdGVyPWZ1bmN0aW9uKHQpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoJiYodGhpcy4kJGNsYXNzTmFtZUZpbHRlcj10IGluc3RhbmNlb2YgUmVnRXhwP3Q6bnVsbCkmJi8oXFxzK3xcXC8pbmctYW5pbWF0ZShcXHMrfFxcLykvLnRlc3QodGhpcy4kJGNsYXNzTmFtZUZpbHRlci50b1N0cmluZygpKSl0aHJvdyBxcihcIm5vbmdjbHNcIixcIm5nLWFuaW1hdGVcIik7cmV0dXJuIHRoaXMuJCRjbGFzc05hbWVGaWx0ZXJ9LHRoaXMuJGdldD1bXCIkJGFuaW1hdGVRdWV1ZVwiLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlLG4pe2lmKG4pe3ZhciByO3Q6e2ZvcihyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBpPW5bcl07aWYoMT09PWkubm9kZVR5cGUpe3I9aTticmVhayB0fX1yPXZvaWQgMH0hcnx8ci5wYXJlbnROb2RlfHxyLnByZXZpb3VzRWxlbWVudFNpYmxpbmd8fChuPW51bGwpfW4/bi5hZnRlcih0KTplLnByZXBlbmQodCl9cmV0dXJue29uOnQub24sb2ZmOnQub2ZmLHBpbjp0LnBpbixlbmFibGVkOnQuZW5hYmxlZCxjYW5jZWw6ZnVuY3Rpb24odCl7dC5lbmQmJnQuZW5kKCl9LGVudGVyOmZ1bmN0aW9uKG4scixpLG8pe3JldHVybiByPXImJnpuKHIpLGk9aSYmem4oaSkscj1yfHxpLnBhcmVudCgpLGUobixyLGkpLHQucHVzaChuLFwiZW50ZXJcIixCdChvKSl9LG1vdmU6ZnVuY3Rpb24obixyLGksbyl7cmV0dXJuIHI9ciYmem4ociksaT1pJiZ6bihpKSxyPXJ8fGkucGFyZW50KCksZShuLHIsaSksdC5wdXNoKG4sXCJtb3ZlXCIsQnQobykpfSxsZWF2ZTpmdW5jdGlvbihlLG4pe3JldHVybiB0LnB1c2goZSxcImxlYXZlXCIsQnQobiksZnVuY3Rpb24oKXtlLnJlbW92ZSgpfSl9LGFkZENsYXNzOmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gcj1CdChyKSxyLmFkZENsYXNzPXF0KHIuYWRkY2xhc3MsbiksdC5wdXNoKGUsXCJhZGRDbGFzc1wiLHIpfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlLG4scil7cmV0dXJuIHI9QnQociksci5yZW1vdmVDbGFzcz1xdChyLnJlbW92ZUNsYXNzLG4pLHQucHVzaChlLFwicmVtb3ZlQ2xhc3NcIixyKX0sc2V0Q2xhc3M6ZnVuY3Rpb24oZSxuLHIsaSl7cmV0dXJuIGk9QnQoaSksaS5hZGRDbGFzcz1xdChpLmFkZENsYXNzLG4pLGkucmVtb3ZlQ2xhc3M9cXQoaS5yZW1vdmVDbGFzcyxyKSx0LnB1c2goZSxcInNldENsYXNzXCIsaSl9LGFuaW1hdGU6ZnVuY3Rpb24oZSxuLHIsaSxvKXtyZXR1cm4gbz1CdChvKSxvLmZyb209by5mcm9tP3Uoby5mcm9tLG4pOm4sby50bz1vLnRvP3Uoby50byxyKTpyLG8udGVtcENsYXNzZXM9cXQoby50ZW1wQ2xhc3NlcyxpfHxcIm5nLWlubGluZS1hbmltYXRlXCIpLHQucHVzaChlLFwiYW5pbWF0ZVwiLG8pfX19XX1dLHpyPWZ1bmN0aW9uKCl7dGhpcy4kZ2V0PVtcIiQkckFGXCIsZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtuLnB1c2goZSksMTxuLmxlbmd0aHx8dChmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8bi5sZW5ndGg7dCsrKW5bdF0oKTtuPVtdfSl9dmFyIG49W107cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9ITE7cmV0dXJuIGUoZnVuY3Rpb24oKXt0PSEwfSksZnVuY3Rpb24obil7dD9uKCk6ZShuKX19fV19LFdyPWZ1bmN0aW9uKCl7dGhpcy4kZ2V0PVtcIiRxXCIsXCIkc25pZmZlclwiLFwiJCRhbmltYXRlQXN5bmNSdW5cIixcIiRkb2N1bWVudFwiLFwiJHRpbWVvdXRcIixmdW5jdGlvbih0LGUsbixpLG8pe2Z1bmN0aW9uIGEodCl7dGhpcy5zZXRIb3N0KHQpO3ZhciBlPW4oKTt0aGlzLl9kb25lQ2FsbGJhY2tzPVtdLHRoaXMuX3RpY2s9ZnVuY3Rpb24odCl7dmFyIG49aVswXTtuJiZuLmhpZGRlbj9vKHQsMCwhMSk6ZSh0KX0sdGhpcy5fc3RhdGU9MH1yZXR1cm4gYS5jaGFpbj1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXtyPT09dC5sZW5ndGg/ZSghMCk6dFtyXShmdW5jdGlvbih0KXshMT09PXQ/ZSghMSk6KHIrKyxuKCkpfSl9dmFyIHI9MDtuKCl9LGEuYWxsPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbihuKXtvPW8mJm4sKytpPT09dC5sZW5ndGgmJmUobyl9dmFyIGk9MCxvPSEwO3IodCxmdW5jdGlvbih0KXt0LmRvbmUobil9KX0sYS5wcm90b3R5cGU9e3NldEhvc3Q6ZnVuY3Rpb24odCl7dGhpcy5ob3N0PXR8fHt9fSxkb25lOmZ1bmN0aW9uKHQpezI9PT10aGlzLl9zdGF0ZT90KCk6dGhpcy5fZG9uZUNhbGxiYWNrcy5wdXNoKHQpfSxwcm9ncmVzczpoLGdldFByb21pc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5wcm9taXNlKXt2YXIgZT10aGlzO3RoaXMucHJvbWlzZT10KGZ1bmN0aW9uKHQsbil7ZS5kb25lKGZ1bmN0aW9uKGUpeyExPT09ZT9uKCk6dCgpfSl9KX1yZXR1cm4gdGhpcy5wcm9taXNlfSx0aGVuOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2V0UHJvbWlzZSgpLnRoZW4odCxlKX0sY2F0Y2g6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0UHJvbWlzZSgpLmNhdGNoKHQpfSxmaW5hbGx5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldFByb21pc2UoKS5maW5hbGx5KHQpfSxwYXVzZTpmdW5jdGlvbigpe3RoaXMuaG9zdC5wYXVzZSYmdGhpcy5ob3N0LnBhdXNlKCl9LHJlc3VtZTpmdW5jdGlvbigpe3RoaXMuaG9zdC5yZXN1bWUmJnRoaXMuaG9zdC5yZXN1bWUoKX0sZW5kOmZ1bmN0aW9uKCl7dGhpcy5ob3N0LmVuZCYmdGhpcy5ob3N0LmVuZCgpLHRoaXMuX3Jlc29sdmUoITApfSxjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmhvc3QuY2FuY2VsJiZ0aGlzLmhvc3QuY2FuY2VsKCksdGhpcy5fcmVzb2x2ZSghMSl9LGNvbXBsZXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7MD09PWUuX3N0YXRlJiYoZS5fc3RhdGU9MSxlLl90aWNrKGZ1bmN0aW9uKCl7ZS5fcmVzb2x2ZSh0KX0pKX0sX3Jlc29sdmU6ZnVuY3Rpb24odCl7MiE9PXRoaXMuX3N0YXRlJiYocih0aGlzLl9kb25lQ2FsbGJhY2tzLGZ1bmN0aW9uKGUpe2UodCl9KSx0aGlzLl9kb25lQ2FsbGJhY2tzLmxlbmd0aD0wLHRoaXMuX3N0YXRlPTIpfX0sYX1dfSxHcj1mdW5jdGlvbigpe3RoaXMuJGdldD1bXCIkJHJBRlwiLFwiJHFcIixcIiQkQW5pbWF0ZVJ1bm5lclwiLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiBpKCl7cmV0dXJuIHQoZnVuY3Rpb24oKXtvLmFkZENsYXNzJiYoZS5hZGRDbGFzcyhvLmFkZENsYXNzKSxvLmFkZENsYXNzPW51bGwpLG8ucmVtb3ZlQ2xhc3MmJihlLnJlbW92ZUNsYXNzKG8ucmVtb3ZlQ2xhc3MpLG8ucmVtb3ZlQ2xhc3M9bnVsbCksby50byYmKGUuY3NzKG8udG8pLG8udG89bnVsbCksYXx8cy5jb21wbGV0ZSgpLGE9ITB9KSxzfXZhciBvPXJ8fHt9O28uJCRwcmVwYXJlZHx8KG89aihvKSksby5jbGVhbnVwU3R5bGVzJiYoby5mcm9tPW8udG89bnVsbCksby5mcm9tJiYoZS5jc3Moby5mcm9tKSxvLmZyb209bnVsbCk7dmFyIGEscz1uZXcgbjtyZXR1cm57c3RhcnQ6aSxlbmQ6aX19fV19LFpyPWUoXCIkY29tcGlsZVwiKSxKcj1uZXcgZnVuY3Rpb24oKXt9O1p0LiRpbmplY3Q9W1wiJHByb3ZpZGVcIixcIiQkc2FuaXRpemVVcmlQcm92aWRlclwiXSxKdC5wcm90b3R5cGUuaXNGaXJzdENoYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZpb3VzVmFsdWU9PT1Kcn07dmFyIEtyPS9eKCg/Onh8ZGF0YSlbXFw6XFwtX10pL2ksWXI9ZShcIiRjb250cm9sbGVyXCIpLFhyPS9eKFxcUyspKFxccythc1xccysoW1xcdyRdKykpPyQvLFFyPWZ1bmN0aW9uKCl7dGhpcy4kZ2V0PVtcIiRkb2N1bWVudFwiLGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZT8hZS5ub2RlVHlwZSYmZSBpbnN0YW5jZW9mIHpuJiYoZT1lWzBdKTplPXRbMF0uYm9keSxlLm9mZnNldFdpZHRoKzF9fV19LHRpPVwiYXBwbGljYXRpb24vanNvblwiLGVpPXtcIkNvbnRlbnQtVHlwZVwiOnRpK1wiO2NoYXJzZXQ9dXRmLThcIn0sbmk9L15cXFt8Xlxceyg/IVxceykvLHJpPXtcIltcIjovXSQvLFwie1wiOi99JC99LGlpPS9eXFwpXFxdXFx9Jyw/XFxuLyxvaT1lKFwiJGh0dHBcIiksYWk9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhyb3cgb2koXCJsZWdhY3lcIix0KX19LHNpPWlyLiRpbnRlcnBvbGF0ZU1pbkVycj1lKFwiJGludGVycG9sYXRlXCIpO3NpLnRocm93Tm9jb25jYXQ9ZnVuY3Rpb24odCl7dGhyb3cgc2koXCJub2NvbmNhdFwiLHQpfSxzaS5pbnRlcnI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gc2koXCJpbnRlcnJcIix0LGUudG9TdHJpbmcoKSl9O3ZhciB1aT0vXihbXlxcPyNdKikoXFw/KFteI10qKSk/KCMoLiopKT8kLyxjaT17aHR0cDo4MCxodHRwczo0NDMsZnRwOjIxfSxsaT1lKFwiJGxvY2F0aW9uXCIpLGZpPXskJGFic1VybDpcIlwiLCQkaHRtbDU6ITEsJCRyZXBsYWNlOiExLGFic1VybDpFZShcIiQkYWJzVXJsXCIpLHVybDpmdW5jdGlvbih0KXtpZihtKHQpKXJldHVybiB0aGlzLiQkdXJsO3ZhciBlPXVpLmV4ZWModCk7cmV0dXJuKGVbMV18fFwiXCI9PT10KSYmdGhpcy5wYXRoKGRlY29kZVVSSUNvbXBvbmVudChlWzFdKSksKGVbMl18fGVbMV18fFwiXCI9PT10KSYmdGhpcy5zZWFyY2goZVszXXx8XCJcIiksdGhpcy5oYXNoKGVbNV18fFwiXCIpLHRoaXN9LHByb3RvY29sOkVlKFwiJCRwcm90b2NvbFwiKSxob3N0OkVlKFwiJCRob3N0XCIpLHBvcnQ6RWUoXCIkJHBvcnRcIikscGF0aDpBZShcIiQkcGF0aFwiLGZ1bmN0aW9uKHQpe3JldHVybiB0PW51bGwhPT10P3QudG9TdHJpbmcoKTpcIlwiLFwiL1wiPT10LmNoYXJBdCgwKT90OlwiL1wiK3R9KSxzZWFyY2g6ZnVuY3Rpb24odCxlKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiB0aGlzLiQkc2VhcmNoO2Nhc2UgMTppZihiKHQpfHx3KHQpKXQ9dC50b1N0cmluZygpLHRoaXMuJCRzZWFyY2g9SCh0KTtlbHNle2lmKCFnKHQpKXRocm93IGxpKFwiaXNyY2hhcmdcIik7dD1qKHQse30pLHIodCxmdW5jdGlvbihlLG4pe251bGw9PWUmJmRlbGV0ZSB0W25dfSksdGhpcy4kJHNlYXJjaD10fWJyZWFrO2RlZmF1bHQ6bShlKXx8bnVsbD09PWU/ZGVsZXRlIHRoaXMuJCRzZWFyY2hbdF06dGhpcy4kJHNlYXJjaFt0XT1lfXJldHVybiB0aGlzLiQkY29tcG9zZSgpLHRoaXN9LGhhc2g6QWUoXCIkJGhhc2hcIixmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXQ/dC50b1N0cmluZygpOlwiXCJ9KSxyZXBsYWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJCRyZXBsYWNlPSEwLHRoaXN9fTtyKFtDZSxTZSx4ZV0sZnVuY3Rpb24odCl7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShmaSksdC5wcm90b3R5cGUuc3RhdGU9ZnVuY3Rpb24oZSl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuJCRzdGF0ZTtpZih0IT09eGV8fCF0aGlzLiQkaHRtbDUpdGhyb3cgbGkoXCJub3N0YXRlXCIpO3JldHVybiB0aGlzLiQkc3RhdGU9bShlKT9udWxsOmUsdGhpc319KTt2YXIgaGk9ZShcIiRwYXJzZVwiKSxwaT1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxkaT1GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHksJGk9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQsbWk9YXQoKTtyKFwiKyAtICogLyAlID09PSAhPT0gPT0gIT0gPCA+IDw9ID49ICYmIHx8ICEgPSB8XCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKHQpe21pW3RdPSEwfSk7dmFyIHZpPXtuOlwiXFxuXCIsZjpcIlxcZlwiLHI6XCJcXHJcIix0OlwiXFx0XCIsdjpcIlxcdlwiLFwiJ1wiOlwiJ1wiLCdcIic6J1wiJ30sZ2k9ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zPXR9O2dpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6Z2ksbGV4OmZ1bmN0aW9uKHQpe2Zvcih0aGlzLnRleHQ9dCx0aGlzLmluZGV4PTAsdGhpcy50b2tlbnM9W107dGhpcy5pbmRleDx0aGlzLnRleHQubGVuZ3RoOylpZih0PXRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCksJ1wiJz09PXR8fFwiJ1wiPT09dCl0aGlzLnJlYWRTdHJpbmcodCk7ZWxzZSBpZih0aGlzLmlzTnVtYmVyKHQpfHxcIi5cIj09PXQmJnRoaXMuaXNOdW1iZXIodGhpcy5wZWVrKCkpKXRoaXMucmVhZE51bWJlcigpO2Vsc2UgaWYodGhpcy5pc0lkZW50aWZpZXJTdGFydCh0aGlzLnBlZWtNdWx0aWNoYXIoKSkpdGhpcy5yZWFkSWRlbnQoKTtlbHNlIGlmKHRoaXMuaXModCxcIigpe31bXS4sOzo/XCIpKXRoaXMudG9rZW5zLnB1c2goe2luZGV4OnRoaXMuaW5kZXgsdGV4dDp0fSksdGhpcy5pbmRleCsrO2Vsc2UgaWYodGhpcy5pc1doaXRlc3BhY2UodCkpdGhpcy5pbmRleCsrO2Vsc2V7dmFyIGU9dCt0aGlzLnBlZWsoKSxuPWUrdGhpcy5wZWVrKDIpLHI9bWlbZV0saT1taVtuXTttaVt0XXx8cnx8aT8odD1pP246cj9lOnQsdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6dGhpcy5pbmRleCx0ZXh0OnQsb3BlcmF0b3I6ITB9KSx0aGlzLmluZGV4Kz10Lmxlbmd0aCk6dGhpcy50aHJvd0Vycm9yKFwiVW5leHBlY3RlZCBuZXh0IGNoYXJhY3RlciBcIix0aGlzLmluZGV4LHRoaXMuaW5kZXgrMSl9cmV0dXJuIHRoaXMudG9rZW5zfSxpczpmdW5jdGlvbih0LGUpe3JldHVybi0xIT09ZS5pbmRleE9mKHQpfSxwZWVrOmZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fDEsdGhpcy5pbmRleCt0PHRoaXMudGV4dC5sZW5ndGgmJnRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCt0KX0saXNOdW1iZXI6ZnVuY3Rpb24odCl7cmV0dXJuXCIwXCI8PXQmJlwiOVwiPj10JiZcInN0cmluZ1wiPT10eXBlb2YgdH0saXNXaGl0ZXNwYWNlOmZ1bmN0aW9uKHQpe3JldHVyblwiIFwiPT09dHx8XCJcXHJcIj09PXR8fFwiXFx0XCI9PT10fHxcIlxcblwiPT09dHx8XCJcXHZcIj09PXR8fFwiwqBcIj09PXR9LGlzSWRlbnRpZmllclN0YXJ0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMuaXNJZGVudGlmaWVyU3RhcnQ/dGhpcy5vcHRpb25zLmlzSWRlbnRpZmllclN0YXJ0KHQsdGhpcy5jb2RlUG9pbnRBdCh0KSk6dGhpcy5pc1ZhbGlkSWRlbnRpZmllclN0YXJ0KHQpfSxpc1ZhbGlkSWRlbnRpZmllclN0YXJ0OmZ1bmN0aW9uKHQpe3JldHVyblwiYVwiPD10JiZcInpcIj49dHx8XCJBXCI8PXQmJlwiWlwiPj10fHxcIl9cIj09PXR8fFwiJFwiPT09dH0saXNJZGVudGlmaWVyQ29udGludWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5pc0lkZW50aWZpZXJDb250aW51ZT90aGlzLm9wdGlvbnMuaXNJZGVudGlmaWVyQ29udGludWUodCx0aGlzLmNvZGVQb2ludEF0KHQpKTp0aGlzLmlzVmFsaWRJZGVudGlmaWVyQ29udGludWUodCl9LGlzVmFsaWRJZGVudGlmaWVyQ29udGludWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5pc1ZhbGlkSWRlbnRpZmllclN0YXJ0KHQsZSl8fHRoaXMuaXNOdW1iZXIodCl9LGNvZGVQb2ludEF0OmZ1bmN0aW9uKHQpe3JldHVybiAxPT09dC5sZW5ndGg/dC5jaGFyQ29kZUF0KDApOih0LmNoYXJDb2RlQXQoMCk8PDEwKSt0LmNoYXJDb2RlQXQoMSktNTY2MTM4ODh9LHBlZWtNdWx0aWNoYXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpLGU9dGhpcy5wZWVrKCk7aWYoIWUpcmV0dXJuIHQ7dmFyIG49dC5jaGFyQ29kZUF0KDApLHI9ZS5jaGFyQ29kZUF0KDApO3JldHVybiA1NTI5Njw9biYmNTYzMTk+PW4mJjU2MzIwPD1yJiY1NzM0Mz49cj90K2U6dH0saXNFeHBPcGVyYXRvcjpmdW5jdGlvbih0KXtyZXR1cm5cIi1cIj09PXR8fFwiK1wiPT09dHx8dGhpcy5pc051bWJlcih0KX0sdGhyb3dFcnJvcjpmdW5jdGlvbih0LGUsbil7dGhyb3cgbj1ufHx0aGlzLmluZGV4LGU9dihlKT9cInMgXCIrZStcIi1cIit0aGlzLmluZGV4K1wiIFtcIit0aGlzLnRleHQuc3Vic3RyaW5nKGUsbikrXCJdXCI6XCIgXCIrbixoaShcImxleGVyclwiLHQsZSx0aGlzLnRleHQpfSxyZWFkTnVtYmVyOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVwiXCIsZT10aGlzLmluZGV4O3RoaXMuaW5kZXg8dGhpcy50ZXh0Lmxlbmd0aDspe3ZhciBuPUtuKHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCkpO2lmKFwiLlwiPT1ufHx0aGlzLmlzTnVtYmVyKG4pKXQrPW47ZWxzZXt2YXIgcj10aGlzLnBlZWsoKTtpZihcImVcIj09biYmdGhpcy5pc0V4cE9wZXJhdG9yKHIpKXQrPW47ZWxzZSBpZih0aGlzLmlzRXhwT3BlcmF0b3IobikmJnImJnRoaXMuaXNOdW1iZXIocikmJlwiZVwiPT10LmNoYXJBdCh0Lmxlbmd0aC0xKSl0Kz1uO2Vsc2V7aWYoIXRoaXMuaXNFeHBPcGVyYXRvcihuKXx8ciYmdGhpcy5pc051bWJlcihyKXx8XCJlXCIhPXQuY2hhckF0KHQubGVuZ3RoLTEpKWJyZWFrO3RoaXMudGhyb3dFcnJvcihcIkludmFsaWQgZXhwb25lbnRcIil9fXRoaXMuaW5kZXgrK310aGlzLnRva2Vucy5wdXNoKHtpbmRleDplLHRleHQ6dCxjb25zdGFudDohMCx2YWx1ZTpOdW1iZXIodCl9KX0scmVhZElkZW50OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5pbmRleDtmb3IodGhpcy5pbmRleCs9dGhpcy5wZWVrTXVsdGljaGFyKCkubGVuZ3RoO3RoaXMuaW5kZXg8dGhpcy50ZXh0Lmxlbmd0aDspe3ZhciBlPXRoaXMucGVla011bHRpY2hhcigpO2lmKCF0aGlzLmlzSWRlbnRpZmllckNvbnRpbnVlKGUpKWJyZWFrO3RoaXMuaW5kZXgrPWUubGVuZ3RofXRoaXMudG9rZW5zLnB1c2goe2luZGV4OnQsdGV4dDp0aGlzLnRleHQuc2xpY2UodCx0aGlzLmluZGV4KSxpZGVudGlmaWVyOiEwfSl9LHJlYWRTdHJpbmc6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbmRleDt0aGlzLmluZGV4Kys7Zm9yKHZhciBuPVwiXCIscj10LGk9ITE7dGhpcy5pbmRleDx0aGlzLnRleHQubGVuZ3RoOyl7dmFyIG89dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KSxyPXIrbztpZihpKVwidVwiPT09bz8oaT10aGlzLnRleHQuc3Vic3RyaW5nKHRoaXMuaW5kZXgrMSx0aGlzLmluZGV4KzUpLGkubWF0Y2goL1tcXGRhLWZdezR9L2kpfHx0aGlzLnRocm93RXJyb3IoXCJJbnZhbGlkIHVuaWNvZGUgZXNjYXBlIFtcXFxcdVwiK2krXCJdXCIpLHRoaXMuaW5kZXgrPTQsbis9U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChpLDE2KSkpOm4rPXZpW29dfHxvLGk9ITE7ZWxzZSBpZihcIlxcXFxcIj09PW8paT0hMDtlbHNle2lmKG89PT10KXJldHVybiB0aGlzLmluZGV4Kyssdm9pZCB0aGlzLnRva2Vucy5wdXNoKHtpbmRleDplLHRleHQ6cixjb25zdGFudDohMCx2YWx1ZTpufSk7bis9b310aGlzLmluZGV4Kyt9dGhpcy50aHJvd0Vycm9yKFwiVW50ZXJtaW5hdGVkIHF1b3RlXCIsZSl9fTt2YXIgeWk9ZnVuY3Rpb24odCxlKXt0aGlzLmxleGVyPXQsdGhpcy5vcHRpb25zPWV9O3lpLlByb2dyYW09XCJQcm9ncmFtXCIseWkuRXhwcmVzc2lvblN0YXRlbWVudD1cIkV4cHJlc3Npb25TdGF0ZW1lbnRcIix5aS5Bc3NpZ25tZW50RXhwcmVzc2lvbj1cIkFzc2lnbm1lbnRFeHByZXNzaW9uXCIseWkuQ29uZGl0aW9uYWxFeHByZXNzaW9uPVwiQ29uZGl0aW9uYWxFeHByZXNzaW9uXCIseWkuTG9naWNhbEV4cHJlc3Npb249XCJMb2dpY2FsRXhwcmVzc2lvblwiLHlpLkJpbmFyeUV4cHJlc3Npb249XCJCaW5hcnlFeHByZXNzaW9uXCIseWkuVW5hcnlFeHByZXNzaW9uPVwiVW5hcnlFeHByZXNzaW9uXCIseWkuQ2FsbEV4cHJlc3Npb249XCJDYWxsRXhwcmVzc2lvblwiLHlpLk1lbWJlckV4cHJlc3Npb249XCJNZW1iZXJFeHByZXNzaW9uXCIseWkuSWRlbnRpZmllcj1cIklkZW50aWZpZXJcIix5aS5MaXRlcmFsPVwiTGl0ZXJhbFwiLHlpLkFycmF5RXhwcmVzc2lvbj1cIkFycmF5RXhwcmVzc2lvblwiLHlpLlByb3BlcnR5PVwiUHJvcGVydHlcIix5aS5PYmplY3RFeHByZXNzaW9uPVwiT2JqZWN0RXhwcmVzc2lvblwiLHlpLlRoaXNFeHByZXNzaW9uPVwiVGhpc0V4cHJlc3Npb25cIix5aS5Mb2NhbHNFeHByZXNzaW9uPVwiTG9jYWxzRXhwcmVzc2lvblwiLHlpLk5HVmFsdWVQYXJhbWV0ZXI9XCJOR1ZhbHVlUGFyYW1ldGVyXCIseWkucHJvdG90eXBlPXthc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGV4dD10LHRoaXMudG9rZW5zPXRoaXMubGV4ZXIubGV4KHQpLHQ9dGhpcy5wcm9ncmFtKCksMCE9PXRoaXMudG9rZW5zLmxlbmd0aCYmdGhpcy50aHJvd0Vycm9yKFwiaXMgYW4gdW5leHBlY3RlZCB0b2tlblwiLHRoaXMudG9rZW5zWzBdKSx0fSxwcm9ncmFtOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdOzspaWYoMDx0aGlzLnRva2Vucy5sZW5ndGgmJiF0aGlzLnBlZWsoXCJ9XCIsXCIpXCIsXCI7XCIsXCJdXCIpJiZ0LnB1c2godGhpcy5leHByZXNzaW9uU3RhdGVtZW50KCkpLCF0aGlzLmV4cGVjdChcIjtcIikpcmV0dXJue3R5cGU6eWkuUHJvZ3JhbSxib2R5OnR9fSxleHByZXNzaW9uU3RhdGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6eWkuRXhwcmVzc2lvblN0YXRlbWVudCxleHByZXNzaW9uOnRoaXMuZmlsdGVyQ2hhaW4oKX19LGZpbHRlckNoYWluOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZXhwcmVzc2lvbigpO3RoaXMuZXhwZWN0KFwifFwiKTspdD10aGlzLmZpbHRlcih0KTtyZXR1cm4gdH0sZXhwcmVzc2lvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFzc2lnbm1lbnQoKX0sYXNzaWdubWVudDpmdW5jdGlvbigpe3ZhciB0PXRoaXMudGVybmFyeSgpO3JldHVybiB0aGlzLmV4cGVjdChcIj1cIikmJih0PXt0eXBlOnlpLkFzc2lnbm1lbnRFeHByZXNzaW9uLGxlZnQ6dCxyaWdodDp0aGlzLmFzc2lnbm1lbnQoKSxvcGVyYXRvcjpcIj1cIn0pLHR9LHRlcm5hcnk6ZnVuY3Rpb24oKXt2YXIgdCxlLG49dGhpcy5sb2dpY2FsT1IoKTtyZXR1cm4gdGhpcy5leHBlY3QoXCI/XCIpJiYodD10aGlzLmV4cHJlc3Npb24oKSx0aGlzLmNvbnN1bWUoXCI6XCIpKT8oZT10aGlzLmV4cHJlc3Npb24oKSx7dHlwZTp5aS5Db25kaXRpb25hbEV4cHJlc3Npb24sdGVzdDpuLGFsdGVybmF0ZTp0LGNvbnNlcXVlbnQ6ZX0pOm59LGxvZ2ljYWxPUjpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmxvZ2ljYWxBTkQoKTt0aGlzLmV4cGVjdChcInx8XCIpOyl0PXt0eXBlOnlpLkxvZ2ljYWxFeHByZXNzaW9uLG9wZXJhdG9yOlwifHxcIixsZWZ0OnQscmlnaHQ6dGhpcy5sb2dpY2FsQU5EKCl9O3JldHVybiB0fSxsb2dpY2FsQU5EOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZXF1YWxpdHkoKTt0aGlzLmV4cGVjdChcIiYmXCIpOyl0PXt0eXBlOnlpLkxvZ2ljYWxFeHByZXNzaW9uLG9wZXJhdG9yOlwiJiZcIixsZWZ0OnQscmlnaHQ6dGhpcy5lcXVhbGl0eSgpfTtyZXR1cm4gdH0sZXF1YWxpdHk6ZnVuY3Rpb24oKXtmb3IodmFyIHQsZT10aGlzLnJlbGF0aW9uYWwoKTt0PXRoaXMuZXhwZWN0KFwiPT1cIixcIiE9XCIsXCI9PT1cIixcIiE9PVwiKTspZT17dHlwZTp5aS5CaW5hcnlFeHByZXNzaW9uLG9wZXJhdG9yOnQudGV4dCxsZWZ0OmUscmlnaHQ6dGhpcy5yZWxhdGlvbmFsKCl9O3JldHVybiBlfSxyZWxhdGlvbmFsOmZ1bmN0aW9uKCl7Zm9yKHZhciB0LGU9dGhpcy5hZGRpdGl2ZSgpO3Q9dGhpcy5leHBlY3QoXCI8XCIsXCI+XCIsXCI8PVwiLFwiPj1cIik7KWU9e3R5cGU6eWkuQmluYXJ5RXhwcmVzc2lvbixvcGVyYXRvcjp0LnRleHQsbGVmdDplLHJpZ2h0OnRoaXMuYWRkaXRpdmUoKX07cmV0dXJuIGV9LGFkZGl0aXZlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0LGU9dGhpcy5tdWx0aXBsaWNhdGl2ZSgpO3Q9dGhpcy5leHBlY3QoXCIrXCIsXCItXCIpOyllPXt0eXBlOnlpLkJpbmFyeUV4cHJlc3Npb24sb3BlcmF0b3I6dC50ZXh0LGxlZnQ6ZSxyaWdodDp0aGlzLm11bHRpcGxpY2F0aXZlKCl9O3JldHVybiBlfSxtdWx0aXBsaWNhdGl2ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCxlPXRoaXMudW5hcnkoKTt0PXRoaXMuZXhwZWN0KFwiKlwiLFwiL1wiLFwiJVwiKTspZT17dHlwZTp5aS5CaW5hcnlFeHByZXNzaW9uLG9wZXJhdG9yOnQudGV4dCxsZWZ0OmUscmlnaHQ6dGhpcy51bmFyeSgpfTtyZXR1cm4gZX0sdW5hcnk6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD10aGlzLmV4cGVjdChcIitcIixcIi1cIixcIiFcIikpP3t0eXBlOnlpLlVuYXJ5RXhwcmVzc2lvbixvcGVyYXRvcjp0LnRleHQscHJlZml4OiEwLGFyZ3VtZW50OnRoaXMudW5hcnkoKX06dGhpcy5wcmltYXJ5KCl9LHByaW1hcnk6ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLmV4cGVjdChcIihcIik/KHQ9dGhpcy5maWx0ZXJDaGFpbigpLHRoaXMuY29uc3VtZShcIilcIikpOnRoaXMuZXhwZWN0KFwiW1wiKT90PXRoaXMuYXJyYXlEZWNsYXJhdGlvbigpOnRoaXMuZXhwZWN0KFwie1wiKT90PXRoaXMub2JqZWN0KCk6dGhpcy5zZWxmUmVmZXJlbnRpYWwuaGFzT3duUHJvcGVydHkodGhpcy5wZWVrKCkudGV4dCk/dD1qKHRoaXMuc2VsZlJlZmVyZW50aWFsW3RoaXMuY29uc3VtZSgpLnRleHRdKTp0aGlzLm9wdGlvbnMubGl0ZXJhbHMuaGFzT3duUHJvcGVydHkodGhpcy5wZWVrKCkudGV4dCk/dD17dHlwZTp5aS5MaXRlcmFsLHZhbHVlOnRoaXMub3B0aW9ucy5saXRlcmFsc1t0aGlzLmNvbnN1bWUoKS50ZXh0XX06dGhpcy5wZWVrKCkuaWRlbnRpZmllcj90PXRoaXMuaWRlbnRpZmllcigpOnRoaXMucGVlaygpLmNvbnN0YW50P3Q9dGhpcy5jb25zdGFudCgpOnRoaXMudGhyb3dFcnJvcihcIm5vdCBhIHByaW1hcnkgZXhwcmVzc2lvblwiLHRoaXMucGVlaygpKTtmb3IodmFyIGU7ZT10aGlzLmV4cGVjdChcIihcIixcIltcIixcIi5cIik7KVwiKFwiPT09ZS50ZXh0Pyh0PXt0eXBlOnlpLkNhbGxFeHByZXNzaW9uLGNhbGxlZTp0LGFyZ3VtZW50czp0aGlzLnBhcnNlQXJndW1lbnRzKCl9LHRoaXMuY29uc3VtZShcIilcIikpOlwiW1wiPT09ZS50ZXh0Pyh0PXt0eXBlOnlpLk1lbWJlckV4cHJlc3Npb24sb2JqZWN0OnQscHJvcGVydHk6dGhpcy5leHByZXNzaW9uKCksY29tcHV0ZWQ6ITB9LHRoaXMuY29uc3VtZShcIl1cIikpOlwiLlwiPT09ZS50ZXh0P3Q9e3R5cGU6eWkuTWVtYmVyRXhwcmVzc2lvbixvYmplY3Q6dCxwcm9wZXJ0eTp0aGlzLmlkZW50aWZpZXIoKSxjb21wdXRlZDohMX06dGhpcy50aHJvd0Vycm9yKFwiSU1QT1NTSUJMRVwiKTtyZXR1cm4gdH0sZmlsdGVyOmZ1bmN0aW9uKHQpe3Q9W3RdO2Zvcih2YXIgZT17dHlwZTp5aS5DYWxsRXhwcmVzc2lvbixjYWxsZWU6dGhpcy5pZGVudGlmaWVyKCksYXJndW1lbnRzOnQsZmlsdGVyOiEwfTt0aGlzLmV4cGVjdChcIjpcIik7KXQucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7cmV0dXJuIGV9LHBhcnNlQXJndW1lbnRzOmZ1bmN0aW9uKCl7dmFyIHQ9W107aWYoXCIpXCIhPT10aGlzLnBlZWtUb2tlbigpLnRleHQpZG8gdC5wdXNoKHRoaXMuZmlsdGVyQ2hhaW4oKSk7d2hpbGUodGhpcy5leHBlY3QoXCIsXCIpKTtyZXR1cm4gdH0saWRlbnRpZmllcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY29uc3VtZSgpO3JldHVybiB0LmlkZW50aWZpZXJ8fHRoaXMudGhyb3dFcnJvcihcImlzIG5vdCBhIHZhbGlkIGlkZW50aWZpZXJcIix0KSx7dHlwZTp5aS5JZGVudGlmaWVyLG5hbWU6dC50ZXh0fX0sY29uc3RhbnQ6ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTp5aS5MaXRlcmFsLHZhbHVlOnRoaXMuY29uc3VtZSgpLnZhbHVlfX0sYXJyYXlEZWNsYXJhdGlvbjpmdW5jdGlvbigpe3ZhciB0PVtdO2lmKFwiXVwiIT09dGhpcy5wZWVrVG9rZW4oKS50ZXh0KWRve2lmKHRoaXMucGVlayhcIl1cIikpYnJlYWs7dC5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKX13aGlsZSh0aGlzLmV4cGVjdChcIixcIikpO3JldHVybiB0aGlzLmNvbnN1bWUoXCJdXCIpLHt0eXBlOnlpLkFycmF5RXhwcmVzc2lvbixlbGVtZW50czp0fX0sb2JqZWN0OmZ1bmN0aW9uKCl7dmFyIHQsZT1bXTtpZihcIn1cIiE9PXRoaXMucGVla1Rva2VuKCkudGV4dClkb3tpZih0aGlzLnBlZWsoXCJ9XCIpKWJyZWFrO3Q9e3R5cGU6eWkuUHJvcGVydHksa2luZDpcImluaXRcIn0sdGhpcy5wZWVrKCkuY29uc3RhbnQ/KHQua2V5PXRoaXMuY29uc3RhbnQoKSx0LmNvbXB1dGVkPSExLHRoaXMuY29uc3VtZShcIjpcIiksdC52YWx1ZT10aGlzLmV4cHJlc3Npb24oKSk6dGhpcy5wZWVrKCkuaWRlbnRpZmllcj8odC5rZXk9dGhpcy5pZGVudGlmaWVyKCksdC5jb21wdXRlZD0hMSx0aGlzLnBlZWsoXCI6XCIpPyh0aGlzLmNvbnN1bWUoXCI6XCIpLHQudmFsdWU9dGhpcy5leHByZXNzaW9uKCkpOnQudmFsdWU9dC5rZXkpOnRoaXMucGVlayhcIltcIik/KHRoaXMuY29uc3VtZShcIltcIiksdC5rZXk9dGhpcy5leHByZXNzaW9uKCksdGhpcy5jb25zdW1lKFwiXVwiKSx0LmNvbXB1dGVkPSEwLHRoaXMuY29uc3VtZShcIjpcIiksdC52YWx1ZT10aGlzLmV4cHJlc3Npb24oKSk6dGhpcy50aHJvd0Vycm9yKFwiaW52YWxpZCBrZXlcIix0aGlzLnBlZWsoKSksZS5wdXNoKHQpfXdoaWxlKHRoaXMuZXhwZWN0KFwiLFwiKSk7cmV0dXJuIHRoaXMuY29uc3VtZShcIn1cIikse3R5cGU6eWkuT2JqZWN0RXhwcmVzc2lvbixwcm9wZXJ0aWVzOmV9fSx0aHJvd0Vycm9yOmZ1bmN0aW9uKHQsZSl7dGhyb3cgaGkoXCJzeW50YXhcIixlLnRleHQsdCxlLmluZGV4KzEsdGhpcy50ZXh0LHRoaXMudGV4dC5zdWJzdHJpbmcoZS5pbmRleCkpfSxjb25zdW1lOmZ1bmN0aW9uKHQpe2lmKDA9PT10aGlzLnRva2Vucy5sZW5ndGgpdGhyb3cgaGkoXCJ1ZW9lXCIsdGhpcy50ZXh0KTt2YXIgZT10aGlzLmV4cGVjdCh0KTtyZXR1cm4gZXx8dGhpcy50aHJvd0Vycm9yKFwiaXMgdW5leHBlY3RlZCwgZXhwZWN0aW5nIFtcIit0K1wiXVwiLHRoaXMucGVlaygpKSxlfSxwZWVrVG9rZW46ZnVuY3Rpb24oKXtpZigwPT09dGhpcy50b2tlbnMubGVuZ3RoKXRocm93IGhpKFwidWVvZVwiLHRoaXMudGV4dCk7cmV0dXJuIHRoaXMudG9rZW5zWzBdfSxwZWVrOmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB0aGlzLnBlZWtBaGVhZCgwLHQsZSxuLHIpfSxwZWVrQWhlYWQ6ZnVuY3Rpb24odCxlLG4scixpKXtpZih0aGlzLnRva2Vucy5sZW5ndGg+dCl7dD10aGlzLnRva2Vuc1t0XTt2YXIgbz10LnRleHQ7aWYobz09PWV8fG89PT1ufHxvPT09cnx8bz09PWl8fCEoZXx8bnx8cnx8aSkpcmV0dXJuIHR9cmV0dXJuITF9LGV4cGVjdDpmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4hISh0PXRoaXMucGVlayh0LGUsbixyKSkmJih0aGlzLnRva2Vucy5zaGlmdCgpLHQpfSxzZWxmUmVmZXJlbnRpYWw6e3RoaXM6e3R5cGU6eWkuVGhpc0V4cHJlc3Npb259LCRsb2NhbHM6e3R5cGU6eWkuTG9jYWxzRXhwcmVzc2lvbn19fSxxZS5wcm90b3R5cGU9e2NvbXBpbGU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLGk9dGhpcy5hc3RCdWlsZGVyLmFzdCh0KTt0aGlzLnN0YXRlPXtuZXh0SWQ6MCxmaWx0ZXJzOnt9LGV4cGVuc2l2ZUNoZWNrczplLGZuOnt2YXJzOltdLGJvZHk6W10sb3duOnt9fSxhc3NpZ246e3ZhcnM6W10sYm9keTpbXSxvd246e319LGlucHV0czpbXX0sUGUoaSxuLiRmaWx0ZXIpO3ZhciBvLGE9XCJcIjtyZXR1cm4gdGhpcy5zdGFnZT1cImFzc2lnblwiLChvPVVlKGkpKSYmKHRoaXMuc3RhdGUuY29tcHV0aW5nPVwiYXNzaWduXCIsYT10aGlzLm5leHRJZCgpLHRoaXMucmVjdXJzZShvLGEpLHRoaXMucmV0dXJuXyhhKSxhPVwiZm4uYXNzaWduPVwiK3RoaXMuZ2VuZXJhdGVGdW5jdGlvbihcImFzc2lnblwiLFwicyx2LGxcIikpLG89UmUoaS5ib2R5KSxuLnN0YWdlPVwiaW5wdXRzXCIscihvLGZ1bmN0aW9uKHQsZSl7dmFyIHI9XCJmblwiK2U7bi5zdGF0ZVtyXT17dmFyczpbXSxib2R5OltdLG93bjp7fX0sbi5zdGF0ZS5jb21wdXRpbmc9cjt2YXIgaT1uLm5leHRJZCgpO24ucmVjdXJzZSh0LGkpLG4ucmV0dXJuXyhpKSxuLnN0YXRlLmlucHV0cy5wdXNoKHIpLHQud2F0Y2hJZD1lfSksdGhpcy5zdGF0ZS5jb21wdXRpbmc9XCJmblwiLHRoaXMuc3RhZ2U9XCJtYWluXCIsdGhpcy5yZWN1cnNlKGkpLGE9J1wiJyt0aGlzLlVTRStcIiBcIit0aGlzLlNUUklDVCsnXCI7XFxuJyt0aGlzLmZpbHRlclByZWZpeCgpK1widmFyIGZuPVwiK3RoaXMuZ2VuZXJhdGVGdW5jdGlvbihcImZuXCIsXCJzLGwsYSxpXCIpK2ErdGhpcy53YXRjaEZucygpK1wicmV0dXJuIGZuO1wiLGE9bmV3IEZ1bmN0aW9uKFwiJGZpbHRlclwiLFwiZW5zdXJlU2FmZU1lbWJlck5hbWVcIixcImVuc3VyZVNhZmVPYmplY3RcIixcImVuc3VyZVNhZmVGdW5jdGlvblwiLFwiZ2V0U3RyaW5nVmFsdWVcIixcImVuc3VyZVNhZmVBc3NpZ25Db250ZXh0XCIsXCJpZkRlZmluZWRcIixcInBsdXNcIixcInRleHRcIixhKSh0aGlzLiRmaWx0ZXIsTWUsVGUsVmUsTmUsamUsSWUsRGUsdCksdGhpcy5zdGF0ZT10aGlzLnN0YWdlPXZvaWQgMCxhLmxpdGVyYWw9X2UoaSksYS5jb25zdGFudD1pLmNvbnN0YW50LGF9LFVTRTpcInVzZVwiLFNUUklDVDpcInN0cmljdFwiLHdhdGNoRm5zOmZ1bmN0aW9uKCl7dmFyIHQ9W10sZT10aGlzLnN0YXRlLmlucHV0cyxuPXRoaXM7cmV0dXJuIHIoZSxmdW5jdGlvbihlKXt0LnB1c2goXCJ2YXIgXCIrZStcIj1cIituLmdlbmVyYXRlRnVuY3Rpb24oZSxcInNcIikpfSksZS5sZW5ndGgmJnQucHVzaChcImZuLmlucHV0cz1bXCIrZS5qb2luKFwiLFwiKStcIl07XCIpLHQuam9pbihcIlwiKX0sZ2VuZXJhdGVGdW5jdGlvbjpmdW5jdGlvbih0LGUpe3JldHVyblwiZnVuY3Rpb24oXCIrZStcIil7XCIrdGhpcy52YXJzUHJlZml4KHQpK3RoaXMuYm9keSh0KStcIn07XCJ9LGZpbHRlclByZWZpeDpmdW5jdGlvbigpe3ZhciB0PVtdLGU9dGhpcztyZXR1cm4gcih0aGlzLnN0YXRlLmZpbHRlcnMsZnVuY3Rpb24obixyKXt0LnB1c2gobitcIj0kZmlsdGVyKFwiK2UuZXNjYXBlKHIpK1wiKVwiKX0pLHQubGVuZ3RoP1widmFyIFwiK3Quam9pbihcIixcIikrXCI7XCI6XCJcIn0sdmFyc1ByZWZpeDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGF0ZVt0XS52YXJzLmxlbmd0aD9cInZhciBcIit0aGlzLnN0YXRlW3RdLnZhcnMuam9pbihcIixcIikrXCI7XCI6XCJcIn0sYm9keTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGF0ZVt0XS5ib2R5LmpvaW4oXCJcIil9LHJlY3Vyc2U6ZnVuY3Rpb24odCxlLG4saSxvLGEpe3ZhciBzLHUsYyxsLGYscD10aGlzO2lmKGk9aXx8aCwhYSYmdih0LndhdGNoSWQpKWU9ZXx8dGhpcy5uZXh0SWQoKSx0aGlzLmlmXyhcImlcIix0aGlzLmxhenlBc3NpZ24oZSx0aGlzLmNvbXB1dGVkTWVtYmVyKFwiaVwiLHQud2F0Y2hJZCkpLHRoaXMubGF6eVJlY3Vyc2UodCxlLG4saSxvLCEwKSk7ZWxzZSBzd2l0Y2godC50eXBlKXtjYXNlIHlpLlByb2dyYW06cih0LmJvZHksZnVuY3Rpb24oZSxuKXtwLnJlY3Vyc2UoZS5leHByZXNzaW9uLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24odCl7dT10fSksbiE9PXQuYm9keS5sZW5ndGgtMT9wLmN1cnJlbnQoKS5ib2R5LnB1c2godSxcIjtcIik6cC5yZXR1cm5fKHUpfSk7YnJlYWs7Y2FzZSB5aS5MaXRlcmFsOmw9dGhpcy5lc2NhcGUodC52YWx1ZSksdGhpcy5hc3NpZ24oZSxsKSxpKGwpO2JyZWFrO2Nhc2UgeWkuVW5hcnlFeHByZXNzaW9uOnRoaXMucmVjdXJzZSh0LmFyZ3VtZW50LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24odCl7dT10fSksbD10Lm9wZXJhdG9yK1wiKFwiK3RoaXMuaWZEZWZpbmVkKHUsMCkrXCIpXCIsdGhpcy5hc3NpZ24oZSxsKSxpKGwpO2JyZWFrO2Nhc2UgeWkuQmluYXJ5RXhwcmVzc2lvbjp0aGlzLnJlY3Vyc2UodC5sZWZ0LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24odCl7cz10fSksdGhpcy5yZWN1cnNlKHQucmlnaHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbih0KXt1PXR9KSxsPVwiK1wiPT09dC5vcGVyYXRvcj90aGlzLnBsdXMocyx1KTpcIi1cIj09PXQub3BlcmF0b3I/dGhpcy5pZkRlZmluZWQocywwKSt0Lm9wZXJhdG9yK3RoaXMuaWZEZWZpbmVkKHUsMCk6XCIoXCIrcytcIilcIit0Lm9wZXJhdG9yK1wiKFwiK3UrXCIpXCIsdGhpcy5hc3NpZ24oZSxsKSxpKGwpO2JyZWFrO2Nhc2UgeWkuTG9naWNhbEV4cHJlc3Npb246ZT1lfHx0aGlzLm5leHRJZCgpLHAucmVjdXJzZSh0LmxlZnQsZSkscC5pZl8oXCImJlwiPT09dC5vcGVyYXRvcj9lOnAubm90KGUpLHAubGF6eVJlY3Vyc2UodC5yaWdodCxlKSksaShlKTticmVhaztjYXNlIHlpLkNvbmRpdGlvbmFsRXhwcmVzc2lvbjplPWV8fHRoaXMubmV4dElkKCkscC5yZWN1cnNlKHQudGVzdCxlKSxwLmlmXyhlLHAubGF6eVJlY3Vyc2UodC5hbHRlcm5hdGUsZSkscC5sYXp5UmVjdXJzZSh0LmNvbnNlcXVlbnQsZSkpLGkoZSk7YnJlYWs7Y2FzZSB5aS5JZGVudGlmaWVyOmU9ZXx8dGhpcy5uZXh0SWQoKSxuJiYobi5jb250ZXh0PVwiaW5wdXRzXCI9PT1wLnN0YWdlP1wic1wiOnRoaXMuYXNzaWduKHRoaXMubmV4dElkKCksdGhpcy5nZXRIYXNPd25Qcm9wZXJ0eShcImxcIix0Lm5hbWUpK1wiP2w6c1wiKSxuLmNvbXB1dGVkPSExLG4ubmFtZT10Lm5hbWUpLE1lKHQubmFtZSkscC5pZl8oXCJpbnB1dHNcIj09PXAuc3RhZ2V8fHAubm90KHAuZ2V0SGFzT3duUHJvcGVydHkoXCJsXCIsdC5uYW1lKSksZnVuY3Rpb24oKXtwLmlmXyhcImlucHV0c1wiPT09cC5zdGFnZXx8XCJzXCIsZnVuY3Rpb24oKXtvJiYxIT09byYmcC5pZl8ocC5ub3QocC5ub25Db21wdXRlZE1lbWJlcihcInNcIix0Lm5hbWUpKSxwLmxhenlBc3NpZ24ocC5ub25Db21wdXRlZE1lbWJlcihcInNcIix0Lm5hbWUpLFwie31cIikpLHAuYXNzaWduKGUscC5ub25Db21wdXRlZE1lbWJlcihcInNcIix0Lm5hbWUpKX0pfSxlJiZwLmxhenlBc3NpZ24oZSxwLm5vbkNvbXB1dGVkTWVtYmVyKFwibFwiLHQubmFtZSkpKSwocC5zdGF0ZS5leHBlbnNpdmVDaGVja3N8fEJlKHQubmFtZSkpJiZwLmFkZEVuc3VyZVNhZmVPYmplY3QoZSksaShlKTticmVhaztjYXNlIHlpLk1lbWJlckV4cHJlc3Npb246cz1uJiYobi5jb250ZXh0PXRoaXMubmV4dElkKCkpfHx0aGlzLm5leHRJZCgpLGU9ZXx8dGhpcy5uZXh0SWQoKSxwLnJlY3Vyc2UodC5vYmplY3Qscyx2b2lkIDAsZnVuY3Rpb24oKXtwLmlmXyhwLm5vdE51bGwocyksZnVuY3Rpb24oKXtvJiYxIT09byYmcC5hZGRFbnN1cmVTYWZlQXNzaWduQ29udGV4dChzKSx0LmNvbXB1dGVkPyh1PXAubmV4dElkKCkscC5yZWN1cnNlKHQucHJvcGVydHksdSkscC5nZXRTdHJpbmdWYWx1ZSh1KSxwLmFkZEVuc3VyZVNhZmVNZW1iZXJOYW1lKHUpLG8mJjEhPT1vJiZwLmlmXyhwLm5vdChwLmNvbXB1dGVkTWVtYmVyKHMsdSkpLHAubGF6eUFzc2lnbihwLmNvbXB1dGVkTWVtYmVyKHMsdSksXCJ7fVwiKSksbD1wLmVuc3VyZVNhZmVPYmplY3QocC5jb21wdXRlZE1lbWJlcihzLHUpKSxwLmFzc2lnbihlLGwpLG4mJihuLmNvbXB1dGVkPSEwLG4ubmFtZT11KSk6KE1lKHQucHJvcGVydHkubmFtZSksbyYmMSE9PW8mJnAuaWZfKHAubm90KHAubm9uQ29tcHV0ZWRNZW1iZXIocyx0LnByb3BlcnR5Lm5hbWUpKSxwLmxhenlBc3NpZ24ocC5ub25Db21wdXRlZE1lbWJlcihzLHQucHJvcGVydHkubmFtZSksXCJ7fVwiKSksbD1wLm5vbkNvbXB1dGVkTWVtYmVyKHMsdC5wcm9wZXJ0eS5uYW1lKSwocC5zdGF0ZS5leHBlbnNpdmVDaGVja3N8fEJlKHQucHJvcGVydHkubmFtZSkpJiYobD1wLmVuc3VyZVNhZmVPYmplY3QobCkpLHAuYXNzaWduKGUsbCksbiYmKG4uY29tcHV0ZWQ9ITEsbi5uYW1lPXQucHJvcGVydHkubmFtZSkpfSxmdW5jdGlvbigpe3AuYXNzaWduKGUsXCJ1bmRlZmluZWRcIil9KSxpKGUpfSwhIW8pO2JyZWFrO2Nhc2UgeWkuQ2FsbEV4cHJlc3Npb246ZT1lfHx0aGlzLm5leHRJZCgpLHQuZmlsdGVyPyh1PXAuZmlsdGVyKHQuY2FsbGVlLm5hbWUpLGM9W10scih0LmFyZ3VtZW50cyxmdW5jdGlvbih0KXt2YXIgZT1wLm5leHRJZCgpO3AucmVjdXJzZSh0LGUpLGMucHVzaChlKX0pLGw9dStcIihcIitjLmpvaW4oXCIsXCIpK1wiKVwiLHAuYXNzaWduKGUsbCksaShlKSk6KHU9cC5uZXh0SWQoKSxzPXt9LGM9W10scC5yZWN1cnNlKHQuY2FsbGVlLHUscyxmdW5jdGlvbigpe3AuaWZfKHAubm90TnVsbCh1KSxmdW5jdGlvbigpe3AuYWRkRW5zdXJlU2FmZUZ1bmN0aW9uKHUpLHIodC5hcmd1bWVudHMsZnVuY3Rpb24odCl7cC5yZWN1cnNlKHQscC5uZXh0SWQoKSx2b2lkIDAsZnVuY3Rpb24odCl7Yy5wdXNoKHAuZW5zdXJlU2FmZU9iamVjdCh0KSl9KX0pLHMubmFtZT8ocC5zdGF0ZS5leHBlbnNpdmVDaGVja3N8fHAuYWRkRW5zdXJlU2FmZU9iamVjdChzLmNvbnRleHQpLGw9cC5tZW1iZXIocy5jb250ZXh0LHMubmFtZSxzLmNvbXB1dGVkKStcIihcIitjLmpvaW4oXCIsXCIpK1wiKVwiKTpsPXUrXCIoXCIrYy5qb2luKFwiLFwiKStcIilcIixsPXAuZW5zdXJlU2FmZU9iamVjdChsKSxwLmFzc2lnbihlLGwpfSxmdW5jdGlvbigpe3AuYXNzaWduKGUsXCJ1bmRlZmluZWRcIil9KSxpKGUpfSkpO2JyZWFrO2Nhc2UgeWkuQXNzaWdubWVudEV4cHJlc3Npb246aWYodT10aGlzLm5leHRJZCgpLHM9e30sIUZlKHQubGVmdCkpdGhyb3cgaGkoXCJsdmFsXCIpO3RoaXMucmVjdXJzZSh0LmxlZnQsdm9pZCAwLHMsZnVuY3Rpb24oKXtwLmlmXyhwLm5vdE51bGwocy5jb250ZXh0KSxmdW5jdGlvbigpe3AucmVjdXJzZSh0LnJpZ2h0LHUpLHAuYWRkRW5zdXJlU2FmZU9iamVjdChwLm1lbWJlcihzLmNvbnRleHQscy5uYW1lLHMuY29tcHV0ZWQpKSxwLmFkZEVuc3VyZVNhZmVBc3NpZ25Db250ZXh0KHMuY29udGV4dCksbD1wLm1lbWJlcihzLmNvbnRleHQscy5uYW1lLHMuY29tcHV0ZWQpK3Qub3BlcmF0b3IrdSxwLmFzc2lnbihlLGwpLGkoZXx8bCl9KX0sMSk7YnJlYWs7Y2FzZSB5aS5BcnJheUV4cHJlc3Npb246Yz1bXSxyKHQuZWxlbWVudHMsZnVuY3Rpb24odCl7cC5yZWN1cnNlKHQscC5uZXh0SWQoKSx2b2lkIDAsZnVuY3Rpb24odCl7Yy5wdXNoKHQpfSl9KSxsPVwiW1wiK2Muam9pbihcIixcIikrXCJdXCIsdGhpcy5hc3NpZ24oZSxsKSxpKGwpO2JyZWFrO2Nhc2UgeWkuT2JqZWN0RXhwcmVzc2lvbjpjPVtdLGY9ITEscih0LnByb3BlcnRpZXMsZnVuY3Rpb24odCl7dC5jb21wdXRlZCYmKGY9ITApfSksZj8oZT1lfHx0aGlzLm5leHRJZCgpLHRoaXMuYXNzaWduKGUsXCJ7fVwiKSxyKHQucHJvcGVydGllcyxmdW5jdGlvbih0KXt0LmNvbXB1dGVkPyhzPXAubmV4dElkKCkscC5yZWN1cnNlKHQua2V5LHMpKTpzPXQua2V5LnR5cGU9PT15aS5JZGVudGlmaWVyP3Qua2V5Lm5hbWU6XCJcIit0LmtleS52YWx1ZSx1PXAubmV4dElkKCkscC5yZWN1cnNlKHQudmFsdWUsdSkscC5hc3NpZ24ocC5tZW1iZXIoZSxzLHQuY29tcHV0ZWQpLHUpfSkpOihyKHQucHJvcGVydGllcyxmdW5jdGlvbihlKXtwLnJlY3Vyc2UoZS52YWx1ZSx0LmNvbnN0YW50P3ZvaWQgMDpwLm5leHRJZCgpLHZvaWQgMCxmdW5jdGlvbih0KXtjLnB1c2gocC5lc2NhcGUoZS5rZXkudHlwZT09PXlpLklkZW50aWZpZXI/ZS5rZXkubmFtZTpcIlwiK2Uua2V5LnZhbHVlKStcIjpcIit0KX0pfSksbD1cIntcIitjLmpvaW4oXCIsXCIpK1wifVwiLHRoaXMuYXNzaWduKGUsbCkpLGkoZXx8bCk7YnJlYWs7Y2FzZSB5aS5UaGlzRXhwcmVzc2lvbjp0aGlzLmFzc2lnbihlLFwic1wiKSxpKFwic1wiKTticmVhaztjYXNlIHlpLkxvY2Fsc0V4cHJlc3Npb246dGhpcy5hc3NpZ24oZSxcImxcIiksaShcImxcIik7YnJlYWs7Y2FzZSB5aS5OR1ZhbHVlUGFyYW1ldGVyOnRoaXMuYXNzaWduKGUsXCJ2XCIpLGkoXCJ2XCIpfX0sZ2V0SGFzT3duUHJvcGVydHk6ZnVuY3Rpb24odCxlKXt2YXIgbj10K1wiLlwiK2Uscj10aGlzLmN1cnJlbnQoKS5vd247cmV0dXJuIHIuaGFzT3duUHJvcGVydHkobil8fChyW25dPXRoaXMubmV4dElkKCExLHQrXCImJihcIit0aGlzLmVzY2FwZShlKStcIiBpbiBcIit0K1wiKVwiKSkscltuXX0sYXNzaWduOmZ1bmN0aW9uKHQsZSl7aWYodClyZXR1cm4gdGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKHQsXCI9XCIsZSxcIjtcIiksdH0sZmlsdGVyOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXRlLmZpbHRlcnMuaGFzT3duUHJvcGVydHkodCl8fCh0aGlzLnN0YXRlLmZpbHRlcnNbdF09dGhpcy5uZXh0SWQoITApKSx0aGlzLnN0YXRlLmZpbHRlcnNbdF19LGlmRGVmaW5lZDpmdW5jdGlvbih0LGUpe3JldHVyblwiaWZEZWZpbmVkKFwiK3QrXCIsXCIrdGhpcy5lc2NhcGUoZSkrXCIpXCJ9LHBsdXM6ZnVuY3Rpb24odCxlKXtyZXR1cm5cInBsdXMoXCIrdCtcIixcIitlK1wiKVwifSxyZXR1cm5fOmZ1bmN0aW9uKHQpe3RoaXMuY3VycmVudCgpLmJvZHkucHVzaChcInJldHVybiBcIix0LFwiO1wiKX0saWZfOmZ1bmN0aW9uKHQsZSxuKXtpZighMD09PXQpZSgpO2Vsc2V7dmFyIHI9dGhpcy5jdXJyZW50KCkuYm9keTtyLnB1c2goXCJpZihcIix0LFwiKXtcIiksZSgpLHIucHVzaChcIn1cIiksbiYmKHIucHVzaChcImVsc2V7XCIpLG4oKSxyLnB1c2goXCJ9XCIpKX19LG5vdDpmdW5jdGlvbih0KXtyZXR1cm5cIiEoXCIrdCtcIilcIn0sbm90TnVsbDpmdW5jdGlvbih0KXtyZXR1cm4gdCtcIiE9bnVsbFwifSxub25Db21wdXRlZE1lbWJlcjpmdW5jdGlvbih0LGUpe3ZhciBuPS9bXiRfYS16QS1aMC05XS9nO3JldHVybi9bJF9hLXpBLVpdWyRfYS16QS1aMC05XSovLnRlc3QoZSk/dCtcIi5cIitlOnQrJ1tcIicrZS5yZXBsYWNlKG4sdGhpcy5zdHJpbmdFc2NhcGVGbikrJ1wiXSd9LGNvbXB1dGVkTWVtYmVyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrXCJbXCIrZStcIl1cIn0sbWVtYmVyOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbj90aGlzLmNvbXB1dGVkTWVtYmVyKHQsZSk6dGhpcy5ub25Db21wdXRlZE1lbWJlcih0LGUpfSxhZGRFbnN1cmVTYWZlT2JqZWN0OmZ1bmN0aW9uKHQpe3RoaXMuY3VycmVudCgpLmJvZHkucHVzaCh0aGlzLmVuc3VyZVNhZmVPYmplY3QodCksXCI7XCIpfSxhZGRFbnN1cmVTYWZlTWVtYmVyTmFtZTpmdW5jdGlvbih0KXt0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2godGhpcy5lbnN1cmVTYWZlTWVtYmVyTmFtZSh0KSxcIjtcIil9LGFkZEVuc3VyZVNhZmVGdW5jdGlvbjpmdW5jdGlvbih0KXt0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2godGhpcy5lbnN1cmVTYWZlRnVuY3Rpb24odCksXCI7XCIpfSxhZGRFbnN1cmVTYWZlQXNzaWduQ29udGV4dDpmdW5jdGlvbih0KXt0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2godGhpcy5lbnN1cmVTYWZlQXNzaWduQ29udGV4dCh0KSxcIjtcIil9LGVuc3VyZVNhZmVPYmplY3Q6ZnVuY3Rpb24odCl7cmV0dXJuXCJlbnN1cmVTYWZlT2JqZWN0KFwiK3QrXCIsdGV4dClcIn0sZW5zdXJlU2FmZU1lbWJlck5hbWU6ZnVuY3Rpb24odCl7cmV0dXJuXCJlbnN1cmVTYWZlTWVtYmVyTmFtZShcIit0K1wiLHRleHQpXCJ9LGVuc3VyZVNhZmVGdW5jdGlvbjpmdW5jdGlvbih0KXtyZXR1cm5cImVuc3VyZVNhZmVGdW5jdGlvbihcIit0K1wiLHRleHQpXCJ9LGdldFN0cmluZ1ZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuYXNzaWduKHQsXCJnZXRTdHJpbmdWYWx1ZShcIit0K1wiKVwiKX0sZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQ6ZnVuY3Rpb24odCl7cmV0dXJuXCJlbnN1cmVTYWZlQXNzaWduQ29udGV4dChcIit0K1wiLHRleHQpXCJ9LGxhenlSZWN1cnNlOmZ1bmN0aW9uKHQsZSxuLHIsaSxvKXt2YXIgYT10aGlzO3JldHVybiBmdW5jdGlvbigpe2EucmVjdXJzZSh0LGUsbixyLGksbyl9fSxsYXp5QXNzaWduOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtuLmFzc2lnbih0LGUpfX0sc3RyaW5nRXNjYXBlUmVnZXg6L1teIGEtekEtWjAtOV0vZyxzdHJpbmdFc2NhcGVGbjpmdW5jdGlvbih0KXtyZXR1cm5cIlxcXFx1XCIrKFwiMDAwMFwiK3QuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KX0sZXNjYXBlOmZ1bmN0aW9uKHQpe2lmKGIodCkpcmV0dXJuXCInXCIrdC5yZXBsYWNlKHRoaXMuc3RyaW5nRXNjYXBlUmVnZXgsdGhpcy5zdHJpbmdFc2NhcGVGbikrXCInXCI7aWYodyh0KSlyZXR1cm4gdC50b1N0cmluZygpO2lmKCEwPT09dClyZXR1cm5cInRydWVcIjtpZighMT09PXQpcmV0dXJuXCJmYWxzZVwiO2lmKG51bGw9PT10KXJldHVyblwibnVsbFwiO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0KXJldHVyblwidW5kZWZpbmVkXCI7dGhyb3cgaGkoXCJlc2NcIil9LG5leHRJZDpmdW5jdGlvbih0LGUpe3ZhciBuPVwidlwiK3RoaXMuc3RhdGUubmV4dElkKys7cmV0dXJuIHR8fHRoaXMuY3VycmVudCgpLnZhcnMucHVzaChuKyhlP1wiPVwiK2U6XCJcIikpLG59LGN1cnJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZVt0aGlzLnN0YXRlLmNvbXB1dGluZ119fSxMZS5wcm90b3R5cGU9e2NvbXBpbGU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLGk9dGhpcy5hc3RCdWlsZGVyLmFzdCh0KTt0aGlzLmV4cHJlc3Npb249dCx0aGlzLmV4cGVuc2l2ZUNoZWNrcz1lLFBlKGksbi4kZmlsdGVyKTt2YXIgbyxhOyhvPVVlKGkpKSYmKGE9dGhpcy5yZWN1cnNlKG8pKSxvPVJlKGkuYm9keSk7dmFyIHM7byYmKHM9W10scihvLGZ1bmN0aW9uKHQsZSl7dmFyIHI9bi5yZWN1cnNlKHQpO3QuaW5wdXQ9cixzLnB1c2gociksdC53YXRjaElkPWV9KSk7dmFyIHU9W107cmV0dXJuIHIoaS5ib2R5LGZ1bmN0aW9uKHQpe3UucHVzaChuLnJlY3Vyc2UodC5leHByZXNzaW9uKSl9KSxvPTA9PT1pLmJvZHkubGVuZ3RoP2g6MT09PWkuYm9keS5sZW5ndGg/dVswXTpmdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiByKHUsZnVuY3Rpb24ocil7bj1yKHQsZSl9KSxufSxhJiYoby5hc3NpZ249ZnVuY3Rpb24odCxlLG4pe3JldHVybiBhKHQsbixlKX0pLHMmJihvLmlucHV0cz1zKSxvLmxpdGVyYWw9X2UoaSksby5jb25zdGFudD1pLmNvbnN0YW50LG99LHJlY3Vyc2U6ZnVuY3Rpb24odCxlLG4pe3ZhciBpLG8sYSxzPXRoaXM7aWYodC5pbnB1dClyZXR1cm4gdGhpcy5pbnB1dHModC5pbnB1dCx0LndhdGNoSWQpO3N3aXRjaCh0LnR5cGUpe2Nhc2UgeWkuTGl0ZXJhbDpyZXR1cm4gdGhpcy52YWx1ZSh0LnZhbHVlLGUpO2Nhc2UgeWkuVW5hcnlFeHByZXNzaW9uOnJldHVybiBvPXRoaXMucmVjdXJzZSh0LmFyZ3VtZW50KSx0aGlzW1widW5hcnlcIit0Lm9wZXJhdG9yXShvLGUpO2Nhc2UgeWkuQmluYXJ5RXhwcmVzc2lvbjpyZXR1cm4gaT10aGlzLnJlY3Vyc2UodC5sZWZ0KSxvPXRoaXMucmVjdXJzZSh0LnJpZ2h0KSx0aGlzW1wiYmluYXJ5XCIrdC5vcGVyYXRvcl0oaSxvLGUpO2Nhc2UgeWkuTG9naWNhbEV4cHJlc3Npb246cmV0dXJuIGk9dGhpcy5yZWN1cnNlKHQubGVmdCksbz10aGlzLnJlY3Vyc2UodC5yaWdodCksdGhpc1tcImJpbmFyeVwiK3Qub3BlcmF0b3JdKGksbyxlKTtjYXNlIHlpLkNvbmRpdGlvbmFsRXhwcmVzc2lvbjpyZXR1cm4gdGhpc1tcInRlcm5hcnk/OlwiXSh0aGlzLnJlY3Vyc2UodC50ZXN0KSx0aGlzLnJlY3Vyc2UodC5hbHRlcm5hdGUpLHRoaXMucmVjdXJzZSh0LmNvbnNlcXVlbnQpLGUpO2Nhc2UgeWkuSWRlbnRpZmllcjpyZXR1cm4gTWUodC5uYW1lLHMuZXhwcmVzc2lvbikscy5pZGVudGlmaWVyKHQubmFtZSxzLmV4cGVuc2l2ZUNoZWNrc3x8QmUodC5uYW1lKSxlLG4scy5leHByZXNzaW9uKTtjYXNlIHlpLk1lbWJlckV4cHJlc3Npb246cmV0dXJuIGk9dGhpcy5yZWN1cnNlKHQub2JqZWN0LCExLCEhbiksdC5jb21wdXRlZHx8KE1lKHQucHJvcGVydHkubmFtZSxzLmV4cHJlc3Npb24pLG89dC5wcm9wZXJ0eS5uYW1lKSx0LmNvbXB1dGVkJiYobz10aGlzLnJlY3Vyc2UodC5wcm9wZXJ0eSkpLHQuY29tcHV0ZWQ/dGhpcy5jb21wdXRlZE1lbWJlcihpLG8sZSxuLHMuZXhwcmVzc2lvbik6dGhpcy5ub25Db21wdXRlZE1lbWJlcihpLG8scy5leHBlbnNpdmVDaGVja3MsZSxuLHMuZXhwcmVzc2lvbik7Y2FzZSB5aS5DYWxsRXhwcmVzc2lvbjpyZXR1cm4gYT1bXSxyKHQuYXJndW1lbnRzLGZ1bmN0aW9uKHQpe2EucHVzaChzLnJlY3Vyc2UodCkpfSksdC5maWx0ZXImJihvPXRoaXMuJGZpbHRlcih0LmNhbGxlZS5uYW1lKSksdC5maWx0ZXJ8fChvPXRoaXMucmVjdXJzZSh0LmNhbGxlZSwhMCkpLHQuZmlsdGVyP2Z1bmN0aW9uKHQsbixyLGkpe2Zvcih2YXIgcz1bXSx1PTA7dTxhLmxlbmd0aDsrK3Upcy5wdXNoKGFbdV0odCxuLHIsaSkpO3JldHVybiB0PW8uYXBwbHkodm9pZCAwLHMsaSksZT97Y29udGV4dDp2b2lkIDAsbmFtZTp2b2lkIDAsdmFsdWU6dH06dH06ZnVuY3Rpb24odCxuLHIsaSl7dmFyIHUsYz1vKHQsbixyLGkpO2lmKG51bGwhPWMudmFsdWUpe1RlKGMuY29udGV4dCxzLmV4cHJlc3Npb24pLFZlKGMudmFsdWUscy5leHByZXNzaW9uKSx1PVtdO2Zvcih2YXIgbD0wO2w8YS5sZW5ndGg7KytsKXUucHVzaChUZShhW2xdKHQsbixyLGkpLHMuZXhwcmVzc2lvbikpO3U9VGUoYy52YWx1ZS5hcHBseShjLmNvbnRleHQsdSkscy5leHByZXNzaW9uKX1yZXR1cm4gZT97dmFsdWU6dX06dX07Y2FzZSB5aS5Bc3NpZ25tZW50RXhwcmVzc2lvbjpyZXR1cm4gaT10aGlzLnJlY3Vyc2UodC5sZWZ0LCEwLDEpLG89dGhpcy5yZWN1cnNlKHQucmlnaHQpLGZ1bmN0aW9uKHQsbixyLGEpe3ZhciB1PWkodCxuLHIsYSk7cmV0dXJuIHQ9byh0LG4scixhKSxUZSh1LnZhbHVlLHMuZXhwcmVzc2lvbiksamUodS5jb250ZXh0KSx1LmNvbnRleHRbdS5uYW1lXT10LGU/e3ZhbHVlOnR9OnR9O2Nhc2UgeWkuQXJyYXlFeHByZXNzaW9uOnJldHVybiBhPVtdLHIodC5lbGVtZW50cyxmdW5jdGlvbih0KXthLnB1c2gocy5yZWN1cnNlKHQpKX0pLGZ1bmN0aW9uKHQsbixyLGkpe2Zvcih2YXIgbz1bXSxzPTA7czxhLmxlbmd0aDsrK3Mpby5wdXNoKGFbc10odCxuLHIsaSkpO3JldHVybiBlP3t2YWx1ZTpvfTpvfTtjYXNlIHlpLk9iamVjdEV4cHJlc3Npb246cmV0dXJuIGE9W10scih0LnByb3BlcnRpZXMsZnVuY3Rpb24odCl7dC5jb21wdXRlZD9hLnB1c2goe2tleTpzLnJlY3Vyc2UodC5rZXkpLGNvbXB1dGVkOiEwLHZhbHVlOnMucmVjdXJzZSh0LnZhbHVlKX0pOmEucHVzaCh7a2V5OnQua2V5LnR5cGU9PT15aS5JZGVudGlmaWVyP3Qua2V5Lm5hbWU6XCJcIit0LmtleS52YWx1ZSxjb21wdXRlZDohMSx2YWx1ZTpzLnJlY3Vyc2UodC52YWx1ZSl9KX0pLGZ1bmN0aW9uKHQsbixyLGkpe2Zvcih2YXIgbz17fSxzPTA7czxhLmxlbmd0aDsrK3MpYVtzXS5jb21wdXRlZD9vW2Fbc10ua2V5KHQsbixyLGkpXT1hW3NdLnZhbHVlKHQsbixyLGkpOm9bYVtzXS5rZXldPWFbc10udmFsdWUodCxuLHIsaSk7cmV0dXJuIGU/e3ZhbHVlOm99Om99O2Nhc2UgeWkuVGhpc0V4cHJlc3Npb246cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlP3t2YWx1ZTp0fTp0fTtjYXNlIHlpLkxvY2Fsc0V4cHJlc3Npb246cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIGU/e3ZhbHVlOm59Om59O2Nhc2UgeWkuTkdWYWx1ZVBhcmFtZXRlcjpyZXR1cm4gZnVuY3Rpb24odCxuLHIpe3JldHVybiBlP3t2YWx1ZTpyfTpyfX19LFwidW5hcnkrXCI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obixyLGksbyl7cmV0dXJuIG49dChuLHIsaSxvKSxuPXYobik/K246MCxlP3t2YWx1ZTpufTpufX0sXCJ1bmFyeS1cIjpmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuLHIsaSxvKXtyZXR1cm4gbj10KG4scixpLG8pLG49dihuKT8tbjowLGU/e3ZhbHVlOm59Om59fSxcInVuYXJ5IVwiOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scixpLG8pe3JldHVybiBuPSF0KG4scixpLG8pLGU/e3ZhbHVlOm59Om59fSxcImJpbmFyeStcIjpmdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHIsaSxvLGEpe3ZhciBzPXQocixpLG8sYSk7cmV0dXJuIHI9ZShyLGksbyxhKSxzPURlKHMsciksbj97dmFsdWU6c306c319LFwiYmluYXJ5LVwiOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24ocixpLG8sYSl7dmFyIHM9dChyLGksbyxhKTtyZXR1cm4gcj1lKHIsaSxvLGEpLHM9KHYocyk/czowKS0odihyKT9yOjApLG4/e3ZhbHVlOnN9OnN9fSxcImJpbmFyeSpcIjpmdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHIsaSxvLGEpe3JldHVybiByPXQocixpLG8sYSkqZShyLGksbyxhKSxuP3t2YWx1ZTpyfTpyfX0sXCJiaW5hcnkvXCI6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbihyLGksbyxhKXtyZXR1cm4gcj10KHIsaSxvLGEpL2UocixpLG8sYSksbj97dmFsdWU6cn06cn19LFwiYmluYXJ5JVwiOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24ocixpLG8sYSl7cmV0dXJuIHI9dChyLGksbyxhKSVlKHIsaSxvLGEpLG4/e3ZhbHVlOnJ9OnJ9fSxcImJpbmFyeT09PVwiOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24ocixpLG8sYSl7cmV0dXJuIHI9dChyLGksbyxhKT09PWUocixpLG8sYSksbj97dmFsdWU6cn06cn19LFwiYmluYXJ5IT09XCI6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbihyLGksbyxhKXtyZXR1cm4gcj10KHIsaSxvLGEpIT09ZShyLGksbyxhKSxuP3t2YWx1ZTpyfTpyfX0sXCJiaW5hcnk9PVwiOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24ocixpLG8sYSl7cmV0dXJuIHI9dChyLGksbyxhKT09ZShyLGksbyxhKSxuP3t2YWx1ZTpyfTpyfX0sXCJiaW5hcnkhPVwiOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24ocixpLG8sYSl7cmV0dXJuIHI9dChyLGksbyxhKSE9ZShyLGksbyxhKSxuP3t2YWx1ZTpyfTpyfX0sXCJiaW5hcnk8XCI6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbihyLGksbyxhKXtyZXR1cm4gcj10KHIsaSxvLGEpPGUocixpLG8sYSksbj97dmFsdWU6cn06cn19LFwiYmluYXJ5PlwiOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24ocixpLG8sYSl7cmV0dXJuIHI9dChyLGksbyxhKT5lKHIsaSxvLGEpLG4/e3ZhbHVlOnJ9OnJ9fSxcImJpbmFyeTw9XCI6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbihyLGksbyxhKXtyZXR1cm4gcj10KHIsaSxvLGEpPD1lKHIsaSxvLGEpLG4/e3ZhbHVlOnJ9OnJ9fSxcImJpbmFyeT49XCI6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbihyLGksbyxhKXtyZXR1cm4gcj10KHIsaSxvLGEpPj1lKHIsaSxvLGEpLG4/e3ZhbHVlOnJ9OnJ9fSxcImJpbmFyeSYmXCI6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbihyLGksbyxhKXtyZXR1cm4gcj10KHIsaSxvLGEpJiZlKHIsaSxvLGEpLG4/e3ZhbHVlOnJ9OnJ9fSxcImJpbmFyeXx8XCI6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbihyLGksbyxhKXtyZXR1cm4gcj10KHIsaSxvLGEpfHxlKHIsaSxvLGEpLG4/e3ZhbHVlOnJ9OnJ9fSxcInRlcm5hcnk/OlwiOmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBmdW5jdGlvbihpLG8sYSxzKXtyZXR1cm4gaT10KGksbyxhLHMpP2UoaSxvLGEscyk6bihpLG8sYSxzKSxyP3t2YWx1ZTppfTppfX0sdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZT97Y29udGV4dDp2b2lkIDAsbmFtZTp2b2lkIDAsdmFsdWU6dH06dH19LGlkZW50aWZpZXI6ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4gZnVuY3Rpb24obyxhLHMsdSl7cmV0dXJuIG89YSYmdCBpbiBhP2E6byxyJiYxIT09ciYmbyYmIW9bdF0mJihvW3RdPXt9KSxcbmE9bz9vW3RdOnZvaWQgMCxlJiZUZShhLGkpLG4/e2NvbnRleHQ6byxuYW1lOnQsdmFsdWU6YX06YX19LGNvbXB1dGVkTWVtYmVyOmZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuIGZ1bmN0aW9uKG8sYSxzLHUpe3ZhciBjLGwsZj10KG8sYSxzLHUpO3JldHVybiBudWxsIT1mJiYoYz1lKG8sYSxzLHUpLGMrPVwiXCIsTWUoYyxpKSxyJiYxIT09ciYmKGplKGYpLGYmJiFmW2NdJiYoZltjXT17fSkpLGw9ZltjXSxUZShsLGkpKSxuP3tjb250ZXh0OmYsbmFtZTpjLHZhbHVlOmx9Omx9fSxub25Db21wdXRlZE1lbWJlcjpmdW5jdGlvbih0LGUsbixyLGksbyl7cmV0dXJuIGZ1bmN0aW9uKGEscyx1LGMpe3JldHVybiBhPXQoYSxzLHUsYyksaSYmMSE9PWkmJihqZShhKSxhJiYhYVtlXSYmKGFbZV09e30pKSxzPW51bGwhPWE/YVtlXTp2b2lkIDAsKG58fEJlKGUpKSYmVGUocyxvKSxyP3tjb250ZXh0OmEsbmFtZTplLHZhbHVlOnN9OnN9fSxpbnB1dHM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obixyLGksbyl7cmV0dXJuIG8/b1tlXTp0KG4scixpKX19fTt2YXIgYmk9ZnVuY3Rpb24odCxlLG4pe3RoaXMubGV4ZXI9dCx0aGlzLiRmaWx0ZXI9ZSx0aGlzLm9wdGlvbnM9bix0aGlzLmFzdD1uZXcgeWkodCxuKSx0aGlzLmFzdENvbXBpbGVyPW4uY3NwP25ldyBMZSh0aGlzLmFzdCxlKTpuZXcgcWUodGhpcy5hc3QsZSl9O2JpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6YmkscGFyc2U6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYXN0Q29tcGlsZXIuY29tcGlsZSh0LHRoaXMub3B0aW9ucy5leHBlbnNpdmVDaGVja3MpfX07dmFyIHdpPU9iamVjdC5wcm90b3R5cGUudmFsdWVPZix4aT1lKFwiJHNjZVwiKSxTaT17SFRNTDpcImh0bWxcIixDU1M6XCJjc3NcIixVUkw6XCJ1cmxcIixSRVNPVVJDRV9VUkw6XCJyZXNvdXJjZVVybFwiLEpTOlwianNcIn0sQ2k9ZShcIiRjb21waWxlXCIpLEVpPXQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIiksQWk9c24odC5sb2NhdGlvbi5ocmVmKTtsbi4kaW5qZWN0PVtcIiRkb2N1bWVudFwiXSxobi4kaW5qZWN0PVtcIiRwcm92aWRlXCJdO3ZhciBraT0yMixPaT1cIi5cIixNaT1cIjBcIjt2bi4kaW5qZWN0PVtcIiRsb2NhbGVcIl0sZ24uJGluamVjdD1bXCIkbG9jYWxlXCJdO3ZhciBOaT17eXl5eTpTbihcIkZ1bGxZZWFyXCIsNCwwLCExLCEwKSx5eTpTbihcIkZ1bGxZZWFyXCIsMiwwLCEwLCEwKSx5OlNuKFwiRnVsbFllYXJcIiwxLDAsITEsITApLE1NTU06Q24oXCJNb250aFwiKSxNTU06Q24oXCJNb250aFwiLCEwKSxNTTpTbihcIk1vbnRoXCIsMiwxKSxNOlNuKFwiTW9udGhcIiwxLDEpLExMTEw6Q24oXCJNb250aFwiLCExLCEwKSxkZDpTbihcIkRhdGVcIiwyKSxkOlNuKFwiRGF0ZVwiLDEpLEhIOlNuKFwiSG91cnNcIiwyKSxIOlNuKFwiSG91cnNcIiwxKSxoaDpTbihcIkhvdXJzXCIsMiwtMTIpLGg6U24oXCJIb3Vyc1wiLDEsLTEyKSxtbTpTbihcIk1pbnV0ZXNcIiwyKSxtOlNuKFwiTWludXRlc1wiLDEpLHNzOlNuKFwiU2Vjb25kc1wiLDIpLHM6U24oXCJTZWNvbmRzXCIsMSksc3NzOlNuKFwiTWlsbGlzZWNvbmRzXCIsMyksRUVFRTpDbihcIkRheVwiKSxFRUU6Q24oXCJEYXlcIiwhMCksYTpmdW5jdGlvbih0LGUpe3JldHVybiAxMj50LmdldEhvdXJzKCk/ZS5BTVBNU1swXTplLkFNUE1TWzFdfSxaOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD0tMSpuLHQ9KDA8PXQ/XCIrXCI6XCJcIikrKHhuKE1hdGhbMDx0P1wiZmxvb3JcIjpcImNlaWxcIl0odC82MCksMikreG4oTWF0aC5hYnModCU2MCksMikpfSx3dzpBbigyKSx3OkFuKDEpLEc6a24sR0c6a24sR0dHOmtuLEdHR0c6ZnVuY3Rpb24odCxlKXtyZXR1cm4gMD49dC5nZXRGdWxsWWVhcigpP2UuRVJBTkFNRVNbMF06ZS5FUkFOQU1FU1sxXX19LFRpPS8oKD86W155TUxkSGhtc2FaRXdHJ10rKXwoPzonKD86W14nXXwnJykqJyl8KD86RSt8eSt8TSt8TCt8ZCt8SCt8aCt8bSt8cyt8YXxafEcrfHcrKSkoLiopLyxWaT0vXlxcLT9cXGQrJC87T24uJGluamVjdD1bXCIkbG9jYWxlXCJdO3ZhciBqaT1kKEtuKSxJaT1kKFluKTtWbi4kaW5qZWN0PVtcIiRwYXJzZVwiXTt2YXIgRGk9ZCh7cmVzdHJpY3Q6XCJFXCIsY29tcGlsZTpmdW5jdGlvbih0LGUpe2lmKCFlLmhyZWYmJiFlLnhsaW5rSHJlZilyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihcImFcIj09PWVbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7dmFyIG49XCJbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXVwiPT09ZXIuY2FsbChlLnByb3AoXCJocmVmXCIpKT9cInhsaW5rOmhyZWZcIjpcImhyZWZcIjtlLm9uKFwiY2xpY2tcIixmdW5jdGlvbih0KXtlLmF0dHIobil8fHQucHJldmVudERlZmF1bHQoKX0pfX19fSksUGk9e307cihUcixmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxuLGkpe3QuJHdhdGNoKGlbcl0sZnVuY3Rpb24odCl7aS4kc2V0KGUsISF0KX0pfWlmKFwibXVsdGlwbGVcIiE9dCl7dmFyIHI9S3QoXCJuZy1cIitlKSxpPW47XCJjaGVja2VkXCI9PT10JiYoaT1mdW5jdGlvbih0LGUsaSl7aS5uZ01vZGVsIT09aVtyXSYmbih0LGUsaSl9KSxQaVtyXT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixwcmlvcml0eToxMDAsbGluazppfX19fSkscihqcixmdW5jdGlvbih0LGUpe1BpW2VdPWZ1bmN0aW9uKCl7cmV0dXJue3ByaW9yaXR5OjEwMCxsaW5rOmZ1bmN0aW9uKHQsbixyKXtyZXR1cm5cIm5nUGF0dGVyblwiPT09ZSYmXCIvXCI9PXIubmdQYXR0ZXJuLmNoYXJBdCgwKSYmKG49ci5uZ1BhdHRlcm4ubWF0Y2goWm4pKT92b2lkIHIuJHNldChcIm5nUGF0dGVyblwiLG5ldyBSZWdFeHAoblsxXSxuWzJdKSk6dm9pZCB0LiR3YXRjaChyW2VdLGZ1bmN0aW9uKHQpe3IuJHNldChlLHQpfSl9fX19KSxyKFtcInNyY1wiLFwic3Jjc2V0XCIsXCJocmVmXCJdLGZ1bmN0aW9uKHQpe3ZhciBlPUt0KFwibmctXCIrdCk7UGlbZV09ZnVuY3Rpb24oKXtyZXR1cm57cHJpb3JpdHk6OTksbGluazpmdW5jdGlvbihuLHIsaSl7dmFyIG89dCxhPXQ7XCJocmVmXCI9PT10JiZcIltvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddXCI9PT1lci5jYWxsKHIucHJvcChcImhyZWZcIikpJiYoYT1cInhsaW5rSHJlZlwiLGkuJGF0dHJbYV09XCJ4bGluazpocmVmXCIsbz1udWxsKSxpLiRvYnNlcnZlKGUsZnVuY3Rpb24oZSl7ZT8oaS4kc2V0KGEsZSksSG4mJm8mJnIucHJvcChvLGlbYV0pKTpcImhyZWZcIj09PXQmJmkuJHNldChhLG51bGwpfSl9fX19KTt2YXIgUmk9eyRhZGRDb250cm9sOmgsJCRyZW5hbWVDb250cm9sOmZ1bmN0aW9uKHQsZSl7dC4kbmFtZT1lfSwkcmVtb3ZlQ29udHJvbDpoLCRzZXRWYWxpZGl0eTpoLCRzZXREaXJ0eTpoLCRzZXRQcmlzdGluZTpoLCRzZXRTdWJtaXR0ZWQ6aH07SW4uJGluamVjdD1bXCIkZWxlbWVudFwiLFwiJGF0dHJzXCIsXCIkc2NvcGVcIixcIiRhbmltYXRlXCIsXCIkaW50ZXJwb2xhdGVcIl07dmFyIEZpPWZ1bmN0aW9uKHQpe3JldHVybltcIiR0aW1lb3V0XCIsXCIkcGFyc2VcIixmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIHIodCl7cmV0dXJuXCJcIj09PXQ/bigndGhpc1tcIlwiXScpLmFzc2lnbjpuKHQpLmFzc2lnbnx8aH1yZXR1cm57bmFtZTpcImZvcm1cIixyZXN0cmljdDp0P1wiRUFDXCI6XCJFXCIscmVxdWlyZTpbXCJmb3JtXCIsXCJeXj9mb3JtXCJdLGNvbnRyb2xsZXI6SW4sY29tcGlsZTpmdW5jdGlvbihuLGkpe24uYWRkQ2xhc3MoYm8pLmFkZENsYXNzKGdvKTt2YXIgbz1pLm5hbWU/XCJuYW1lXCI6ISghdHx8IWkubmdGb3JtKSYmXCJuZ0Zvcm1cIjtyZXR1cm57cHJlOmZ1bmN0aW9uKHQsbixpLGEpe3ZhciBzPWFbMF07aWYoIShcImFjdGlvblwiaW4gaSkpe3ZhciBjPWZ1bmN0aW9uKGUpe3QuJGFwcGx5KGZ1bmN0aW9uKCl7cy4kY29tbWl0Vmlld1ZhbHVlKCkscy4kc2V0U3VibWl0dGVkKCl9KSxlLnByZXZlbnREZWZhdWx0KCl9O25bMF0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLGMsITEpLG4ub24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7ZShmdW5jdGlvbigpe25bMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLGMsITEpfSwwLCExKX0pfShhWzFdfHxzLiQkcGFyZW50Rm9ybSkuJGFkZENvbnRyb2wocyk7dmFyIGw9bz9yKHMuJG5hbWUpOmg7byYmKGwodCxzKSxpLiRvYnNlcnZlKG8sZnVuY3Rpb24oZSl7cy4kbmFtZSE9PWUmJihsKHQsdm9pZCAwKSxzLiQkcGFyZW50Rm9ybS4kJHJlbmFtZUNvbnRyb2wocyxlKSwobD1yKHMuJG5hbWUpKSh0LHMpKX0pKSxuLm9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe3MuJCRwYXJlbnRGb3JtLiRyZW1vdmVDb250cm9sKHMpLGwodCx2b2lkIDApLHUocyxSaSl9KX19fX19XX0sVWk9RmkoKSxfaT1GaSghMCkscWk9L15cXGR7NCx9LVswMV1cXGQtWzAtM11cXGRUWzAtMl1cXGQ6WzAtNV1cXGQ6WzAtNV1cXGRcXC5cXGQrKD86WystXVswLTJdXFxkOlswLTVdXFxkfFopJC8sTGk9L15bYS16XVthLXpcXGQuKy1dKjpcXC8qKD86W146QF0rKD86OlteQF0rKT9AKT8oPzpbXlxcczpcXC8/I10rfFxcW1thLWZcXGQ6XStcXF0pKD86OlxcZCspPyg/OlxcL1tePyNdKik/KD86XFw/W14jXSopPyg/OiMuKik/JC9pLEJpPS9eKD89LnsxLDI1NH0kKSg/PS57MSw2NH1AKVstISMkJSYnKitcXC8wLTk9P0EtWl5fYGEtent8fX5dKyhcXC5bLSEjJCUmJyorXFwvMC05PT9BLVpeX2BhLXp7fH1+XSspKkBbQS1aYS16MC05XShbQS1aYS16MC05LV17MCw2MX1bQS1aYS16MC05XSk/KFxcLltBLVphLXowLTldKFtBLVphLXowLTktXXswLDYxfVtBLVphLXowLTldKT8pKiQvLEhpPS9eXFxzKihcXC18XFwrKT8oXFxkK3woXFxkKihcXC5cXGQqKSkpKFtlRV1bKy1dP1xcZCspP1xccyokLyx6aT0vXihcXGR7NCx9KS0oXFxkezJ9KS0oXFxkezJ9KSQvLFdpPS9eKFxcZHs0LH0pLShcXGRcXGQpLShcXGRcXGQpVChcXGRcXGQpOihcXGRcXGQpKD86OihcXGRcXGQpKFxcLlxcZHsxLDN9KT8pPyQvLEdpPS9eKFxcZHs0LH0pLVcoXFxkXFxkKSQvLFppPS9eKFxcZHs0LH0pLShcXGRcXGQpJC8sSmk9L14oXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKShcXC5cXGR7MSwzfSk/KT8kLyxLaT1hdCgpO3IoW1wiZGF0ZVwiLFwiZGF0ZXRpbWUtbG9jYWxcIixcIm1vbnRoXCIsXCJ0aW1lXCIsXCJ3ZWVrXCJdLGZ1bmN0aW9uKHQpe0tpW3RdPSEwfSk7dmFyIFlpPXt0ZXh0OmZ1bmN0aW9uKHQsZSxuLHIsaSxvKXtQbih0LGUsbixyLGksbyksRG4ocil9LGRhdGU6Rm4oXCJkYXRlXCIsemksUm4oemksW1wieXl5eVwiLFwiTU1cIixcImRkXCJdKSxcInl5eXktTU0tZGRcIiksXCJkYXRldGltZS1sb2NhbFwiOkZuKFwiZGF0ZXRpbWVsb2NhbFwiLFdpLFJuKFdpLFwieXl5eSBNTSBkZCBISCBtbSBzcyBzc3NcIi5zcGxpdChcIiBcIikpLFwieXl5eS1NTS1kZFRISDptbTpzcy5zc3NcIiksdGltZTpGbihcInRpbWVcIixKaSxSbihKaSxbXCJISFwiLFwibW1cIixcInNzXCIsXCJzc3NcIl0pLFwiSEg6bW06c3Muc3NzXCIpLHdlZWs6Rm4oXCJ3ZWVrXCIsR2ksZnVuY3Rpb24odCxlKXtpZih4KHQpKXJldHVybiB0O2lmKGIodCkpe0dpLmxhc3RJbmRleD0wO3ZhciBuPUdpLmV4ZWModCk7aWYobil7dmFyIHI9K25bMV0saT0rblsyXSxvPW49MCxhPTAscz0wLHU9RW4ociksaT03KihpLTEpO3JldHVybiBlJiYobj1lLmdldEhvdXJzKCksbz1lLmdldE1pbnV0ZXMoKSxhPWUuZ2V0U2Vjb25kcygpLHM9ZS5nZXRNaWxsaXNlY29uZHMoKSksbmV3IERhdGUociwwLHUuZ2V0RGF0ZSgpK2ksbixvLGEscyl9fXJldHVybiBOYU59LFwieXl5eS1Xd3dcIiksbW9udGg6Rm4oXCJtb250aFwiLFppLFJuKFppLFtcInl5eXlcIixcIk1NXCJdKSxcInl5eXktTU1cIiksbnVtYmVyOmZ1bmN0aW9uKHQsZSxuLHIsaSxvKXtpZihVbih0LGUsbixyKSxQbih0LGUsbixyLGksbyksci4kJHBhcnNlck5hbWU9XCJudW1iZXJcIixyLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odCl7cmV0dXJuIHIuJGlzRW1wdHkodCk/bnVsbDpIaS50ZXN0KHQpP3BhcnNlRmxvYXQodCk6dm9pZCAwfSksci4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHQpe2lmKCFyLiRpc0VtcHR5KHQpKXtpZighdyh0KSl0aHJvdyBTbyhcIm51bWZtdFwiLHQpO3Q9dC50b1N0cmluZygpfXJldHVybiB0fSksdihuLm1pbil8fG4ubmdNaW4pe3ZhciBhO3IuJHZhbGlkYXRvcnMubWluPWZ1bmN0aW9uKHQpe3JldHVybiByLiRpc0VtcHR5KHQpfHxtKGEpfHx0Pj1hfSxuLiRvYnNlcnZlKFwibWluXCIsZnVuY3Rpb24odCl7dih0KSYmIXcodCkmJih0PXBhcnNlRmxvYXQodCwxMCkpLGE9dyh0KSYmIWlzTmFOKHQpP3Q6dm9pZCAwLHIuJHZhbGlkYXRlKCl9KX1pZih2KG4ubWF4KXx8bi5uZ01heCl7dmFyIHM7ci4kdmFsaWRhdG9ycy5tYXg9ZnVuY3Rpb24odCl7cmV0dXJuIHIuJGlzRW1wdHkodCl8fG0ocyl8fHQ8PXN9LG4uJG9ic2VydmUoXCJtYXhcIixmdW5jdGlvbih0KXt2KHQpJiYhdyh0KSYmKHQ9cGFyc2VGbG9hdCh0LDEwKSkscz13KHQpJiYhaXNOYU4odCk/dDp2b2lkIDAsci4kdmFsaWRhdGUoKX0pfX0sdXJsOmZ1bmN0aW9uKHQsZSxuLHIsaSxvKXtQbih0LGUsbixyLGksbyksRG4ociksci4kJHBhcnNlck5hbWU9XCJ1cmxcIixyLiR2YWxpZGF0b3JzLnVybD1mdW5jdGlvbih0LGUpe3ZhciBuPXR8fGU7cmV0dXJuIHIuJGlzRW1wdHkobil8fExpLnRlc3Qobil9fSxlbWFpbDpmdW5jdGlvbih0LGUsbixyLGksbyl7UG4odCxlLG4scixpLG8pLERuKHIpLHIuJCRwYXJzZXJOYW1lPVwiZW1haWxcIixyLiR2YWxpZGF0b3JzLmVtYWlsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dHx8ZTtyZXR1cm4gci4kaXNFbXB0eShuKXx8QmkudGVzdChuKX19LHJhZGlvOmZ1bmN0aW9uKHQsZSxuLHIpe20obi5uYW1lKSYmZS5hdHRyKFwibmFtZVwiLCsrb3IpLGUub24oXCJjbGlja1wiLGZ1bmN0aW9uKHQpe2VbMF0uY2hlY2tlZCYmci4kc2V0Vmlld1ZhbHVlKG4udmFsdWUsdCYmdC50eXBlKX0pLHIuJHJlbmRlcj1mdW5jdGlvbigpe2VbMF0uY2hlY2tlZD1uLnZhbHVlPT1yLiR2aWV3VmFsdWV9LG4uJG9ic2VydmUoXCJ2YWx1ZVwiLHIuJHJlbmRlcil9LGNoZWNrYm94OmZ1bmN0aW9uKHQsZSxuLHIsaSxvLGEscyl7dmFyIHU9X24ocyx0LFwibmdUcnVlVmFsdWVcIixuLm5nVHJ1ZVZhbHVlLCEwKSxjPV9uKHMsdCxcIm5nRmFsc2VWYWx1ZVwiLG4ubmdGYWxzZVZhbHVlLCExKTtlLm9uKFwiY2xpY2tcIixmdW5jdGlvbih0KXtyLiRzZXRWaWV3VmFsdWUoZVswXS5jaGVja2VkLHQmJnQudHlwZSl9KSxyLiRyZW5kZXI9ZnVuY3Rpb24oKXtlWzBdLmNoZWNrZWQ9ci4kdmlld1ZhbHVlfSxyLiRpc0VtcHR5PWZ1bmN0aW9uKHQpe3JldHVybiExPT09dH0sci4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHQpe3JldHVybiBJKHQsdSl9KSxyLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odCl7cmV0dXJuIHQ/dTpjfSl9LGhpZGRlbjpoLGJ1dHRvbjpoLHN1Ym1pdDpoLHJlc2V0OmgsZmlsZTpofSxYaT1bXCIkYnJvd3NlclwiLFwiJHNuaWZmZXJcIixcIiRmaWx0ZXJcIixcIiRwYXJzZVwiLGZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybntyZXN0cmljdDpcIkVcIixyZXF1aXJlOltcIj9uZ01vZGVsXCJdLGxpbms6e3ByZTpmdW5jdGlvbihpLG8sYSxzKXtzWzBdJiYoWWlbS24oYS50eXBlKV18fFlpLnRleHQpKGksbyxhLHNbMF0sZSx0LG4scil9fX19XSxRaT0vXih0cnVlfGZhbHNlfFxcZCspJC8sdG89ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscHJpb3JpdHk6MTAwLGNvbXBpbGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gUWkudGVzdChlLm5nVmFsdWUpP2Z1bmN0aW9uKHQsZSxuKXtuLiRzZXQoXCJ2YWx1ZVwiLHQuJGV2YWwobi5uZ1ZhbHVlKSl9OmZ1bmN0aW9uKHQsZSxuKXt0LiR3YXRjaChuLm5nVmFsdWUsZnVuY3Rpb24odCl7bi4kc2V0KFwidmFsdWVcIix0KX0pfX19fSxlbz1bXCIkY29tcGlsZVwiLGZ1bmN0aW9uKHQpe3JldHVybntyZXN0cmljdDpcIkFDXCIsY29tcGlsZTpmdW5jdGlvbihlKXtyZXR1cm4gdC4kJGFkZEJpbmRpbmdDbGFzcyhlKSxmdW5jdGlvbihlLG4scil7dC4kJGFkZEJpbmRpbmdJbmZvKG4sci5uZ0JpbmQpLG49blswXSxlLiR3YXRjaChyLm5nQmluZCxmdW5jdGlvbih0KXtuLnRleHRDb250ZW50PW0odCk/XCJcIjp0fSl9fX19XSxubz1bXCIkaW50ZXJwb2xhdGVcIixcIiRjb21waWxlXCIsZnVuY3Rpb24odCxlKXtyZXR1cm57Y29tcGlsZTpmdW5jdGlvbihuKXtyZXR1cm4gZS4kJGFkZEJpbmRpbmdDbGFzcyhuKSxmdW5jdGlvbihuLHIsaSl7bj10KHIuYXR0cihpLiRhdHRyLm5nQmluZFRlbXBsYXRlKSksZS4kJGFkZEJpbmRpbmdJbmZvKHIsbi5leHByZXNzaW9ucykscj1yWzBdLGkuJG9ic2VydmUoXCJuZ0JpbmRUZW1wbGF0ZVwiLGZ1bmN0aW9uKHQpe3IudGV4dENvbnRlbnQ9bSh0KT9cIlwiOnR9KX19fX1dLHJvPVtcIiRzY2VcIixcIiRwYXJzZVwiLFwiJGNvbXBpbGVcIixmdW5jdGlvbih0LGUsbil7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLGNvbXBpbGU6ZnVuY3Rpb24ocixpKXt2YXIgbz1lKGkubmdCaW5kSHRtbCksYT1lKGkubmdCaW5kSHRtbCxmdW5jdGlvbihlKXtyZXR1cm4gdC52YWx1ZU9mKGUpfSk7cmV0dXJuIG4uJCRhZGRCaW5kaW5nQ2xhc3MociksZnVuY3Rpb24oZSxyLGkpe24uJCRhZGRCaW5kaW5nSW5mbyhyLGkubmdCaW5kSHRtbCksZS4kd2F0Y2goYSxmdW5jdGlvbigpe3ZhciBuPW8oZSk7ci5odG1sKHQuZ2V0VHJ1c3RlZEh0bWwobil8fFwiXCIpfSl9fX19XSxpbz1kKHtyZXN0cmljdDpcIkFcIixyZXF1aXJlOlwibmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24odCxlLG4scil7ci4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCl7dC4kZXZhbChuLm5nQ2hhbmdlKX0pfX0pLG9vPXFuKFwiXCIsITApLGFvPXFuKFwiT2RkXCIsMCksc289cW4oXCJFdmVuXCIsMSksdW89am4oe2NvbXBpbGU6ZnVuY3Rpb24odCxlKXtlLiRzZXQoXCJuZ0Nsb2FrXCIsdm9pZCAwKSx0LnJlbW92ZUNsYXNzKFwibmctY2xvYWtcIil9fSksY289W2Z1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHNjb3BlOiEwLGNvbnRyb2xsZXI6XCJAXCIscHJpb3JpdHk6NTAwfX1dLGxvPXt9LGZvPXtibHVyOiEwLGZvY3VzOiEwfTtyKFwiY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlbW92ZSBtb3VzZWVudGVyIG1vdXNlbGVhdmUga2V5ZG93biBrZXl1cCBrZXlwcmVzcyBzdWJtaXQgZm9jdXMgYmx1ciBjb3B5IGN1dCBwYXN0ZVwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbih0KXt2YXIgZT1LdChcIm5nLVwiK3QpO2xvW2VdPVtcIiRwYXJzZVwiLFwiJHJvb3RTY29wZVwiLGZ1bmN0aW9uKG4scil7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLGNvbXBpbGU6ZnVuY3Rpb24oaSxvKXt2YXIgYT1uKG9bZV0sbnVsbCwhMCk7cmV0dXJuIGZ1bmN0aW9uKGUsbil7bi5vbih0LGZ1bmN0aW9uKG4pe3ZhciBpPWZ1bmN0aW9uKCl7YShlLHskZXZlbnQ6bn0pfTtmb1t0XSYmci4kJHBoYXNlP2UuJGV2YWxBc3luYyhpKTplLiRhcHBseShpKX0pfX19fV19KTt2YXIgaG89W1wiJGFuaW1hdGVcIixcIiRjb21waWxlXCIsZnVuY3Rpb24odCxlKXtyZXR1cm57bXVsdGlFbGVtZW50OiEwLHRyYW5zY2x1ZGU6XCJlbGVtZW50XCIscHJpb3JpdHk6NjAwLHRlcm1pbmFsOiEwLHJlc3RyaWN0OlwiQVwiLCQkdGxiOiEwLGxpbms6ZnVuY3Rpb24obixyLGksbyxhKXt2YXIgcyx1LGM7bi4kd2F0Y2goaS5uZ0lmLGZ1bmN0aW9uKG4pe24/dXx8YShmdW5jdGlvbihuLG8pe3U9byxuW24ubGVuZ3RoKytdPWUuJCRjcmVhdGVDb21tZW50KFwiZW5kIG5nSWZcIixpLm5nSWYpLHM9e2Nsb25lOm59LHQuZW50ZXIobixyLnBhcmVudCgpLHIpfSk6KGMmJihjLnJlbW92ZSgpLGM9bnVsbCksdSYmKHUuJGRlc3Ryb3koKSx1PW51bGwpLHMmJihjPW90KHMuY2xvbmUpLHQubGVhdmUoYykudGhlbihmdW5jdGlvbigpe2M9bnVsbH0pLHM9bnVsbCkpfSl9fX1dLHBvPVtcIiR0ZW1wbGF0ZVJlcXVlc3RcIixcIiRhbmNob3JTY3JvbGxcIixcIiRhbmltYXRlXCIsZnVuY3Rpb24odCxlLG4pe3JldHVybntyZXN0cmljdDpcIkVDQVwiLHByaW9yaXR5OjQwMCx0ZXJtaW5hbDohMCx0cmFuc2NsdWRlOlwiZWxlbWVudFwiLGNvbnRyb2xsZXI6aXIubm9vcCxjb21waWxlOmZ1bmN0aW9uKHIsaSl7dmFyIG89aS5uZ0luY2x1ZGV8fGkuc3JjLGE9aS5vbmxvYWR8fFwiXCIscz1pLmF1dG9zY3JvbGw7cmV0dXJuIGZ1bmN0aW9uKHIsaSx1LGMsbCl7dmFyIGYsaCxwLGQ9MCwkPWZ1bmN0aW9uKCl7aCYmKGgucmVtb3ZlKCksaD1udWxsKSxmJiYoZi4kZGVzdHJveSgpLGY9bnVsbCkscCYmKG4ubGVhdmUocCkudGhlbihmdW5jdGlvbigpe2g9bnVsbH0pLGg9cCxwPW51bGwpfTtyLiR3YXRjaChvLGZ1bmN0aW9uKG8pe3ZhciB1PWZ1bmN0aW9uKCl7IXYocyl8fHMmJiFyLiRldmFsKHMpfHxlKCl9LGg9KytkO28/KHQobywhMCkudGhlbihmdW5jdGlvbih0KXtpZighci4kJGRlc3Ryb3llZCYmaD09PWQpe3ZhciBlPXIuJG5ldygpO2MudGVtcGxhdGU9dCx0PWwoZSxmdW5jdGlvbih0KXskKCksbi5lbnRlcih0LG51bGwsaSkudGhlbih1KX0pLGY9ZSxwPXQsZi4kZW1pdChcIiRpbmNsdWRlQ29udGVudExvYWRlZFwiLG8pLHIuJGV2YWwoYSl9fSxmdW5jdGlvbigpe3IuJCRkZXN0cm95ZWR8fGghPT1kfHwoJCgpLHIuJGVtaXQoXCIkaW5jbHVkZUNvbnRlbnRFcnJvclwiLG8pKX0pLHIuJGVtaXQoXCIkaW5jbHVkZUNvbnRlbnRSZXF1ZXN0ZWRcIixvKSk6KCQoKSxjLnRlbXBsYXRlPW51bGwpfSl9fX19XSwkbz1bXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGUpe3JldHVybntyZXN0cmljdDpcIkVDQVwiLHByaW9yaXR5Oi00MDAscmVxdWlyZTpcIm5nSW5jbHVkZVwiLGxpbms6ZnVuY3Rpb24obixyLGksbyl7ZXIuY2FsbChyWzBdKS5tYXRjaCgvU1ZHLyk/KHIuZW1wdHkoKSxlKGh0KG8udGVtcGxhdGUsdC5kb2N1bWVudCkuY2hpbGROb2RlcykobixmdW5jdGlvbih0KXtyLmFwcGVuZCh0KX0se2Z1dHVyZVBhcmVudEVsZW1lbnQ6cn0pKTooci5odG1sKG8udGVtcGxhdGUpLGUoci5jb250ZW50cygpKShuKSl9fX1dLG1vPWpuKHtwcmlvcml0eTo0NTAsY29tcGlsZTpmdW5jdGlvbigpe3JldHVybntwcmU6ZnVuY3Rpb24odCxlLG4pe3QuJGV2YWwobi5uZ0luaXQpfX19fSksdm89ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscHJpb3JpdHk6MTAwLHJlcXVpcmU6XCJuZ01vZGVsXCIsbGluazpmdW5jdGlvbih0LGUsbixpKXt2YXIgbz1lLmF0dHIobi4kYXR0ci5uZ0xpc3QpfHxcIiwgXCIsYT1cImZhbHNlXCIhPT1uLm5nVHJpbSxzPWE/dXIobyk6bztpLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odCl7aWYoIW0odCkpe3ZhciBlPVtdO3JldHVybiB0JiZyKHQuc3BsaXQocyksZnVuY3Rpb24odCl7dCYmZS5wdXNoKGE/dXIodCk6dCl9KSxlfX0pLGkuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih0KXtpZihhcih0KSlyZXR1cm4gdC5qb2luKG8pfSksaS4kaXNFbXB0eT1mdW5jdGlvbih0KXtyZXR1cm4hdHx8IXQubGVuZ3RofX19fSxnbz1cIm5nLXZhbGlkXCIseW89XCJuZy1pbnZhbGlkXCIsYm89XCJuZy1wcmlzdGluZVwiLHdvPVwibmctZGlydHlcIix4bz1cIm5nLXBlbmRpbmdcIixTbz1lKFwibmdNb2RlbFwiKSxDbz1bXCIkc2NvcGVcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsXCIkYXR0cnNcIixcIiRlbGVtZW50XCIsXCIkcGFyc2VcIixcIiRhbmltYXRlXCIsXCIkdGltZW91dFwiLFwiJHJvb3RTY29wZVwiLFwiJHFcIixcIiRpbnRlcnBvbGF0ZVwiLGZ1bmN0aW9uKHQsZSxuLGksbyxhLHMsdSxjLGwpe3RoaXMuJG1vZGVsVmFsdWU9dGhpcy4kdmlld1ZhbHVlPU51bWJlci5OYU4sdGhpcy4kJHJhd01vZGVsVmFsdWU9dm9pZCAwLHRoaXMuJHZhbGlkYXRvcnM9e30sdGhpcy4kYXN5bmNWYWxpZGF0b3JzPXt9LHRoaXMuJHBhcnNlcnM9W10sdGhpcy4kZm9ybWF0dGVycz1bXSx0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzPVtdLHRoaXMuJHVudG91Y2hlZD0hMCx0aGlzLiR0b3VjaGVkPSExLHRoaXMuJHByaXN0aW5lPSEwLHRoaXMuJGRpcnR5PSExLHRoaXMuJHZhbGlkPSEwLHRoaXMuJGludmFsaWQ9ITEsdGhpcy4kZXJyb3I9e30sdGhpcy4kJHN1Y2Nlc3M9e30sdGhpcy4kcGVuZGluZz12b2lkIDAsdGhpcy4kbmFtZT1sKG4ubmFtZXx8XCJcIiwhMSkodCksdGhpcy4kJHBhcmVudEZvcm09Umk7dmFyIGYscD1vKG4ubmdNb2RlbCksZD1wLmFzc2lnbiwkPXAsZz1kLHk9bnVsbCxiPXRoaXM7dGhpcy4kJHNldE9wdGlvbnM9ZnVuY3Rpb24odCl7aWYoKGIuJG9wdGlvbnM9dCkmJnQuZ2V0dGVyU2V0dGVyKXt2YXIgZT1vKG4ubmdNb2RlbCtcIigpXCIpLHI9byhuLm5nTW9kZWwrXCIoJCQkcClcIik7JD1mdW5jdGlvbih0KXt2YXIgbj1wKHQpO3JldHVybiBTKG4pJiYobj1lKHQpKSxufSxnPWZ1bmN0aW9uKHQsZSl7UyhwKHQpKT9yKHQseyQkJHA6ZX0pOmQodCxlKX19ZWxzZSBpZighcC5hc3NpZ24pdGhyb3cgU28oXCJub25hc3NpZ25cIixuLm5nTW9kZWwsTChpKSl9LHRoaXMuJHJlbmRlcj1oLHRoaXMuJGlzRW1wdHk9ZnVuY3Rpb24odCl7cmV0dXJuIG0odCl8fFwiXCI9PT10fHxudWxsPT09dHx8dCE9PXR9LHRoaXMuJCR1cGRhdGVFbXB0eUNsYXNzZXM9ZnVuY3Rpb24odCl7Yi4kaXNFbXB0eSh0KT8oYS5yZW1vdmVDbGFzcyhpLFwibmctbm90LWVtcHR5XCIpLGEuYWRkQ2xhc3MoaSxcIm5nLWVtcHR5XCIpKTooYS5yZW1vdmVDbGFzcyhpLFwibmctZW1wdHlcIiksYS5hZGRDbGFzcyhpLFwibmctbm90LWVtcHR5XCIpKX07dmFyIHg9MDtMbih7Y3RybDp0aGlzLCRlbGVtZW50Omksc2V0OmZ1bmN0aW9uKHQsZSl7dFtlXT0hMH0sdW5zZXQ6ZnVuY3Rpb24odCxlKXtkZWxldGUgdFtlXX0sJGFuaW1hdGU6YX0pLHRoaXMuJHNldFByaXN0aW5lPWZ1bmN0aW9uKCl7Yi4kZGlydHk9ITEsYi4kcHJpc3RpbmU9ITAsYS5yZW1vdmVDbGFzcyhpLHdvKSxhLmFkZENsYXNzKGksYm8pfSx0aGlzLiRzZXREaXJ0eT1mdW5jdGlvbigpe2IuJGRpcnR5PSEwLGIuJHByaXN0aW5lPSExLGEucmVtb3ZlQ2xhc3MoaSxibyksYS5hZGRDbGFzcyhpLHdvKSxiLiQkcGFyZW50Rm9ybS4kc2V0RGlydHkoKX0sdGhpcy4kc2V0VW50b3VjaGVkPWZ1bmN0aW9uKCl7Yi4kdG91Y2hlZD0hMSxiLiR1bnRvdWNoZWQ9ITAsYS5zZXRDbGFzcyhpLFwibmctdW50b3VjaGVkXCIsXCJuZy10b3VjaGVkXCIpfSx0aGlzLiRzZXRUb3VjaGVkPWZ1bmN0aW9uKCl7Yi4kdG91Y2hlZD0hMCxiLiR1bnRvdWNoZWQ9ITEsYS5zZXRDbGFzcyhpLFwibmctdG91Y2hlZFwiLFwibmctdW50b3VjaGVkXCIpfSx0aGlzLiRyb2xsYmFja1ZpZXdWYWx1ZT1mdW5jdGlvbigpe3MuY2FuY2VsKHkpLGIuJHZpZXdWYWx1ZT1iLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSxiLiRyZW5kZXIoKX0sdGhpcy4kdmFsaWRhdGU9ZnVuY3Rpb24oKXtpZighdyhiLiRtb2RlbFZhbHVlKXx8IWlzTmFOKGIuJG1vZGVsVmFsdWUpKXt2YXIgdD1iLiQkcmF3TW9kZWxWYWx1ZSxlPWIuJHZhbGlkLG49Yi4kbW9kZWxWYWx1ZSxyPWIuJG9wdGlvbnMmJmIuJG9wdGlvbnMuYWxsb3dJbnZhbGlkO2IuJCRydW5WYWxpZGF0b3JzKHQsYi4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUsZnVuY3Rpb24oaSl7cnx8ZT09PWl8fChiLiRtb2RlbFZhbHVlPWk/dDp2b2lkIDAsYi4kbW9kZWxWYWx1ZSE9PW4mJmIuJCR3cml0ZU1vZGVsVG9TY29wZSgpKX0pfX0sdGhpcy4kJHJ1blZhbGlkYXRvcnM9ZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGkoKXt2YXIgbj0hMDtyZXR1cm4gcihiLiR2YWxpZGF0b3JzLGZ1bmN0aW9uKHIsaSl7dmFyIG89cih0LGUpO249biYmbyxhKGksbyl9KSwhIW58fChyKGIuJGFzeW5jVmFsaWRhdG9ycyxmdW5jdGlvbih0LGUpe2EoZSxudWxsKX0pLCExKX1mdW5jdGlvbiBvKCl7dmFyIG49W10saT0hMDtyKGIuJGFzeW5jVmFsaWRhdG9ycyxmdW5jdGlvbihyLG8pe3ZhciBzPXIodCxlKTtpZighc3x8IVMocy50aGVuKSl0aHJvdyBTbyhcIm5vcHJvbWlzZVwiLHMpO2Eobyx2b2lkIDApLG4ucHVzaChzLnRoZW4oZnVuY3Rpb24oKXthKG8sITApfSxmdW5jdGlvbigpe2k9ITEsYShvLCExKX0pKX0pLG4ubGVuZ3RoP2MuYWxsKG4pLnRoZW4oZnVuY3Rpb24oKXtzKGkpfSxoKTpzKCEwKX1mdW5jdGlvbiBhKHQsZSl7dT09PXgmJmIuJHNldFZhbGlkaXR5KHQsZSl9ZnVuY3Rpb24gcyh0KXt1PT09eCYmbih0KX14Kys7dmFyIHU9eDsoZnVuY3Rpb24oKXt2YXIgdD1iLiQkcGFyc2VyTmFtZXx8XCJwYXJzZVwiO3JldHVybiBtKGYpPyhhKHQsbnVsbCksITApOihmfHwocihiLiR2YWxpZGF0b3JzLGZ1bmN0aW9uKHQsZSl7YShlLG51bGwpfSkscihiLiRhc3luY1ZhbGlkYXRvcnMsZnVuY3Rpb24odCxlKXthKGUsbnVsbCl9KSksYSh0LGYpLGYpfSkoKSYmaSgpP28oKTpzKCExKX0sdGhpcy4kY29tbWl0Vmlld1ZhbHVlPWZ1bmN0aW9uKCl7dmFyIHQ9Yi4kdmlld1ZhbHVlO3MuY2FuY2VsKHkpLChiLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSE9PXR8fFwiXCI9PT10JiZiLiQkaGFzTmF0aXZlVmFsaWRhdG9ycykmJihiLiQkdXBkYXRlRW1wdHlDbGFzc2VzKHQpLGIuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlPXQsYi4kcHJpc3RpbmUmJnRoaXMuJHNldERpcnR5KCksdGhpcy4kJHBhcnNlQW5kVmFsaWRhdGUoKSl9LHRoaXMuJCRwYXJzZUFuZFZhbGlkYXRlPWZ1bmN0aW9uKCl7dmFyIGU9Yi4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU7aWYoZj0hbShlKXx8dm9pZCAwKWZvcih2YXIgbj0wO248Yi4kcGFyc2Vycy5sZW5ndGg7bisrKWlmKGU9Yi4kcGFyc2Vyc1tuXShlKSxtKGUpKXtmPSExO2JyZWFrfXcoYi4kbW9kZWxWYWx1ZSkmJmlzTmFOKGIuJG1vZGVsVmFsdWUpJiYoYi4kbW9kZWxWYWx1ZT0kKHQpKTt2YXIgcj1iLiRtb2RlbFZhbHVlLGk9Yi4kb3B0aW9ucyYmYi4kb3B0aW9ucy5hbGxvd0ludmFsaWQ7Yi4kJHJhd01vZGVsVmFsdWU9ZSxpJiYoYi4kbW9kZWxWYWx1ZT1lLGIuJG1vZGVsVmFsdWUhPT1yJiZiLiQkd3JpdGVNb2RlbFRvU2NvcGUoKSksYi4kJHJ1blZhbGlkYXRvcnMoZSxiLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSxmdW5jdGlvbih0KXtpfHwoYi4kbW9kZWxWYWx1ZT10P2U6dm9pZCAwLGIuJG1vZGVsVmFsdWUhPT1yJiZiLiQkd3JpdGVNb2RlbFRvU2NvcGUoKSl9KX0sdGhpcy4kJHdyaXRlTW9kZWxUb1Njb3BlPWZ1bmN0aW9uKCl7Zyh0LGIuJG1vZGVsVmFsdWUpLHIoYi4kdmlld0NoYW5nZUxpc3RlbmVycyxmdW5jdGlvbih0KXt0cnl7dCgpfWNhdGNoKHQpe2UodCl9fSl9LHRoaXMuJHNldFZpZXdWYWx1ZT1mdW5jdGlvbih0LGUpe2IuJHZpZXdWYWx1ZT10LGIuJG9wdGlvbnMmJiFiLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdHx8Yi4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0KGUpfSx0aGlzLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQ9ZnVuY3Rpb24oZSl7dmFyIG49MCxyPWIuJG9wdGlvbnM7ciYmdihyLmRlYm91bmNlKSYmKHI9ci5kZWJvdW5jZSx3KHIpP249cjp3KHJbZV0pP249cltlXTp3KHIuZGVmYXVsdCkmJihuPXIuZGVmYXVsdCkpLHMuY2FuY2VsKHkpLG4/eT1zKGZ1bmN0aW9uKCl7Yi4kY29tbWl0Vmlld1ZhbHVlKCl9LG4pOnUuJCRwaGFzZT9iLiRjb21taXRWaWV3VmFsdWUoKTp0LiRhcHBseShmdW5jdGlvbigpe2IuJGNvbW1pdFZpZXdWYWx1ZSgpfSl9LHQuJHdhdGNoKGZ1bmN0aW9uKCl7dmFyIGU9JCh0KTtpZihlIT09Yi4kbW9kZWxWYWx1ZSYmKGIuJG1vZGVsVmFsdWU9PT1iLiRtb2RlbFZhbHVlfHxlPT09ZSkpe2IuJG1vZGVsVmFsdWU9Yi4kJHJhd01vZGVsVmFsdWU9ZSxmPXZvaWQgMDtmb3IodmFyIG49Yi4kZm9ybWF0dGVycyxyPW4ubGVuZ3RoLGk9ZTtyLS07KWk9bltyXShpKTtiLiR2aWV3VmFsdWUhPT1pJiYoYi4kJHVwZGF0ZUVtcHR5Q2xhc3NlcyhpKSxiLiR2aWV3VmFsdWU9Yi4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU9aSxiLiRyZW5kZXIoKSxiLiQkcnVuVmFsaWRhdG9ycyhlLGksaCkpfXJldHVybiBlfSl9XSxFbz1bXCIkcm9vdFNjb3BlXCIsZnVuY3Rpb24odCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6W1wibmdNb2RlbFwiLFwiXj9mb3JtXCIsXCJeP25nTW9kZWxPcHRpb25zXCJdLGNvbnRyb2xsZXI6Q28scHJpb3JpdHk6MSxjb21waWxlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmFkZENsYXNzKGJvKS5hZGRDbGFzcyhcIm5nLXVudG91Y2hlZFwiKS5hZGRDbGFzcyhnbykse3ByZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1yWzBdO2U9clsxXXx8aS4kJHBhcmVudEZvcm0saS4kJHNldE9wdGlvbnMoclsyXSYmclsyXS4kb3B0aW9ucyksZS4kYWRkQ29udHJvbChpKSxuLiRvYnNlcnZlKFwibmFtZVwiLGZ1bmN0aW9uKHQpe2kuJG5hbWUhPT10JiZpLiQkcGFyZW50Rm9ybS4kJHJlbmFtZUNvbnRyb2woaSx0KX0pLHQuJG9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2kuJCRwYXJlbnRGb3JtLiRyZW1vdmVDb250cm9sKGkpfSl9LHBvc3Q6ZnVuY3Rpb24oZSxuLHIsaSl7dmFyIG89aVswXTtvLiRvcHRpb25zJiZvLiRvcHRpb25zLnVwZGF0ZU9uJiZuLm9uKG8uJG9wdGlvbnMudXBkYXRlT24sZnVuY3Rpb24odCl7by4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0KHQmJnQudHlwZSl9KSxuLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7by4kdG91Y2hlZHx8KHQuJCRwaGFzZT9lLiRldmFsQXN5bmMoby4kc2V0VG91Y2hlZCk6ZS4kYXBwbHkoby4kc2V0VG91Y2hlZCkpfSl9fX19fV0sQW89LyhcXHMrfF4pZGVmYXVsdChcXHMrfCQpLyxrbz1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixjb250cm9sbGVyOltcIiRzY29wZVwiLFwiJGF0dHJzXCIsZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMuJG9wdGlvbnM9aih0LiRldmFsKGUubmdNb2RlbE9wdGlvbnMpKSx2KHRoaXMuJG9wdGlvbnMudXBkYXRlT24pPyh0aGlzLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdD0hMSx0aGlzLiRvcHRpb25zLnVwZGF0ZU9uPXVyKHRoaXMuJG9wdGlvbnMudXBkYXRlT24ucmVwbGFjZShBbyxmdW5jdGlvbigpe3JldHVybiBuLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdD0hMCxcIiBcIn0pKSk6dGhpcy4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQ9ITB9XX19LE9vPWpuKHt0ZXJtaW5hbDohMCxwcmlvcml0eToxZTN9KSxNbz1lKFwibmdPcHRpb25zXCIpLE5vPS9eXFxzKihbXFxzXFxTXSs/KSg/Olxccythc1xccysoW1xcc1xcU10rPykpPyg/Olxccytncm91cFxccytieVxccysoW1xcc1xcU10rPykpPyg/OlxccytkaXNhYmxlXFxzK3doZW5cXHMrKFtcXHNcXFNdKz8pKT9cXHMrZm9yXFxzKyg/OihbXFwkXFx3XVtcXCRcXHddKil8KD86XFwoXFxzKihbXFwkXFx3XVtcXCRcXHddKilcXHMqLFxccyooW1xcJFxcd11bXFwkXFx3XSopXFxzKlxcKSkpXFxzK2luXFxzKyhbXFxzXFxTXSs/KSg/Olxccyt0cmFja1xccytieVxccysoW1xcc1xcU10rPykpPyQvLFRvPVtcIiRjb21waWxlXCIsXCIkZG9jdW1lbnRcIixcIiRwYXJzZVwiLGZ1bmN0aW9uKGUsaSxvKXtmdW5jdGlvbiBhKHQsZSxyKXtmdW5jdGlvbiBpKHQsZSxuLHIsaSl7dGhpcy5zZWxlY3RWYWx1ZT10LHRoaXMudmlld1ZhbHVlPWUsdGhpcy5sYWJlbD1uLHRoaXMuZ3JvdXA9cix0aGlzLmRpc2FibGVkPWl9ZnVuY3Rpb24gYSh0KXt2YXIgZTtpZighYyYmbih0KSllPXQ7ZWxzZXtlPVtdO2Zvcih2YXIgciBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJlwiJFwiIT09ci5jaGFyQXQoMCkmJmUucHVzaChyKX1yZXR1cm4gZX12YXIgcz10Lm1hdGNoKE5vKTtpZighcyl0aHJvdyBNbyhcImlleHBcIix0LEwoZSkpO3ZhciB1PXNbNV18fHNbN10sYz1zWzZdO3Q9LyBhcyAvLnRlc3Qoc1swXSkmJnNbMV07dmFyIGw9c1s5XTtlPW8oc1syXT9zWzFdOnUpO3ZhciBmPXQmJm8odCl8fGUsaD1sJiZvKGwpLHA9bD9mdW5jdGlvbih0LGUpe3JldHVybiBoKHIsZSl9OmZ1bmN0aW9uKHQpe3JldHVybiBEdCh0KX0sZD1mdW5jdGlvbih0LGUpe3JldHVybiBwKHQsYih0LGUpKX0sJD1vKHNbMl18fHNbMV0pLG09byhzWzNdfHxcIlwiKSx2PW8oc1s0XXx8XCJcIiksZz1vKHNbOF0pLHk9e30sYj1jP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHlbY109ZSx5W3VdPXQseX06ZnVuY3Rpb24odCl7cmV0dXJuIHlbdV09dCx5fTtyZXR1cm57dHJhY2tCeTpsLGdldFRyYWNrQnlWYWx1ZTpkLGdldFdhdGNoYWJsZXM6byhnLGZ1bmN0aW9uKHQpe3ZhciBlPVtdO3Q9dHx8W107Zm9yKHZhciBuPWEodCksaT1uLmxlbmd0aCxvPTA7bzxpO28rKyl7dmFyIHU9dD09PW4/bzpuW29dLGM9dFt1XSx1PWIoYyx1KSxjPXAoYyx1KTtlLnB1c2goYyksKHNbMl18fHNbMV0pJiYoYz0kKHIsdSksZS5wdXNoKGMpKSxzWzRdJiYodT12KHIsdSksZS5wdXNoKHUpKX1yZXR1cm4gZX0pLGdldE9wdGlvbnM6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT17fSxuPWcocil8fFtdLG89YShuKSxzPW8ubGVuZ3RoLHU9MDt1PHM7dSsrKXt2YXIgYz1uPT09bz91Om9bdV0saD1iKG5bY10sYykseT1mKHIsaCksYz1wKHksaCksdz0kKHIsaCkseD1tKHIsaCksaD12KHIsaCkseT1uZXcgaShjLHksdyx4LGgpO3QucHVzaCh5KSxlW2NdPXl9cmV0dXJue2l0ZW1zOnQsc2VsZWN0VmFsdWVNYXA6ZSxnZXRPcHRpb25Gcm9tVmlld1ZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBlW2QodCldfSxnZXRWaWV3VmFsdWVGcm9tT3B0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiBsP2lyLmNvcHkodC52aWV3VmFsdWUpOnQudmlld1ZhbHVlfX19fX12YXIgcz10LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIiksdT10LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRncm91cFwiKTtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsdGVybWluYWw6ITAscmVxdWlyZTpbXCJzZWxlY3RcIixcIm5nTW9kZWxcIl0sbGluazp7cHJlOmZ1bmN0aW9uKHQsZSxuLHIpe3JbMF0ucmVnaXN0ZXJPcHRpb249aH0scG9zdDpmdW5jdGlvbih0LG4sbyxjKXtmdW5jdGlvbiBsKHQsZSl7dC5lbGVtZW50PWUsZS5kaXNhYmxlZD10LmRpc2FibGVkLHQubGFiZWwhPT1lLmxhYmVsJiYoZS5sYWJlbD10LmxhYmVsLGUudGV4dENvbnRlbnQ9dC5sYWJlbCksdC52YWx1ZSE9PWUudmFsdWUmJihlLnZhbHVlPXQuc2VsZWN0VmFsdWUpfWZ1bmN0aW9uIGYoKXt2YXIgdD13JiZwLnJlYWRWYWx1ZSgpO2lmKHcpZm9yKHZhciBlPXcuaXRlbXMubGVuZ3RoLTE7MDw9ZTtlLS0pe3ZhciByPXcuaXRlbXNbZV07T3Qoci5ncm91cD9yLmVsZW1lbnQucGFyZW50Tm9kZTpyLmVsZW1lbnQpfXc9eC5nZXRPcHRpb25zKCk7dmFyIGk9e307eSYmbi5wcmVwZW5kKGgpLHcuaXRlbXMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZTtpZih2KHQuZ3JvdXApKXtlPWlbdC5ncm91cF0sZXx8KGU9dS5jbG9uZU5vZGUoITEpLFMuYXBwZW5kQ2hpbGQoZSksZS5sYWJlbD10Lmdyb3VwLGlbdC5ncm91cF09ZSk7dmFyIG49cy5jbG9uZU5vZGUoITEpfWVsc2UgZT1TLG49cy5jbG9uZU5vZGUoITEpO2UuYXBwZW5kQ2hpbGQobiksbCh0LG4pfSksblswXS5hcHBlbmRDaGlsZChTKSxkLiRyZW5kZXIoKSxkLiRpc0VtcHR5KHQpfHwoZT1wLnJlYWRWYWx1ZSgpLCh4LnRyYWNrQnl8fCQ/SSh0LGUpOnQ9PT1lKXx8KGQuJHNldFZpZXdWYWx1ZShlKSxkLiRyZW5kZXIoKSkpfXZhciBoLHA9Y1swXSxkPWNbMV0sJD1vLm11bHRpcGxlO2M9MDtmb3IodmFyIG09bi5jaGlsZHJlbigpLGc9bS5sZW5ndGg7YzxnO2MrKylpZihcIlwiPT09bVtjXS52YWx1ZSl7aD1tLmVxKGMpO2JyZWFrfXZhciB5PSEhaCxiPXpuKHMuY2xvbmVOb2RlKCExKSk7Yi52YWwoXCI/XCIpO3ZhciB3LHg9YShvLm5nT3B0aW9ucyxuLHQpLFM9aVswXS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7JD8oZC4kaXNFbXB0eT1mdW5jdGlvbih0KXtyZXR1cm4hdHx8MD09PXQubGVuZ3RofSxwLndyaXRlVmFsdWU9ZnVuY3Rpb24odCl7dy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuZWxlbWVudC5zZWxlY3RlZD0hMX0pLHQmJnQuZm9yRWFjaChmdW5jdGlvbih0KXsodD13LmdldE9wdGlvbkZyb21WaWV3VmFsdWUodCkpJiYodC5lbGVtZW50LnNlbGVjdGVkPSEwKX0pfSxwLnJlYWRWYWx1ZT1mdW5jdGlvbigpe3ZhciB0PW4udmFsKCl8fFtdLGU9W107cmV0dXJuIHIodCxmdW5jdGlvbih0KXsodD13LnNlbGVjdFZhbHVlTWFwW3RdKSYmIXQuZGlzYWJsZWQmJmUucHVzaCh3LmdldFZpZXdWYWx1ZUZyb21PcHRpb24odCkpfSksZX0seC50cmFja0J5JiZ0LiR3YXRjaENvbGxlY3Rpb24oZnVuY3Rpb24oKXtpZihhcihkLiR2aWV3VmFsdWUpKXJldHVybiBkLiR2aWV3VmFsdWUubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB4LmdldFRyYWNrQnlWYWx1ZSh0KX0pfSxmdW5jdGlvbigpe2QuJHJlbmRlcigpfSkpOihwLndyaXRlVmFsdWU9ZnVuY3Rpb24odCl7dmFyIGU9dy5nZXRPcHRpb25Gcm9tVmlld1ZhbHVlKHQpO2U/KG5bMF0udmFsdWUhPT1lLnNlbGVjdFZhbHVlJiYoYi5yZW1vdmUoKSx5fHxoLnJlbW92ZSgpLG5bMF0udmFsdWU9ZS5zZWxlY3RWYWx1ZSxlLmVsZW1lbnQuc2VsZWN0ZWQ9ITApLGUuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzZWxlY3RlZFwiLFwic2VsZWN0ZWRcIikpOm51bGw9PT10fHx5PyhiLnJlbW92ZSgpLHl8fG4ucHJlcGVuZChoKSxuLnZhbChcIlwiKSxoLnByb3AoXCJzZWxlY3RlZFwiLCEwKSxoLmF0dHIoXCJzZWxlY3RlZFwiLCEwKSk6KHl8fGgucmVtb3ZlKCksbi5wcmVwZW5kKGIpLG4udmFsKFwiP1wiKSxiLnByb3AoXCJzZWxlY3RlZFwiLCEwKSxiLmF0dHIoXCJzZWxlY3RlZFwiLCEwKSl9LHAucmVhZFZhbHVlPWZ1bmN0aW9uKCl7dmFyIHQ9dy5zZWxlY3RWYWx1ZU1hcFtuLnZhbCgpXTtyZXR1cm4gdCYmIXQuZGlzYWJsZWQ/KHl8fGgucmVtb3ZlKCksYi5yZW1vdmUoKSx3LmdldFZpZXdWYWx1ZUZyb21PcHRpb24odCkpOm51bGx9LHgudHJhY2tCeSYmdC4kd2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4geC5nZXRUcmFja0J5VmFsdWUoZC4kdmlld1ZhbHVlKX0sZnVuY3Rpb24oKXtkLiRyZW5kZXIoKX0pKSx5PyhoLnJlbW92ZSgpLGUoaCkodCksaC5yZW1vdmVDbGFzcyhcIm5nLXNjb3BlXCIpKTpoPXpuKHMuY2xvbmVOb2RlKCExKSksbi5lbXB0eSgpLGYoKSx0LiR3YXRjaENvbGxlY3Rpb24oeC5nZXRXYXRjaGFibGVzLGYpfX19fV0sVm89W1wiJGxvY2FsZVwiLFwiJGludGVycG9sYXRlXCIsXCIkbG9nXCIsZnVuY3Rpb24odCxlLG4pe3ZhciBpPS97fS9nLG89L153aGVuKE1pbnVzKT8oLispJC87cmV0dXJue2xpbms6ZnVuY3Rpb24oYSxzLHUpe2Z1bmN0aW9uIGModCl7cy50ZXh0KHR8fFwiXCIpfXZhciBsLGY9dS5jb3VudCxwPXUuJGF0dHIud2hlbiYmcy5hdHRyKHUuJGF0dHIud2hlbiksZD11Lm9mZnNldHx8MCwkPWEuJGV2YWwocCl8fHt9LHY9e30sZz1lLnN0YXJ0U3ltYm9sKCkseT1lLmVuZFN5bWJvbCgpLGI9ZytmK1wiLVwiK2QreSx4PWlyLm5vb3A7cih1LGZ1bmN0aW9uKHQsZSl7dmFyIG49by5leGVjKGUpO24mJihuPShuWzFdP1wiLVwiOlwiXCIpK0tuKG5bMl0pLCRbbl09cy5hdHRyKHUuJGF0dHJbZV0pKX0pLHIoJCxmdW5jdGlvbih0LG4pe3Zbbl09ZSh0LnJlcGxhY2UoaSxiKSl9KSxhLiR3YXRjaChmLGZ1bmN0aW9uKGUpe3ZhciByPXBhcnNlRmxvYXQoZSksaT1pc05hTihyKTtpfHxyIGluICR8fChyPXQucGx1cmFsQ2F0KHItZCkpLHI9PT1sfHxpJiZ3KGwpJiZpc05hTihsKXx8KHgoKSxpPXZbcl0sbShpKT8obnVsbCE9ZSYmbi5kZWJ1ZyhcIm5nUGx1cmFsaXplOiBubyBydWxlIGRlZmluZWQgZm9yICdcIityK1wiJyBpbiBcIitwKSx4PWgsYygpKTp4PWEuJHdhdGNoKGksYyksbD1yKX0pfX19XSxqbz1bXCIkcGFyc2VcIixcIiRhbmltYXRlXCIsXCIkY29tcGlsZVwiLGZ1bmN0aW9uKHQsaSxvKXt2YXIgYT1lKFwibmdSZXBlYXRcIikscz1mdW5jdGlvbih0LGUsbixyLGksbyxhKXt0W25dPXIsaSYmKHRbaV09byksdC4kaW5kZXg9ZSx0LiRmaXJzdD0wPT09ZSx0LiRsYXN0PWU9PT1hLTEsdC4kbWlkZGxlPSEodC4kZmlyc3R8fHQuJGxhc3QpLHQuJG9kZD0hKHQuJGV2ZW49MD09PSgxJmUpKX07cmV0dXJue3Jlc3RyaWN0OlwiQVwiLG11bHRpRWxlbWVudDohMCx0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHByaW9yaXR5OjFlMyx0ZXJtaW5hbDohMCwkJHRsYjohMCxjb21waWxlOmZ1bmN0aW9uKGUsdSl7dmFyIGM9dS5uZ1JlcGVhdCxsPW8uJCRjcmVhdGVDb21tZW50KFwiZW5kIG5nUmVwZWF0XCIsYyksZj1jLm1hdGNoKC9eXFxzKihbXFxzXFxTXSs/KVxccytpblxccysoW1xcc1xcU10rPykoPzpcXHMrYXNcXHMrKFtcXHNcXFNdKz8pKT8oPzpcXHMrdHJhY2tcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT9cXHMqJC8pO2lmKCFmKXRocm93IGEoXCJpZXhwXCIsYyk7dmFyIGg9ZlsxXSxwPWZbMl0sZD1mWzNdLCQ9Zls0XSxmPWgubWF0Y2goL14oPzooXFxzKltcXCRcXHddKyl8XFwoXFxzKihbXFwkXFx3XSspXFxzKixcXHMqKFtcXCRcXHddKylcXHMqXFwpKSQvKTtpZighZil0aHJvdyBhKFwiaWlkZXhwXCIsaCk7dmFyIG09ZlszXXx8ZlsxXSx2PWZbMl07aWYoZCYmKCEvXlskYS16QS1aX11bJGEtekEtWjAtOV9dKiQvLnRlc3QoZCl8fC9eKG51bGx8dW5kZWZpbmVkfHRoaXN8XFwkaW5kZXh8XFwkZmlyc3R8XFwkbWlkZGxlfFxcJGxhc3R8XFwkZXZlbnxcXCRvZGR8XFwkcGFyZW50fFxcJHJvb3R8XFwkaWQpJC8udGVzdChkKSkpdGhyb3cgYShcImJhZGlkZW50XCIsZCk7dmFyIGcseSxiLHcseD17JGlkOkR0fTtyZXR1cm4gJD9nPXQoJCk6KGI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gRHQoZSl9LHc9ZnVuY3Rpb24odCl7cmV0dXJuIHR9KSxmdW5jdGlvbih0LGUsbyx1LGYpe2cmJih5PWZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdiYmKHhbdl09ZSkseFttXT1uLHguJGluZGV4PXIsZyh0LHgpfSk7dmFyIGg9YXQoKTt0LiR3YXRjaENvbGxlY3Rpb24ocCxmdW5jdGlvbihvKXt2YXIgdSxwLCQsZyx4LFMsQyxFLEEsayxPPWVbMF0sTT1hdCgpO2lmKGQmJih0W2RdPW8pLG4obykpRT1vLHA9eXx8YjtlbHNlIGZvcihrIGluIHA9eXx8dyxFPVtdLG8pSm4uY2FsbChvLGspJiZcIiRcIiE9PWsuY2hhckF0KDApJiZFLnB1c2goayk7Zm9yKGc9RS5sZW5ndGgsaz1BcnJheShnKSx1PTA7dTxnO3UrKylpZih4PW89PT1FP3U6RVt1XSxTPW9beF0sQz1wKHgsUyx1KSxoW0NdKUE9aFtDXSxkZWxldGUgaFtDXSxNW0NdPUEsa1t1XT1BO2Vsc2V7aWYoTVtDXSl0aHJvdyByKGssZnVuY3Rpb24odCl7dCYmdC5zY29wZSYmKGhbdC5pZF09dCl9KSxhKFwiZHVwZXNcIixjLEMsUyk7a1t1XT17aWQ6QyxzY29wZTp2b2lkIDAsY2xvbmU6dm9pZCAwfSxNW0NdPSEwfWZvcigkIGluIGgpe2lmKEE9aFskXSxDPW90KEEuY2xvbmUpLGkubGVhdmUoQyksQ1swXS5wYXJlbnROb2RlKWZvcih1PTAscD1DLmxlbmd0aDt1PHA7dSsrKUNbdV0uJCROR19SRU1PVkVEPSEwO0Euc2NvcGUuJGRlc3Ryb3koKX1mb3IodT0wO3U8Zzt1KyspaWYoeD1vPT09RT91OkVbdV0sUz1vW3hdLEE9a1t1XSxBLnNjb3BlKXskPU87ZG8gJD0kLm5leHRTaWJsaW5nO3doaWxlKCQmJiQuJCROR19SRU1PVkVEKTtBLmNsb25lWzBdIT0kJiZpLm1vdmUob3QoQS5jbG9uZSksbnVsbCxPKSxPPUEuY2xvbmVbQS5jbG9uZS5sZW5ndGgtMV0scyhBLnNjb3BlLHUsbSxTLHYseCxnKX1lbHNlIGYoZnVuY3Rpb24odCxlKXtBLnNjb3BlPWU7dmFyIG49bC5jbG9uZU5vZGUoITEpO3RbdC5sZW5ndGgrK109bixpLmVudGVyKHQsbnVsbCxPKSxPPW4sQS5jbG9uZT10LE1bQS5pZF09QSxzKEEuc2NvcGUsdSxtLFMsdix4LGcpfSk7aD1NfSl9fX19XSxJbz1bXCIkYW5pbWF0ZVwiLGZ1bmN0aW9uKHQpe3JldHVybntyZXN0cmljdDpcIkFcIixtdWx0aUVsZW1lbnQ6ITAsbGluazpmdW5jdGlvbihlLG4scil7ZS4kd2F0Y2goci5uZ1Nob3csZnVuY3Rpb24oZSl7dFtlP1wicmVtb3ZlQ2xhc3NcIjpcImFkZENsYXNzXCJdKG4sXCJuZy1oaWRlXCIse3RlbXBDbGFzc2VzOlwibmctaGlkZS1hbmltYXRlXCJ9KX0pfX19XSxEbz1bXCIkYW5pbWF0ZVwiLGZ1bmN0aW9uKHQpe3JldHVybntyZXN0cmljdDpcIkFcIixtdWx0aUVsZW1lbnQ6ITAsbGluazpmdW5jdGlvbihlLG4scil7ZS4kd2F0Y2goci5uZ0hpZGUsZnVuY3Rpb24oZSl7dFtlP1wiYWRkQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCJdKG4sXCJuZy1oaWRlXCIse3RlbXBDbGFzc2VzOlwibmctaGlkZS1hbmltYXRlXCJ9KX0pfX19XSxQbz1qbihmdW5jdGlvbih0LGUsbil7dC4kd2F0Y2gobi5uZ1N0eWxlLGZ1bmN0aW9uKHQsbil7biYmdCE9PW4mJnIobixmdW5jdGlvbih0LG4pe2UuY3NzKG4sXCJcIil9KSx0JiZlLmNzcyh0KX0sITApfSksUm89W1wiJGFuaW1hdGVcIixcIiRjb21waWxlXCIsZnVuY3Rpb24odCxlKXtyZXR1cm57cmVxdWlyZTpcIm5nU3dpdGNoXCIsY29udHJvbGxlcjpbXCIkc2NvcGVcIixmdW5jdGlvbigpe3RoaXMuY2FzZXM9e319XSxsaW5rOmZ1bmN0aW9uKG4saSxvLGEpe3ZhciBzPVtdLHU9W10sYz1bXSxsPVtdLGY9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24oKXt0LnNwbGljZShlLDEpfX07bi4kd2F0Y2goby5uZ1N3aXRjaHx8by5vbixmdW5jdGlvbihuKXt2YXIgaSxvO2ZvcihpPTAsbz1jLmxlbmd0aDtpPG87KytpKXQuY2FuY2VsKGNbaV0pO2ZvcihpPWMubGVuZ3RoPTAsbz1sLmxlbmd0aDtpPG87KytpKXt2YXIgaD1vdCh1W2ldLmNsb25lKTtsW2ldLiRkZXN0cm95KCksKGNbaV09dC5sZWF2ZShoKSkudGhlbihmKGMsaSkpfXUubGVuZ3RoPTAsbC5sZW5ndGg9MCwocz1hLmNhc2VzW1wiIVwiK25dfHxhLmNhc2VzW1wiP1wiXSkmJnIocyxmdW5jdGlvbihuKXtuLnRyYW5zY2x1ZGUoZnVuY3Rpb24ocixpKXtsLnB1c2goaSk7dmFyIG89bi5lbGVtZW50O3Jbci5sZW5ndGgrK109ZS4kJGNyZWF0ZUNvbW1lbnQoXCJlbmQgbmdTd2l0Y2hXaGVuXCIpLHUucHVzaCh7Y2xvbmU6cn0pLHQuZW50ZXIocixvLnBhcmVudCgpLG8pfSl9KX0pfX19XSxGbz1qbih7dHJhbnNjbHVkZTpcImVsZW1lbnRcIixwcmlvcml0eToxMjAwLHJlcXVpcmU6XCJebmdTd2l0Y2hcIixtdWx0aUVsZW1lbnQ6ITAsbGluazpmdW5jdGlvbih0LGUsbixyLGkpe3IuY2FzZXNbXCIhXCIrbi5uZ1N3aXRjaFdoZW5dPXIuY2FzZXNbXCIhXCIrbi5uZ1N3aXRjaFdoZW5dfHxbXSxyLmNhc2VzW1wiIVwiK24ubmdTd2l0Y2hXaGVuXS5wdXNoKHt0cmFuc2NsdWRlOmksZWxlbWVudDplfSl9fSksVW89am4oe3RyYW5zY2x1ZGU6XCJlbGVtZW50XCIscHJpb3JpdHk6MTIwMCxyZXF1aXJlOlwiXm5nU3dpdGNoXCIsbXVsdGlFbGVtZW50OiEwLGxpbms6ZnVuY3Rpb24odCxlLG4scixpKXtyLmNhc2VzW1wiP1wiXT1yLmNhc2VzW1wiP1wiXXx8W10sci5jYXNlc1tcIj9cIl0ucHVzaCh7dHJhbnNjbHVkZTppLGVsZW1lbnQ6ZX0pfX0pLF9vPWUoXCJuZ1RyYW5zY2x1ZGVcIikscW89am4oe3Jlc3RyaWN0OlwiRUFDXCIsbGluazpmdW5jdGlvbih0LGUsbixyLGkpe2lmKG4ubmdUcmFuc2NsdWRlPT09bi4kYXR0ci5uZ1RyYW5zY2x1ZGUmJihuLm5nVHJhbnNjbHVkZT1cIlwiKSwhaSl0aHJvdyBfbyhcIm9ycGhhblwiLEwoZSkpO2koZnVuY3Rpb24odCl7dC5sZW5ndGgmJihlLmVtcHR5KCksZS5hcHBlbmQodCkpfSxudWxsLG4ubmdUcmFuc2NsdWRlfHxuLm5nVHJhbnNjbHVkZVNsb3QpfX0pLExvPVtcIiR0ZW1wbGF0ZUNhY2hlXCIsZnVuY3Rpb24odCl7cmV0dXJue3Jlc3RyaWN0OlwiRVwiLHRlcm1pbmFsOiEwLGNvbXBpbGU6ZnVuY3Rpb24oZSxuKXtcInRleHQvbmctdGVtcGxhdGVcIj09bi50eXBlJiZ0LnB1dChuLmlkLGVbMF0udGV4dCl9fX1dLEJvPXskc2V0Vmlld1ZhbHVlOmgsJHJlbmRlcjpofSxIbz1bXCIkZWxlbWVudFwiLFwiJHNjb3BlXCIsZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzLGk9bmV3IFB0O3IubmdNb2RlbEN0cmw9Qm8sci51bmtub3duT3B0aW9uPXpuKHQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSksci5yZW5kZXJVbmtub3duT3B0aW9uPWZ1bmN0aW9uKHQpe3Q9XCI/IFwiK0R0KHQpK1wiID9cIixyLnVua25vd25PcHRpb24udmFsKHQpLGUucHJlcGVuZChyLnVua25vd25PcHRpb24pLGUudmFsKHQpfSxuLiRvbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtyLnJlbmRlclVua25vd25PcHRpb249aH0pLHIucmVtb3ZlVW5rbm93bk9wdGlvbj1mdW5jdGlvbigpe3IudW5rbm93bk9wdGlvbi5wYXJlbnQoKSYmci51bmtub3duT3B0aW9uLnJlbW92ZSgpfSxyLnJlYWRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiByLnJlbW92ZVVua25vd25PcHRpb24oKSxlLnZhbCgpfSxyLndyaXRlVmFsdWU9ZnVuY3Rpb24odCl7ci5oYXNPcHRpb24odCk/KHIucmVtb3ZlVW5rbm93bk9wdGlvbigpLGUudmFsKHQpLFwiXCI9PT10JiZyLmVtcHR5T3B0aW9uLnByb3AoXCJzZWxlY3RlZFwiLCEwKSk6bnVsbD09dCYmci5lbXB0eU9wdGlvbj8oci5yZW1vdmVVbmtub3duT3B0aW9uKCksZS52YWwoXCJcIikpOnIucmVuZGVyVW5rbm93bk9wdGlvbih0KX0sci5hZGRPcHRpb249ZnVuY3Rpb24odCxlKXtpZig4IT09ZVswXS5ub2RlVHlwZSl7cnQodCwnXCJvcHRpb24gdmFsdWVcIicpLFwiXCI9PT10JiYoci5lbXB0eU9wdGlvbj1lKTt2YXIgbj1pLmdldCh0KXx8MDtpLnB1dCh0LG4rMSksci5uZ01vZGVsQ3RybC4kcmVuZGVyKCksZVswXS5oYXNBdHRyaWJ1dGUoXCJzZWxlY3RlZFwiKSYmKGVbMF0uc2VsZWN0ZWQ9ITApfX0sci5yZW1vdmVPcHRpb249ZnVuY3Rpb24odCl7dmFyIGU9aS5nZXQodCk7ZSYmKDE9PT1lPyhpLnJlbW92ZSh0KSxcIlwiPT09dCYmKHIuZW1wdHlPcHRpb249dm9pZCAwKSk6aS5wdXQodCxlLTEpKX0sci5oYXNPcHRpb249ZnVuY3Rpb24odCl7cmV0dXJuISFpLmdldCh0KX0sci5yZWdpc3Rlck9wdGlvbj1mdW5jdGlvbih0LGUsbixpLG8pe2lmKGkpe3ZhciBhO24uJG9ic2VydmUoXCJ2YWx1ZVwiLGZ1bmN0aW9uKHQpe3YoYSkmJnIucmVtb3ZlT3B0aW9uKGEpLGE9dCxyLmFkZE9wdGlvbih0LGUpfSl9ZWxzZSBvP3QuJHdhdGNoKG8sZnVuY3Rpb24odCxpKXtuLiRzZXQoXCJ2YWx1ZVwiLHQpLGkhPT10JiZyLnJlbW92ZU9wdGlvbihpKSxyLmFkZE9wdGlvbih0LGUpfSk6ci5hZGRPcHRpb24obi52YWx1ZSxlKTtlLm9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe3IucmVtb3ZlT3B0aW9uKG4udmFsdWUpLHIubmdNb2RlbEN0cmwuJHJlbmRlcigpfSl9fV0sem89ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJFXCIscmVxdWlyZTpbXCJzZWxlY3RcIixcIj9uZ01vZGVsXCJdLGNvbnRyb2xsZXI6SG8scHJpb3JpdHk6MSxsaW5rOntwcmU6ZnVuY3Rpb24odCxlLG4saSl7dmFyIG89aVsxXTtpZihvKXt2YXIgYT1pWzBdO2lmKGEubmdNb2RlbEN0cmw9byxlLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24oKXt0LiRhcHBseShmdW5jdGlvbigpe28uJHNldFZpZXdWYWx1ZShhLnJlYWRWYWx1ZSgpKX0pfSksbi5tdWx0aXBsZSl7YS5yZWFkVmFsdWU9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gcihlLmZpbmQoXCJvcHRpb25cIiksZnVuY3Rpb24oZSl7ZS5zZWxlY3RlZCYmdC5wdXNoKGUudmFsdWUpfSksdH0sYS53cml0ZVZhbHVlPWZ1bmN0aW9uKHQpe3ZhciBuPW5ldyBQdCh0KTtyKGUuZmluZChcIm9wdGlvblwiKSxmdW5jdGlvbih0KXt0LnNlbGVjdGVkPXYobi5nZXQodC52YWx1ZSkpfSl9O3ZhciBzLHU9TmFOO3QuJHdhdGNoKGZ1bmN0aW9uKCl7dSE9PW8uJHZpZXdWYWx1ZXx8SShzLG8uJHZpZXdWYWx1ZSl8fChzPXV0KG8uJHZpZXdWYWx1ZSksby4kcmVuZGVyKCkpLHU9by4kdmlld1ZhbHVlfSksby4kaXNFbXB0eT1mdW5jdGlvbih0KXtyZXR1cm4hdHx8MD09PXQubGVuZ3RofX19fSxwb3N0OmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXJbMV07aWYoaSl7dmFyIG89clswXTtpLiRyZW5kZXI9ZnVuY3Rpb24oKXtvLndyaXRlVmFsdWUoaS4kdmlld1ZhbHVlKX19fX19fSxXbz1bXCIkaW50ZXJwb2xhdGVcIixmdW5jdGlvbih0KXtyZXR1cm57cmVzdHJpY3Q6XCJFXCIscHJpb3JpdHk6MTAwLGNvbXBpbGU6ZnVuY3Rpb24oZSxuKXtpZih2KG4udmFsdWUpKXZhciByPXQobi52YWx1ZSwhMCk7ZWxzZXt2YXIgaT10KGUudGV4dCgpLCEwKTtpfHxuLiRzZXQoXCJ2YWx1ZVwiLGUudGV4dCgpKX1yZXR1cm4gZnVuY3Rpb24odCxlLG4pe3ZhciBvPWUucGFyZW50KCk7KG89by5kYXRhKFwiJHNlbGVjdENvbnRyb2xsZXJcIil8fG8ucGFyZW50KCkuZGF0YShcIiRzZWxlY3RDb250cm9sbGVyXCIpKSYmby5yZWdpc3Rlck9wdGlvbih0LGUsbixyLGkpfX19fV0sR289ZCh7cmVzdHJpY3Q6XCJFXCIsdGVybWluYWw6ITF9KSxabz1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixyZXF1aXJlOlwiP25nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKHQsZSxuLHIpe3ImJihuLnJlcXVpcmVkPSEwLHIuJHZhbGlkYXRvcnMucmVxdWlyZWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4hbi5yZXF1aXJlZHx8IXIuJGlzRW1wdHkoZSl9LG4uJG9ic2VydmUoXCJyZXF1aXJlZFwiLGZ1bmN0aW9uKCl7ci4kdmFsaWRhdGUoKX0pKX19fSxKbz1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixyZXF1aXJlOlwiP25nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKHQsbixyLGkpe2lmKGkpe3ZhciBvLGE9ci5uZ1BhdHRlcm58fHIucGF0dGVybjtyLiRvYnNlcnZlKFwicGF0dGVyblwiLGZ1bmN0aW9uKHQpe2lmKGIodCkmJjA8dC5sZW5ndGgmJih0PW5ldyBSZWdFeHAoXCJeXCIrdCtcIiRcIikpLHQmJiF0LnRlc3QpdGhyb3cgZShcIm5nUGF0dGVyblwiKShcIm5vcmVnZXhwXCIsYSx0LEwobikpO289dHx8dm9pZCAwLGkuJHZhbGlkYXRlKCl9KSxpLiR2YWxpZGF0b3JzLnBhdHRlcm49ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS4kaXNFbXB0eShlKXx8bShvKXx8by50ZXN0KGUpfX19fX0sS289ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpcIj9uZ01vZGVsXCIsbGluazpmdW5jdGlvbih0LGUsbixyKXtpZihyKXt2YXIgaT0tMTtuLiRvYnNlcnZlKFwibWF4bGVuZ3RoXCIsZnVuY3Rpb24odCl7dD1sKHQpLGk9aXNOYU4odCk/LTE6dCxyLiR2YWxpZGF0ZSgpfSksci4kdmFsaWRhdG9ycy5tYXhsZW5ndGg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gMD5pfHxyLiRpc0VtcHR5KGUpfHxlLmxlbmd0aDw9aX19fX19LFlvPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6XCI/bmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24odCxlLG4scil7aWYocil7dmFyIGk9MDtuLiRvYnNlcnZlKFwibWlubGVuZ3RoXCIsZnVuY3Rpb24odCl7aT1sKHQpfHwwLHIuJHZhbGlkYXRlKCl9KSxyLiR2YWxpZGF0b3JzLm1pbmxlbmd0aD1mdW5jdGlvbih0LGUpe3JldHVybiByLiRpc0VtcHR5KGUpfHxlLmxlbmd0aD49aX19fX19O3QuYW5ndWxhci5ib290c3RyYXA/dC5jb25zb2xlJiZjb25zb2xlLmxvZyhcIldBUk5JTkc6IFRyaWVkIHRvIGxvYWQgYW5ndWxhciBtb3JlIHRoYW4gb25jZS5cIik6KHR0KCksY3QoaXIpLGlyLm1vZHVsZShcIm5nTG9jYWxlXCIsW10sW1wiJHByb3ZpZGVcIixmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3QrPVwiXCI7dmFyIGU9dC5pbmRleE9mKFwiLlwiKTtyZXR1cm4tMT09ZT8wOnQubGVuZ3RoLWUtMX10LnZhbHVlKFwiJGxvY2FsZVwiLHtEQVRFVElNRV9GT1JNQVRTOntBTVBNUzpbXCJBTVwiLFwiUE1cIl0sREFZOlwiU3VuZGF5IE1vbmRheSBUdWVzZGF5IFdlZG5lc2RheSBUaHVyc2RheSBGcmlkYXkgU2F0dXJkYXlcIi5zcGxpdChcIiBcIiksRVJBTkFNRVM6W1wiQmVmb3JlIENocmlzdFwiLFwiQW5ubyBEb21pbmlcIl0sRVJBUzpbXCJCQ1wiLFwiQURcIl0sRklSU1REQVlPRldFRUs6NixNT05USDpcIkphbnVhcnkgRmVicnVhcnkgTWFyY2ggQXByaWwgTWF5IEp1bmUgSnVseSBBdWd1c3QgU2VwdGVtYmVyIE9jdG9iZXIgTm92ZW1iZXIgRGVjZW1iZXJcIi5zcGxpdChcIiBcIiksU0hPUlREQVk6XCJTdW4gTW9uIFR1ZSBXZWQgVGh1IEZyaSBTYXRcIi5zcGxpdChcIiBcIiksU0hPUlRNT05USDpcIkphbiBGZWIgTWFyIEFwciBNYXkgSnVuIEp1bCBBdWcgU2VwIE9jdCBOb3YgRGVjXCIuc3BsaXQoXCIgXCIpLFNUQU5EQUxPTkVNT05USDpcIkphbnVhcnkgRmVicnVhcnkgTWFyY2ggQXByaWwgTWF5IEp1bmUgSnVseSBBdWd1c3QgU2VwdGVtYmVyIE9jdG9iZXIgTm92ZW1iZXIgRGVjZW1iZXJcIi5zcGxpdChcIiBcIiksV0VFS0VORFJBTkdFOls1LDZdLGZ1bGxEYXRlOlwiRUVFRSwgTU1NTSBkLCB5XCIsbG9uZ0RhdGU6XCJNTU1NIGQsIHlcIixtZWRpdW06XCJNTU0gZCwgeSBoOm1tOnNzIGFcIixtZWRpdW1EYXRlOlwiTU1NIGQsIHlcIixtZWRpdW1UaW1lOlwiaDptbTpzcyBhXCIsc2hvcnQ6XCJNL2QveXkgaDptbSBhXCIsc2hvcnREYXRlOlwiTS9kL3l5XCIsc2hvcnRUaW1lOlwiaDptbSBhXCJ9LE5VTUJFUl9GT1JNQVRTOntDVVJSRU5DWV9TWU06XCIkXCIsREVDSU1BTF9TRVA6XCIuXCIsR1JPVVBfU0VQOlwiLFwiLFBBVFRFUk5TOlt7Z1NpemU6MyxsZ1NpemU6MyxtYXhGcmFjOjMsbWluRnJhYzowLG1pbkludDoxLG5lZ1ByZTpcIi1cIixuZWdTdWY6XCJcIixwb3NQcmU6XCJcIixwb3NTdWY6XCJcIn0se2dTaXplOjMsbGdTaXplOjMsbWF4RnJhYzoyLG1pbkZyYWM6MixtaW5JbnQ6MSxuZWdQcmU6XCItwqRcIixuZWdTdWY6XCJcIixwb3NQcmU6XCLCpFwiLHBvc1N1ZjpcIlwifV19LGlkOlwiZW4tdXNcIixsb2NhbGVJRDpcImVuX1VTXCIscGx1cmFsQ2F0OmZ1bmN0aW9uKHQsbil7dmFyIHI9MHx0LGk9bjtyZXR1cm4gdm9pZCAwPT09aSYmKGk9TWF0aC5taW4oZSh0KSwzKSksTWF0aC5wb3coMTAsaSksMT09ciYmMD09aT9cIm9uZVwiOlwib3RoZXJcIn19KX1dKSx6bih0LmRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe0oodC5kb2N1bWVudCxLKX0pKX0od2luZG93KSwhd2luZG93LmFuZ3VsYXIuJCRjc3AoKS5ub0lubGluZVN0eWxlJiZ3aW5kb3cuYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmhlYWQpLnByZXBlbmQoJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj5AY2hhcnNldCBcIlVURi04XCI7W25nXFxcXDpjbG9ha10sW25nLWNsb2FrXSxbZGF0YS1uZy1jbG9ha10sW3gtbmctY2xvYWtdLC5uZy1jbG9haywueC1uZy1jbG9haywubmctaGlkZTpub3QoLm5nLWhpZGUtYW5pbWF0ZSl7ZGlzcGxheTpub25lICFpbXBvcnRhbnQ7fW5nXFxcXDpmb3Jte2Rpc3BsYXk6YmxvY2s7fS5uZy1hbmltYXRlLXNoaW17dmlzaWJpbGl0eTpoaWRkZW47fS5uZy1hbmNob3J7cG9zaXRpb246YWJzb2x1dGU7fTwvc3R5bGU+Jyk7XG4hZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUscixuKXtyZXR1cm57cmVzdHJpY3Q6XCJFQ0FcIix0ZXJtaW5hbDohMCxwcmlvcml0eTo0MDAsdHJhbnNjbHVkZTpcImVsZW1lbnRcIixsaW5rOmZ1bmN0aW9uKGEsbyxpLGMsbCl7ZnVuY3Rpb24gdSgpeyQmJihuLmNhbmNlbCgkKSwkPW51bGwpLGgmJihoLiRkZXN0cm95KCksaD1udWxsKSxmJiYoJD1uLmxlYXZlKGYpLCQudGhlbihmdW5jdGlvbigpeyQ9bnVsbH0pLGY9bnVsbCl9ZnVuY3Rpb24gcygpe3ZhciBpPWUuY3VycmVudCYmZS5jdXJyZW50LmxvY2FscztpZih0LmlzRGVmaW5lZChpJiZpLiR0ZW1wbGF0ZSkpe3ZhciBpPWEuJG5ldygpLGM9ZS5jdXJyZW50O2Y9bChpLGZ1bmN0aW9uKGUpe24uZW50ZXIoZSxudWxsLGZ8fG8pLnRoZW4oZnVuY3Rpb24oKXshdC5pc0RlZmluZWQoZCl8fGQmJiFhLiRldmFsKGQpfHxyKCl9KSx1KCl9KSxoPWMuc2NvcGU9aSxoLiRlbWl0KFwiJHZpZXdDb250ZW50TG9hZGVkXCIpLGguJGV2YWwocCl9ZWxzZSB1KCl9dmFyIGgsZiwkLGQ9aS5hdXRvc2Nyb2xsLHA9aS5vbmxvYWR8fFwiXCI7YS4kb24oXCIkcm91dGVDaGFuZ2VTdWNjZXNzXCIscykscygpfX19ZnVuY3Rpb24gbihlLHQscil7cmV0dXJue3Jlc3RyaWN0OlwiRUNBXCIscHJpb3JpdHk6LTQwMCxsaW5rOmZ1bmN0aW9uKG4sYSl7dmFyIG89ci5jdXJyZW50LGk9by5sb2NhbHM7YS5odG1sKGkuJHRlbXBsYXRlKTt2YXIgYz1lKGEuY29udGVudHMoKSk7aWYoby5jb250cm9sbGVyKXtpLiRzY29wZT1uO3ZhciBsPXQoby5jb250cm9sbGVyLGkpO28uY29udHJvbGxlckFzJiYobltvLmNvbnRyb2xsZXJBc109bCksYS5kYXRhKFwiJG5nQ29udHJvbGxlckNvbnRyb2xsZXJcIixsKSxhLmNoaWxkcmVuKCkuZGF0YShcIiRuZ0NvbnRyb2xsZXJDb250cm9sbGVyXCIsbCl9bltvLnJlc29sdmVBc3x8XCIkcmVzb2x2ZVwiXT1pLGMobil9fX12YXIgYT10LmlzQXJyYXksbz10LmlzT2JqZWN0LGk9dC5tb2R1bGUoXCJuZ1JvdXRlXCIsW1wibmdcIl0pLnByb3ZpZGVyKFwiJHJvdXRlXCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUscil7cmV0dXJuIHQuZXh0ZW5kKE9iamVjdC5jcmVhdGUoZSkscil9ZnVuY3Rpb24gcihlLHQpe3ZhciByPXQuY2FzZUluc2Vuc2l0aXZlTWF0Y2gsbj17b3JpZ2luYWxQYXRoOmUscmVnZXhwOmV9LGE9bi5rZXlzPVtdO3JldHVybiBlPWUucmVwbGFjZSgvKFsoKS5dKS9nLFwiXFxcXCQxXCIpLnJlcGxhY2UoLyhcXC8pPzooXFx3KykoXFwqXFw/fFtcXD9cXCpdKT8vZyxmdW5jdGlvbihlLHQscixuKXtyZXR1cm4gZT1cIj9cIj09PW58fFwiKj9cIj09PW4/XCI/XCI6bnVsbCxuPVwiKlwiPT09bnx8XCIqP1wiPT09bj9cIipcIjpudWxsLGEucHVzaCh7bmFtZTpyLG9wdGlvbmFsOiEhZX0pLHQ9dHx8XCJcIixcIlwiKyhlP1wiXCI6dCkrXCIoPzpcIisoZT90OlwiXCIpKyhuJiZcIiguKz8pXCJ8fFwiKFteL10rKVwiKSsoZXx8XCJcIikrXCIpXCIrKGV8fFwiXCIpfSkucmVwbGFjZSgvKFtcXC8kXFwqXSkvZyxcIlxcXFwkMVwiKSxuLnJlZ2V4cD1uZXcgUmVnRXhwKFwiXlwiK2UrXCIkXCIscj9cImlcIjpcIlwiKSxufXZhciBuPXt9O3RoaXMud2hlbj1mdW5jdGlvbihlLGkpe3ZhciBjO2lmKGM9dm9pZCAwLGEoaSkpe2M9Y3x8W107Zm9yKHZhciBsPTAsdT1pLmxlbmd0aDtsPHU7bCsrKWNbbF09aVtsXX1lbHNlIGlmKG8oaSkpZm9yKGwgaW4gYz1jfHx7fSxpKVwiJFwiPT09bC5jaGFyQXQoMCkmJlwiJFwiPT09bC5jaGFyQXQoMSl8fChjW2xdPWlbbF0pO3JldHVybiBjPWN8fGksdC5pc1VuZGVmaW5lZChjLnJlbG9hZE9uU2VhcmNoKSYmKGMucmVsb2FkT25TZWFyY2g9ITApLHQuaXNVbmRlZmluZWQoYy5jYXNlSW5zZW5zaXRpdmVNYXRjaCkmJihjLmNhc2VJbnNlbnNpdGl2ZU1hdGNoPXRoaXMuY2FzZUluc2Vuc2l0aXZlTWF0Y2gpLG5bZV09dC5leHRlbmQoYyxlJiZyKGUsYykpLGUmJihsPVwiL1wiPT1lW2UubGVuZ3RoLTFdP2Uuc3Vic3RyKDAsZS5sZW5ndGgtMSk6ZStcIi9cIixuW2xdPXQuZXh0ZW5kKHtyZWRpcmVjdFRvOmV9LHIobCxjKSkpLHRoaXN9LHRoaXMuY2FzZUluc2Vuc2l0aXZlTWF0Y2g9ITEsdGhpcy5vdGhlcndpc2U9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXtyZWRpcmVjdFRvOmV9KSx0aGlzLndoZW4obnVsbCxlKSx0aGlzfSx0aGlzLiRnZXQ9W1wiJHJvb3RTY29wZVwiLFwiJGxvY2F0aW9uXCIsXCIkcm91dGVQYXJhbXNcIixcIiRxXCIsXCIkaW5qZWN0b3JcIixcIiR0ZW1wbGF0ZVJlcXVlc3RcIixcIiRzY2VcIixmdW5jdGlvbihyLGEsbyxpLGwsdSxzKXtmdW5jdGlvbiBoKGUpe3ZhciBuPVAuY3VycmVudDsoZz0obT1wKCkpJiZuJiZtLiQkcm91dGU9PT1uLiQkcm91dGUmJnQuZXF1YWxzKG0ucGF0aFBhcmFtcyxuLnBhdGhQYXJhbXMpJiYhbS5yZWxvYWRPblNlYXJjaCYmIXcpfHwhbiYmIW18fHIuJGJyb2FkY2FzdChcIiRyb3V0ZUNoYW5nZVN0YXJ0XCIsbSxuKS5kZWZhdWx0UHJldmVudGVkJiZlJiZlLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gZigpe3ZhciBlPVAuY3VycmVudCxuPW07Zz8oZS5wYXJhbXM9bi5wYXJhbXMsdC5jb3B5KGUucGFyYW1zLG8pLHIuJGJyb2FkY2FzdChcIiRyb3V0ZVVwZGF0ZVwiLGUpKToobnx8ZSkmJih3PSExLChQLmN1cnJlbnQ9bikmJm4ucmVkaXJlY3RUbyYmKHQuaXNTdHJpbmcobi5yZWRpcmVjdFRvKT9hLnBhdGgodihuLnJlZGlyZWN0VG8sbi5wYXJhbXMpKS5zZWFyY2gobi5wYXJhbXMpLnJlcGxhY2UoKTphLnVybChuLnJlZGlyZWN0VG8obi5wYXRoUGFyYW1zLGEucGF0aCgpLGEuc2VhcmNoKCkpKS5yZXBsYWNlKCkpLGkud2hlbihuKS50aGVuKCQpLnRoZW4oZnVuY3Rpb24oYSl7bj09UC5jdXJyZW50JiYobiYmKG4ubG9jYWxzPWEsdC5jb3B5KG4ucGFyYW1zLG8pKSxyLiRicm9hZGNhc3QoXCIkcm91dGVDaGFuZ2VTdWNjZXNzXCIsbixlKSl9LGZ1bmN0aW9uKHQpe249PVAuY3VycmVudCYmci4kYnJvYWRjYXN0KFwiJHJvdXRlQ2hhbmdlRXJyb3JcIixuLGUsdCl9KSl9ZnVuY3Rpb24gJChlKXtpZihlKXt2YXIgcj10LmV4dGVuZCh7fSxlLnJlc29sdmUpO3JldHVybiB0LmZvckVhY2gocixmdW5jdGlvbihlLG4pe3Jbbl09dC5pc1N0cmluZyhlKT9sLmdldChlKTpsLmludm9rZShlLG51bGwsbnVsbCxuKX0pLGU9ZChlKSx0LmlzRGVmaW5lZChlKSYmKHIuJHRlbXBsYXRlPWUpLGkuYWxsKHIpfX1mdW5jdGlvbiBkKGUpe3ZhciByLG47cmV0dXJuIHQuaXNEZWZpbmVkKHI9ZS50ZW1wbGF0ZSk/dC5pc0Z1bmN0aW9uKHIpJiYocj1yKGUucGFyYW1zKSk6dC5pc0RlZmluZWQobj1lLnRlbXBsYXRlVXJsKSYmKHQuaXNGdW5jdGlvbihuKSYmKG49bihlLnBhcmFtcykpLHQuaXNEZWZpbmVkKG4pJiYoZS5sb2FkZWRUZW1wbGF0ZVVybD1zLnZhbHVlT2Yobikscj11KG4pKSkscn1mdW5jdGlvbiBwKCl7dmFyIHIsbztyZXR1cm4gdC5mb3JFYWNoKG4sZnVuY3Rpb24obixpKXt2YXIgYztpZihjPSFvKXt2YXIgbD1hLnBhdGgoKTtjPW4ua2V5czt2YXIgdT17fTtpZihuLnJlZ2V4cClpZihsPW4ucmVnZXhwLmV4ZWMobCkpe2Zvcih2YXIgcz0xLGg9bC5sZW5ndGg7czxoOysrcyl7dmFyIGY9Y1tzLTFdLCQ9bFtzXTtmJiYkJiYodVtmLm5hbWVdPSQpfWM9dX1lbHNlIGM9bnVsbDtlbHNlIGM9bnVsbDtjPXI9Y31jJiYobz1lKG4se3BhcmFtczp0LmV4dGVuZCh7fSxhLnNlYXJjaCgpLHIpLHBhdGhQYXJhbXM6cn0pLG8uJCRyb3V0ZT1uKX0pLG98fG5bbnVsbF0mJmUobltudWxsXSx7cGFyYW1zOnt9LHBhdGhQYXJhbXM6e319KX1mdW5jdGlvbiB2KGUscil7dmFyIG49W107cmV0dXJuIHQuZm9yRWFjaCgoZXx8XCJcIikuc3BsaXQoXCI6XCIpLGZ1bmN0aW9uKGUsdCl7aWYoMD09PXQpbi5wdXNoKGUpO2Vsc2V7dmFyIGE9ZS5tYXRjaCgvKFxcdyspKD86Wz8qXSk/KC4qKS8pLG89YVsxXTtuLnB1c2gocltvXSksbi5wdXNoKGFbMl18fFwiXCIpLGRlbGV0ZSByW29dfX0pLG4uam9pbihcIlwiKX12YXIgbSxnLHc9ITEsUD17cm91dGVzOm4scmVsb2FkOmZ1bmN0aW9uKCl7dz0hMDt2YXIgZT17ZGVmYXVsdFByZXZlbnRlZDohMSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMCx3PSExfX07ci4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7aChlKSxlLmRlZmF1bHRQcmV2ZW50ZWR8fGYoKX0pfSx1cGRhdGVQYXJhbXM6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuY3VycmVudHx8IXRoaXMuY3VycmVudC4kJHJvdXRlKXRocm93IGMoXCJub3JvdXRcIik7ZT10LmV4dGVuZCh7fSx0aGlzLmN1cnJlbnQucGFyYW1zLGUpLGEucGF0aCh2KHRoaXMuY3VycmVudC4kJHJvdXRlLm9yaWdpbmFsUGF0aCxlKSksYS5zZWFyY2goZSl9fTtyZXR1cm4gci4kb24oXCIkbG9jYXRpb25DaGFuZ2VTdGFydFwiLGgpLHIuJG9uKFwiJGxvY2F0aW9uQ2hhbmdlU3VjY2Vzc1wiLGYpLFB9XX0pLGM9dC4kJG1pbkVycihcIm5nUm91dGVcIik7aS5wcm92aWRlcihcIiRyb3V0ZVBhcmFtc1wiLGZ1bmN0aW9uKCl7dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJue319fSksaS5kaXJlY3RpdmUoXCJuZ1ZpZXdcIixyKSxpLmRpcmVjdGl2ZShcIm5nVmlld1wiLG4pLHIuJGluamVjdD1bXCIkcm91dGVcIixcIiRhbmNob3JTY3JvbGxcIixcIiRhbmltYXRlXCJdLG4uJGluamVjdD1bXCIkY29tcGlsZVwiLFwiJGNvbnRyb2xsZXJcIixcIiRyb3V0ZVwiXX0od2luZG93LHdpbmRvdy5hbmd1bGFyKTtcbiFmdW5jdGlvbihlLHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZSgpOnQucmFuZ3k9ZSgpfShmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgbj10eXBlb2YgZVt0XTtyZXR1cm4gbj09Tnx8IShuIT1DfHwhZVt0XSl8fFwidW5rbm93blwiPT1ufWZ1bmN0aW9uIHQoZSx0KXtyZXR1cm4hKHR5cGVvZiBlW3RdIT1DfHwhZVt0XSl9ZnVuY3Rpb24gbihlLHQpe3JldHVybiB0eXBlb2YgZVt0XSE9RX1mdW5jdGlvbiByKGUpe3JldHVybiBmdW5jdGlvbih0LG4pe2Zvcih2YXIgcj1uLmxlbmd0aDtyLS07KWlmKCFlKHQsbltyXSkpcmV0dXJuITE7cmV0dXJuITB9fWZ1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJk8oZSxUKSYmRChlLHcpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIHQoZSxcImJvZHlcIik/ZS5ib2R5OmUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdfWZ1bmN0aW9uIGkodCl7dHlwZW9mIGNvbnNvbGUhPUUmJmUoY29uc29sZSxcImxvZ1wiKSYmY29uc29sZS5sb2codCl9ZnVuY3Rpb24gcyhlLHQpe2ImJnQ/YWxlcnQoZSk6aShlKX1mdW5jdGlvbiBjKGUpe1AuaW5pdGlhbGl6ZWQ9ITAsUC5zdXBwb3J0ZWQ9ITEscyhcIlJhbmd5IGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudC4gUmVhc29uOiBcIitlLFAuY29uZmlnLmFsZXJ0T25GYWlsKX1mdW5jdGlvbiBkKGUpe3MoXCJSYW5neSB3YXJuaW5nOiBcIitlLFAuY29uZmlnLmFsZXJ0T25XYXJuKX1mdW5jdGlvbiBmKGUpe3JldHVybiBlLm1lc3NhZ2V8fGUuZGVzY3JpcHRpb258fFN0cmluZyhlKX1mdW5jdGlvbiB1KCl7aWYoYiYmIVAuaW5pdGlhbGl6ZWQpe3ZhciB0LG49ITEscj0hMTtlKGRvY3VtZW50LFwiY3JlYXRlUmFuZ2VcIikmJih0PWRvY3VtZW50LmNyZWF0ZVJhbmdlKCksTyh0LHkpJiZEKHQsUykmJihuPSEwKSk7dmFyIHM9YShkb2N1bWVudCk7aWYoIXN8fFwiYm9keVwiIT1zLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuIHZvaWQgYyhcIk5vIGJvZHkgZWxlbWVudCBmb3VuZFwiKTtpZihzJiZlKHMsXCJjcmVhdGVUZXh0UmFuZ2VcIikmJih0PXMuY3JlYXRlVGV4dFJhbmdlKCksbyh0KSYmKHI9ITApKSwhbiYmIXIpcmV0dXJuIHZvaWQgYyhcIk5laXRoZXIgUmFuZ2Ugbm9yIFRleHRSYW5nZSBhcmUgYXZhaWxhYmxlXCIpO1AuaW5pdGlhbGl6ZWQ9ITAsUC5mZWF0dXJlcz17aW1wbGVtZW50c0RvbVJhbmdlOm4saW1wbGVtZW50c1RleHRSYW5nZTpyfTt2YXIgZCx1O2Zvcih2YXIgbCBpbiB4KShkPXhbbF0paW5zdGFuY2VvZiBwJiZkLmluaXQoZCxQKTtmb3IodmFyIGg9MCxnPUgubGVuZ3RoO2c+aDsrK2gpdHJ5e0hbaF0oUCl9Y2F0Y2goZSl7dT1cIlJhbmd5IGluaXQgbGlzdGVuZXIgdGhyZXcgYW4gZXhjZXB0aW9uLiBDb250aW51aW5nLiBEZXRhaWw6IFwiK2YoZSksaSh1KX19fWZ1bmN0aW9uIGwoZSx0LG4pe24mJihlKz1cIiBpbiBtb2R1bGUgXCIrbi5uYW1lKSxQLndhcm4oXCJERVBSRUNBVEVEOiBcIitlK1wiIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgXCIrdCtcIiBpbnN0ZWFkLlwiKX1mdW5jdGlvbiBoKGUsdCxuLHIpe2VbdF09ZnVuY3Rpb24oKXtyZXR1cm4gbCh0LG4sciksZVtuXS5hcHBseShlLEkudG9BcnJheShhcmd1bWVudHMpKX19ZnVuY3Rpb24gZyhlKXtlPWV8fHdpbmRvdyx1KCk7Zm9yKHZhciB0PTAsbj1rLmxlbmd0aDtuPnQ7Kyt0KWtbdF0oZSl9ZnVuY3Rpb24gcChlLHQsbil7dGhpcy5uYW1lPWUsdGhpcy5kZXBlbmRlbmNpZXM9dCx0aGlzLmluaXRpYWxpemVkPSExLHRoaXMuc3VwcG9ydGVkPSExLHRoaXMuaW5pdGlhbGl6ZXI9bn1mdW5jdGlvbiBtKGUsdCxuKXt2YXIgcj1uZXcgcChlLHQsZnVuY3Rpb24odCl7aWYoIXQuaW5pdGlhbGl6ZWQpe3QuaW5pdGlhbGl6ZWQ9ITA7dHJ5e24oUCx0KSx0LnN1cHBvcnRlZD0hMH1jYXRjaCh0KXt2YXIgcj1cIk1vZHVsZSAnXCIrZStcIicgZmFpbGVkIHRvIGxvYWQ6IFwiK2YodCk7aShyKSx0LnN0YWNrJiZpKHQuc3RhY2spfX19KTtyZXR1cm4geFtlXT1yLHJ9ZnVuY3Rpb24gdigpe31mdW5jdGlvbiBSKCl7fXZhciBDPVwib2JqZWN0XCIsTj1cImZ1bmN0aW9uXCIsRT1cInVuZGVmaW5lZFwiLFM9W1wic3RhcnRDb250YWluZXJcIixcInN0YXJ0T2Zmc2V0XCIsXCJlbmRDb250YWluZXJcIixcImVuZE9mZnNldFwiLFwiY29sbGFwc2VkXCIsXCJjb21tb25BbmNlc3RvckNvbnRhaW5lclwiXSx5PVtcInNldFN0YXJ0XCIsXCJzZXRTdGFydEJlZm9yZVwiLFwic2V0U3RhcnRBZnRlclwiLFwic2V0RW5kXCIsXCJzZXRFbmRCZWZvcmVcIixcInNldEVuZEFmdGVyXCIsXCJjb2xsYXBzZVwiLFwic2VsZWN0Tm9kZVwiLFwic2VsZWN0Tm9kZUNvbnRlbnRzXCIsXCJjb21wYXJlQm91bmRhcnlQb2ludHNcIixcImRlbGV0ZUNvbnRlbnRzXCIsXCJleHRyYWN0Q29udGVudHNcIixcImNsb25lQ29udGVudHNcIixcImluc2VydE5vZGVcIixcInN1cnJvdW5kQ29udGVudHNcIixcImNsb25lUmFuZ2VcIixcInRvU3RyaW5nXCIsXCJkZXRhY2hcIl0sdz1bXCJib3VuZGluZ0hlaWdodFwiLFwiYm91bmRpbmdMZWZ0XCIsXCJib3VuZGluZ1RvcFwiLFwiYm91bmRpbmdXaWR0aFwiLFwiaHRtbFRleHRcIixcInRleHRcIl0sVD1bXCJjb2xsYXBzZVwiLFwiY29tcGFyZUVuZFBvaW50c1wiLFwiZHVwbGljYXRlXCIsXCJtb3ZlVG9FbGVtZW50VGV4dFwiLFwicGFyZW50RWxlbWVudFwiLFwic2VsZWN0XCIsXCJzZXRFbmRQb2ludFwiLFwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0XCJdLE89cihlKSxfPXIodCksRD1yKG4pLEE9W10uZm9yRWFjaD9mdW5jdGlvbihlLHQpe2UuZm9yRWFjaCh0KX06ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO3I+bjsrK24pdChlW25dLG4pfSx4PXt9LGI9dHlwZW9mIHdpbmRvdyE9RSYmdHlwZW9mIGRvY3VtZW50IT1FLEk9e2lzSG9zdE1ldGhvZDplLGlzSG9zdE9iamVjdDp0LGlzSG9zdFByb3BlcnR5Om4sYXJlSG9zdE1ldGhvZHM6TyxhcmVIb3N0T2JqZWN0czpfLGFyZUhvc3RQcm9wZXJ0aWVzOkQsaXNUZXh0UmFuZ2U6byxnZXRCb2R5OmEsZm9yRWFjaDpBfSxQPXt2ZXJzaW9uOlwiMS4zLjBcIixpbml0aWFsaXplZDohMSxpc0Jyb3dzZXI6YixzdXBwb3J0ZWQ6ITAsdXRpbDpJLGZlYXR1cmVzOnt9LG1vZHVsZXM6eCxjb25maWc6e2FsZXJ0T25GYWlsOiExLGFsZXJ0T25XYXJuOiExLHByZWZlclRleHRSYW5nZTohMSxhdXRvSW5pdGlhbGl6ZTp0eXBlb2YgcmFuZ3lBdXRvSW5pdGlhbGl6ZT09RXx8cmFuZ3lBdXRvSW5pdGlhbGl6ZX19O1AuZmFpbD1jLFAud2Fybj1kO3ZhciBCOyh7fSkuaGFzT3duUHJvcGVydHk/KEkuZXh0ZW5kPUI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG87Zm9yKHZhciBhIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShhKSYmKHI9ZVthXSxvPXRbYV0sbiYmbnVsbCE9PXImJlwib2JqZWN0XCI9PXR5cGVvZiByJiZudWxsIT09byYmXCJvYmplY3RcIj09dHlwZW9mIG8mJkIocixvLCEwKSxlW2FdPW8pO3JldHVybiB0Lmhhc093blByb3BlcnR5KFwidG9TdHJpbmdcIikmJihlLnRvU3RyaW5nPXQudG9TdHJpbmcpLGV9LEkuY3JlYXRlT3B0aW9ucz1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybiBCKG4sdCksZSYmQihuLGUpLG59KTpjKFwiaGFzT3duUHJvcGVydHkgbm90IHN1cHBvcnRlZFwiKSxifHxjKFwiUmFuZ3kgY2FuIG9ubHkgcnVuIGluIGEgYnJvd3NlclwiKSxmdW5jdGlvbigpe3ZhciBlO2lmKGIpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSk7dmFyIG49W10uc2xpY2U7dHJ5ezE9PW4uY2FsbCh0LmNoaWxkTm9kZXMsMClbMF0ubm9kZVR5cGUmJihlPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSwwKX0pfWNhdGNoKGUpe319ZXx8KGU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MCxyPWUubGVuZ3RoO3I+bjsrK24pdFtuXT1lW25dO3JldHVybiB0fSksSS50b0FycmF5PWV9KCk7dmFyIE07YiYmKGUoZG9jdW1lbnQsXCJhZGRFdmVudExpc3RlbmVyXCIpP009ZnVuY3Rpb24oZSx0LG4pe2UuYWRkRXZlbnRMaXN0ZW5lcih0LG4sITEpfTplKGRvY3VtZW50LFwiYXR0YWNoRXZlbnRcIik/TT1mdW5jdGlvbihlLHQsbil7ZS5hdHRhY2hFdmVudChcIm9uXCIrdCxuKX06YyhcIkRvY3VtZW50IGRvZXMgbm90IGhhdmUgcmVxdWlyZWQgYWRkRXZlbnRMaXN0ZW5lciBvciBhdHRhY2hFdmVudCBtZXRob2RcIiksSS5hZGRMaXN0ZW5lcj1NKTt2YXIgSD1bXTtJLmRlcHJlY2F0aW9uTm90aWNlPWwsSS5jcmVhdGVBbGlhc0ZvckRlcHJlY2F0ZWRNZXRob2Q9aCxQLmluaXQ9dSxQLmFkZEluaXRMaXN0ZW5lcj1mdW5jdGlvbihlKXtQLmluaXRpYWxpemVkP2UoUCk6SC5wdXNoKGUpfTt2YXIgaz1bXTtQLmFkZFNoaW1MaXN0ZW5lcj1mdW5jdGlvbihlKXtrLnB1c2goZSl9LGImJihQLnNoaW09UC5jcmVhdGVNaXNzaW5nTmF0aXZlQXBpPWcsaChQLFwiY3JlYXRlTWlzc2luZ05hdGl2ZUFwaVwiLFwic2hpbVwiKSkscC5wcm90b3R5cGU9e2luaXQ6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdCxuPXRoaXMuZGVwZW5kZW5jaWVzfHxbXSxyPTAsbz1uLmxlbmd0aDtvPnI7KytyKXtpZih0PW5bcl0sZT14W3RdLCEoZSYmZSBpbnN0YW5jZW9mIHApKXRocm93IG5ldyBFcnJvcihcInJlcXVpcmVkIG1vZHVsZSAnXCIrdCtcIicgbm90IGZvdW5kXCIpO2lmKGUuaW5pdCgpLCFlLnN1cHBvcnRlZCl0aHJvdyBuZXcgRXJyb3IoXCJyZXF1aXJlZCBtb2R1bGUgJ1wiK3QrXCInIG5vdCBzdXBwb3J0ZWRcIil9dGhpcy5pbml0aWFsaXplcih0aGlzKX0sZmFpbDpmdW5jdGlvbihlKXt0aHJvdyB0aGlzLmluaXRpYWxpemVkPSEwLHRoaXMuc3VwcG9ydGVkPSExLG5ldyBFcnJvcihlKX0sd2FybjpmdW5jdGlvbihlKXtQLndhcm4oXCJNb2R1bGUgXCIrdGhpcy5uYW1lK1wiOiBcIitlKX0sZGVwcmVjYXRpb25Ob3RpY2U6ZnVuY3Rpb24oZSx0KXtQLndhcm4oXCJERVBSRUNBVEVEOiBcIitlK1wiIGluIG1vZHVsZSBcIit0aGlzLm5hbWUrXCIgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBcIit0K1wiIGluc3RlYWRcIil9LGNyZWF0ZUVycm9yOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRXJyb3IoXCJFcnJvciBpbiBSYW5neSBcIit0aGlzLm5hbWUrXCIgbW9kdWxlOiBcIitlKX19LFAuY3JlYXRlTW9kdWxlPWZ1bmN0aW9uKGUpe3ZhciB0LG47Mj09YXJndW1lbnRzLmxlbmd0aD8odD1hcmd1bWVudHNbMV0sbj1bXSk6KHQ9YXJndW1lbnRzWzJdLG49YXJndW1lbnRzWzFdKTt2YXIgcj1tKGUsbix0KTtQLmluaXRpYWxpemVkJiZQLnN1cHBvcnRlZCYmci5pbml0KCl9LFAuY3JlYXRlQ29yZU1vZHVsZT1mdW5jdGlvbihlLHQsbil7bShlLHQsbil9LFAuUmFuZ2VQcm90b3R5cGU9dixQLnJhbmdlUHJvdG90eXBlPW5ldyB2LFAuc2VsZWN0aW9uUHJvdG90eXBlPW5ldyBSLFAuY3JlYXRlQ29yZU1vZHVsZShcIkRvbVV0aWxcIixbXSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSl7dmFyIHQ7cmV0dXJuIHR5cGVvZiBlLm5hbWVzcGFjZVVSST09Ynx8bnVsbD09PSh0PWUubmFtZXNwYWNlVVJJKXx8XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI9PXR9ZnVuY3Rpb24gcihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIDE9PXQubm9kZVR5cGU/dDpudWxsfWZ1bmN0aW9uIG8oZSl7Zm9yKHZhciB0PTA7ZT1lLnByZXZpb3VzU2libGluZzspKyt0O3JldHVybiB0fWZ1bmN0aW9uIGEoZSl7c3dpdGNoKGUubm9kZVR5cGUpe2Nhc2UgNzpjYXNlIDEwOnJldHVybiAwO2Nhc2UgMzpjYXNlIDg6cmV0dXJuIGUubGVuZ3RoO2RlZmF1bHQ6cmV0dXJuIGUuY2hpbGROb2Rlcy5sZW5ndGh9fWZ1bmN0aW9uIGkoZSx0KXt2YXIgbixyPVtdO2ZvcihuPWU7bjtuPW4ucGFyZW50Tm9kZSlyLnB1c2gobik7Zm9yKG49dDtuO249bi5wYXJlbnROb2RlKWlmKEgocixuKSlyZXR1cm4gbjtyZXR1cm4gbnVsbH1mdW5jdGlvbiBzKGUsdCxuKXtmb3IodmFyIHI9bj90OnQucGFyZW50Tm9kZTtyOyl7aWYocj09PWUpcmV0dXJuITA7cj1yLnBhcmVudE5vZGV9cmV0dXJuITF9ZnVuY3Rpb24gYyhlLHQpe3JldHVybiBzKGUsdCwhMCl9ZnVuY3Rpb24gZChlLHQsbil7Zm9yKHZhciByLG89bj9lOmUucGFyZW50Tm9kZTtvOyl7aWYocj1vLnBhcmVudE5vZGUscj09PXQpcmV0dXJuIG87bz1yfXJldHVybiBudWxsfWZ1bmN0aW9uIGYoZSl7dmFyIHQ9ZS5ub2RlVHlwZTtyZXR1cm4gMz09dHx8ND09dHx8OD09dH1mdW5jdGlvbiB1KGUpe2lmKCFlKXJldHVybiExO3ZhciB0PWUubm9kZVR5cGU7cmV0dXJuIDM9PXR8fDg9PXR9ZnVuY3Rpb24gbChlLHQpe3ZhciBuPXQubmV4dFNpYmxpbmcscj10LnBhcmVudE5vZGU7cmV0dXJuIG4/ci5pbnNlcnRCZWZvcmUoZSxuKTpyLmFwcGVuZENoaWxkKGUpLGV9ZnVuY3Rpb24gaChlLHQsbil7dmFyIHI9ZS5jbG9uZU5vZGUoITEpO2lmKHIuZGVsZXRlRGF0YSgwLHQpLGUuZGVsZXRlRGF0YSh0LGUubGVuZ3RoLXQpLGwocixlKSxuKWZvcih2YXIgYSxpPTA7YT1uW2krK107KWEubm9kZT09ZSYmYS5vZmZzZXQ+dD8oYS5ub2RlPXIsYS5vZmZzZXQtPXQpOmEubm9kZT09ZS5wYXJlbnROb2RlJiZhLm9mZnNldD5vKGUpJiYrK2Eub2Zmc2V0O3JldHVybiByfWZ1bmN0aW9uIGcoZSl7aWYoOT09ZS5ub2RlVHlwZSlyZXR1cm4gZTtpZih0eXBlb2YgZS5vd25lckRvY3VtZW50IT1iKXJldHVybiBlLm93bmVyRG9jdW1lbnQ7aWYodHlwZW9mIGUuZG9jdW1lbnQhPWIpcmV0dXJuIGUuZG9jdW1lbnQ7aWYoZS5wYXJlbnROb2RlKXJldHVybiBnKGUucGFyZW50Tm9kZSk7dGhyb3cgdC5jcmVhdGVFcnJvcihcImdldERvY3VtZW50OiBubyBkb2N1bWVudCBmb3VuZCBmb3Igbm9kZVwiKX1mdW5jdGlvbiBwKGUpe3ZhciBuPWcoZSk7aWYodHlwZW9mIG4uZGVmYXVsdFZpZXchPWIpcmV0dXJuIG4uZGVmYXVsdFZpZXc7aWYodHlwZW9mIG4ucGFyZW50V2luZG93IT1iKXJldHVybiBuLnBhcmVudFdpbmRvdzt0aHJvdyB0LmNyZWF0ZUVycm9yKFwiQ2Fubm90IGdldCBhIHdpbmRvdyBvYmplY3QgZm9yIG5vZGVcIil9ZnVuY3Rpb24gbShlKXtpZih0eXBlb2YgZS5jb250ZW50RG9jdW1lbnQhPWIpcmV0dXJuIGUuY29udGVudERvY3VtZW50O2lmKHR5cGVvZiBlLmNvbnRlbnRXaW5kb3chPWIpcmV0dXJuIGUuY29udGVudFdpbmRvdy5kb2N1bWVudDt0aHJvdyB0LmNyZWF0ZUVycm9yKFwiZ2V0SWZyYW1lRG9jdW1lbnQ6IE5vIERvY3VtZW50IG9iamVjdCBmb3VuZCBmb3IgaWZyYW1lIGVsZW1lbnRcIil9ZnVuY3Rpb24gdihlKXtpZih0eXBlb2YgZS5jb250ZW50V2luZG93IT1iKXJldHVybiBlLmNvbnRlbnRXaW5kb3c7aWYodHlwZW9mIGUuY29udGVudERvY3VtZW50IT1iKXJldHVybiBlLmNvbnRlbnREb2N1bWVudC5kZWZhdWx0Vmlldzt0aHJvdyB0LmNyZWF0ZUVycm9yKFwiZ2V0SWZyYW1lV2luZG93OiBObyBXaW5kb3cgb2JqZWN0IGZvdW5kIGZvciBpZnJhbWUgZWxlbWVudFwiKX1mdW5jdGlvbiBSKGUpe3JldHVybiBlJiZJLmlzSG9zdE1ldGhvZChlLFwic2V0VGltZW91dFwiKSYmSS5pc0hvc3RPYmplY3QoZSxcImRvY3VtZW50XCIpfWZ1bmN0aW9uIEMoZSx0LG4pe3ZhciByO2lmKGU/SS5pc0hvc3RQcm9wZXJ0eShlLFwibm9kZVR5cGVcIik/cj0xPT1lLm5vZGVUeXBlJiZcImlmcmFtZVwiPT1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKT9tKGUpOmcoZSk6UihlKSYmKHI9ZS5kb2N1bWVudCk6cj1kb2N1bWVudCwhcil0aHJvdyB0LmNyZWF0ZUVycm9yKG4rXCIoKTogUGFyYW1ldGVyIG11c3QgYmUgYSBXaW5kb3cgb2JqZWN0IG9yIERPTSBub2RlXCIpO3JldHVybiByfWZ1bmN0aW9uIE4oZSl7Zm9yKHZhciB0O3Q9ZS5wYXJlbnROb2RlOyllPXQ7cmV0dXJuIGV9ZnVuY3Rpb24gRShlLG4scixhKXt2YXIgcyxjLGYsdSxsO2lmKGU9PXIpcmV0dXJuIG49PT1hPzA6YT5uPy0xOjE7aWYocz1kKHIsZSwhMCkpcmV0dXJuIG48PW8ocyk/LTE6MTtpZihzPWQoZSxyLCEwKSlyZXR1cm4gbyhzKTxhPy0xOjE7aWYoYz1pKGUsciksIWMpdGhyb3cgbmV3IEVycm9yKFwiY29tcGFyZVBvaW50cyBlcnJvcjogbm9kZXMgaGF2ZSBubyBjb21tb24gYW5jZXN0b3JcIik7aWYoZj1lPT09Yz9jOmQoZSxjLCEwKSx1PXI9PT1jP2M6ZChyLGMsITApLGY9PT11KXRocm93IHQuY3JlYXRlRXJyb3IoXCJjb21wYXJlUG9pbnRzIGdvdCB0byBjYXNlIDQgYW5kIGNoaWxkQSBhbmQgY2hpbGRCIGFyZSB0aGUgc2FtZSFcIik7Zm9yKGw9Yy5maXJzdENoaWxkO2w7KXtpZihsPT09ZilyZXR1cm4tMTtpZihsPT09dSlyZXR1cm4gMTtsPWwubmV4dFNpYmxpbmd9fWZ1bmN0aW9uIFMoZSl7dmFyIHQ7dHJ5e3JldHVybiB0PWUucGFyZW50Tm9kZSwhMX1jYXRjaChlKXtyZXR1cm4hMH19ZnVuY3Rpb24geShlKXtpZighZSlyZXR1cm5cIltObyBub2RlXVwiO2lmKGsmJlMoZSkpcmV0dXJuXCJbQnJva2VuIG5vZGVdXCI7aWYoZihlKSlyZXR1cm4nXCInK2UuZGF0YSsnXCInO2lmKDE9PWUubm9kZVR5cGUpe3ZhciB0PWUuaWQ/JyBpZD1cIicrZS5pZCsnXCInOlwiXCI7cmV0dXJuXCI8XCIrZS5ub2RlTmFtZSt0K1wiPltpbmRleDpcIitvKGUpK1wiLGxlbmd0aDpcIitlLmNoaWxkTm9kZXMubGVuZ3RoK1wiXVtcIisoZS5pbm5lckhUTUx8fFwiW2lubmVySFRNTCBub3Qgc3VwcG9ydGVkXVwiKS5zbGljZSgwLDI1KStcIl1cIn1yZXR1cm4gZS5ub2RlTmFtZX1mdW5jdGlvbiB3KGUpe2Zvcih2YXIgdCxuPWcoZSkuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3Q9ZS5maXJzdENoaWxkOyluLmFwcGVuZENoaWxkKHQpO3JldHVybiBufWZ1bmN0aW9uIFQoZSx0LG4pe3ZhciByPVAoZSksbz1lLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7by5jb250ZW50RWRpdGFibGU9XCJcIishIW4sdCYmKG8uaW5uZXJIVE1MPXQpO3ZhciBhPXIuZmlyc3RDaGlsZDtyZXR1cm4gYT9yLmluc2VydEJlZm9yZShvLGEpOnIuYXBwZW5kQ2hpbGQobyksb31mdW5jdGlvbiBPKGUpe3JldHVybiBlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9ZnVuY3Rpb24gXyhlKXt0aGlzLnJvb3Q9ZSx0aGlzLl9uZXh0PWV9ZnVuY3Rpb24gRChlKXtyZXR1cm4gbmV3IF8oZSl9ZnVuY3Rpb24gQShlLHQpe3RoaXMubm9kZT1lLHRoaXMub2Zmc2V0PXR9ZnVuY3Rpb24geChlKXt0aGlzLmNvZGU9dGhpc1tlXSx0aGlzLmNvZGVOYW1lPWUsdGhpcy5tZXNzYWdlPVwiRE9NRXhjZXB0aW9uOiBcIit0aGlzLmNvZGVOYW1lfXZhciBiPVwidW5kZWZpbmVkXCIsST1lLnV0aWwsUD1JLmdldEJvZHk7SS5hcmVIb3N0TWV0aG9kcyhkb2N1bWVudCxbXCJjcmVhdGVEb2N1bWVudEZyYWdtZW50XCIsXCJjcmVhdGVFbGVtZW50XCIsXCJjcmVhdGVUZXh0Tm9kZVwiXSl8fHQuZmFpbChcImRvY3VtZW50IG1pc3NpbmcgYSBOb2RlIGNyZWF0aW9uIG1ldGhvZFwiKSxJLmlzSG9zdE1ldGhvZChkb2N1bWVudCxcImdldEVsZW1lbnRzQnlUYWdOYW1lXCIpfHx0LmZhaWwoXCJkb2N1bWVudCBtaXNzaW5nIGdldEVsZW1lbnRzQnlUYWdOYW1lIG1ldGhvZFwiKTt2YXIgQj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO0kuYXJlSG9zdE1ldGhvZHMoQixbXCJpbnNlcnRCZWZvcmVcIixcImFwcGVuZENoaWxkXCIsXCJjbG9uZU5vZGVcIl18fCFJLmFyZUhvc3RPYmplY3RzKEIsW1wicHJldmlvdXNTaWJsaW5nXCIsXCJuZXh0U2libGluZ1wiLFwiY2hpbGROb2Rlc1wiLFwicGFyZW50Tm9kZVwiXSkpfHx0LmZhaWwoXCJJbmNvbXBsZXRlIEVsZW1lbnQgaW1wbGVtZW50YXRpb25cIiksSS5pc0hvc3RQcm9wZXJ0eShCLFwiaW5uZXJIVE1MXCIpfHx0LmZhaWwoXCJFbGVtZW50IGlzIG1pc3NpbmcgaW5uZXJIVE1MIHByb3BlcnR5XCIpO3ZhciBNPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwidGVzdFwiKTtJLmFyZUhvc3RNZXRob2RzKE0sW1wic3BsaXRUZXh0XCIsXCJkZWxldGVEYXRhXCIsXCJpbnNlcnREYXRhXCIsXCJhcHBlbmREYXRhXCIsXCJjbG9uZU5vZGVcIl18fCFJLmFyZUhvc3RPYmplY3RzKEIsW1wicHJldmlvdXNTaWJsaW5nXCIsXCJuZXh0U2libGluZ1wiLFwiY2hpbGROb2Rlc1wiLFwicGFyZW50Tm9kZVwiXSl8fCFJLmFyZUhvc3RQcm9wZXJ0aWVzKE0sW1wiZGF0YVwiXSkpfHx0LmZhaWwoXCJJbmNvbXBsZXRlIFRleHQgTm9kZSBpbXBsZW1lbnRhdGlvblwiKTt2YXIgSD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aDtuLS07KWlmKGVbbl09PT10KXJldHVybiEwO3JldHVybiExfSxrPSExOyFmdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiXCIpO3QuaW5uZXJIVE1MPVwiMVwiO3ZhciBuPXQuZmlyc3RDaGlsZDt0LmlubmVySFRNTD1cIjxiciAvPlwiLGs9UyhuKSxlLmZlYXR1cmVzLmNyYXNoeVRleHROb2Rlcz1rfSgpO3ZhciBMO3R5cGVvZiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSE9Yj9MPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHAoZSkuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpW3RdfTp0eXBlb2YgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmN1cnJlbnRTdHlsZSE9Yj9MPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY3VycmVudFN0eWxlP2UuY3VycmVudFN0eWxlW3RdOlwiXCJ9OnQuZmFpbChcIk5vIG1lYW5zIG9mIG9idGFpbmluZyBjb21wdXRlZCBzdHlsZSBwcm9wZXJ0aWVzIGZvdW5kXCIpLF8ucHJvdG90eXBlPXtfY3VycmVudDpudWxsLGhhc05leHQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX25leHR9LG5leHQ6ZnVuY3Rpb24oKXt2YXIgZSx0LG49dGhpcy5fY3VycmVudD10aGlzLl9uZXh0O2lmKHRoaXMuX2N1cnJlbnQpaWYoZT1uLmZpcnN0Q2hpbGQpdGhpcy5fbmV4dD1lO2Vsc2V7Zm9yKHQ9bnVsbDtuIT09dGhpcy5yb290JiYhKHQ9bi5uZXh0U2libGluZyk7KW49bi5wYXJlbnROb2RlO3RoaXMuX25leHQ9dH1yZXR1cm4gdGhpcy5fY3VycmVudH0sZGV0YWNoOmZ1bmN0aW9uKCl7dGhpcy5fY3VycmVudD10aGlzLl9uZXh0PXRoaXMucm9vdD1udWxsfX0sQS5wcm90b3R5cGU9e2VxdWFsczpmdW5jdGlvbihlKXtyZXR1cm4hIWUmJnRoaXMubm9kZT09PWUubm9kZSYmdGhpcy5vZmZzZXQ9PWUub2Zmc2V0fSxpbnNwZWN0OmZ1bmN0aW9uKCl7cmV0dXJuXCJbRG9tUG9zaXRpb24oXCIreSh0aGlzLm5vZGUpK1wiOlwiK3RoaXMub2Zmc2V0K1wiKV1cIn0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnNwZWN0KCl9fSx4LnByb3RvdHlwZT17SU5ERVhfU0laRV9FUlI6MSxISUVSQVJDSFlfUkVRVUVTVF9FUlI6MyxXUk9OR19ET0NVTUVOVF9FUlI6NCxOT19NT0RJRklDQVRJT05fQUxMT1dFRF9FUlI6NyxOT1RfRk9VTkRfRVJSOjgsTk9UX1NVUFBPUlRFRF9FUlI6OSxJTlZBTElEX1NUQVRFX0VSUjoxMSxJTlZBTElEX05PREVfVFlQRV9FUlI6MjR9LHgucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVzc2FnZX0sZS5kb209e2FycmF5Q29udGFpbnM6SCxpc0h0bWxOYW1lc3BhY2U6bixwYXJlbnRFbGVtZW50OnIsZ2V0Tm9kZUluZGV4Om8sZ2V0Tm9kZUxlbmd0aDphLGdldENvbW1vbkFuY2VzdG9yOmksaXNBbmNlc3Rvck9mOnMsaXNPcklzQW5jZXN0b3JPZjpjLGdldENsb3Nlc3RBbmNlc3RvckluOmQsaXNDaGFyYWN0ZXJEYXRhTm9kZTpmLGlzVGV4dE9yQ29tbWVudE5vZGU6dSxpbnNlcnRBZnRlcjpsLHNwbGl0RGF0YU5vZGU6aCxnZXREb2N1bWVudDpnLGdldFdpbmRvdzpwLGdldElmcmFtZVdpbmRvdzp2LGdldElmcmFtZURvY3VtZW50Om0sZ2V0Qm9keTpQLGlzV2luZG93OlIsZ2V0Q29udGVudERvY3VtZW50OkMsZ2V0Um9vdENvbnRhaW5lcjpOLGNvbXBhcmVQb2ludHM6RSxpc0Jyb2tlbk5vZGU6UyxpbnNwZWN0Tm9kZTp5LGdldENvbXB1dGVkU3R5bGVQcm9wZXJ0eTpMLGNyZWF0ZVRlc3RFbGVtZW50OlQscmVtb3ZlTm9kZTpPLGZyYWdtZW50RnJvbU5vZGVDaGlsZHJlbjp3LGNyZWF0ZUl0ZXJhdG9yOkQsRG9tUG9zaXRpb246QX0sZS5ET01FeGNlcHRpb249eH0pLFAuY3JlYXRlQ29yZU1vZHVsZShcIkRvbVJhbmdlXCIsW1wiRG9tVXRpbFwiXSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm4gMyE9ZS5ub2RlVHlwZSYmKGooZSx0LnN0YXJ0Q29udGFpbmVyKXx8aihlLHQuZW5kQ29udGFpbmVyKSl9ZnVuY3Rpb24gcihlKXtyZXR1cm4gZS5kb2N1bWVudHx8eihlLnN0YXJ0Q29udGFpbmVyKX1mdW5jdGlvbiBvKGUpe3JldHVybiBHKGUuc3RhcnRDb250YWluZXIpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIG5ldyBrKGUucGFyZW50Tm9kZSxGKGUpKX1mdW5jdGlvbiBpKGUpe3JldHVybiBuZXcgayhlLnBhcmVudE5vZGUsRihlKSsxKX1mdW5jdGlvbiBzKGUsdCxuKXt2YXIgcj0xMT09ZS5ub2RlVHlwZT9lLmZpcnN0Q2hpbGQ6ZTtyZXR1cm4gVyh0KT9uPT10Lmxlbmd0aD9NLmluc2VydEFmdGVyKGUsdCk6dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLDA9PW4/dDpVKHQsbikpOm4+PXQuY2hpbGROb2Rlcy5sZW5ndGg/dC5hcHBlbmRDaGlsZChlKTp0Lmluc2VydEJlZm9yZShlLHQuY2hpbGROb2Rlc1tuXSkscn1mdW5jdGlvbiBjKGUsdCxuKXtpZihUKGUpLFQodCkscih0KSE9cihlKSl0aHJvdyBuZXcgTChcIldST05HX0RPQ1VNRU5UX0VSUlwiKTt2YXIgbz1WKGUuc3RhcnRDb250YWluZXIsZS5zdGFydE9mZnNldCx0LmVuZENvbnRhaW5lcix0LmVuZE9mZnNldCksYT1WKGUuZW5kQ29udGFpbmVyLGUuZW5kT2Zmc2V0LHQuc3RhcnRDb250YWluZXIsdC5zdGFydE9mZnNldCk7cmV0dXJuIG4/MD49byYmYT49MDowPm8mJmE+MH1mdW5jdGlvbiBkKGUpe2Zvcih2YXIgdCxuLG8sYT1yKGUucmFuZ2UpLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtuPWUubmV4dCgpOyl7aWYodD1lLmlzUGFydGlhbGx5U2VsZWN0ZWRTdWJ0cmVlKCksbj1uLmNsb25lTm9kZSghdCksdCYmKG89ZS5nZXRTdWJ0cmVlSXRlcmF0b3IoKSxuLmFwcGVuZENoaWxkKGQobykpLG8uZGV0YWNoKCkpLDEwPT1uLm5vZGVUeXBlKXRocm93IG5ldyBMKFwiSElFUkFSQ0hZX1JFUVVFU1RfRVJSXCIpO2EuYXBwZW5kQ2hpbGQobil9cmV0dXJuIGF9ZnVuY3Rpb24gZihlLHQsbil7dmFyIHIsbztuPW58fHtzdG9wOiExfTtmb3IodmFyIGEsaTthPWUubmV4dCgpOylpZihlLmlzUGFydGlhbGx5U2VsZWN0ZWRTdWJ0cmVlKCkpe2lmKHQoYSk9PT0hMSlyZXR1cm4gdm9pZChuLnN0b3A9ITApO2lmKGk9ZS5nZXRTdWJ0cmVlSXRlcmF0b3IoKSxmKGksdCxuKSxpLmRldGFjaCgpLG4uc3RvcClyZXR1cm59ZWxzZSBmb3Iocj1NLmNyZWF0ZUl0ZXJhdG9yKGEpO289ci5uZXh0KCk7KWlmKHQobyk9PT0hMSlyZXR1cm4gdm9pZChuLnN0b3A9ITApfWZ1bmN0aW9uIHUoZSl7Zm9yKHZhciB0O2UubmV4dCgpOyllLmlzUGFydGlhbGx5U2VsZWN0ZWRTdWJ0cmVlKCk/KHQ9ZS5nZXRTdWJ0cmVlSXRlcmF0b3IoKSx1KHQpLHQuZGV0YWNoKCkpOmUucmVtb3ZlKCl9ZnVuY3Rpb24gbChlKXtmb3IodmFyIHQsbixvPXIoZS5yYW5nZSkuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3Q9ZS5uZXh0KCk7KXtpZihlLmlzUGFydGlhbGx5U2VsZWN0ZWRTdWJ0cmVlKCk/KHQ9dC5jbG9uZU5vZGUoITEpLG49ZS5nZXRTdWJ0cmVlSXRlcmF0b3IoKSx0LmFwcGVuZENoaWxkKGwobikpLG4uZGV0YWNoKCkpOmUucmVtb3ZlKCksMTA9PXQubm9kZVR5cGUpdGhyb3cgbmV3IEwoXCJISUVSQVJDSFlfUkVRVUVTVF9FUlJcIik7by5hcHBlbmRDaGlsZCh0KX1yZXR1cm4gb31mdW5jdGlvbiBoKGUsdCxuKXt2YXIgcixvPSEoIXR8fCF0Lmxlbmd0aCksYT0hIW47byYmKHI9bmV3IFJlZ0V4cChcIl4oXCIrdC5qb2luKFwifFwiKStcIikkXCIpKTt2YXIgaT1bXTtyZXR1cm4gZihuZXcgcChlLCghMSkpLGZ1bmN0aW9uKHQpe2lmKCEobyYmIXIudGVzdCh0Lm5vZGVUeXBlKXx8YSYmIW4odCkpKXt2YXIgcz1lLnN0YXJ0Q29udGFpbmVyO2lmKHQhPXN8fCFXKHMpfHxlLnN0YXJ0T2Zmc2V0IT1zLmxlbmd0aCl7dmFyIGM9ZS5lbmRDb250YWluZXI7dD09YyYmVyhjKSYmMD09ZS5lbmRPZmZzZXR8fGkucHVzaCh0KX19fSksaX1mdW5jdGlvbiBnKGUpe3ZhciB0PVwidW5kZWZpbmVkXCI9PXR5cGVvZiBlLmdldE5hbWU/XCJSYW5nZVwiOmUuZ2V0TmFtZSgpO3JldHVyblwiW1wiK3QrXCIoXCIrTS5pbnNwZWN0Tm9kZShlLnN0YXJ0Q29udGFpbmVyKStcIjpcIitlLnN0YXJ0T2Zmc2V0K1wiLCBcIitNLmluc3BlY3ROb2RlKGUuZW5kQ29udGFpbmVyKStcIjpcIitlLmVuZE9mZnNldCtcIildXCJ9ZnVuY3Rpb24gcChlLHQpe2lmKHRoaXMucmFuZ2U9ZSx0aGlzLmNsb25lUGFydGlhbGx5U2VsZWN0ZWRUZXh0Tm9kZXM9dCwhZS5jb2xsYXBzZWQpe3RoaXMuc2M9ZS5zdGFydENvbnRhaW5lcix0aGlzLnNvPWUuc3RhcnRPZmZzZXQsdGhpcy5lYz1lLmVuZENvbnRhaW5lcix0aGlzLmVvPWUuZW5kT2Zmc2V0O3ZhciBuPWUuY29tbW9uQW5jZXN0b3JDb250YWluZXI7dGhpcy5zYz09PXRoaXMuZWMmJlcodGhpcy5zYyk/KHRoaXMuaXNTaW5nbGVDaGFyYWN0ZXJEYXRhTm9kZT0hMCx0aGlzLl9maXJzdD10aGlzLl9sYXN0PXRoaXMuX25leHQ9dGhpcy5zYyk6KHRoaXMuX2ZpcnN0PXRoaXMuX25leHQ9dGhpcy5zYyE9PW58fFcodGhpcy5zYyk/cSh0aGlzLnNjLG4sITApOnRoaXMuc2MuY2hpbGROb2Rlc1t0aGlzLnNvXSx0aGlzLl9sYXN0PXRoaXMuZWMhPT1ufHxXKHRoaXMuZWMpP3EodGhpcy5lYyxuLCEwKTp0aGlzLmVjLmNoaWxkTm9kZXNbdGhpcy5lby0xXSl9fWZ1bmN0aW9uIG0oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7Zm9yKHZhciByLG89bj90OnQucGFyZW50Tm9kZTtvOyl7aWYocj1vLm5vZGVUeXBlLFEoZSxyKSlyZXR1cm4gbztvPW8ucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH19ZnVuY3Rpb24gdihlLHQpe2lmKG9lKGUsdCkpdGhyb3cgbmV3IEwoXCJJTlZBTElEX05PREVfVFlQRV9FUlJcIil9ZnVuY3Rpb24gUihlLHQpe2lmKCFRKHQsZS5ub2RlVHlwZSkpdGhyb3cgbmV3IEwoXCJJTlZBTElEX05PREVfVFlQRV9FUlJcIil9ZnVuY3Rpb24gQyhlLHQpe2lmKDA+dHx8dD4oVyhlKT9lLmxlbmd0aDplLmNoaWxkTm9kZXMubGVuZ3RoKSl0aHJvdyBuZXcgTChcIklOREVYX1NJWkVfRVJSXCIpfWZ1bmN0aW9uIE4oZSx0KXtpZihuZShlLCEwKSE9PW5lKHQsITApKXRocm93IG5ldyBMKFwiV1JPTkdfRE9DVU1FTlRfRVJSXCIpfWZ1bmN0aW9uIEUoZSl7aWYocmUoZSwhMCkpdGhyb3cgbmV3IEwoXCJOT19NT0RJRklDQVRJT05fQUxMT1dFRF9FUlJcIil9ZnVuY3Rpb24gUyhlLHQpe2lmKCFlKXRocm93IG5ldyBMKHQpfWZ1bmN0aW9uIHkoZSx0KXtyZXR1cm4gdDw9KFcoZSk/ZS5sZW5ndGg6ZS5jaGlsZE5vZGVzLmxlbmd0aCl9ZnVuY3Rpb24gdyhlKXtyZXR1cm4hIWUuc3RhcnRDb250YWluZXImJiEhZS5lbmRDb250YWluZXImJiEoWCYmKE0uaXNCcm9rZW5Ob2RlKGUuc3RhcnRDb250YWluZXIpfHxNLmlzQnJva2VuTm9kZShlLmVuZENvbnRhaW5lcikpKSYmRyhlLnN0YXJ0Q29udGFpbmVyKT09RyhlLmVuZENvbnRhaW5lcikmJnkoZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0KSYmeShlLmVuZENvbnRhaW5lcixlLmVuZE9mZnNldCl9ZnVuY3Rpb24gVChlKXtpZighdyhlKSl0aHJvdyBuZXcgRXJyb3IoXCJSYW5nZSBlcnJvcjogUmFuZ2UgaXMgbm90IHZhbGlkLiBUaGlzIHVzdWFsbHkgaGFwcGVucyBhZnRlciBET00gbXV0YXRpb24uIFJhbmdlOiAoXCIrZS5pbnNwZWN0KCkrXCIpXCIpfWZ1bmN0aW9uIE8oZSx0KXtUKGUpO3ZhciBuPWUuc3RhcnRDb250YWluZXIscj1lLnN0YXJ0T2Zmc2V0LG89ZS5lbmRDb250YWluZXIsYT1lLmVuZE9mZnNldCxpPW49PT1vO1cobykmJmE+MCYmYTxvLmxlbmd0aCYmVShvLGEsdCksVyhuKSYmcj4wJiZyPG4ubGVuZ3RoJiYobj1VKG4scix0KSxpPyhhLT1yLG89bik6bz09bi5wYXJlbnROb2RlJiZhPj1GKG4pJiZhKysscj0wKSxlLnNldFN0YXJ0QW5kRW5kKG4scixvLGEpfWZ1bmN0aW9uIF8oZSl7VChlKTt2YXIgdD1lLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyLnBhcmVudE5vZGUuY2xvbmVOb2RlKCExKTtyZXR1cm4gdC5hcHBlbmRDaGlsZChlLmNsb25lQ29udGVudHMoKSksdC5pbm5lckhUTUx9ZnVuY3Rpb24gRChlKXtlLlNUQVJUX1RPX1NUQVJUPWRlLGUuU1RBUlRfVE9fRU5EPWZlLGUuRU5EX1RPX0VORD11ZSxlLkVORF9UT19TVEFSVD1sZSxlLk5PREVfQkVGT1JFPWhlLGUuTk9ERV9BRlRFUj1nZSxlLk5PREVfQkVGT1JFX0FORF9BRlRFUj1wZSxlLk5PREVfSU5TSURFPW1lfWZ1bmN0aW9uIEEoZSl7RChlKSxEKGUucHJvdG90eXBlKX1mdW5jdGlvbiB4KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7VCh0aGlzKTt2YXIgbixyLG89dGhpcy5zdGFydENvbnRhaW5lcixhPXRoaXMuc3RhcnRPZmZzZXQscz10aGlzLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyLGM9bmV3IHAodGhpcywoITApKTtvIT09cyYmKG49cShvLHMsITApLHI9aShuKSxvPXIubm9kZSxhPXIub2Zmc2V0KSxmKGMsRSksYy5yZXNldCgpO3ZhciBkPWUoYyk7cmV0dXJuIGMuZGV0YWNoKCksdCh0aGlzLG8sYSxvLGEpLGR9fWZ1bmN0aW9uIGIodCxyKXtmdW5jdGlvbiBvKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4pe1IobiwkKSxSKEcobiksSik7dmFyIHI9KGU/YTppKShuKTsodD9zOmMpKHRoaXMsci5ub2RlLHIub2Zmc2V0KX19ZnVuY3Rpb24gcyhlLHQsbil7dmFyIG89ZS5lbmRDb250YWluZXIsYT1lLmVuZE9mZnNldDsodCE9PWUuc3RhcnRDb250YWluZXJ8fG4hPT1lLnN0YXJ0T2Zmc2V0KSYmKChHKHQpIT1HKG8pfHwxPT1WKHQsbixvLGEpKSYmKG89dCxhPW4pLHIoZSx0LG4sbyxhKSl9ZnVuY3Rpb24gYyhlLHQsbil7dmFyIG89ZS5zdGFydENvbnRhaW5lcixhPWUuc3RhcnRPZmZzZXQ7KHQhPT1lLmVuZENvbnRhaW5lcnx8biE9PWUuZW5kT2Zmc2V0KSYmKChHKHQpIT1HKG8pfHwtMT09Vih0LG4sbyxhKSkmJihvPXQsYT1uKSxyKGUsbyxhLHQsbikpfXZhciBkPWZ1bmN0aW9uKCl7fTtkLnByb3RvdHlwZT1lLnJhbmdlUHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBkLEguZXh0ZW5kKHQucHJvdG90eXBlLHtzZXRTdGFydDpmdW5jdGlvbihlLHQpe3YoZSwhMCksQyhlLHQpLHModGhpcyxlLHQpfSxzZXRFbmQ6ZnVuY3Rpb24oZSx0KXt2KGUsITApLEMoZSx0KSxjKHRoaXMsZSx0KX0sc2V0U3RhcnRBbmRFbmQ6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMsdD1lWzBdLG49ZVsxXSxvPXQsYT1uO3N3aXRjaChlLmxlbmd0aCl7Y2FzZSAzOmE9ZVsyXTticmVhaztjYXNlIDQ6bz1lWzJdLGE9ZVszXX1yKHRoaXMsdCxuLG8sYSl9LHNldEJvdW5kYXJ5OmZ1bmN0aW9uKGUsdCxuKXt0aGlzW1wic2V0XCIrKG4/XCJTdGFydFwiOlwiRW5kXCIpXShlLHQpfSxzZXRTdGFydEJlZm9yZTpvKCEwLCEwKSxzZXRTdGFydEFmdGVyOm8oITEsITApLHNldEVuZEJlZm9yZTpvKCEwLCExKSxzZXRFbmRBZnRlcjpvKCExLCExKSxjb2xsYXBzZTpmdW5jdGlvbihlKXtUKHRoaXMpLGU/cih0aGlzLHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5zdGFydE9mZnNldCx0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMuc3RhcnRPZmZzZXQpOnIodGhpcyx0aGlzLmVuZENvbnRhaW5lcix0aGlzLmVuZE9mZnNldCx0aGlzLmVuZENvbnRhaW5lcix0aGlzLmVuZE9mZnNldCl9LHNlbGVjdE5vZGVDb250ZW50czpmdW5jdGlvbihlKXt2KGUsITApLHIodGhpcyxlLDAsZSxZKGUpKX0sc2VsZWN0Tm9kZTpmdW5jdGlvbihlKXt2KGUsITEpLFIoZSwkKTt2YXIgdD1hKGUpLG49aShlKTtyKHRoaXMsdC5ub2RlLHQub2Zmc2V0LG4ubm9kZSxuLm9mZnNldCl9LGV4dHJhY3RDb250ZW50czp4KGwsciksZGVsZXRlQ29udGVudHM6eCh1LHIpLGNhblN1cnJvdW5kQ29udGVudHM6ZnVuY3Rpb24oKXtUKHRoaXMpLEUodGhpcy5zdGFydENvbnRhaW5lciksRSh0aGlzLmVuZENvbnRhaW5lcik7dmFyIGU9bmV3IHAodGhpcywoITApKSx0PWUuX2ZpcnN0JiZuKGUuX2ZpcnN0LHRoaXMpfHxlLl9sYXN0JiZuKGUuX2xhc3QsdGhpcyk7cmV0dXJuIGUuZGV0YWNoKCksIXR9LHNwbGl0Qm91bmRhcmllczpmdW5jdGlvbigpe08odGhpcyl9LHNwbGl0Qm91bmRhcmllc1ByZXNlcnZpbmdQb3NpdGlvbnM6ZnVuY3Rpb24oZSl7Tyh0aGlzLGUpfSxub3JtYWxpemVCb3VuZGFyaWVzOmZ1bmN0aW9uKCl7VCh0aGlzKTt2YXIgZSx0PXRoaXMuc3RhcnRDb250YWluZXIsbj10aGlzLnN0YXJ0T2Zmc2V0LG89dGhpcy5lbmRDb250YWluZXIsYT10aGlzLmVuZE9mZnNldCxpPWZ1bmN0aW9uKGUpe3ZhciB0PWUubmV4dFNpYmxpbmc7dCYmdC5ub2RlVHlwZT09ZS5ub2RlVHlwZSYmKG89ZSxhPWUubGVuZ3RoLGUuYXBwZW5kRGF0YSh0LmRhdGEpLFoodCkpfSxzPWZ1bmN0aW9uKGUpe3ZhciByPWUucHJldmlvdXNTaWJsaW5nO2lmKHImJnIubm9kZVR5cGU9PWUubm9kZVR5cGUpe3Q9ZTt2YXIgaT1lLmxlbmd0aDtpZihuPXIubGVuZ3RoLGUuaW5zZXJ0RGF0YSgwLHIuZGF0YSksWihyKSx0PT1vKWErPW4sbz10O2Vsc2UgaWYobz09ZS5wYXJlbnROb2RlKXt2YXIgcz1GKGUpO2E9PXM/KG89ZSxhPWkpOmE+cyYmYS0tfX19LGM9ITA7aWYoVyhvKSlhPT1vLmxlbmd0aD9pKG8pOjA9PWEmJihlPW8ucHJldmlvdXNTaWJsaW5nLGUmJmUubm9kZVR5cGU9PW8ubm9kZVR5cGUmJihhPWUubGVuZ3RoLHQ9PW8mJihjPSExKSxlLmFwcGVuZERhdGEoby5kYXRhKSxaKG8pLG89ZSkpO2Vsc2V7aWYoYT4wKXt2YXIgZD1vLmNoaWxkTm9kZXNbYS0xXTtkJiZXKGQpJiZpKGQpfWM9IXRoaXMuY29sbGFwc2VkfWlmKGMpe2lmKFcodCkpMD09bj9zKHQpOm49PXQubGVuZ3RoJiYoZT10Lm5leHRTaWJsaW5nLGUmJmUubm9kZVR5cGU9PXQubm9kZVR5cGUmJihvPT1lJiYobz10LGErPXQubGVuZ3RoKSx0LmFwcGVuZERhdGEoZS5kYXRhKSxaKGUpKSk7ZWxzZSBpZihuPHQuY2hpbGROb2Rlcy5sZW5ndGgpe3ZhciBmPXQuY2hpbGROb2Rlc1tuXTtmJiZXKGYpJiZzKGYpfX1lbHNlIHQ9byxuPWE7cih0aGlzLHQsbixvLGEpfSxjb2xsYXBzZVRvUG9pbnQ6ZnVuY3Rpb24oZSx0KXt2KGUsITApLEMoZSx0KSx0aGlzLnNldFN0YXJ0QW5kRW5kKGUsdCl9fSksQSh0KX1mdW5jdGlvbiBJKGUpe2UuY29sbGFwc2VkPWUuc3RhcnRDb250YWluZXI9PT1lLmVuZENvbnRhaW5lciYmZS5zdGFydE9mZnNldD09PWUuZW5kT2Zmc2V0LGUuY29tbW9uQW5jZXN0b3JDb250YWluZXI9ZS5jb2xsYXBzZWQ/ZS5zdGFydENvbnRhaW5lcjpNLmdldENvbW1vbkFuY2VzdG9yKGUuc3RhcnRDb250YWluZXIsZS5lbmRDb250YWluZXIpfWZ1bmN0aW9uIFAoZSx0LG4scixvKXtlLnN0YXJ0Q29udGFpbmVyPXQsZS5zdGFydE9mZnNldD1uLGUuZW5kQ29udGFpbmVyPXIsZS5lbmRPZmZzZXQ9byxlLmRvY3VtZW50PU0uZ2V0RG9jdW1lbnQodCksSShlKX1mdW5jdGlvbiBCKGUpe3RoaXMuc3RhcnRDb250YWluZXI9ZSx0aGlzLnN0YXJ0T2Zmc2V0PTAsdGhpcy5lbmRDb250YWluZXI9ZSx0aGlzLmVuZE9mZnNldD0wLHRoaXMuZG9jdW1lbnQ9ZSxJKHRoaXMpfXZhciBNPWUuZG9tLEg9ZS51dGlsLGs9TS5Eb21Qb3NpdGlvbixMPWUuRE9NRXhjZXB0aW9uLFc9TS5pc0NoYXJhY3RlckRhdGFOb2RlLEY9TS5nZXROb2RlSW5kZXgsaj1NLmlzT3JJc0FuY2VzdG9yT2Ysej1NLmdldERvY3VtZW50LFY9TS5jb21wYXJlUG9pbnRzLFU9TS5zcGxpdERhdGFOb2RlLHE9TS5nZXRDbG9zZXN0QW5jZXN0b3JJbixZPU0uZ2V0Tm9kZUxlbmd0aCxRPU0uYXJyYXlDb250YWlucyxHPU0uZ2V0Um9vdENvbnRhaW5lcixYPWUuZmVhdHVyZXMuY3Jhc2h5VGV4dE5vZGVzLFo9TS5yZW1vdmVOb2RlO3AucHJvdG90eXBlPXtfY3VycmVudDpudWxsLF9uZXh0Om51bGwsX2ZpcnN0Om51bGwsX2xhc3Q6bnVsbCxpc1NpbmdsZUNoYXJhY3RlckRhdGFOb2RlOiExLHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fY3VycmVudD1udWxsLHRoaXMuX25leHQ9dGhpcy5fZmlyc3R9LGhhc05leHQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX25leHR9LG5leHQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9jdXJyZW50PXRoaXMuX25leHQ7cmV0dXJuIGUmJih0aGlzLl9uZXh0PWUhPT10aGlzLl9sYXN0P2UubmV4dFNpYmxpbmc6bnVsbCxXKGUpJiZ0aGlzLmNsb25lUGFydGlhbGx5U2VsZWN0ZWRUZXh0Tm9kZXMmJihlPT09dGhpcy5lYyYmKGU9ZS5jbG9uZU5vZGUoITApKS5kZWxldGVEYXRhKHRoaXMuZW8sZS5sZW5ndGgtdGhpcy5lbyksdGhpcy5fY3VycmVudD09PXRoaXMuc2MmJihlPWUuY2xvbmVOb2RlKCEwKSkuZGVsZXRlRGF0YSgwLHRoaXMuc28pKSksZX0scmVtb3ZlOmZ1bmN0aW9uKCl7dmFyIGUsdCxuPXRoaXMuX2N1cnJlbnQ7IVcobil8fG4hPT10aGlzLnNjJiZuIT09dGhpcy5lYz9uLnBhcmVudE5vZGUmJloobik6KGU9bj09PXRoaXMuc2M/dGhpcy5zbzowLHQ9bj09PXRoaXMuZWM/dGhpcy5lbzpuLmxlbmd0aCxlIT10JiZuLmRlbGV0ZURhdGEoZSx0LWUpKX0saXNQYXJ0aWFsbHlTZWxlY3RlZFN1YnRyZWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9jdXJyZW50O3JldHVybiBuKGUsdGhpcy5yYW5nZSl9LGdldFN1YnRyZWVJdGVyYXRvcjpmdW5jdGlvbigpe3ZhciBlO2lmKHRoaXMuaXNTaW5nbGVDaGFyYWN0ZXJEYXRhTm9kZSllPXRoaXMucmFuZ2UuY2xvbmVSYW5nZSgpLGUuY29sbGFwc2UoITEpO2Vsc2V7ZT1uZXcgQihyKHRoaXMucmFuZ2UpKTt2YXIgdD10aGlzLl9jdXJyZW50LG49dCxvPTAsYT10LGk9WSh0KTtqKHQsdGhpcy5zYykmJihuPXRoaXMuc2Msbz10aGlzLnNvKSxqKHQsdGhpcy5lYykmJihhPXRoaXMuZWMsaT10aGlzLmVvKSxQKGUsbixvLGEsaSl9cmV0dXJuIG5ldyBwKGUsdGhpcy5jbG9uZVBhcnRpYWxseVNlbGVjdGVkVGV4dE5vZGVzKX0sZGV0YWNoOmZ1bmN0aW9uKCl7dGhpcy5yYW5nZT10aGlzLl9jdXJyZW50PXRoaXMuX25leHQ9dGhpcy5fZmlyc3Q9dGhpcy5fbGFzdD10aGlzLnNjPXRoaXMuc289dGhpcy5lYz10aGlzLmVvPW51bGx9fTt2YXIgJD1bMSwzLDQsNSw3LDgsMTBdLEo9WzIsOSwxMV0sSz1bNSw2LDEwLDEyXSxlZT1bMSwzLDQsNSw3LDgsMTAsMTFdLHRlPVsxLDMsNCw1LDcsOF0sbmU9bShbOSwxMV0pLHJlPW0oSyksb2U9bShbNiwxMCwxMl0pLGFlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSxpZT0hMTt0cnl7YWUuaW5uZXJIVE1MPVwiPGI+eDwvYj5cIixpZT0zPT1hZS5maXJzdENoaWxkLm5vZGVUeXBlfWNhdGNoKGUpe31lLmZlYXR1cmVzLmh0bWxQYXJzaW5nQ29uZm9ybXM9aWU7dmFyIHNlPWllP2Z1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc3RhcnRDb250YWluZXIsbj16KHQpO2lmKCF0KXRocm93IG5ldyBMKFwiSU5WQUxJRF9TVEFURV9FUlJcIik7dmFyIHI9bnVsbDtyZXR1cm4gMT09dC5ub2RlVHlwZT9yPXQ6Vyh0KSYmKHI9TS5wYXJlbnRFbGVtZW50KHQpKSxyPW51bGw9PT1yfHxcIkhUTUxcIj09ci5ub2RlTmFtZSYmTS5pc0h0bWxOYW1lc3BhY2UoeihyKS5kb2N1bWVudEVsZW1lbnQpJiZNLmlzSHRtbE5hbWVzcGFjZShyKT9uLmNyZWF0ZUVsZW1lbnQoXCJib2R5XCIpOnIuY2xvbmVOb2RlKCExKSxyLmlubmVySFRNTD1lLE0uZnJhZ21lbnRGcm9tTm9kZUNoaWxkcmVuKHIpfTpmdW5jdGlvbihlKXt2YXIgdD1yKHRoaXMpLG49dC5jcmVhdGVFbGVtZW50KFwiYm9keVwiKTtyZXR1cm4gbi5pbm5lckhUTUw9ZSxNLmZyYWdtZW50RnJvbU5vZGVDaGlsZHJlbihuKX0sY2U9W1wic3RhcnRDb250YWluZXJcIixcInN0YXJ0T2Zmc2V0XCIsXCJlbmRDb250YWluZXJcIixcImVuZE9mZnNldFwiLFwiY29sbGFwc2VkXCIsXCJjb21tb25BbmNlc3RvckNvbnRhaW5lclwiXSxkZT0wLGZlPTEsdWU9MixsZT0zLGhlPTAsZ2U9MSxwZT0yLG1lPTM7SC5leHRlbmQoZS5yYW5nZVByb3RvdHlwZSx7Y29tcGFyZUJvdW5kYXJ5UG9pbnRzOmZ1bmN0aW9uKGUsdCl7VCh0aGlzKSxOKHRoaXMuc3RhcnRDb250YWluZXIsdC5zdGFydENvbnRhaW5lcik7dmFyIG4scixvLGEsaT1lPT1sZXx8ZT09ZGU/XCJzdGFydFwiOlwiZW5kXCIscz1lPT1mZXx8ZT09ZGU/XCJzdGFydFwiOlwiZW5kXCI7cmV0dXJuIG49dGhpc1tpK1wiQ29udGFpbmVyXCJdLHI9dGhpc1tpK1wiT2Zmc2V0XCJdLG89dFtzK1wiQ29udGFpbmVyXCJdLGE9dFtzK1wiT2Zmc2V0XCJdLFYobixyLG8sYSl9LGluc2VydE5vZGU6ZnVuY3Rpb24oZSl7aWYoVCh0aGlzKSxSKGUsZWUpLEUodGhpcy5zdGFydENvbnRhaW5lciksaihlLHRoaXMuc3RhcnRDb250YWluZXIpKXRocm93IG5ldyBMKFwiSElFUkFSQ0hZX1JFUVVFU1RfRVJSXCIpO3ZhciB0PXMoZSx0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMuc3RhcnRPZmZzZXQpO3RoaXMuc2V0U3RhcnRCZWZvcmUodCl9LGNsb25lQ29udGVudHM6ZnVuY3Rpb24oKXtUKHRoaXMpO3ZhciBlLHQ7aWYodGhpcy5jb2xsYXBzZWQpcmV0dXJuIHIodGhpcykuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2lmKHRoaXMuc3RhcnRDb250YWluZXI9PT10aGlzLmVuZENvbnRhaW5lciYmVyh0aGlzLnN0YXJ0Q29udGFpbmVyKSlyZXR1cm4gZT10aGlzLnN0YXJ0Q29udGFpbmVyLmNsb25lTm9kZSghMCksZS5kYXRhPWUuZGF0YS5zbGljZSh0aGlzLnN0YXJ0T2Zmc2V0LHRoaXMuZW5kT2Zmc2V0KSx0PXIodGhpcykuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHQuYXBwZW5kQ2hpbGQoZSksdDt2YXIgbj1uZXcgcCh0aGlzLCghMCkpO3JldHVybiBlPWQobiksbi5kZXRhY2goKSxlfSxjYW5TdXJyb3VuZENvbnRlbnRzOmZ1bmN0aW9uKCl7VCh0aGlzKSxFKHRoaXMuc3RhcnRDb250YWluZXIpLEUodGhpcy5lbmRDb250YWluZXIpO3ZhciBlPW5ldyBwKHRoaXMsKCEwKSksdD1lLl9maXJzdCYmbihlLl9maXJzdCx0aGlzKXx8ZS5fbGFzdCYmbihlLl9sYXN0LHRoaXMpO3JldHVybiBlLmRldGFjaCgpLCF0fSxzdXJyb3VuZENvbnRlbnRzOmZ1bmN0aW9uKGUpe2lmKFIoZSx0ZSksIXRoaXMuY2FuU3Vycm91bmRDb250ZW50cygpKXRocm93IG5ldyBMKFwiSU5WQUxJRF9TVEFURV9FUlJcIik7dmFyIHQ9dGhpcy5leHRyYWN0Q29udGVudHMoKTtpZihlLmhhc0NoaWxkTm9kZXMoKSlmb3IoO2UubGFzdENoaWxkOyllLnJlbW92ZUNoaWxkKGUubGFzdENoaWxkKTtzKGUsdGhpcy5zdGFydENvbnRhaW5lcix0aGlzLnN0YXJ0T2Zmc2V0KSxlLmFwcGVuZENoaWxkKHQpLHRoaXMuc2VsZWN0Tm9kZShlKX0sY2xvbmVSYW5nZTpmdW5jdGlvbigpe1QodGhpcyk7Zm9yKHZhciBlLHQ9bmV3IEIocih0aGlzKSksbj1jZS5sZW5ndGg7bi0tOyllPWNlW25dLHRbZV09dGhpc1tlXTtyZXR1cm4gdH0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtUKHRoaXMpO3ZhciBlPXRoaXMuc3RhcnRDb250YWluZXI7aWYoZT09PXRoaXMuZW5kQ29udGFpbmVyJiZXKGUpKXJldHVybiAzPT1lLm5vZGVUeXBlfHw0PT1lLm5vZGVUeXBlP2UuZGF0YS5zbGljZSh0aGlzLnN0YXJ0T2Zmc2V0LHRoaXMuZW5kT2Zmc2V0KTpcIlwiO3ZhciB0PVtdLG49bmV3IHAodGhpcywoITApKTtyZXR1cm4gZihuLGZ1bmN0aW9uKGUpeygzPT1lLm5vZGVUeXBlfHw0PT1lLm5vZGVUeXBlKSYmdC5wdXNoKGUuZGF0YSl9KSxuLmRldGFjaCgpLHQuam9pbihcIlwiKX0sY29tcGFyZU5vZGU6ZnVuY3Rpb24oZSl7VCh0aGlzKTt2YXIgdD1lLnBhcmVudE5vZGUsbj1GKGUpO2lmKCF0KXRocm93IG5ldyBMKFwiTk9UX0ZPVU5EX0VSUlwiKTt2YXIgcj10aGlzLmNvbXBhcmVQb2ludCh0LG4pLG89dGhpcy5jb21wYXJlUG9pbnQodCxuKzEpO3JldHVybiAwPnI/bz4wP3BlOmhlOm8+MD9nZTptZX0sY29tcGFyZVBvaW50OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIFQodGhpcyksUyhlLFwiSElFUkFSQ0hZX1JFUVVFU1RfRVJSXCIpLE4oZSx0aGlzLnN0YXJ0Q29udGFpbmVyKSxWKGUsdCx0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMuc3RhcnRPZmZzZXQpPDA/LTE6VihlLHQsdGhpcy5lbmRDb250YWluZXIsdGhpcy5lbmRPZmZzZXQpPjA/MTowfSxjcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQ6c2UsdG9IdG1sOmZ1bmN0aW9uKCl7cmV0dXJuIF8odGhpcyl9LGludGVyc2VjdHNOb2RlOmZ1bmN0aW9uKGUsdCl7aWYoVCh0aGlzKSxHKGUpIT1vKHRoaXMpKXJldHVybiExO3ZhciBuPWUucGFyZW50Tm9kZSxyPUYoZSk7aWYoIW4pcmV0dXJuITA7dmFyIGE9VihuLHIsdGhpcy5lbmRDb250YWluZXIsdGhpcy5lbmRPZmZzZXQpLGk9VihuLHIrMSx0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMuc3RhcnRPZmZzZXQpO3JldHVybiB0PzA+PWEmJmk+PTA6MD5hJiZpPjB9LGlzUG9pbnRJblJhbmdlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIFQodGhpcyksUyhlLFwiSElFUkFSQ0hZX1JFUVVFU1RfRVJSXCIpLE4oZSx0aGlzLnN0YXJ0Q29udGFpbmVyKSxWKGUsdCx0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMuc3RhcnRPZmZzZXQpPj0wJiZWKGUsdCx0aGlzLmVuZENvbnRhaW5lcix0aGlzLmVuZE9mZnNldCk8PTB9LGludGVyc2VjdHNSYW5nZTpmdW5jdGlvbihlKXtyZXR1cm4gYyh0aGlzLGUsITEpfSxpbnRlcnNlY3RzT3JUb3VjaGVzUmFuZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGModGhpcyxlLCEwKX0saW50ZXJzZWN0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuaW50ZXJzZWN0c1JhbmdlKGUpKXt2YXIgdD1WKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5zdGFydE9mZnNldCxlLnN0YXJ0Q29udGFpbmVyLGUuc3RhcnRPZmZzZXQpLG49Vih0aGlzLmVuZENvbnRhaW5lcix0aGlzLmVuZE9mZnNldCxlLmVuZENvbnRhaW5lcixlLmVuZE9mZnNldCkscj10aGlzLmNsb25lUmFuZ2UoKTtyZXR1cm4tMT09dCYmci5zZXRTdGFydChlLnN0YXJ0Q29udGFpbmVyLGUuc3RhcnRPZmZzZXQpLDE9PW4mJnIuc2V0RW5kKGUuZW5kQ29udGFpbmVyLGUuZW5kT2Zmc2V0KSxyfXJldHVybiBudWxsfSx1bmlvbjpmdW5jdGlvbihlKXtpZih0aGlzLmludGVyc2VjdHNPclRvdWNoZXNSYW5nZShlKSl7dmFyIHQ9dGhpcy5jbG9uZVJhbmdlKCk7cmV0dXJuLTE9PVYoZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0LHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5zdGFydE9mZnNldCkmJnQuc2V0U3RhcnQoZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0KSwxPT1WKGUuZW5kQ29udGFpbmVyLGUuZW5kT2Zmc2V0LHRoaXMuZW5kQ29udGFpbmVyLHRoaXMuZW5kT2Zmc2V0KSYmdC5zZXRFbmQoZS5lbmRDb250YWluZXIsZS5lbmRPZmZzZXQpLHR9dGhyb3cgbmV3IEwoXCJSYW5nZXMgZG8gbm90IGludGVyc2VjdFwiKX0sY29udGFpbnNOb2RlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/dGhpcy5pbnRlcnNlY3RzTm9kZShlLCExKTp0aGlzLmNvbXBhcmVOb2RlKGUpPT1tZX0sY29udGFpbnNOb2RlQ29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29tcGFyZVBvaW50KGUsMCk+PTAmJnRoaXMuY29tcGFyZVBvaW50KGUsWShlKSk8PTB9LGNvbnRhaW5zUmFuZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5pbnRlcnNlY3Rpb24oZSk7cmV0dXJuIG51bGwhPT10JiZlLmVxdWFscyh0KX0sY29udGFpbnNOb2RlVGV4dDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmNsb25lUmFuZ2UoKTt0LnNlbGVjdE5vZGUoZSk7dmFyIG49dC5nZXROb2RlcyhbM10pO2lmKG4ubGVuZ3RoPjApe3Quc2V0U3RhcnQoblswXSwwKTt2YXIgcj1uLnBvcCgpO3JldHVybiB0LnNldEVuZChyLHIubGVuZ3RoKSx0aGlzLmNvbnRhaW5zUmFuZ2UodCl9cmV0dXJuIHRoaXMuY29udGFpbnNOb2RlQ29udGVudHMoZSl9LGdldE5vZGVzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIFQodGhpcyksaCh0aGlzLGUsdCl9LGdldERvY3VtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHIodGhpcyl9LGNvbGxhcHNlQmVmb3JlOmZ1bmN0aW9uKGUpe3RoaXMuc2V0RW5kQmVmb3JlKGUpLHRoaXMuY29sbGFwc2UoITEpfSxjb2xsYXBzZUFmdGVyOmZ1bmN0aW9uKGUpe3RoaXMuc2V0U3RhcnRBZnRlcihlKSx0aGlzLmNvbGxhcHNlKCEwKX0sZ2V0Qm9va21hcms6ZnVuY3Rpb24odCl7dmFyIG49cih0aGlzKSxvPWUuY3JlYXRlUmFuZ2Uobik7dD10fHxNLmdldEJvZHkobiksby5zZWxlY3ROb2RlQ29udGVudHModCk7dmFyIGE9dGhpcy5pbnRlcnNlY3Rpb24obyksaT0wLHM9MDtyZXR1cm4gYSYmKG8uc2V0RW5kKGEuc3RhcnRDb250YWluZXIsYS5zdGFydE9mZnNldCksaT1vLnRvU3RyaW5nKCkubGVuZ3RoLHM9aSthLnRvU3RyaW5nKCkubGVuZ3RoKSx7c3RhcnQ6aSxlbmQ6cyxjb250YWluZXJOb2RlOnR9fSxtb3ZlVG9Cb29rbWFyazpmdW5jdGlvbihlKXt2YXIgdD1lLmNvbnRhaW5lck5vZGUsbj0wO3RoaXMuc2V0U3RhcnQodCwwKSx0aGlzLmNvbGxhcHNlKCEwKTtmb3IodmFyIHIsbyxhLGkscz1bdF0sYz0hMSxkPSExOyFkJiYocj1zLnBvcCgpKTspaWYoMz09ci5ub2RlVHlwZSlvPW4rci5sZW5ndGgsIWMmJmUuc3RhcnQ+PW4mJmUuc3RhcnQ8PW8mJih0aGlzLnNldFN0YXJ0KHIsZS5zdGFydC1uKSxjPSEwKSxjJiZlLmVuZD49biYmZS5lbmQ8PW8mJih0aGlzLnNldEVuZChyLGUuZW5kLW4pLGQ9ITApLG49bztlbHNlIGZvcihpPXIuY2hpbGROb2RlcyxhPWkubGVuZ3RoO2EtLTspcy5wdXNoKGlbYV0pfSxnZXROYW1lOmZ1bmN0aW9uKCl7cmV0dXJuXCJEb21SYW5nZVwifSxlcXVhbHM6ZnVuY3Rpb24oZSl7cmV0dXJuIEIucmFuZ2VzRXF1YWwodGhpcyxlKX0saXNWYWxpZDpmdW5jdGlvbigpe3JldHVybiB3KHRoaXMpfSxpbnNwZWN0OmZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyl9LGRldGFjaDpmdW5jdGlvbigpe319KSxiKEIsUCksSC5leHRlbmQoQix7cmFuZ2VQcm9wZXJ0aWVzOmNlLFJhbmdlSXRlcmF0b3I6cCxjb3B5Q29tcGFyaXNvbkNvbnN0YW50czpBLGNyZWF0ZVByb3RvdHlwZVJhbmdlOmIsaW5zcGVjdDpnLHRvSHRtbDpfLGdldFJhbmdlRG9jdW1lbnQ6cixyYW5nZXNFcXVhbDpmdW5jdGlvbihlLHQpe3JldHVybiBlLnN0YXJ0Q29udGFpbmVyPT09dC5zdGFydENvbnRhaW5lciYmZS5zdGFydE9mZnNldD09PXQuc3RhcnRPZmZzZXQmJmUuZW5kQ29udGFpbmVyPT09dC5lbmRDb250YWluZXImJmUuZW5kT2Zmc2V0PT09dC5lbmRPZmZzZXR9fSksZS5Eb21SYW5nZT1CfSksUC5jcmVhdGVDb3JlTW9kdWxlKFwiV3JhcHBlZFJhbmdlXCIsW1wiRG9tUmFuZ2VcIl0sZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89ZS5kb20sYT1lLnV0aWwsaT1vLkRvbVBvc2l0aW9uLHM9ZS5Eb21SYW5nZSxjPW8uZ2V0Qm9keSxkPW8uZ2V0Q29udGVudERvY3VtZW50LGY9by5pc0NoYXJhY3RlckRhdGFOb2RlO2lmKGUuZmVhdHVyZXMuaW1wbGVtZW50c0RvbVJhbmdlJiYhZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUpe2Zvcih2YXIgdCxuPWwubGVuZ3RoO24tLTspdD1sW25dLGVbdF09ZS5uYXRpdmVSYW5nZVt0XTtlLmNvbGxhcHNlZD1lLnN0YXJ0Q29udGFpbmVyPT09ZS5lbmRDb250YWluZXImJmUuc3RhcnRPZmZzZXQ9PT1lLmVuZE9mZnNldH1mdW5jdGlvbiBpKGUsdCxuLHIsbyl7dmFyIGE9ZS5zdGFydENvbnRhaW5lciE9PXR8fGUuc3RhcnRPZmZzZXQhPW4saT1lLmVuZENvbnRhaW5lciE9PXJ8fGUuZW5kT2Zmc2V0IT1vLHM9IWUuZXF1YWxzKGUubmF0aXZlUmFuZ2UpOyhhfHxpfHxzKSYmKGUuc2V0RW5kKHIsbyksZS5zZXRTdGFydCh0LG4pKX12YXIgZix1LGw9cy5yYW5nZVByb3BlcnRpZXM7bj1mdW5jdGlvbihlKXtpZighZSl0aHJvdyB0LmNyZWF0ZUVycm9yKFwiV3JhcHBlZFJhbmdlOiBSYW5nZSBtdXN0IGJlIHNwZWNpZmllZFwiKTt0aGlzLm5hdGl2ZVJhbmdlPWUscih0aGlzKX0scy5jcmVhdGVQcm90b3R5cGVSYW5nZShuLGkpLGY9bi5wcm90b3R5cGUsZi5zZWxlY3ROb2RlPWZ1bmN0aW9uKGUpe3RoaXMubmF0aXZlUmFuZ2Uuc2VsZWN0Tm9kZShlKSxyKHRoaXMpfSxmLmNsb25lQ29udGVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYXRpdmVSYW5nZS5jbG9uZUNvbnRlbnRzKCl9LGYuc3Vycm91bmRDb250ZW50cz1mdW5jdGlvbihlKXt0aGlzLm5hdGl2ZVJhbmdlLnN1cnJvdW5kQ29udGVudHMoZSkscih0aGlzKX0sZi5jb2xsYXBzZT1mdW5jdGlvbihlKXt0aGlzLm5hdGl2ZVJhbmdlLmNvbGxhcHNlKGUpLHIodGhpcyl9LGYuY2xvbmVSYW5nZT1mdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLm5hdGl2ZVJhbmdlLmNsb25lUmFuZ2UoKSl9LGYucmVmcmVzaD1mdW5jdGlvbigpe3IodGhpcyl9LGYudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYXRpdmVSYW5nZS50b1N0cmluZygpfTt2YXIgaD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcInRlc3RcIik7Yyhkb2N1bWVudCkuYXBwZW5kQ2hpbGQoaCk7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtnLnNldFN0YXJ0KGgsMCksZy5zZXRFbmQoaCwwKTt0cnl7Zy5zZXRTdGFydChoLDEpLGYuc2V0U3RhcnQ9ZnVuY3Rpb24oZSx0KXt0aGlzLm5hdGl2ZVJhbmdlLnNldFN0YXJ0KGUsdCkscih0aGlzKX0sZi5zZXRFbmQ9ZnVuY3Rpb24oZSx0KXt0aGlzLm5hdGl2ZVJhbmdlLnNldEVuZChlLHQpLHIodGhpcyl9LHU9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3RoaXMubmF0aXZlUmFuZ2VbZV0odCkscih0aGlzKX19fWNhdGNoKGUpe2Yuc2V0U3RhcnQ9ZnVuY3Rpb24oZSx0KXt0cnl7dGhpcy5uYXRpdmVSYW5nZS5zZXRTdGFydChlLHQpfWNhdGNoKG4pe3RoaXMubmF0aXZlUmFuZ2Uuc2V0RW5kKGUsdCksdGhpcy5uYXRpdmVSYW5nZS5zZXRTdGFydChlLHQpfXIodGhpcyl9LGYuc2V0RW5kPWZ1bmN0aW9uKGUsdCl7dHJ5e3RoaXMubmF0aXZlUmFuZ2Uuc2V0RW5kKGUsdCl9Y2F0Y2gobil7dGhpcy5uYXRpdmVSYW5nZS5zZXRTdGFydChlLHQpLHRoaXMubmF0aXZlUmFuZ2Uuc2V0RW5kKGUsdCl9cih0aGlzKX0sdT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuKXt0cnl7dGhpcy5uYXRpdmVSYW5nZVtlXShuKX1jYXRjaChyKXt0aGlzLm5hdGl2ZVJhbmdlW3RdKG4pLHRoaXMubmF0aXZlUmFuZ2VbZV0obil9cih0aGlzKX19fWYuc2V0U3RhcnRCZWZvcmU9dShcInNldFN0YXJ0QmVmb3JlXCIsXCJzZXRFbmRCZWZvcmVcIiksZi5zZXRTdGFydEFmdGVyPXUoXCJzZXRTdGFydEFmdGVyXCIsXCJzZXRFbmRBZnRlclwiKSxmLnNldEVuZEJlZm9yZT11KFwic2V0RW5kQmVmb3JlXCIsXCJzZXRTdGFydEJlZm9yZVwiKSxmLnNldEVuZEFmdGVyPXUoXCJzZXRFbmRBZnRlclwiLFwic2V0U3RhcnRBZnRlclwiKSxmLnNlbGVjdE5vZGVDb250ZW50cz1mdW5jdGlvbihlKXt0aGlzLnNldFN0YXJ0QW5kRW5kKGUsMCxvLmdldE5vZGVMZW5ndGgoZSkpfSxnLnNlbGVjdE5vZGVDb250ZW50cyhoKSxnLnNldEVuZChoLDMpO3ZhciBwPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cC5zZWxlY3ROb2RlQ29udGVudHMoaCkscC5zZXRFbmQoaCw0KSxwLnNldFN0YXJ0KGgsMiksLTE9PWcuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKGcuU1RBUlRfVE9fRU5ELHApJiYxPT1nLmNvbXBhcmVCb3VuZGFyeVBvaW50cyhnLkVORF9UT19TVEFSVCxwKT9mLmNvbXBhcmVCb3VuZGFyeVBvaW50cz1mdW5jdGlvbihlLHQpe3JldHVybiB0PXQubmF0aXZlUmFuZ2V8fHQsZT09dC5TVEFSVF9UT19FTkQ/ZT10LkVORF9UT19TVEFSVDplPT10LkVORF9UT19TVEFSVCYmKGU9dC5TVEFSVF9UT19FTkQpLHRoaXMubmF0aXZlUmFuZ2UuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKGUsdCl9OmYuY29tcGFyZUJvdW5kYXJ5UG9pbnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubmF0aXZlUmFuZ2UuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKGUsdC5uYXRpdmVSYW5nZXx8dCl9O3ZhciBtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bS5pbm5lckhUTUw9XCIxMjNcIjt2YXIgdj1tLmZpcnN0Q2hpbGQsUj1jKGRvY3VtZW50KTtSLmFwcGVuZENoaWxkKG0pLGcuc2V0U3RhcnQodiwxKSxnLnNldEVuZCh2LDIpLGcuZGVsZXRlQ29udGVudHMoKSxcIjEzXCI9PXYuZGF0YSYmKGYuZGVsZXRlQ29udGVudHM9ZnVuY3Rpb24oKXt0aGlzLm5hdGl2ZVJhbmdlLmRlbGV0ZUNvbnRlbnRzKCkscih0aGlzKX0sZi5leHRyYWN0Q29udGVudHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm5hdGl2ZVJhbmdlLmV4dHJhY3RDb250ZW50cygpO3JldHVybiByKHRoaXMpLGV9KSxSLnJlbW92ZUNoaWxkKG0pLFI9bnVsbCxhLmlzSG9zdE1ldGhvZChnLFwiY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50XCIpJiYoZi5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubmF0aXZlUmFuZ2UuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGUpfSksYyhkb2N1bWVudCkucmVtb3ZlQ2hpbGQoaCksZi5nZXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuXCJXcmFwcGVkUmFuZ2VcIn0sZS5XcmFwcGVkUmFuZ2U9bixlLmNyZWF0ZU5hdGl2ZVJhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiBlPWQoZSx0LFwiY3JlYXRlTmF0aXZlUmFuZ2VcIiksZS5jcmVhdGVSYW5nZSgpfX0oKSxlLmZlYXR1cmVzLmltcGxlbWVudHNUZXh0UmFuZ2Upe3ZhciB1PWZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50RWxlbWVudCgpLG49ZS5kdXBsaWNhdGUoKTtuLmNvbGxhcHNlKCEwKTt2YXIgcj1uLnBhcmVudEVsZW1lbnQoKTtuPWUuZHVwbGljYXRlKCksbi5jb2xsYXBzZSghMSk7dmFyIGE9bi5wYXJlbnRFbGVtZW50KCksaT1yPT1hP3I6by5nZXRDb21tb25BbmNlc3RvcihyLGEpO3JldHVybiBpPT10P2k6by5nZXRDb21tb25BbmNlc3Rvcih0LGkpfSxsPWZ1bmN0aW9uKGUpe3JldHVybiAwPT1lLmNvbXBhcmVFbmRQb2ludHMoXCJTdGFydFRvRW5kXCIsZSl9LGg9ZnVuY3Rpb24oZSx0LG4scixhKXt2YXIgcz1lLmR1cGxpY2F0ZSgpO3MuY29sbGFwc2Uobik7dmFyIGM9cy5wYXJlbnRFbGVtZW50KCk7aWYoby5pc09ySXNBbmNlc3Rvck9mKHQsYyl8fChjPXQpLCFjLmNhbkhhdmVIVE1MKXt2YXIgZD1uZXcgaShjLnBhcmVudE5vZGUsby5nZXROb2RlSW5kZXgoYykpO3JldHVybntib3VuZGFyeVBvc2l0aW9uOmQsbm9kZUluZm86e25vZGVJbmRleDpkLm9mZnNldCxjb250YWluZXJFbGVtZW50OmQubm9kZX19fXZhciB1PW8uZ2V0RG9jdW1lbnQoYykuY3JlYXRlRWxlbWVudChcInNwYW5cIik7dS5wYXJlbnROb2RlJiZvLnJlbW92ZU5vZGUodSk7Zm9yKHZhciBsLGgsZyxwLG0sdj1uP1wiU3RhcnRUb1N0YXJ0XCI6XCJTdGFydFRvRW5kXCIsUj1hJiZhLmNvbnRhaW5lckVsZW1lbnQ9PWM/YS5ub2RlSW5kZXg6MCxDPWMuY2hpbGROb2Rlcy5sZW5ndGgsTj1DLEU9TjtFPT1DP2MuYXBwZW5kQ2hpbGQodSk6Yy5pbnNlcnRCZWZvcmUodSxjLmNoaWxkTm9kZXNbRV0pLHMubW92ZVRvRWxlbWVudFRleHQodSksbD1zLmNvbXBhcmVFbmRQb2ludHModixlKSwwIT1sJiZSIT1OOyl7aWYoLTE9PWwpe2lmKE49PVIrMSlicmVhaztSPUV9ZWxzZSBOPU49PVIrMT9SOkU7RT1NYXRoLmZsb29yKChSK04pLzIpLGMucmVtb3ZlQ2hpbGQodSl9aWYobT11Lm5leHRTaWJsaW5nLC0xPT1sJiZtJiZmKG0pKXtzLnNldEVuZFBvaW50KG4/XCJFbmRUb1N0YXJ0XCI6XCJFbmRUb0VuZFwiLGUpO3ZhciBTO2lmKC9bXFxyXFxuXS8udGVzdChtLmRhdGEpKXt2YXIgeT1zLmR1cGxpY2F0ZSgpLHc9eS50ZXh0LnJlcGxhY2UoL1xcclxcbi9nLFwiXFxyXCIpLmxlbmd0aDtmb3IoUz15Lm1vdmVTdGFydChcImNoYXJhY3RlclwiLHcpOy0xPT0obD15LmNvbXBhcmVFbmRQb2ludHMoXCJTdGFydFRvRW5kXCIseSkpOylTKysseS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwxKX1lbHNlIFM9cy50ZXh0Lmxlbmd0aDtwPW5ldyBpKG0sUyl9ZWxzZSBoPShyfHwhbikmJnUucHJldmlvdXNTaWJsaW5nLGc9KHJ8fG4pJiZ1Lm5leHRTaWJsaW5nLHA9ZyYmZihnKT9uZXcgaShnLDApOmgmJmYoaCk/bmV3IGkoaCxoLmRhdGEubGVuZ3RoKTpuZXcgaShjLG8uZ2V0Tm9kZUluZGV4KHUpKTtyZXR1cm4gby5yZW1vdmVOb2RlKHUpLHtib3VuZGFyeVBvc2l0aW9uOnAsbm9kZUluZm86e25vZGVJbmRleDpFLGNvbnRhaW5lckVsZW1lbnQ6Y319fSxnPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixhLGkscz1lLm9mZnNldCxkPW8uZ2V0RG9jdW1lbnQoZS5ub2RlKSx1PWMoZCkuY3JlYXRlVGV4dFJhbmdlKCksbD1mKGUubm9kZSk7cmV0dXJuIGw/KG49ZS5ub2RlLHI9bi5wYXJlbnROb2RlKTooaT1lLm5vZGUuY2hpbGROb2RlcyxuPXM8aS5sZW5ndGg/aVtzXTpudWxsLHI9ZS5ub2RlKSxhPWQuY3JlYXRlRWxlbWVudChcInNwYW5cIiksYS5pbm5lckhUTUw9XCImI2ZlZmY7XCIsbj9yLmluc2VydEJlZm9yZShhLG4pOnIuYXBwZW5kQ2hpbGQoYSksdS5tb3ZlVG9FbGVtZW50VGV4dChhKSx1LmNvbGxhcHNlKCF0KSxyLnJlbW92ZUNoaWxkKGEpLGwmJnVbdD9cIm1vdmVTdGFydFwiOlwibW92ZUVuZFwiXShcImNoYXJhY3RlclwiLHMpLHV9O3I9ZnVuY3Rpb24oZSl7dGhpcy50ZXh0UmFuZ2U9ZSx0aGlzLnJlZnJlc2goKX0sci5wcm90b3R5cGU9bmV3IHMoZG9jdW1lbnQpLFxuci5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3ZhciBlLHQsbixyPXUodGhpcy50ZXh0UmFuZ2UpO2wodGhpcy50ZXh0UmFuZ2UpP3Q9ZT1oKHRoaXMudGV4dFJhbmdlLHIsITAsITApLmJvdW5kYXJ5UG9zaXRpb246KG49aCh0aGlzLnRleHRSYW5nZSxyLCEwLCExKSxlPW4uYm91bmRhcnlQb3NpdGlvbix0PWgodGhpcy50ZXh0UmFuZ2UsciwhMSwhMSxuLm5vZGVJbmZvKS5ib3VuZGFyeVBvc2l0aW9uKSx0aGlzLnNldFN0YXJ0KGUubm9kZSxlLm9mZnNldCksdGhpcy5zZXRFbmQodC5ub2RlLHQub2Zmc2V0KX0sci5wcm90b3R5cGUuZ2V0TmFtZT1mdW5jdGlvbigpe3JldHVyblwiV3JhcHBlZFRleHRSYW5nZVwifSxzLmNvcHlDb21wYXJpc29uQ29uc3RhbnRzKHIpO3ZhciBwPWZ1bmN0aW9uKGUpe2lmKGUuY29sbGFwc2VkKXJldHVybiBnKG5ldyBpKGUuc3RhcnRDb250YWluZXIsZS5zdGFydE9mZnNldCksITApO3ZhciB0PWcobmV3IGkoZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0KSwhMCksbj1nKG5ldyBpKGUuZW5kQ29udGFpbmVyLGUuZW5kT2Zmc2V0KSwhMSkscj1jKHMuZ2V0UmFuZ2VEb2N1bWVudChlKSkuY3JlYXRlVGV4dFJhbmdlKCk7cmV0dXJuIHIuc2V0RW5kUG9pbnQoXCJTdGFydFRvU3RhcnRcIix0KSxyLnNldEVuZFBvaW50KFwiRW5kVG9FbmRcIixuKSxyfTtpZihyLnJhbmdlVG9UZXh0UmFuZ2U9cCxyLnByb3RvdHlwZS50b1RleHRSYW5nZT1mdW5jdGlvbigpe3JldHVybiBwKHRoaXMpfSxlLldyYXBwZWRUZXh0UmFuZ2U9ciwhZS5mZWF0dXJlcy5pbXBsZW1lbnRzRG9tUmFuZ2V8fGUuY29uZmlnLnByZWZlclRleHRSYW5nZSl7dmFyIG09ZnVuY3Rpb24oZSl7cmV0dXJuIGUoXCJyZXR1cm4gdGhpcztcIikoKX0oRnVuY3Rpb24pO1widW5kZWZpbmVkXCI9PXR5cGVvZiBtLlJhbmdlJiYobS5SYW5nZT1yKSxlLmNyZWF0ZU5hdGl2ZVJhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiBlPWQoZSx0LFwiY3JlYXRlTmF0aXZlUmFuZ2VcIiksYyhlKS5jcmVhdGVUZXh0UmFuZ2UoKX0sZS5XcmFwcGVkUmFuZ2U9cn19ZS5jcmVhdGVSYW5nZT1mdW5jdGlvbihuKXtyZXR1cm4gbj1kKG4sdCxcImNyZWF0ZVJhbmdlXCIpLG5ldyBlLldyYXBwZWRSYW5nZShlLmNyZWF0ZU5hdGl2ZVJhbmdlKG4pKX0sZS5jcmVhdGVSYW5neVJhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiBlPWQoZSx0LFwiY3JlYXRlUmFuZ3lSYW5nZVwiKSxuZXcgcyhlKX0sYS5jcmVhdGVBbGlhc0ZvckRlcHJlY2F0ZWRNZXRob2QoZSxcImNyZWF0ZUlmcmFtZVJhbmdlXCIsXCJjcmVhdGVSYW5nZVwiKSxhLmNyZWF0ZUFsaWFzRm9yRGVwcmVjYXRlZE1ldGhvZChlLFwiY3JlYXRlSWZyYW1lUmFuZ3lSYW5nZVwiLFwiY3JlYXRlUmFuZ3lSYW5nZVwiKSxlLmFkZFNoaW1MaXN0ZW5lcihmdW5jdGlvbih0KXt2YXIgbj10LmRvY3VtZW50O1widW5kZWZpbmVkXCI9PXR5cGVvZiBuLmNyZWF0ZVJhbmdlJiYobi5jcmVhdGVSYW5nZT1mdW5jdGlvbigpe3JldHVybiBlLmNyZWF0ZVJhbmdlKG4pfSksbj10PW51bGx9KX0pLFAuY3JlYXRlQ29yZU1vZHVsZShcIldyYXBwZWRTZWxlY3Rpb25cIixbXCJEb21SYW5nZVwiLFwiV3JhcHBlZFJhbmdlXCJdLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT8vXmJhY2t3YXJkKHMpPyQvaS50ZXN0KGUpOiEhZX1mdW5jdGlvbiByKGUsbil7aWYoZSl7aWYoRC5pc1dpbmRvdyhlKSlyZXR1cm4gZTtpZihlIGluc3RhbmNlb2YgdilyZXR1cm4gZS53aW47dmFyIHI9RC5nZXRDb250ZW50RG9jdW1lbnQoZSx0LG4pO3JldHVybiBELmdldFdpbmRvdyhyKX1yZXR1cm4gd2luZG93fWZ1bmN0aW9uIG8oZSl7cmV0dXJuIHIoZSxcImdldFdpblNlbGVjdGlvblwiKS5nZXRTZWxlY3Rpb24oKX1mdW5jdGlvbiBhKGUpe3JldHVybiByKGUsXCJnZXREb2NTZWxlY3Rpb25cIikuZG9jdW1lbnQuc2VsZWN0aW9ufWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ITE7cmV0dXJuIGUuYW5jaG9yTm9kZSYmKHQ9MT09RC5jb21wYXJlUG9pbnRzKGUuYW5jaG9yTm9kZSxlLmFuY2hvck9mZnNldCxlLmZvY3VzTm9kZSxlLmZvY3VzT2Zmc2V0KSksdH1mdW5jdGlvbiBzKGUsdCxuKXt2YXIgcj1uP1wiZW5kXCI6XCJzdGFydFwiLG89bj9cInN0YXJ0XCI6XCJlbmRcIjtlLmFuY2hvck5vZGU9dFtyK1wiQ29udGFpbmVyXCJdLGUuYW5jaG9yT2Zmc2V0PXRbcitcIk9mZnNldFwiXSxlLmZvY3VzTm9kZT10W28rXCJDb250YWluZXJcIl0sZS5mb2N1c09mZnNldD10W28rXCJPZmZzZXRcIl19ZnVuY3Rpb24gYyhlKXt2YXIgdD1lLm5hdGl2ZVNlbGVjdGlvbjtlLmFuY2hvck5vZGU9dC5hbmNob3JOb2RlLGUuYW5jaG9yT2Zmc2V0PXQuYW5jaG9yT2Zmc2V0LGUuZm9jdXNOb2RlPXQuZm9jdXNOb2RlLGUuZm9jdXNPZmZzZXQ9dC5mb2N1c09mZnNldH1mdW5jdGlvbiBkKGUpe2UuYW5jaG9yTm9kZT1lLmZvY3VzTm9kZT1udWxsLGUuYW5jaG9yT2Zmc2V0PWUuZm9jdXNPZmZzZXQ9MCxlLnJhbmdlQ291bnQ9MCxlLmlzQ29sbGFwc2VkPSEwLGUuX3Jhbmdlcy5sZW5ndGg9MH1mdW5jdGlvbiBmKHQpe3ZhciBuO3JldHVybiB0IGluc3RhbmNlb2YgYj8obj1lLmNyZWF0ZU5hdGl2ZVJhbmdlKHQuZ2V0RG9jdW1lbnQoKSksbi5zZXRFbmQodC5lbmRDb250YWluZXIsdC5lbmRPZmZzZXQpLG4uc2V0U3RhcnQodC5zdGFydENvbnRhaW5lcix0LnN0YXJ0T2Zmc2V0KSk6dCBpbnN0YW5jZW9mIEk/bj10Lm5hdGl2ZVJhbmdlOk0uaW1wbGVtZW50c0RvbVJhbmdlJiZ0IGluc3RhbmNlb2YgRC5nZXRXaW5kb3codC5zdGFydENvbnRhaW5lcikuUmFuZ2UmJihuPXQpLG59ZnVuY3Rpb24gdShlKXtpZighZS5sZW5ndGh8fDEhPWVbMF0ubm9kZVR5cGUpcmV0dXJuITE7Zm9yKHZhciB0PTEsbj1lLmxlbmd0aDtuPnQ7Kyt0KWlmKCFELmlzQW5jZXN0b3JPZihlWzBdLGVbdF0pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGwoZSl7dmFyIG49ZS5nZXROb2RlcygpO2lmKCF1KG4pKXRocm93IHQuY3JlYXRlRXJyb3IoXCJnZXRTaW5nbGVFbGVtZW50RnJvbVJhbmdlOiByYW5nZSBcIitlLmluc3BlY3QoKStcIiBkaWQgbm90IGNvbnNpc3Qgb2YgYSBzaW5nbGUgZWxlbWVudFwiKTtyZXR1cm4gblswXX1mdW5jdGlvbiBoKGUpe3JldHVybiEhZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUudGV4dH1mdW5jdGlvbiBnKGUsdCl7dmFyIG49bmV3IEkodCk7ZS5fcmFuZ2VzPVtuXSxzKGUsbiwhMSksZS5yYW5nZUNvdW50PTEsZS5pc0NvbGxhcHNlZD1uLmNvbGxhcHNlZH1mdW5jdGlvbiBwKHQpe2lmKHQuX3Jhbmdlcy5sZW5ndGg9MCxcIk5vbmVcIj09dC5kb2NTZWxlY3Rpb24udHlwZSlkKHQpO2Vsc2V7dmFyIG49dC5kb2NTZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtpZihoKG4pKWcodCxuKTtlbHNle3QucmFuZ2VDb3VudD1uLmxlbmd0aDtmb3IodmFyIHIsbz1rKG4uaXRlbSgwKSksYT0wO2E8dC5yYW5nZUNvdW50OysrYSlyPWUuY3JlYXRlUmFuZ2Uobyksci5zZWxlY3ROb2RlKG4uaXRlbShhKSksdC5fcmFuZ2VzLnB1c2gocik7dC5pc0NvbGxhcHNlZD0xPT10LnJhbmdlQ291bnQmJnQuX3Jhbmdlc1swXS5jb2xsYXBzZWQscyh0LHQuX3Jhbmdlc1t0LnJhbmdlQ291bnQtMV0sITEpfX19ZnVuY3Rpb24gbShlLG4pe2Zvcih2YXIgcj1lLmRvY1NlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLG89bChuKSxhPWsoci5pdGVtKDApKSxpPUwoYSkuY3JlYXRlQ29udHJvbFJhbmdlKCkscz0wLGM9ci5sZW5ndGg7Yz5zOysrcylpLmFkZChyLml0ZW0ocykpO3RyeXtpLmFkZChvKX1jYXRjaChlKXt0aHJvdyB0LmNyZWF0ZUVycm9yKFwiYWRkUmFuZ2UoKTogRWxlbWVudCB3aXRoaW4gdGhlIHNwZWNpZmllZCBSYW5nZSBjb3VsZCBub3QgYmUgYWRkZWQgdG8gY29udHJvbCBzZWxlY3Rpb24gKGRvZXMgaXQgaGF2ZSBsYXlvdXQ/KVwiKX1pLnNlbGVjdCgpLHAoZSl9ZnVuY3Rpb24gdihlLHQsbil7dGhpcy5uYXRpdmVTZWxlY3Rpb249ZSx0aGlzLmRvY1NlbGVjdGlvbj10LHRoaXMuX3Jhbmdlcz1bXSx0aGlzLndpbj1uLHRoaXMucmVmcmVzaCgpfWZ1bmN0aW9uIFIoZSl7ZS53aW49ZS5hbmNob3JOb2RlPWUuZm9jdXNOb2RlPWUuX3Jhbmdlcz1udWxsLGUucmFuZ2VDb3VudD1lLmFuY2hvck9mZnNldD1lLmZvY3VzT2Zmc2V0PTAsZS5kZXRhY2hlZD0hMH1mdW5jdGlvbiBDKGUsdCl7Zm9yKHZhciBuLHIsbz10ZS5sZW5ndGg7by0tOylpZihuPXRlW29dLHI9bi5zZWxlY3Rpb24sXCJkZWxldGVBbGxcIj09dClSKHIpO2Vsc2UgaWYobi53aW49PWUpcmV0dXJuXCJkZWxldGVcIj09dD8odGUuc3BsaWNlKG8sMSksITApOnI7cmV0dXJuXCJkZWxldGVBbGxcIj09dCYmKHRlLmxlbmd0aD0wKSxudWxsfWZ1bmN0aW9uIE4oZSxuKXtmb3IodmFyIHIsbz1rKG5bMF0uc3RhcnRDb250YWluZXIpLGE9TChvKS5jcmVhdGVDb250cm9sUmFuZ2UoKSxpPTAscz1uLmxlbmd0aDtzPmk7KytpKXtyPWwobltpXSk7dHJ5e2EuYWRkKHIpfWNhdGNoKGUpe3Rocm93IHQuY3JlYXRlRXJyb3IoXCJzZXRSYW5nZXMoKTogRWxlbWVudCB3aXRoaW4gb25lIG9mIHRoZSBzcGVjaWZpZWQgUmFuZ2VzIGNvdWxkIG5vdCBiZSBhZGRlZCB0byBjb250cm9sIHNlbGVjdGlvbiAoZG9lcyBpdCBoYXZlIGxheW91dD8pXCIpfX1hLnNlbGVjdCgpLHAoZSl9ZnVuY3Rpb24gRShlLHQpe2lmKGUud2luLmRvY3VtZW50IT1rKHQpKXRocm93IG5ldyBQKFwiV1JPTkdfRE9DVU1FTlRfRVJSXCIpfWZ1bmN0aW9uIFModCl7cmV0dXJuIGZ1bmN0aW9uKG4scil7dmFyIG87dGhpcy5yYW5nZUNvdW50PyhvPXRoaXMuZ2V0UmFuZ2VBdCgwKSxvW1wic2V0XCIrKHQ/XCJTdGFydFwiOlwiRW5kXCIpXShuLHIpKToobz1lLmNyZWF0ZVJhbmdlKHRoaXMud2luLmRvY3VtZW50KSxvLnNldFN0YXJ0QW5kRW5kKG4scikpLHRoaXMuc2V0U2luZ2xlUmFuZ2Uobyx0aGlzLmlzQmFja3dhcmQoKSl9fWZ1bmN0aW9uIHkoZSl7dmFyIHQ9W10sbj1uZXcgQihlLmFuY2hvck5vZGUsZS5hbmNob3JPZmZzZXQpLHI9bmV3IEIoZS5mb2N1c05vZGUsZS5mb2N1c09mZnNldCksbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmdldE5hbWU/ZS5nZXROYW1lKCk6XCJTZWxlY3Rpb25cIjtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5yYW5nZUNvdW50KWZvcih2YXIgYT0wLGk9ZS5yYW5nZUNvdW50O2k+YTsrK2EpdFthXT1iLmluc3BlY3QoZS5nZXRSYW5nZUF0KGEpKTtyZXR1cm5cIltcIitvK1wiKFJhbmdlczogXCIrdC5qb2luKFwiLCBcIikrXCIpKGFuY2hvcjogXCIrbi5pbnNwZWN0KCkrXCIsIGZvY3VzOiBcIityLmluc3BlY3QoKStcIl1cIn1lLmNvbmZpZy5jaGVja1NlbGVjdGlvblJhbmdlcz0hMDt2YXIgdyxULE89XCJib29sZWFuXCIsXz1cIm51bWJlclwiLEQ9ZS5kb20sQT1lLnV0aWwseD1BLmlzSG9zdE1ldGhvZCxiPWUuRG9tUmFuZ2UsST1lLldyYXBwZWRSYW5nZSxQPWUuRE9NRXhjZXB0aW9uLEI9RC5Eb21Qb3NpdGlvbixNPWUuZmVhdHVyZXMsSD1cIkNvbnRyb2xcIixrPUQuZ2V0RG9jdW1lbnQsTD1ELmdldEJvZHksVz1iLnJhbmdlc0VxdWFsLEY9eCh3aW5kb3csXCJnZXRTZWxlY3Rpb25cIiksaj1BLmlzSG9zdE9iamVjdChkb2N1bWVudCxcInNlbGVjdGlvblwiKTtNLmltcGxlbWVudHNXaW5HZXRTZWxlY3Rpb249RixNLmltcGxlbWVudHNEb2NTZWxlY3Rpb249ajt2YXIgej1qJiYoIUZ8fGUuY29uZmlnLnByZWZlclRleHRSYW5nZSk7aWYoeil3PWEsZS5pc1NlbGVjdGlvblZhbGlkPWZ1bmN0aW9uKGUpe3ZhciB0PXIoZSxcImlzU2VsZWN0aW9uVmFsaWRcIikuZG9jdW1lbnQsbj10LnNlbGVjdGlvbjtyZXR1cm5cIk5vbmVcIiE9bi50eXBlfHxrKG4uY3JlYXRlUmFuZ2UoKS5wYXJlbnRFbGVtZW50KCkpPT10fTtlbHNle2lmKCFGKXJldHVybiB0LmZhaWwoXCJOZWl0aGVyIGRvY3VtZW50LnNlbGVjdGlvbiBvciB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkgZGV0ZWN0ZWQuXCIpLCExO3c9byxlLmlzU2VsZWN0aW9uVmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH19ZS5nZXROYXRpdmVTZWxlY3Rpb249dzt2YXIgVj13KCk7aWYoIVYpcmV0dXJuIHQuZmFpbChcIk5hdGl2ZSBzZWxlY3Rpb24gd2FzIG51bGwgKHBvc3NpYmx5IGlzc3VlIDEzOD8pXCIpLCExO3ZhciBVPWUuY3JlYXRlTmF0aXZlUmFuZ2UoZG9jdW1lbnQpLHE9TChkb2N1bWVudCksWT1BLmFyZUhvc3RQcm9wZXJ0aWVzKFYsW1wiYW5jaG9yTm9kZVwiLFwiZm9jdXNOb2RlXCIsXCJhbmNob3JPZmZzZXRcIixcImZvY3VzT2Zmc2V0XCJdKTtNLnNlbGVjdGlvbkhhc0FuY2hvckFuZEZvY3VzPVk7dmFyIFE9eChWLFwiZXh0ZW5kXCIpO00uc2VsZWN0aW9uSGFzRXh0ZW5kPVE7dmFyIEc9dHlwZW9mIFYucmFuZ2VDb3VudD09XztNLnNlbGVjdGlvbkhhc1JhbmdlQ291bnQ9Rzt2YXIgWD0hMSxaPSEwLCQ9UT9mdW5jdGlvbih0LG4pe3ZhciByPWIuZ2V0UmFuZ2VEb2N1bWVudChuKSxvPWUuY3JlYXRlUmFuZ2Uocik7by5jb2xsYXBzZVRvUG9pbnQobi5lbmRDb250YWluZXIsbi5lbmRPZmZzZXQpLHQuYWRkUmFuZ2UoZihvKSksdC5leHRlbmQobi5zdGFydENvbnRhaW5lcixuLnN0YXJ0T2Zmc2V0KX06bnVsbDtBLmFyZUhvc3RNZXRob2RzKFYsW1wiYWRkUmFuZ2VcIixcImdldFJhbmdlQXRcIixcInJlbW92ZUFsbFJhbmdlc1wiXSkmJnR5cGVvZiBWLnJhbmdlQ291bnQ9PV8mJk0uaW1wbGVtZW50c0RvbVJhbmdlJiYhZnVuY3Rpb24oKXt2YXIgdD13aW5kb3cuZ2V0U2VsZWN0aW9uKCk7aWYodCl7Zm9yKHZhciBuPXQucmFuZ2VDb3VudCxyPW4+MSxvPVtdLGE9aSh0KSxzPTA7bj5zOysrcylvW3NdPXQuZ2V0UmFuZ2VBdChzKTt2YXIgYz1ELmNyZWF0ZVRlc3RFbGVtZW50KGRvY3VtZW50LFwiXCIsITEpLGQ9Yy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIsKgwqDCoFwiKSksZj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO2lmKGYuc2V0U3RhcnQoZCwxKSxmLmNvbGxhcHNlKCEwKSx0LnJlbW92ZUFsbFJhbmdlcygpLHQuYWRkUmFuZ2UoZiksWj0xPT10LnJhbmdlQ291bnQsdC5yZW1vdmVBbGxSYW5nZXMoKSwhcil7dmFyIHU9d2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9DaHJvbWVcXC8oLio/KSAvKTtpZih1JiZwYXJzZUludCh1WzFdKT49MzYpWD0hMTtlbHNle3ZhciBsPWYuY2xvbmVSYW5nZSgpO2Yuc2V0U3RhcnQoZCwwKSxsLnNldEVuZChkLDMpLGwuc2V0U3RhcnQoZCwyKSx0LmFkZFJhbmdlKGYpLHQuYWRkUmFuZ2UobCksWD0yPT10LnJhbmdlQ291bnR9fWZvcihELnJlbW92ZU5vZGUoYyksdC5yZW1vdmVBbGxSYW5nZXMoKSxzPTA7bj5zOysrcykwPT1zJiZhPyQ/JCh0LG9bc10pOihlLndhcm4oXCJSYW5neSBpbml0aWFsaXphdGlvbjogb3JpZ2luYWwgc2VsZWN0aW9uIHdhcyBiYWNrd2FyZHMgYnV0IHNlbGVjdGlvbiBoYXMgYmVlbiByZXN0b3JlZCBmb3J3YXJkcyBiZWNhdXNlIHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgU2VsZWN0aW9uLmV4dGVuZFwiKSx0LmFkZFJhbmdlKG9bc10pKTp0LmFkZFJhbmdlKG9bc10pfX0oKSxNLnNlbGVjdGlvblN1cHBvcnRzTXVsdGlwbGVSYW5nZXM9WCxNLmNvbGxhcHNlZE5vbkVkaXRhYmxlU2VsZWN0aW9uc1N1cHBvcnRlZD1aO3ZhciBKLEs9ITE7cSYmeChxLFwiY3JlYXRlQ29udHJvbFJhbmdlXCIpJiYoSj1xLmNyZWF0ZUNvbnRyb2xSYW5nZSgpLEEuYXJlSG9zdFByb3BlcnRpZXMoSixbXCJpdGVtXCIsXCJhZGRcIl0pJiYoSz0hMCkpLE0uaW1wbGVtZW50c0NvbnRyb2xSYW5nZT1LLFQ9WT9mdW5jdGlvbihlKXtyZXR1cm4gZS5hbmNob3JOb2RlPT09ZS5mb2N1c05vZGUmJmUuYW5jaG9yT2Zmc2V0PT09ZS5mb2N1c09mZnNldH06ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnJhbmdlQ291bnQmJmUuZ2V0UmFuZ2VBdChlLnJhbmdlQ291bnQtMSkuY29sbGFwc2VkfTt2YXIgZWU7eChWLFwiZ2V0UmFuZ2VBdFwiKT9lZT1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZS5nZXRSYW5nZUF0KHQpfWNhdGNoKGUpe3JldHVybiBudWxsfX06WSYmKGVlPWZ1bmN0aW9uKHQpe3ZhciBuPWsodC5hbmNob3JOb2RlKSxyPWUuY3JlYXRlUmFuZ2Uobik7cmV0dXJuIHIuc2V0U3RhcnRBbmRFbmQodC5hbmNob3JOb2RlLHQuYW5jaG9yT2Zmc2V0LHQuZm9jdXNOb2RlLHQuZm9jdXNPZmZzZXQpLHIuY29sbGFwc2VkIT09dGhpcy5pc0NvbGxhcHNlZCYmci5zZXRTdGFydEFuZEVuZCh0LmZvY3VzTm9kZSx0LmZvY3VzT2Zmc2V0LHQuYW5jaG9yTm9kZSx0LmFuY2hvck9mZnNldCkscn0pLHYucHJvdG90eXBlPWUuc2VsZWN0aW9uUHJvdG90eXBlO3ZhciB0ZT1bXSxuZT1mdW5jdGlvbihlKXtpZihlJiZlIGluc3RhbmNlb2YgdilyZXR1cm4gZS5yZWZyZXNoKCksZTtlPXIoZSxcImdldE5hdGl2ZVNlbGVjdGlvblwiKTt2YXIgdD1DKGUpLG49dyhlKSxvPWo/YShlKTpudWxsO3JldHVybiB0Pyh0Lm5hdGl2ZVNlbGVjdGlvbj1uLHQuZG9jU2VsZWN0aW9uPW8sdC5yZWZyZXNoKCkpOih0PW5ldyB2KG4sbyxlKSx0ZS5wdXNoKHt3aW46ZSxzZWxlY3Rpb246dH0pKSx0fTtlLmdldFNlbGVjdGlvbj1uZSxBLmNyZWF0ZUFsaWFzRm9yRGVwcmVjYXRlZE1ldGhvZChlLFwiZ2V0SWZyYW1lU2VsZWN0aW9uXCIsXCJnZXRTZWxlY3Rpb25cIik7dmFyIHJlPXYucHJvdG90eXBlO2lmKCF6JiZZJiZBLmFyZUhvc3RNZXRob2RzKFYsW1wicmVtb3ZlQWxsUmFuZ2VzXCIsXCJhZGRSYW5nZVwiXSkpe3JlLnJlbW92ZUFsbFJhbmdlcz1mdW5jdGlvbigpe3RoaXMubmF0aXZlU2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpLGQodGhpcyl9O3ZhciBvZT1mdW5jdGlvbihlLHQpeyQoZS5uYXRpdmVTZWxlY3Rpb24sdCksZS5yZWZyZXNoKCl9O0c/cmUuYWRkUmFuZ2U9ZnVuY3Rpb24odCxyKXtpZihLJiZqJiZ0aGlzLmRvY1NlbGVjdGlvbi50eXBlPT1IKW0odGhpcyx0KTtlbHNlIGlmKG4ocikmJlEpb2UodGhpcyx0KTtlbHNle3ZhciBvO1g/bz10aGlzLnJhbmdlQ291bnQ6KHRoaXMucmVtb3ZlQWxsUmFuZ2VzKCksbz0wKTt2YXIgYT1mKHQpLmNsb25lUmFuZ2UoKTt0cnl7dGhpcy5uYXRpdmVTZWxlY3Rpb24uYWRkUmFuZ2UoYSl9Y2F0Y2goZSl7fWlmKHRoaXMucmFuZ2VDb3VudD10aGlzLm5hdGl2ZVNlbGVjdGlvbi5yYW5nZUNvdW50LHRoaXMucmFuZ2VDb3VudD09bysxKXtpZihlLmNvbmZpZy5jaGVja1NlbGVjdGlvblJhbmdlcyl7dmFyIGk9ZWUodGhpcy5uYXRpdmVTZWxlY3Rpb24sdGhpcy5yYW5nZUNvdW50LTEpO2kmJiFXKGksdCkmJih0PW5ldyBJKGkpKX10aGlzLl9yYW5nZXNbdGhpcy5yYW5nZUNvdW50LTFdPXQscyh0aGlzLHQsc2UodGhpcy5uYXRpdmVTZWxlY3Rpb24pKSx0aGlzLmlzQ29sbGFwc2VkPVQodGhpcyl9ZWxzZSB0aGlzLnJlZnJlc2goKX19OnJlLmFkZFJhbmdlPWZ1bmN0aW9uKGUsdCl7bih0KSYmUT9vZSh0aGlzLGUpOih0aGlzLm5hdGl2ZVNlbGVjdGlvbi5hZGRSYW5nZShmKGUpKSx0aGlzLnJlZnJlc2goKSl9LHJlLnNldFJhbmdlcz1mdW5jdGlvbihlKXtpZihLJiZqJiZlLmxlbmd0aD4xKU4odGhpcyxlKTtlbHNle3RoaXMucmVtb3ZlQWxsUmFuZ2VzKCk7Zm9yKHZhciB0PTAsbj1lLmxlbmd0aDtuPnQ7Kyt0KXRoaXMuYWRkUmFuZ2UoZVt0XSl9fX1lbHNle2lmKCEoeChWLFwiZW1wdHlcIikmJngoVSxcInNlbGVjdFwiKSYmSyYmeikpcmV0dXJuIHQuZmFpbChcIk5vIG1lYW5zIG9mIHNlbGVjdGluZyBhIFJhbmdlIG9yIFRleHRSYW5nZSB3YXMgZm91bmRcIiksITE7cmUucmVtb3ZlQWxsUmFuZ2VzPWZ1bmN0aW9uKCl7dHJ5e2lmKHRoaXMuZG9jU2VsZWN0aW9uLmVtcHR5KCksXCJOb25lXCIhPXRoaXMuZG9jU2VsZWN0aW9uLnR5cGUpe3ZhciBlO2lmKHRoaXMuYW5jaG9yTm9kZSllPWsodGhpcy5hbmNob3JOb2RlKTtlbHNlIGlmKHRoaXMuZG9jU2VsZWN0aW9uLnR5cGU9PUgpe3ZhciB0PXRoaXMuZG9jU2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7dC5sZW5ndGgmJihlPWsodC5pdGVtKDApKSl9aWYoZSl7dmFyIG49TChlKS5jcmVhdGVUZXh0UmFuZ2UoKTtuLnNlbGVjdCgpLHRoaXMuZG9jU2VsZWN0aW9uLmVtcHR5KCl9fX1jYXRjaChlKXt9ZCh0aGlzKX0scmUuYWRkUmFuZ2U9ZnVuY3Rpb24odCl7dGhpcy5kb2NTZWxlY3Rpb24udHlwZT09SD9tKHRoaXMsdCk6KGUuV3JhcHBlZFRleHRSYW5nZS5yYW5nZVRvVGV4dFJhbmdlKHQpLnNlbGVjdCgpLHRoaXMuX3Jhbmdlc1swXT10LHRoaXMucmFuZ2VDb3VudD0xLHRoaXMuaXNDb2xsYXBzZWQ9dGhpcy5fcmFuZ2VzWzBdLmNvbGxhcHNlZCxzKHRoaXMsdCwhMSkpfSxyZS5zZXRSYW5nZXM9ZnVuY3Rpb24oZSl7dGhpcy5yZW1vdmVBbGxSYW5nZXMoKTt2YXIgdD1lLmxlbmd0aDt0PjE/Tih0aGlzLGUpOnQmJnRoaXMuYWRkUmFuZ2UoZVswXSl9fXJlLmdldFJhbmdlQXQ9ZnVuY3Rpb24oZSl7aWYoMD5lfHxlPj10aGlzLnJhbmdlQ291bnQpdGhyb3cgbmV3IFAoXCJJTkRFWF9TSVpFX0VSUlwiKTtyZXR1cm4gdGhpcy5fcmFuZ2VzW2VdLmNsb25lUmFuZ2UoKX07dmFyIGFlO2lmKHopYWU9ZnVuY3Rpb24odCl7dmFyIG47ZS5pc1NlbGVjdGlvblZhbGlkKHQud2luKT9uPXQuZG9jU2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk6KG49TCh0Lndpbi5kb2N1bWVudCkuY3JlYXRlVGV4dFJhbmdlKCksbi5jb2xsYXBzZSghMCkpLHQuZG9jU2VsZWN0aW9uLnR5cGU9PUg/cCh0KTpoKG4pP2codCxuKTpkKHQpfTtlbHNlIGlmKHgoVixcImdldFJhbmdlQXRcIikmJnR5cGVvZiBWLnJhbmdlQ291bnQ9PV8pYWU9ZnVuY3Rpb24odCl7aWYoSyYmaiYmdC5kb2NTZWxlY3Rpb24udHlwZT09SClwKHQpO2Vsc2UgaWYodC5fcmFuZ2VzLmxlbmd0aD10LnJhbmdlQ291bnQ9dC5uYXRpdmVTZWxlY3Rpb24ucmFuZ2VDb3VudCx0LnJhbmdlQ291bnQpe2Zvcih2YXIgbj0wLHI9dC5yYW5nZUNvdW50O3I+bjsrK24pdC5fcmFuZ2VzW25dPW5ldyBlLldyYXBwZWRSYW5nZSh0Lm5hdGl2ZVNlbGVjdGlvbi5nZXRSYW5nZUF0KG4pKTtzKHQsdC5fcmFuZ2VzW3QucmFuZ2VDb3VudC0xXSxzZSh0Lm5hdGl2ZVNlbGVjdGlvbikpLHQuaXNDb2xsYXBzZWQ9VCh0KX1lbHNlIGQodCl9O2Vsc2V7aWYoIVl8fHR5cGVvZiBWLmlzQ29sbGFwc2VkIT1PfHx0eXBlb2YgVS5jb2xsYXBzZWQhPU98fCFNLmltcGxlbWVudHNEb21SYW5nZSlyZXR1cm4gdC5mYWlsKFwiTm8gbWVhbnMgb2Ygb2J0YWluaW5nIGEgUmFuZ2Ugb3IgVGV4dFJhbmdlIGZyb20gdGhlIHVzZXIncyBzZWxlY3Rpb24gd2FzIGZvdW5kXCIpLCExO2FlPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5uYXRpdmVTZWxlY3Rpb247bi5hbmNob3JOb2RlPyh0PWVlKG4sMCksZS5fcmFuZ2VzPVt0XSxlLnJhbmdlQ291bnQ9MSxjKGUpLGUuaXNDb2xsYXBzZWQ9VChlKSk6ZChlKX19cmUucmVmcmVzaD1mdW5jdGlvbihlKXt2YXIgdD1lP3RoaXMuX3Jhbmdlcy5zbGljZSgwKTpudWxsLG49dGhpcy5hbmNob3JOb2RlLHI9dGhpcy5hbmNob3JPZmZzZXQ7aWYoYWUodGhpcyksZSl7dmFyIG89dC5sZW5ndGg7aWYobyE9dGhpcy5fcmFuZ2VzLmxlbmd0aClyZXR1cm4hMDtpZih0aGlzLmFuY2hvck5vZGUhPW58fHRoaXMuYW5jaG9yT2Zmc2V0IT1yKXJldHVybiEwO2Zvcig7by0tOylpZighVyh0W29dLHRoaXMuX3Jhbmdlc1tvXSkpcmV0dXJuITA7cmV0dXJuITF9fTt2YXIgaWU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmdldEFsbFJhbmdlcygpO2UucmVtb3ZlQWxsUmFuZ2VzKCk7Zm9yKHZhciByPTAsbz1uLmxlbmd0aDtvPnI7KytyKVcodCxuW3JdKXx8ZS5hZGRSYW5nZShuW3JdKTtlLnJhbmdlQ291bnR8fGQoZSl9O0smJmo/cmUucmVtb3ZlUmFuZ2U9ZnVuY3Rpb24oZSl7aWYodGhpcy5kb2NTZWxlY3Rpb24udHlwZT09SCl7Zm9yKHZhciB0LG49dGhpcy5kb2NTZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKSxyPWwoZSksbz1rKG4uaXRlbSgwKSksYT1MKG8pLmNyZWF0ZUNvbnRyb2xSYW5nZSgpLGk9ITEscz0wLGM9bi5sZW5ndGg7Yz5zOysrcyl0PW4uaXRlbShzKSx0IT09cnx8aT9hLmFkZChuLml0ZW0ocykpOmk9ITA7YS5zZWxlY3QoKSxwKHRoaXMpfWVsc2UgaWUodGhpcyxlKX06cmUucmVtb3ZlUmFuZ2U9ZnVuY3Rpb24oZSl7aWUodGhpcyxlKX07dmFyIHNlOyF6JiZZJiZNLmltcGxlbWVudHNEb21SYW5nZT8oc2U9aSxyZS5pc0JhY2t3YXJkPWZ1bmN0aW9uKCl7cmV0dXJuIHNlKHRoaXMpfSk6c2U9cmUuaXNCYWNrd2FyZD1mdW5jdGlvbigpe3JldHVybiExfSxyZS5pc0JhY2t3YXJkcz1yZS5pc0JhY2t3YXJkLHJlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MCxuPXRoaXMucmFuZ2VDb3VudDtuPnQ7Kyt0KWVbdF09XCJcIit0aGlzLl9yYW5nZXNbdF07cmV0dXJuIGUuam9pbihcIlwiKX0scmUuY29sbGFwc2U9ZnVuY3Rpb24odCxuKXtFKHRoaXMsdCk7dmFyIHI9ZS5jcmVhdGVSYW5nZSh0KTtyLmNvbGxhcHNlVG9Qb2ludCh0LG4pLHRoaXMuc2V0U2luZ2xlUmFuZ2UociksdGhpcy5pc0NvbGxhcHNlZD0hMH0scmUuY29sbGFwc2VUb1N0YXJ0PWZ1bmN0aW9uKCl7aWYoIXRoaXMucmFuZ2VDb3VudCl0aHJvdyBuZXcgUChcIklOVkFMSURfU1RBVEVfRVJSXCIpO3ZhciBlPXRoaXMuX3Jhbmdlc1swXTt0aGlzLmNvbGxhcHNlKGUuc3RhcnRDb250YWluZXIsZS5zdGFydE9mZnNldCl9LHJlLmNvbGxhcHNlVG9FbmQ9ZnVuY3Rpb24oKXtpZighdGhpcy5yYW5nZUNvdW50KXRocm93IG5ldyBQKFwiSU5WQUxJRF9TVEFURV9FUlJcIik7dmFyIGU9dGhpcy5fcmFuZ2VzW3RoaXMucmFuZ2VDb3VudC0xXTt0aGlzLmNvbGxhcHNlKGUuZW5kQ29udGFpbmVyLGUuZW5kT2Zmc2V0KX0scmUuc2VsZWN0QWxsQ2hpbGRyZW49ZnVuY3Rpb24odCl7RSh0aGlzLHQpO3ZhciBuPWUuY3JlYXRlUmFuZ2UodCk7bi5zZWxlY3ROb2RlQ29udGVudHModCksdGhpcy5zZXRTaW5nbGVSYW5nZShuKX0scmUuZGVsZXRlRnJvbURvY3VtZW50PWZ1bmN0aW9uKCl7aWYoSyYmaiYmdGhpcy5kb2NTZWxlY3Rpb24udHlwZT09SCl7Zm9yKHZhciBlLHQ9dGhpcy5kb2NTZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTt0Lmxlbmd0aDspZT10Lml0ZW0oMCksdC5yZW1vdmUoZSksRC5yZW1vdmVOb2RlKGUpO3RoaXMucmVmcmVzaCgpfWVsc2UgaWYodGhpcy5yYW5nZUNvdW50KXt2YXIgbj10aGlzLmdldEFsbFJhbmdlcygpO2lmKG4ubGVuZ3RoKXt0aGlzLnJlbW92ZUFsbFJhbmdlcygpO2Zvcih2YXIgcj0wLG89bi5sZW5ndGg7bz5yOysrciluW3JdLmRlbGV0ZUNvbnRlbnRzKCk7dGhpcy5hZGRSYW5nZShuW28tMV0pfX19LHJlLmVhY2hSYW5nZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9dGhpcy5fcmFuZ2VzLmxlbmd0aDtyPm47KytuKWlmKGUodGhpcy5nZXRSYW5nZUF0KG4pKSlyZXR1cm4gdH0scmUuZ2V0QWxsUmFuZ2VzPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZWFjaFJhbmdlKGZ1bmN0aW9uKHQpe2UucHVzaCh0KX0pLGV9LHJlLnNldFNpbmdsZVJhbmdlPWZ1bmN0aW9uKGUsdCl7dGhpcy5yZW1vdmVBbGxSYW5nZXMoKSx0aGlzLmFkZFJhbmdlKGUsdCl9LHJlLmNhbGxNZXRob2RPbkVhY2hSYW5nZT1mdW5jdGlvbihlLHQpe3ZhciBuPVtdO3JldHVybiB0aGlzLmVhY2hSYW5nZShmdW5jdGlvbihyKXtuLnB1c2gocltlXS5hcHBseShyLHR8fFtdKSl9KSxufSxyZS5zZXRTdGFydD1TKCEwKSxyZS5zZXRFbmQ9UyghMSksZS5yYW5nZVByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oZSl7bmUodGhpcy5nZXREb2N1bWVudCgpKS5zZXRTaW5nbGVSYW5nZSh0aGlzLGUpfSxyZS5jaGFuZ2VFYWNoUmFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9W10sbj10aGlzLmlzQmFja3dhcmQoKTt0aGlzLmVhY2hSYW5nZShmdW5jdGlvbihuKXtlKG4pLHQucHVzaChuKX0pLHRoaXMucmVtb3ZlQWxsUmFuZ2VzKCksbiYmMT09dC5sZW5ndGg/dGhpcy5hZGRSYW5nZSh0WzBdLFwiYmFja3dhcmRcIik6dGhpcy5zZXRSYW5nZXModCl9LHJlLmNvbnRhaW5zTm9kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVhY2hSYW5nZShmdW5jdGlvbihuKXtyZXR1cm4gbi5jb250YWluc05vZGUoZSx0KX0sITApfHwhMX0scmUuZ2V0Qm9va21hcms9ZnVuY3Rpb24oZSl7cmV0dXJue2JhY2t3YXJkOnRoaXMuaXNCYWNrd2FyZCgpLHJhbmdlQm9va21hcmtzOnRoaXMuY2FsbE1ldGhvZE9uRWFjaFJhbmdlKFwiZ2V0Qm9va21hcmtcIixbZV0pfX0scmUubW92ZVRvQm9va21hcms9ZnVuY3Rpb24odCl7Zm9yKHZhciBuLHIsbz1bXSxhPTA7bj10LnJhbmdlQm9va21hcmtzW2ErK107KXI9ZS5jcmVhdGVSYW5nZSh0aGlzLndpbiksci5tb3ZlVG9Cb29rbWFyayhuKSxvLnB1c2gocik7dC5iYWNrd2FyZD90aGlzLnNldFNpbmdsZVJhbmdlKG9bMF0sXCJiYWNrd2FyZFwiKTp0aGlzLnNldFJhbmdlcyhvKX0scmUuc2F2ZVJhbmdlcz1mdW5jdGlvbigpe3JldHVybntiYWNrd2FyZDp0aGlzLmlzQmFja3dhcmQoKSxyYW5nZXM6dGhpcy5jYWxsTWV0aG9kT25FYWNoUmFuZ2UoXCJjbG9uZVJhbmdlXCIpfX0scmUucmVzdG9yZVJhbmdlcz1mdW5jdGlvbihlKXt0aGlzLnJlbW92ZUFsbFJhbmdlcygpO2Zvcih2YXIgdCxuPTA7dD1lLnJhbmdlc1tuXTsrK24pdGhpcy5hZGRSYW5nZSh0LGUuYmFja3dhcmQmJjA9PW4pfSxyZS50b0h0bWw9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5lYWNoUmFuZ2UoZnVuY3Rpb24odCl7ZS5wdXNoKGIudG9IdG1sKHQpKX0pLGUuam9pbihcIlwiKX0sTS5pbXBsZW1lbnRzVGV4dFJhbmdlJiYocmUuZ2V0TmF0aXZlVGV4dFJhbmdlPWZ1bmN0aW9uKCl7dmFyIG47aWYobj10aGlzLmRvY1NlbGVjdGlvbil7dmFyIHI9bi5jcmVhdGVSYW5nZSgpO2lmKGgocikpcmV0dXJuIHI7dGhyb3cgdC5jcmVhdGVFcnJvcihcImdldE5hdGl2ZVRleHRSYW5nZTogc2VsZWN0aW9uIGlzIGEgY29udHJvbCBzZWxlY3Rpb25cIil9aWYodGhpcy5yYW5nZUNvdW50PjApcmV0dXJuIGUuV3JhcHBlZFRleHRSYW5nZS5yYW5nZVRvVGV4dFJhbmdlKHRoaXMuZ2V0UmFuZ2VBdCgwKSk7dGhyb3cgdC5jcmVhdGVFcnJvcihcImdldE5hdGl2ZVRleHRSYW5nZTogc2VsZWN0aW9uIGNvbnRhaW5zIG5vIHJhbmdlXCIpfSkscmUuZ2V0TmFtZT1mdW5jdGlvbigpe3JldHVyblwiV3JhcHBlZFNlbGVjdGlvblwifSxyZS5pbnNwZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyl9LHJlLmRldGFjaD1mdW5jdGlvbigpe0ModGhpcy53aW4sXCJkZWxldGVcIiksUih0aGlzKX0sdi5kZXRhY2hBbGw9ZnVuY3Rpb24oKXtDKG51bGwsXCJkZWxldGVBbGxcIil9LHYuaW5zcGVjdD15LHYuaXNEaXJlY3Rpb25CYWNrd2FyZD1uLGUuU2VsZWN0aW9uPXYsZS5zZWxlY3Rpb25Qcm90b3R5cGU9cmUsZS5hZGRTaGltTGlzdGVuZXIoZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIj09dHlwZW9mIGUuZ2V0U2VsZWN0aW9uJiYoZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gbmUoZSl9KSxlPW51bGx9KX0pO3ZhciBMPSExLFc9ZnVuY3Rpb24oZSl7THx8KEw9ITAsIVAuaW5pdGlhbGl6ZWQmJlAuY29uZmlnLmF1dG9Jbml0aWFsaXplJiZ1KCkpfTtyZXR1cm4gYiYmKFwiY29tcGxldGVcIj09ZG9jdW1lbnQucmVhZHlTdGF0ZT9XKCk6KGUoZG9jdW1lbnQsXCJhZGRFdmVudExpc3RlbmVyXCIpJiZkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLFcsITEpLE0od2luZG93LFwibG9hZFwiLFcpKSksUH0sdGhpcyksZnVuY3Rpb24oZSx0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcIi4vcmFuZ3ktY29yZVwiXSxlKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKHJlcXVpcmUoXCJyYW5neVwiKSk6ZSh0LnJhbmd5KX0oZnVuY3Rpb24oZSl7cmV0dXJuIGUuY3JlYXRlTW9kdWxlKFwiU2F2ZVJlc3RvcmVcIixbXCJXcmFwcGVkUmFuZ2VcIl0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUsdCl7cmV0dXJuKHR8fGRvY3VtZW50KS5nZXRFbGVtZW50QnlJZChlKX1mdW5jdGlvbiByKGUsdCl7dmFyIG4scj1cInNlbGVjdGlvbkJvdW5kYXJ5X1wiKyArbmV3IERhdGUrXCJfXCIrKFwiXCIrTWF0aC5yYW5kb20oKSkuc2xpY2UoMiksbz1nLmdldERvY3VtZW50KGUuc3RhcnRDb250YWluZXIpLGE9ZS5jbG9uZVJhbmdlKCk7cmV0dXJuIGEuY29sbGFwc2UodCksbj1vLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLG4uaWQ9cixuLnN0eWxlLmxpbmVIZWlnaHQ9XCIwXCIsbi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLG4uY2xhc3NOYW1lPVwicmFuZ3lTZWxlY3Rpb25Cb3VuZGFyeVwiLG4uYXBwZW5kQ2hpbGQoby5jcmVhdGVUZXh0Tm9kZSh2KSksYS5pbnNlcnROb2RlKG4pLG59ZnVuY3Rpb24gbyhlLHIsbyxhKXt2YXIgaT1uKG8sZSk7aT8oclthP1wic2V0U3RhcnRCZWZvcmVcIjpcInNldEVuZEJlZm9yZVwiXShpKSxwKGkpKTp0Lndhcm4oXCJNYXJrZXIgZWxlbWVudCBoYXMgYmVlbiByZW1vdmVkLiBDYW5ub3QgcmVzdG9yZSBzZWxlY3Rpb24uXCIpfWZ1bmN0aW9uIGEoZSx0KXtyZXR1cm4gdC5jb21wYXJlQm91bmRhcnlQb2ludHMoZS5TVEFSVF9UT19TVEFSVCxlKX1mdW5jdGlvbiBpKHQsbil7dmFyIG8sYSxpPWUuRG9tUmFuZ2UuZ2V0UmFuZ2VEb2N1bWVudCh0KSxzPXQudG9TdHJpbmcoKSxjPW0obik7cmV0dXJuIHQuY29sbGFwc2VkPyhhPXIodCwhMSkse2RvY3VtZW50OmksbWFya2VySWQ6YS5pZCxjb2xsYXBzZWQ6ITB9KTooYT1yKHQsITEpLG89cih0LCEwKSx7ZG9jdW1lbnQ6aSxzdGFydE1hcmtlcklkOm8uaWQsZW5kTWFya2VySWQ6YS5pZCxjb2xsYXBzZWQ6ITEsYmFja3dhcmQ6Yyx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwib3JpZ2luYWwgdGV4dDogJ1wiK3MrXCInLCBuZXcgdGV4dDogJ1wiK3QudG9TdHJpbmcoKStcIidcIn19KX1mdW5jdGlvbiBzKHIsYSl7dmFyIGk9ci5kb2N1bWVudDtcInVuZGVmaW5lZFwiPT10eXBlb2YgYSYmKGE9ITApO3ZhciBzPWUuY3JlYXRlUmFuZ2UoaSk7aWYoci5jb2xsYXBzZWQpe3ZhciBjPW4oci5tYXJrZXJJZCxpKTtpZihjKXtjLnN0eWxlLmRpc3BsYXk9XCJpbmxpbmVcIjt2YXIgZD1jLnByZXZpb3VzU2libGluZztkJiYzPT1kLm5vZGVUeXBlPyhwKGMpLHMuY29sbGFwc2VUb1BvaW50KGQsZC5sZW5ndGgpKToocy5jb2xsYXBzZUJlZm9yZShjKSxwKGMpKX1lbHNlIHQud2FybihcIk1hcmtlciBlbGVtZW50IGhhcyBiZWVuIHJlbW92ZWQuIENhbm5vdCByZXN0b3JlIHNlbGVjdGlvbi5cIil9ZWxzZSBvKGkscyxyLnN0YXJ0TWFya2VySWQsITApLG8oaSxzLHIuZW5kTWFya2VySWQsITEpO3JldHVybiBhJiZzLm5vcm1hbGl6ZUJvdW5kYXJpZXMoKSxzfWZ1bmN0aW9uIGModCxyKXt2YXIgbyxzLGM9W10sZD1tKHIpO3Q9dC5zbGljZSgwKSx0LnNvcnQoYSk7Zm9yKHZhciBmPTAsdT10Lmxlbmd0aDt1PmY7KytmKWNbZl09aSh0W2ZdLGQpO2ZvcihmPXUtMTtmPj0wOy0tZilvPXRbZl0scz1lLkRvbVJhbmdlLmdldFJhbmdlRG9jdW1lbnQobyksby5jb2xsYXBzZWQ/by5jb2xsYXBzZUFmdGVyKG4oY1tmXS5tYXJrZXJJZCxzKSk6KG8uc2V0RW5kQmVmb3JlKG4oY1tmXS5lbmRNYXJrZXJJZCxzKSksby5zZXRTdGFydEFmdGVyKG4oY1tmXS5zdGFydE1hcmtlcklkLHMpKSk7cmV0dXJuIGN9ZnVuY3Rpb24gZChuKXtpZighZS5pc1NlbGVjdGlvblZhbGlkKG4pKXJldHVybiB0Lndhcm4oXCJDYW5ub3Qgc2F2ZSBzZWxlY3Rpb24uIFRoaXMgdXN1YWxseSBoYXBwZW5zIHdoZW4gdGhlIHNlbGVjdGlvbiBpcyBjb2xsYXBzZWQgYW5kIHRoZSBzZWxlY3Rpb24gZG9jdW1lbnQgaGFzIGxvc3QgZm9jdXMuXCIpLG51bGw7dmFyIHI9ZS5nZXRTZWxlY3Rpb24obiksbz1yLmdldEFsbFJhbmdlcygpLGE9MT09by5sZW5ndGgmJnIuaXNCYWNrd2FyZCgpLGk9YyhvLGEpO3JldHVybiBhP3Iuc2V0U2luZ2xlUmFuZ2Uob1swXSxhKTpyLnNldFJhbmdlcyhvKSx7d2luOm4scmFuZ2VJbmZvczppLHJlc3RvcmVkOiExfX1mdW5jdGlvbiBmKGUpe2Zvcih2YXIgdD1bXSxuPWUubGVuZ3RoLHI9bi0xO3I+PTA7ci0tKXRbcl09cyhlW3JdLCEwKTtyZXR1cm4gdH1mdW5jdGlvbiB1KHQsbil7aWYoIXQucmVzdG9yZWQpe3ZhciByPXQucmFuZ2VJbmZvcyxvPWUuZ2V0U2VsZWN0aW9uKHQud2luKSxhPWYociksaT1yLmxlbmd0aDsxPT1pJiZuJiZlLmZlYXR1cmVzLnNlbGVjdGlvbkhhc0V4dGVuZCYmclswXS5iYWNrd2FyZD8oby5yZW1vdmVBbGxSYW5nZXMoKSxvLmFkZFJhbmdlKGFbMF0sITApKTpvLnNldFJhbmdlcyhhKSx0LnJlc3RvcmVkPSEwfX1mdW5jdGlvbiBsKGUsdCl7dmFyIHI9bih0LGUpO3ImJnAocil9ZnVuY3Rpb24gaChlKXtmb3IodmFyIHQsbj1lLnJhbmdlSW5mb3Mscj0wLG89bi5sZW5ndGg7bz5yOysrcil0PW5bcl0sdC5jb2xsYXBzZWQ/bChlLmRvYyx0Lm1hcmtlcklkKToobChlLmRvYyx0LnN0YXJ0TWFya2VySWQpLGwoZS5kb2MsdC5lbmRNYXJrZXJJZCkpfXZhciBnPWUuZG9tLHA9Zy5yZW1vdmVOb2RlLG09ZS5TZWxlY3Rpb24uaXNEaXJlY3Rpb25CYWNrd2FyZCx2PVwiXFx1ZmVmZlwiO2UudXRpbC5leHRlbmQoZSx7c2F2ZVJhbmdlOmkscmVzdG9yZVJhbmdlOnMsc2F2ZVJhbmdlczpjLHJlc3RvcmVSYW5nZXM6ZixzYXZlU2VsZWN0aW9uOmQscmVzdG9yZVNlbGVjdGlvbjp1LHJlbW92ZU1hcmtlckVsZW1lbnQ6bCxyZW1vdmVNYXJrZXJzOmh9KX0pLGV9LHRoaXMpO1xuIWZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7dGhpcy4kZ2V0PVtcIiQkc2FuaXRpemVVcmlcIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGFyZ3VtZW50c1sxXSYmKGFyZ3VtZW50c1sxXS52ZXJzaW9uPVwidGFTYW5pdGl6ZVwiKTt2YXIgcj1bXTtyZXR1cm4gcyh0LGgocixmdW5jdGlvbih0LHIpe3JldHVybiEvXnVuc2FmZS8udGVzdChlKHQscikpfSkpLHIuam9pbihcIlwiKX19XX1mdW5jdGlvbiBpKGUpe3ZhciByPVtdLG49aChyLHQubm9vcCk7cmV0dXJuIG4uY2hhcnMoZSksci5qb2luKFwiXCIpfWZ1bmN0aW9uIGEoZSl7dmFyIHQscj17fSxuPWUuc3BsaXQoXCIsXCIpO2Zvcih0PTA7dDxuLmxlbmd0aDt0KyspcltuW3RdXT0hMDtyZXR1cm4gcn1mdW5jdGlvbiBzKGUscil7ZnVuY3Rpb24gbihlLG4sYSxzKXtpZihuPXQubG93ZXJjYXNlKG4pLFRbbl0pZm9yKDt1Lmxhc3QoKSYmRVt1Lmxhc3QoKV07KWkoXCJcIix1Lmxhc3QoKSk7RFtuXSYmdS5sYXN0KCk9PW4mJmkoXCJcIixuKSxzPUNbbl18fCEhcyxzfHx1LnB1c2gobik7dmFyIGw9e307YS5yZXBsYWNlKGQsZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgYT1yfHxufHxpfHxcIlwiO2xbdF09byhhKX0pLHIuc3RhcnQmJnIuc3RhcnQobixsLHMpfWZ1bmN0aW9uIGkoZSxuKXt2YXIgaSxhPTA7aWYobj10Lmxvd2VyY2FzZShuKSlmb3IoYT11Lmxlbmd0aC0xO2E+PTAmJnVbYV0hPW47YS0tKTtpZihhPj0wKXtmb3IoaT11Lmxlbmd0aC0xO2k+PWE7aS0tKXIuZW5kJiZyLmVuZCh1W2ldKTt1Lmxlbmd0aD1hfX1cInN0cmluZ1wiIT10eXBlb2YgZSYmKGU9bnVsbD09PWV8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP1wiXCI6XCJcIitlKTt2YXIgYSxzLGwsYyx1PVtdLGg9ZTtmb3IodS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHVbdS5sZW5ndGgtMV19O2U7KXtpZihjPVwiXCIscz0hMCx1Lmxhc3QoKSYmalt1Lmxhc3QoKV0/KGU9ZS5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoW15dKik8XFxcXHMqXFxcXC9cXFxccypcIit1Lmxhc3QoKStcIltePl0qPlwiLFwiaVwiKSxmdW5jdGlvbihlLHQpe3JldHVybiB0PXQucmVwbGFjZSh4LFwiJDFcIikucmVwbGFjZSh5LFwiJDFcIiksci5jaGFycyYmci5jaGFycyhvKHQpKSxcIlwifSksaShcIlwiLHUubGFzdCgpKSk6KHoudGVzdChlKT8obD1lLm1hdGNoKHopKSYmKGxbMF0sci53aGl0ZXNwYWNlJiZyLndoaXRlc3BhY2UobFswXSksZT1lLnJlcGxhY2UobFswXSxcIlwiKSxzPSExKTprLnRlc3QoZSk/KGw9ZS5tYXRjaChrKSxsJiYoci5jb21tZW50JiZyLmNvbW1lbnQobFsxXSksZT1lLnJlcGxhY2UobFswXSxcIlwiKSxzPSExKSk6di50ZXN0KGUpPyhsPWUubWF0Y2godiksbCYmKGU9ZS5yZXBsYWNlKGxbMF0sXCJcIikscz0hMSkpOmIudGVzdChlKT8obD1lLm1hdGNoKGcpLGwmJihlPWUuc3Vic3RyaW5nKGxbMF0ubGVuZ3RoKSxsWzBdLnJlcGxhY2UoZyxpKSxzPSExKSk6bS50ZXN0KGUpJiYobD1lLm1hdGNoKGYpLGw/KGxbNF0mJihlPWUuc3Vic3RyaW5nKGxbMF0ubGVuZ3RoKSxsWzBdLnJlcGxhY2UoZixuKSkscz0hMSk6KGMrPVwiPFwiLGU9ZS5zdWJzdHJpbmcoMSkpKSxzJiYoYT1lLmluZGV4T2YoXCI8XCIpLGMrPTA+YT9lOmUuc3Vic3RyaW5nKDAsYSksZT0wPmE/XCJcIjplLnN1YnN0cmluZyhhKSxyLmNoYXJzJiZyLmNoYXJzKG8oYykpKSksZT09aCl0aHJvdyBwKFwiYmFkcGFyc2VcIixcIlRoZSBzYW5pdGl6ZXIgd2FzIHVuYWJsZSB0byBwYXJzZSB0aGUgZm9sbG93aW5nIGJsb2NrIG9mIGh0bWw6IHswfVwiLGUpO2g9ZX1pKCl9ZnVuY3Rpb24gbyhlKXtpZighZSlyZXR1cm5cIlwiO3ZhciB0PUcuZXhlYyhlKSxyPXRbMV0sbj10WzNdLGk9dFsyXTtyZXR1cm4gaSYmKEIuaW5uZXJIVE1MPWkucmVwbGFjZSgvPC9nLFwiJmx0O1wiKSxpPVwidGV4dENvbnRlbnRcImluIEI/Qi50ZXh0Q29udGVudDpCLmlubmVyVGV4dCkscitpK259ZnVuY3Rpb24gbChlKXtyZXR1cm4gZS5yZXBsYWNlKC8mL2csXCImYW1wO1wiKS5yZXBsYWNlKHcsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jaGFyQ29kZUF0KDApLHI9ZS5jaGFyQ29kZUF0KDEpO3JldHVyblwiJiNcIisoMTAyNCoodC01NTI5NikrKHItNTYzMjApKzY1NTM2KStcIjtcIn0pLnJlcGxhY2UoJCxmdW5jdGlvbihlKXt2YXIgdD1lLmNoYXJDb2RlQXQoMCk7cmV0dXJuIDE1OT49dHx8MTczPT10fHx0Pj0xNTM2JiYxNTQwPj10fHwxODA3PT10fHw2MDY4PT10fHw2MDY5PT10fHx0Pj04MjA0JiY4MjA3Pj10fHx0Pj04MjMyJiY4MjM5Pj10fHx0Pj04Mjg4JiY4MzAzPj10fHw2NTI3OT09dHx8dD49NjU1MjAmJjY1NTM1Pj10P1wiJiNcIit0K1wiO1wiOmV9KS5yZXBsYWNlKC88L2csXCImbHQ7XCIpLnJlcGxhY2UoLz4vZyxcIiZndDtcIil9ZnVuY3Rpb24gYyhlKXt2YXIgcj1cIlwiLG49ZS5zcGxpdChcIjtcIik7cmV0dXJuIHQuZm9yRWFjaChuLGZ1bmN0aW9uKGUpe3ZhciBuPWUuc3BsaXQoXCI6XCIpO2lmKDI9PW4ubGVuZ3RoKXt2YXIgaT1IKHQubG93ZXJjYXNlKG5bMF0pKSxlPUgodC5sb3dlcmNhc2UoblsxXSkpOygoXCJjb2xvclwiPT09aXx8XCJiYWNrZ3JvdW5kLWNvbG9yXCI9PT1pKSYmKGUubWF0Y2goL15yZ2JcXChbMC05JSxcXC4gXSpcXCkkL2kpfHxlLm1hdGNoKC9ecmdiYVxcKFswLTklLFxcLiBdKlxcKSQvaSl8fGUubWF0Y2goL15oc2xcXChbMC05JSxcXC4gXSpcXCkkL2kpfHxlLm1hdGNoKC9eaHNsYVxcKFswLTklLFxcLiBdKlxcKSQvaSl8fGUubWF0Y2goL14jWzAtOWEtZl17Myw2fSQvaSl8fGUubWF0Y2goL15bYS16XSokL2kpKXx8XCJ0ZXh0LWFsaWduXCI9PT1pJiYoXCJsZWZ0XCI9PT1lfHxcInJpZ2h0XCI9PT1lfHxcImNlbnRlclwiPT09ZXx8XCJqdXN0aWZ5XCI9PT1lKXx8XCJ0ZXh0LWRlY29yYXRpb25cIj09PWkmJihcInVuZGVybGluZVwiPT09ZXx8XCJsaW5lLXRocm91Z2hcIj09PWUpfHxcImZvbnQtd2VpZ2h0XCI9PT1pJiZcImJvbGRcIj09PWV8fFwiZmxvYXRcIj09PWkmJihcImxlZnRcIj09PWV8fFwicmlnaHRcIj09PWV8fFwibm9uZVwiPT09ZSl8fChcIndpZHRoXCI9PT1pfHxcImhlaWdodFwiPT09aSkmJmUubWF0Y2goL1swLTlcXC5dKihweHxlbXxyZW18JSkvKXx8XCJkaXJlY3Rpb25cIj09PWkmJmUubWF0Y2goL15sdHJ8cnRsfGluaXRpYWx8aW5oZXJpdCQvKSkmJihyKz1pK1wiOiBcIitlK1wiO1wiKX19KSxyfWZ1bmN0aW9uIHUoZSx0LHIsbil7cmV0dXJuIShcImltZ1wiIT09ZXx8IXRbXCJ0YS1pbnNlcnQtdmlkZW9cIl18fFwidGEtaW5zZXJ0LXZpZGVvXCIhPT1yJiZcImFsbG93ZnVsbHNjcmVlblwiIT09ciYmXCJmcmFtZWJvcmRlclwiIT09ciYmKFwiY29udGVudGVkaXRhYmxlXCIhPT1yfHxcImZhbHNlXCIhPT1uKSl9ZnVuY3Rpb24gaChlLHIpe3ZhciBuPSExLGk9dC5iaW5kKGUsZS5wdXNoKTtyZXR1cm57c3RhcnQ6ZnVuY3Rpb24oZSxhLHMpe2U9dC5sb3dlcmNhc2UoZSksIW4mJmpbZV0mJihuPWUpLG58fHFbZV0hPT0hMHx8KGkoXCI8XCIpLGkoZSksdC5mb3JFYWNoKGEsZnVuY3Rpb24obixzKXt2YXIgbz10Lmxvd2VyY2FzZShzKSxoPVwiaW1nXCI9PT1lJiZcInNyY1wiPT09b3x8XCJiYWNrZ3JvdW5kXCI9PT1vOyhcInN0eWxlXCI9PT1vJiZcIlwiIT09KG49YyhuKSl8fHUoZSxhLG8sbil8fFVbb109PT0hMCYmKFBbb10hPT0hMHx8cihuLGgpKSkmJihpKFwiIFwiKSxpKHMpLGkoJz1cIicpLGkobChuKSksaSgnXCInKSl9KSxpKHM/XCIvPlwiOlwiPlwiKSl9LGNvbW1lbnQ6ZnVuY3Rpb24oZSl7aShlKX0sd2hpdGVzcGFjZTpmdW5jdGlvbihlKXtpKGwoZSkpfSxlbmQ6ZnVuY3Rpb24oZSl7ZT10Lmxvd2VyY2FzZShlKSxufHxxW2VdIT09ITB8fChpKFwiPC9cIiksaShlKSxpKFwiPlwiKSksZT09biYmKG49ITEpfSxjaGFyczpmdW5jdGlvbihlKXtufHxpKGwoZSkpfX19dmFyIHA9dC4kJG1pbkVycihcIiRzYW5pdGl6ZVwiKSxmPS9ePCgoPzpbYS16QS1aXSlbXFx3Oi1dKikoKD86XFxzK1tcXHc6LV0rKD86XFxzKj1cXHMqKD86KD86XCJbXlwiXSpcIil8KD86J1teJ10qJyl8W14+XFxzXSspKT8pKilcXHMqKFxcLz8pXFxzKig+PykvLGc9L148XFwvXFxzKihbXFx3Oi1dKylbXj5dKj4vLGQ9LyhbXFx3Oi1dKykoPzpcXHMqPVxccyooPzooPzpcIigoPzpbXlwiXSkqKVwiKXwoPzonKCg/OlteJ10pKiknKXwoW14+XFxzXSspKSk/L2csbT0vXjwvLGI9L148XFwvLyx4PS88IS0tKC4qPyktLT4vZyxrPS8oXjwhLS0uKj8tLT4pLyx2PS88IURPQ1RZUEUoW14+XSo/KT4vaSx5PS88IVxcW0NEQVRBXFxbKC4qPyldXT4vZyx3PS9bXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZdL2csJD0vKFteXFwjLX58IHwhXSkvZyx6PS9eKFxccyspLyxDPWEoXCJhcmVhLGJyLGNvbCxocixpbWcsd2JyLGlucHV0XCIpLEE9YShcImNvbGdyb3VwLGRkLGR0LGxpLHAsdGJvZHksdGQsdGZvb3QsdGgsdGhlYWQsdHJcIiksUz1hKFwicnAscnRcIiksRD10LmV4dGVuZCh7fSxTLEEpLFQ9dC5leHRlbmQoe30sQSxhKFwiYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGJsb2NrcXVvdGUsY2FwdGlvbixjZW50ZXIsZGVsLGRpcixkaXYsZGwsZmlndXJlLGZpZ2NhcHRpb24sZm9vdGVyLGgxLGgyLGgzLGg0LGg1LGg2LGhlYWRlcixoZ3JvdXAsaHIsaW5zLG1hcCxtZW51LG5hdixvbCxwcmUsc2NyaXB0LHNlY3Rpb24sdGFibGUsdWxcIikpLEU9dC5leHRlbmQoe30sUyxhKFwiYSxhYmJyLGFjcm9ueW0sYixiZGksYmRvLGJpZyxicixjaXRlLGNvZGUsZGVsLGRmbixlbSxmb250LGksaW1nLGlucyxrYmQsbGFiZWwsbWFwLG1hcmsscSxydWJ5LHJwLHJ0LHMsc2FtcCxzbWFsbCxzcGFuLHN0cmlrZSxzdHJvbmcsc3ViLHN1cCx0aW1lLHR0LHUsdmFyXCIpKSxGPWEoXCJhbmltYXRlLGFuaW1hdGVDb2xvcixhbmltYXRlTW90aW9uLGFuaW1hdGVUcmFuc2Zvcm0sY2lyY2xlLGRlZnMsZGVzYyxlbGxpcHNlLGZvbnQtZmFjZSxmb250LWZhY2UtbmFtZSxmb250LWZhY2Utc3JjLGcsZ2x5cGgsaGtlcm4saW1hZ2UsbGluZWFyR3JhZGllbnQsbGluZSxtYXJrZXIsbWV0YWRhdGEsbWlzc2luZy1nbHlwaCxtcGF0aCxwYXRoLHBvbHlnb24scG9seWxpbmUscmFkaWFsR3JhZGllbnQscmVjdCxzZXQsc3RvcCxzdmcsc3dpdGNoLHRleHQsdGl0bGUsdHNwYW4sdXNlXCIpLGo9YShcInNjcmlwdCxzdHlsZVwiKSxxPXQuZXh0ZW5kKHt9LEMsVCxFLEQsRiksUD1hKFwiYmFja2dyb3VuZCxjaXRlLGhyZWYsbG9uZ2Rlc2Msc3JjLHVzZW1hcCx4bGluazpocmVmXCIpLEw9YShcImFiYnIsYWxpZ24sYWx0LGF4aXMsYmdjb2xvcixib3JkZXIsY2VsbHBhZGRpbmcsY2VsbHNwYWNpbmcsY2xhc3MsY2xlYXIsY29sb3IsY29scyxjb2xzcGFuLGNvbXBhY3QsY29vcmRzLGRpcixmYWNlLGhlYWRlcnMsaGVpZ2h0LGhyZWZsYW5nLGhzcGFjZSxpZCxpc21hcCxsYW5nLGxhbmd1YWdlLG5vaHJlZixub3dyYXAscmVsLHJldixyb3dzLHJvd3NwYW4scnVsZXMsc2NvcGUsc2Nyb2xsaW5nLHNoYXBlLHNpemUsc3BhbixzdGFydCxzdW1tYXJ5LHRhcmdldCx0aXRsZSx0eXBlLHZhbGlnbix2YWx1ZSx2c3BhY2Usd2lkdGhcIiksTT1hKFwiYWNjZW50LWhlaWdodCxhY2N1bXVsYXRlLGFkZGl0aXZlLGFscGhhYmV0aWMsYXJhYmljLWZvcm0sYXNjZW50LGF0dHJpYnV0ZU5hbWUsYXR0cmlidXRlVHlwZSxiYXNlUHJvZmlsZSxiYm94LGJlZ2luLGJ5LGNhbGNNb2RlLGNhcC1oZWlnaHQsY2xhc3MsY29sb3IsY29sb3ItcmVuZGVyaW5nLGNvbnRlbnQsY3gsY3ksZCxkeCxkeSxkZXNjZW50LGRpc3BsYXksZHVyLGVuZCxmaWxsLGZpbGwtcnVsZSxmb250LWZhbWlseSxmb250LXNpemUsZm9udC1zdHJldGNoLGZvbnQtc3R5bGUsZm9udC12YXJpYW50LGZvbnQtd2VpZ2h0LGZyb20sZngsZnksZzEsZzIsZ2x5cGgtbmFtZSxncmFkaWVudFVuaXRzLGhhbmdpbmcsaGVpZ2h0LGhvcml6LWFkdi14LGhvcml6LW9yaWdpbi14LGlkZW9ncmFwaGljLGssa2V5UG9pbnRzLGtleVNwbGluZXMsa2V5VGltZXMsbGFuZyxtYXJrZXItZW5kLG1hcmtlci1taWQsbWFya2VyLXN0YXJ0LG1hcmtlckhlaWdodCxtYXJrZXJVbml0cyxtYXJrZXJXaWR0aCxtYXRoZW1hdGljYWwsbWF4LG1pbixvZmZzZXQsb3BhY2l0eSxvcmllbnQsb3JpZ2luLG92ZXJsaW5lLXBvc2l0aW9uLG92ZXJsaW5lLXRoaWNrbmVzcyxwYW5vc2UtMSxwYXRoLHBhdGhMZW5ndGgscG9pbnRzLHByZXNlcnZlQXNwZWN0UmF0aW8scixyZWZYLHJlZlkscmVwZWF0Q291bnQscmVwZWF0RHVyLHJlcXVpcmVkRXh0ZW5zaW9ucyxyZXF1aXJlZEZlYXR1cmVzLHJlc3RhcnQscm90YXRlLHJ4LHJ5LHNsb3BlLHN0ZW1oLHN0ZW12LHN0b3AtY29sb3Isc3RvcC1vcGFjaXR5LHN0cmlrZXRocm91Z2gtcG9zaXRpb24sc3RyaWtldGhyb3VnaC10aGlja25lc3Msc3Ryb2tlLHN0cm9rZS1kYXNoYXJyYXksc3Ryb2tlLWRhc2hvZmZzZXQsc3Ryb2tlLWxpbmVjYXAsc3Ryb2tlLWxpbmVqb2luLHN0cm9rZS1taXRlcmxpbWl0LHN0cm9rZS1vcGFjaXR5LHN0cm9rZS13aWR0aCxzeXN0ZW1MYW5ndWFnZSx0YXJnZXQsdGV4dC1hbmNob3IsdG8sdHJhbnNmb3JtLHR5cGUsdTEsdTIsdW5kZXJsaW5lLXBvc2l0aW9uLHVuZGVybGluZS10aGlja25lc3MsdW5pY29kZSx1bmljb2RlLXJhbmdlLHVuaXRzLXBlci1lbSx2YWx1ZXMsdmVyc2lvbix2aWV3Qm94LHZpc2liaWxpdHksd2lkdGgsd2lkdGhzLHgseC1oZWlnaHQseDEseDIseGxpbms6YWN0dWF0ZSx4bGluazphcmNyb2xlLHhsaW5rOnJvbGUseGxpbms6c2hvdyx4bGluazp0aXRsZSx4bGluazp0eXBlLHhtbDpiYXNlLHhtbDpsYW5nLHhtbDpzcGFjZSx4bWxucyx4bWxuczp4bGluayx5LHkxLHkyLHpvb21BbmRQYW5cIiksVT10LmV4dGVuZCh7fSxQLE0sTCksQj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicHJlXCIpLEc9L14oXFxzKikoW1xcc1xcU10qPykoXFxzKikkLyxIPWZ1bmN0aW9uKCl7cmV0dXJuIFN0cmluZy5wcm90b3R5cGUudHJpbT9mdW5jdGlvbihlKXtyZXR1cm4gdC5pc1N0cmluZyhlKT9lLnRyaW0oKTplfTpmdW5jdGlvbihlKXtyZXR1cm4gdC5pc1N0cmluZyhlKT9lLnJlcGxhY2UoL15cXHNcXHMqLyxcIlwiKS5yZXBsYWNlKC9cXHNcXHMqJC8sXCJcIik6ZX19KCk7dC5tb2R1bGUoXCJuZ1Nhbml0aXplXCIsW10pLnByb3ZpZGVyKFwiJHNhbml0aXplXCIsbiksdC5tb2R1bGUoXCJuZ1Nhbml0aXplXCIpLmZpbHRlcihcImxpbmt5XCIsW1wiJHNhbml0aXplXCIsZnVuY3Rpb24oZSl7dmFyIHI9LygoZnRwfGh0dHBzPyk6XFwvXFwvfCh3d3dcXC4pfChtYWlsdG86KT9bQS1aYS16MC05Ll8lKy1dK0ApXFxTKlteXFxzLjssKCl7fTw+XCLigJ3igJldLyxuPS9ebWFpbHRvOi87cmV0dXJuIGZ1bmN0aW9uKGEscyl7ZnVuY3Rpb24gbyhlKXtlJiZmLnB1c2goaShlKSl9ZnVuY3Rpb24gbChlLHIpe2YucHVzaChcIjxhIFwiKSx0LmlzRGVmaW5lZChzKSYmZi5wdXNoKCd0YXJnZXQ9XCInLHMsJ1wiICcpLGYucHVzaCgnaHJlZj1cIicsZS5yZXBsYWNlKC9cIi9nLFwiJnF1b3Q7XCIpLCdcIj4nKSxvKHIpLGYucHVzaChcIjwvYT5cIil9aWYoIWEpcmV0dXJuIGE7Zm9yKHZhciBjLHUsaCxwPWEsZj1bXTtjPXAubWF0Y2gocik7KXU9Y1swXSxjWzJdfHxjWzRdfHwodT0oY1szXT9cImh0dHA6Ly9cIjpcIm1haWx0bzpcIikrdSksaD1jLmluZGV4LG8ocC5zdWJzdHIoMCxoKSksbCh1LGNbMF0ucmVwbGFjZShuLFwiXCIpKSxwPXAuc3Vic3RyaW5nKGgrY1swXS5sZW5ndGgpO3JldHVybiBvKHApLGUoZi5qb2luKFwiXCIpKX19XSl9KHdpbmRvdyx3aW5kb3cuYW5ndWxhcik7XG4hZnVuY3Rpb24oZSx0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwidGV4dEFuZ3VsYXJcIixbXCJyYW5neVwiLFwicmFuZ3kvbGliL3Jhbmd5LXNlbGVjdGlvbnNhdmVyZXN0b3JlXCJdLGZ1bmN0aW9uKG4sYSl7cmV0dXJuIGVbXCJ0ZXh0QW5ndWxhci5uYW1lXCJdPXQobixhKX0pOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPXQocmVxdWlyZShcInJhbmd5XCIpLHJlcXVpcmUoXCJyYW5neS9saWIvcmFuZ3ktc2VsZWN0aW9uc2F2ZXJlc3RvcmVcIikpOmUudGV4dEFuZ3VsYXI9dChyYW5neSl9KHRoaXMsZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt0cnl7cmV0dXJuIDAhPT1hbmd1bGFyLmVsZW1lbnQoZSkubGVuZ3RofWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiBuKGUsbil7aWYoIWV8fFwiXCI9PT1lfHxhLmhhc093blByb3BlcnR5KGUpKXRocm93XCJ0ZXh0QW5ndWxhciBFcnJvcjogQSB1bmlxdWUgbmFtZSBpcyByZXF1aXJlZCBmb3IgYSBUb29sIERlZmluaXRpb25cIjtpZihuLmRpc3BsYXkmJihcIlwiPT09bi5kaXNwbGF5fHwhdChuLmRpc3BsYXkpKXx8IW4uZGlzcGxheSYmIW4uYnV0dG9udGV4dCYmIW4uaWNvbmNsYXNzKXRocm93J3RleHRBbmd1bGFyIEVycm9yOiBUb29sIERlZmluaXRpb24gZm9yIFwiJytlKydcIiBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgZGlzcGxheS9pY29uY2xhc3MvYnV0dG9udGV4dCB2YWx1ZSc7YVtlXT1ufXZhciBhPXt9O2FuZ3VsYXIubW9kdWxlKFwidGV4dEFuZ3VsYXJTZXR1cFwiLFtdKS5jb25zdGFudChcInRhUmVnaXN0ZXJUb29sXCIsbikudmFsdWUoXCJ0YVRvb2xzXCIsYSkudmFsdWUoXCJ0YU9wdGlvbnNcIix7Zm9yY2VUZXh0QW5ndWxhclNhbml0aXplOiEwLGtleU1hcHBpbmdzOltdLHRvb2xiYXI6W1tcImgxXCIsXCJoMlwiLFwiaDNcIixcImg0XCIsXCJoNVwiLFwiaDZcIixcInBcIixcInByZVwiLFwicXVvdGVcIl0sW1wiYm9sZFwiLFwiaXRhbGljc1wiLFwidW5kZXJsaW5lXCIsXCJzdHJpa2VUaHJvdWdoXCIsXCJ1bFwiLFwib2xcIixcInJlZG9cIixcInVuZG9cIixcImNsZWFyXCJdLFtcImp1c3RpZnlMZWZ0XCIsXCJqdXN0aWZ5Q2VudGVyXCIsXCJqdXN0aWZ5UmlnaHRcIixcImp1c3RpZnlGdWxsXCIsXCJpbmRlbnRcIixcIm91dGRlbnRcIl0sW1wiaHRtbFwiLFwiaW5zZXJ0SW1hZ2VcIixcImluc2VydExpbmtcIixcImluc2VydFZpZGVvXCIsXCJ3b3JkY291bnRcIixcImNoYXJjb3VudFwiXV0sY2xhc3Nlczp7Zm9jdXNzZWQ6XCJmb2N1c3NlZFwiLHRvb2xiYXI6XCJidG4tdG9vbGJhclwiLHRvb2xiYXJHcm91cDpcImJ0bi1ncm91cFwiLHRvb2xiYXJCdXR0b246XCJidG4gYnRuLWRlZmF1bHRcIix0b29sYmFyQnV0dG9uQWN0aXZlOlwiYWN0aXZlXCIsZGlzYWJsZWQ6XCJkaXNhYmxlZFwiLHRleHRFZGl0b3I6XCJmb3JtLWNvbnRyb2xcIixodG1sRWRpdG9yOlwiZm9ybS1jb250cm9sXCJ9LGRlZmF1bHRUYWdBdHRyaWJ1dGVzOnthOnt0YXJnZXQ6XCJcIn19LHNldHVwOnt0ZXh0RWRpdG9yU2V0dXA6ZnVuY3Rpb24oZSl7fSxodG1sRWRpdG9yU2V0dXA6ZnVuY3Rpb24oZSl7fX0sZGVmYXVsdEZpbGVEcm9wSGFuZGxlcjpmdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBGaWxlUmVhZGVyO3JldHVyblwiaW1hZ2VcIj09PWUudHlwZS5zdWJzdHJpbmcoMCw1KSYmKG4ub25sb2FkPWZ1bmN0aW9uKCl7XCJcIiE9PW4ucmVzdWx0JiZ0KFwiaW5zZXJ0SW1hZ2VcIixuLnJlc3VsdCwhMCl9LG4ucmVhZEFzRGF0YVVSTChlKSwhMCl9fSkudmFsdWUoXCJ0YVNlbGVjdGFibGVFbGVtZW50c1wiLFtcImFcIixcImltZ1wiXSkudmFsdWUoXCJ0YUN1c3RvbVJlbmRlcmVyc1wiLFt7c2VsZWN0b3I6XCJpbWdcIixjdXN0b21BdHRyaWJ1dGU6XCJ0YS1pbnNlcnQtdmlkZW9cIixyZW5kZXJMb2dpYzpmdW5jdGlvbihlKXt2YXIgdD1hbmd1bGFyLmVsZW1lbnQoXCI8aWZyYW1lPjwvaWZyYW1lPlwiKSxuPWUucHJvcChcImF0dHJpYnV0ZXNcIik7YW5ndWxhci5mb3JFYWNoKG4sZnVuY3Rpb24oZSl7dC5hdHRyKGUubmFtZSxlLnZhbHVlKX0pLHQuYXR0cihcInNyY1wiLHQuYXR0cihcInRhLWluc2VydC12aWRlb1wiKSksZS5yZXBsYWNlV2l0aCh0KX19XSkudmFsdWUoXCJ0YVRyYW5zbGF0aW9uc1wiLHtodG1sOnt0b29sdGlwOlwiVG9nZ2xlIGh0bWwgLyBSaWNoIFRleHRcIn0saGVhZGluZzp7dG9vbHRpcDpcIkhlYWRpbmcgXCJ9LHA6e3Rvb2x0aXA6XCJQYXJhZ3JhcGhcIn0scHJlOnt0b29sdGlwOlwiUHJlZm9ybWF0dGVkIHRleHRcIn0sdWw6e3Rvb2x0aXA6XCJVbm9yZGVyZWQgTGlzdFwifSxvbDp7dG9vbHRpcDpcIk9yZGVyZWQgTGlzdFwifSxxdW90ZTp7dG9vbHRpcDpcIlF1b3RlL3VucXVvdGUgc2VsZWN0aW9uIG9yIHBhcmFncmFwaFwifSx1bmRvOnt0b29sdGlwOlwiVW5kb1wifSxyZWRvOnt0b29sdGlwOlwiUmVkb1wifSxib2xkOnt0b29sdGlwOlwiQm9sZFwifSxpdGFsaWM6e3Rvb2x0aXA6XCJJdGFsaWNcIn0sdW5kZXJsaW5lOnt0b29sdGlwOlwiVW5kZXJsaW5lXCJ9LHN0cmlrZVRocm91Z2g6e3Rvb2x0aXA6XCJTdHJpa2V0aHJvdWdoXCJ9LGp1c3RpZnlMZWZ0Ont0b29sdGlwOlwiQWxpZ24gdGV4dCBsZWZ0XCJ9LGp1c3RpZnlSaWdodDp7dG9vbHRpcDpcIkFsaWduIHRleHQgcmlnaHRcIn0sanVzdGlmeUZ1bGw6e3Rvb2x0aXA6XCJKdXN0aWZ5IHRleHRcIn0sanVzdGlmeUNlbnRlcjp7dG9vbHRpcDpcIkNlbnRlclwifSxpbmRlbnQ6e3Rvb2x0aXA6XCJJbmNyZWFzZSBpbmRlbnRcIn0sb3V0ZGVudDp7dG9vbHRpcDpcIkRlY3JlYXNlIGluZGVudFwifSxjbGVhcjp7dG9vbHRpcDpcIkNsZWFyIGZvcm1hdHRpbmdcIn0saW5zZXJ0SW1hZ2U6e2RpYWxvZ1Byb21wdDpcIlBsZWFzZSBlbnRlciBhbiBpbWFnZSBVUkwgdG8gaW5zZXJ0XCIsdG9vbHRpcDpcIkluc2VydCBpbWFnZVwiLGhvdGtleTpcInRoZSAtIHBvc3NpYmx5IGxhbmd1YWdlIGRlcGVuZGVudCBob3RrZXkgLi4uIGZvciBzb21lIGZ1dHVyZSBpbXBsZW1lbnRhdGlvblwifSxpbnNlcnRWaWRlbzp7dG9vbHRpcDpcIkluc2VydCB2aWRlb1wiLGRpYWxvZ1Byb21wdDpcIlBsZWFzZSBlbnRlciBhIHlvdXR1YmUgVVJMIHRvIGVtYmVkXCJ9LGluc2VydExpbms6e3Rvb2x0aXA6XCJJbnNlcnQgLyBlZGl0IGxpbmtcIixkaWFsb2dQcm9tcHQ6XCJQbGVhc2UgZW50ZXIgYSBVUkwgdG8gaW5zZXJ0XCJ9LGVkaXRMaW5rOntyZUxpbmtCdXR0b246e3Rvb2x0aXA6XCJSZWxpbmtcIn0sdW5MaW5rQnV0dG9uOnt0b29sdGlwOlwiVW5saW5rXCJ9LHRhcmdldFRvZ2dsZTp7YnV0dG9udGV4dDpcIk9wZW4gaW4gTmV3IFdpbmRvd1wifX0sd29yZGNvdW50Ont0b29sdGlwOlwiRGlzcGxheSB3b3JkcyBDb3VudFwifSxjaGFyY291bnQ6e3Rvb2x0aXA6XCJEaXNwbGF5IGNoYXJhY3RlcnMgQ291bnRcIn19KS5mYWN0b3J5KFwidGFUb29sRnVuY3Rpb25zXCIsW1wiJHdpbmRvd1wiLFwidGFUcmFuc2xhdGlvbnNcIixmdW5jdGlvbihlLHQpe3JldHVybntpbWdPblNlbGVjdEFjdGlvbjpmdW5jdGlvbihlLHQsbil7dmFyIGE9ZnVuY3Rpb24oKXtuLnVwZGF0ZVRhQmluZHRhVGV4dEVsZW1lbnQoKSxuLmhpZGVQb3BvdmVyKCl9O2UucHJldmVudERlZmF1bHQoKSxuLmRpc3BsYXlFbGVtZW50cy5wb3BvdmVyLmNzcyhcIndpZHRoXCIsXCIzNzVweFwiKTt2YXIgbz1uLmRpc3BsYXlFbGVtZW50cy5wb3BvdmVyQ29udGFpbmVyO28uZW1wdHkoKTt2YXIgcj1hbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIiBzdHlsZT1cInBhZGRpbmctcmlnaHQ6IDZweDtcIj4nKSxsPWFuZ3VsYXIuZWxlbWVudCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIGJ0bi1zbWFsbFwiIHVuc2VsZWN0YWJsZT1cIm9uXCIgdGFiaW5kZXg9XCItMVwiPjEwMCUgPC9idXR0b24+Jyk7bC5vbihcImNsaWNrXCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHQuY3NzKHt3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCJcIn0pLGEoKX0pO3ZhciBpPWFuZ3VsYXIuZWxlbWVudCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIGJ0bi1zbWFsbFwiIHVuc2VsZWN0YWJsZT1cIm9uXCIgdGFiaW5kZXg9XCItMVwiPjUwJSA8L2J1dHRvbj4nKTtpLm9uKFwiY2xpY2tcIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdC5jc3Moe3dpZHRoOlwiNTAlXCIsaGVpZ2h0OlwiXCJ9KSxhKCl9KTt2YXIgcz1hbmd1bGFyLmVsZW1lbnQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tc21hbGxcIiB1bnNlbGVjdGFibGU9XCJvblwiIHRhYmluZGV4PVwiLTFcIj4yNSUgPC9idXR0b24+Jyk7cy5vbihcImNsaWNrXCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHQuY3NzKHt3aWR0aDpcIjI1JVwiLGhlaWdodDpcIlwifSksYSgpfSk7dmFyIGQ9YW5ndWxhci5lbGVtZW50KCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gYnRuLXNtYWxsXCIgdW5zZWxlY3RhYmxlPVwib25cIiB0YWJpbmRleD1cIi0xXCI+UmVzZXQ8L2J1dHRvbj4nKTtkLm9uKFwiY2xpY2tcIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdC5jc3Moe3dpZHRoOlwiXCIsaGVpZ2h0OlwiXCJ9KSxhKCl9KSxyLmFwcGVuZChsKSxyLmFwcGVuZChpKSxyLmFwcGVuZChzKSxyLmFwcGVuZChkKSxvLmFwcGVuZChyKSxyPWFuZ3VsYXIuZWxlbWVudCgnPGRpdiBjbGFzcz1cImJ0bi1ncm91cFwiIHN0eWxlPVwicGFkZGluZy1yaWdodDogNnB4O1wiPicpO3ZhciB1PWFuZ3VsYXIuZWxlbWVudCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIGJ0bi1zbWFsbFwiIHVuc2VsZWN0YWJsZT1cIm9uXCIgdGFiaW5kZXg9XCItMVwiPjxpIGNsYXNzPVwiZmEgZmEtYWxpZ24tbGVmdFwiPjwvaT48L2J1dHRvbj4nKTt1Lm9uKFwiY2xpY2tcIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdC5jc3MoXCJmbG9hdFwiLFwibGVmdFwiKSx0LmNzcyhcImNzc0Zsb2F0XCIsXCJsZWZ0XCIpLHQuY3NzKFwic3R5bGVGbG9hdFwiLFwibGVmdFwiKSxhKCl9KTt2YXIgYz1hbmd1bGFyLmVsZW1lbnQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tc21hbGxcIiB1bnNlbGVjdGFibGU9XCJvblwiIHRhYmluZGV4PVwiLTFcIj48aSBjbGFzcz1cImZhIGZhLWFsaWduLXJpZ2h0XCI+PC9pPjwvYnV0dG9uPicpO2Mub24oXCJjbGlja1wiLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSx0LmNzcyhcImZsb2F0XCIsXCJyaWdodFwiKSx0LmNzcyhcImNzc0Zsb2F0XCIsXCJyaWdodFwiKSx0LmNzcyhcInN0eWxlRmxvYXRcIixcInJpZ2h0XCIpLGEoKX0pO3ZhciBwPWFuZ3VsYXIuZWxlbWVudCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIGJ0bi1zbWFsbFwiIHVuc2VsZWN0YWJsZT1cIm9uXCIgdGFiaW5kZXg9XCItMVwiPjxpIGNsYXNzPVwiZmEgZmEtYWxpZ24tanVzdGlmeVwiPjwvaT48L2J1dHRvbj4nKTtwLm9uKFwiY2xpY2tcIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdC5jc3MoXCJmbG9hdFwiLFwiXCIpLHQuY3NzKFwiY3NzRmxvYXRcIixcIlwiKSx0LmNzcyhcInN0eWxlRmxvYXRcIixcIlwiKSxhKCl9KSxyLmFwcGVuZCh1KSxyLmFwcGVuZChwKSxyLmFwcGVuZChjKSxvLmFwcGVuZChyKSxyPWFuZ3VsYXIuZWxlbWVudCgnPGRpdiBjbGFzcz1cImJ0bi1ncm91cFwiPicpO3ZhciBmPWFuZ3VsYXIuZWxlbWVudCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIGJ0bi1zbWFsbFwiIHVuc2VsZWN0YWJsZT1cIm9uXCIgdGFiaW5kZXg9XCItMVwiPjxpIGNsYXNzPVwiZmEgZmEtdHJhc2gtb1wiPjwvaT48L2J1dHRvbj4nKTtmLm9uKFwiY2xpY2tcIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdC5yZW1vdmUoKSxhKCl9KSxyLmFwcGVuZChmKSxvLmFwcGVuZChyKSxuLnNob3dQb3BvdmVyKHQpLG4uc2hvd1Jlc2l6ZU92ZXJsYXkodCl9LGFPblNlbGVjdEFjdGlvbjpmdW5jdGlvbihuLGEsbyl7bi5wcmV2ZW50RGVmYXVsdCgpLG8uZGlzcGxheUVsZW1lbnRzLnBvcG92ZXIuY3NzKFwid2lkdGhcIixcIjQzNnB4XCIpO3ZhciByPW8uZGlzcGxheUVsZW1lbnRzLnBvcG92ZXJDb250YWluZXI7ci5lbXB0eSgpLHIuY3NzKFwibGluZS1oZWlnaHRcIixcIjI4cHhcIik7dmFyIGw9YW5ndWxhci5lbGVtZW50KCc8YSBocmVmPVwiJythLmF0dHIoXCJocmVmXCIpKydcIiB0YXJnZXQ9XCJfYmxhbmtcIj4nK2EuYXR0cihcImhyZWZcIikrXCI8L2E+XCIpO2wuY3NzKHtkaXNwbGF5OlwiaW5saW5lLWJsb2NrXCIsXCJtYXgtd2lkdGhcIjpcIjIwMHB4XCIsb3ZlcmZsb3c6XCJoaWRkZW5cIixcInRleHQtb3ZlcmZsb3dcIjpcImVsbGlwc2lzXCIsXCJ3aGl0ZS1zcGFjZVwiOlwibm93cmFwXCIsXCJ2ZXJ0aWNhbC1hbGlnblwiOlwibWlkZGxlXCJ9KSxyLmFwcGVuZChsKTt2YXIgaT1hbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJidG4tZ3JvdXAgcHVsbC1yaWdodFwiPicpLHM9YW5ndWxhci5lbGVtZW50KCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gYnRuLXNtYWxsXCIgdGFiaW5kZXg9XCItMVwiIHVuc2VsZWN0YWJsZT1cIm9uXCIgdGl0bGU9XCInK3QuZWRpdExpbmsucmVMaW5rQnV0dG9uLnRvb2x0aXArJ1wiPjxpIGNsYXNzPVwiZmEgZmEtZWRpdCBpY29uLWVkaXRcIj48L2k+PC9idXR0b24+Jyk7cy5vbihcImNsaWNrXCIsZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpO3ZhciByPWUucHJvbXB0KHQuaW5zZXJ0TGluay5kaWFsb2dQcm9tcHQsYS5hdHRyKFwiaHJlZlwiKSk7ciYmXCJcIiE9PXImJlwiaHR0cDovL1wiIT09ciYmKGEuYXR0cihcImhyZWZcIixyKSxvLnVwZGF0ZVRhQmluZHRhVGV4dEVsZW1lbnQoKSksby5oaWRlUG9wb3ZlcigpfSksaS5hcHBlbmQocyk7dmFyIGQ9YW5ndWxhci5lbGVtZW50KCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gYnRuLXNtYWxsXCIgdGFiaW5kZXg9XCItMVwiIHVuc2VsZWN0YWJsZT1cIm9uXCIgdGl0bGU9XCInK3QuZWRpdExpbmsudW5MaW5rQnV0dG9uLnRvb2x0aXArJ1wiPjxpIGNsYXNzPVwiZmEgZmEtdW5saW5rIGljb24tdW5saW5rXCI+PC9pPjwvYnV0dG9uPicpO2Qub24oXCJjbGlja1wiLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxhLnJlcGxhY2VXaXRoKGEuY29udGVudHMoKSksby51cGRhdGVUYUJpbmR0YVRleHRFbGVtZW50KCksby5oaWRlUG9wb3ZlcigpfSksaS5hcHBlbmQoZCk7dmFyIHU9YW5ndWxhci5lbGVtZW50KCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gYnRuLXNtYWxsXCIgdGFiaW5kZXg9XCItMVwiIHVuc2VsZWN0YWJsZT1cIm9uXCI+Jyt0LmVkaXRMaW5rLnRhcmdldFRvZ2dsZS5idXR0b250ZXh0K1wiPC9idXR0b24+XCIpO1wiX2JsYW5rXCI9PT1hLmF0dHIoXCJ0YXJnZXRcIikmJnUuYWRkQ2xhc3MoXCJhY3RpdmVcIiksdS5vbihcImNsaWNrXCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGEuYXR0cihcInRhcmdldFwiLFwiX2JsYW5rXCI9PT1hLmF0dHIoXCJ0YXJnZXRcIik/XCJcIjpcIl9ibGFua1wiKSx1LnRvZ2dsZUNsYXNzKFwiYWN0aXZlXCIpLG8udXBkYXRlVGFCaW5kdGFUZXh0RWxlbWVudCgpfSksaS5hcHBlbmQodSksci5hcHBlbmQoaSksby5zaG93UG9wb3ZlcihhKX0sZXh0cmFjdFlvdXR1YmVWaWRlb0lkOmZ1bmN0aW9uKGUpe3ZhciB0PS8oPzp5b3V0dWJlKD86LW5vY29va2llKT9cXC5jb21cXC8oPzpbXlxcL1xcblxcc10rXFwvXFxTK1xcL3woPzp2fGUoPzptYmVkKT8pXFwvfFxcUyo/Wz8mXXY9KXx5b3V0dVxcLmJlXFwvKShbYS16QS1aMC05Xy1dezExfSkvaSxuPWUubWF0Y2godCk7cmV0dXJuIG4mJm5bMV18fG51bGx9fX1dKS5ydW4oW1widGFSZWdpc3RlclRvb2xcIixcIiR3aW5kb3dcIixcInRhVHJhbnNsYXRpb25zXCIsXCJ0YVNlbGVjdGlvblwiLFwidGFUb29sRnVuY3Rpb25zXCIsXCIkc2FuaXRpemVcIixcInRhT3B0aW9uc1wiLGZ1bmN0aW9uKGUsdCxuLGEsbyxyLGwpe3ZhciBpPXt9O2lmKHIoXCJcIixpKSxsLmZvcmNlVGV4dEFuZ3VsYXJTYW5pdGl6ZT09PSEwJiZcInRhU2FuaXRpemVcIiE9PWkudmVyc2lvbil0aHJvdyBhbmd1bGFyLiQkbWluRXJyKFwidGV4dEFuZ3VsYXJcIikoXCJ0ZXh0QW5ndWxhclNldHVwXCIsXCJUaGUgdGV4dEFuZ3VsYXItc2FuaXRpemUgcHJvdmlkZXIgaGFzIGJlZW4gcmVwbGFjZWQgYnkgYW5vdGhlciAtLSBoYXZlIHlvdSBpbmNsdWRlZCBhbmd1bGFyLXNhbml0aXplIGJ5IG1pc3Rha2U/XCIpO2UoXCJodG1sXCIse2ljb25jbGFzczpcImZhIGZhLWNvZGVcIix0b29sdGlwdGV4dDpuLmh0bWwudG9vbHRpcCxhY3Rpb246ZnVuY3Rpb24oKXt0aGlzLiRlZGl0b3IoKS5zd2l0Y2hWaWV3KCl9LGFjdGl2ZVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVkaXRvcigpLnNob3dIdG1sfX0pO3ZhciBzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS5xdWVyeUZvcm1hdEJsb2NrU3RhdGUoZSl9fSxkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVkaXRvcigpLndyYXBTZWxlY3Rpb24oXCJmb3JtYXRCbG9ja1wiLFwiPFwiK3RoaXMubmFtZS50b1VwcGVyQ2FzZSgpK1wiPlwiKX07YW5ndWxhci5mb3JFYWNoKFtcImgxXCIsXCJoMlwiLFwiaDNcIixcImg0XCIsXCJoNVwiLFwiaDZcIl0sZnVuY3Rpb24odCl7ZSh0LnRvTG93ZXJDYXNlKCkse2J1dHRvbnRleHQ6dC50b1VwcGVyQ2FzZSgpLHRvb2x0aXB0ZXh0Om4uaGVhZGluZy50b29sdGlwK3QuY2hhckF0KDEpLGFjdGlvbjpkLGFjdGl2ZVN0YXRlOnModC50b0xvd2VyQ2FzZSgpKX0pfSksZShcInBcIix7YnV0dG9udGV4dDpcIlBcIix0b29sdGlwdGV4dDpuLnAudG9vbHRpcCxhY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkud3JhcFNlbGVjdGlvbihcImZvcm1hdEJsb2NrXCIsXCI8UD5cIil9LGFjdGl2ZVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVkaXRvcigpLnF1ZXJ5Rm9ybWF0QmxvY2tTdGF0ZShcInBcIil9fSksZShcInByZVwiLHtidXR0b250ZXh0OlwicHJlXCIsdG9vbHRpcHRleHQ6bi5wcmUudG9vbHRpcCxhY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkud3JhcFNlbGVjdGlvbihcImZvcm1hdEJsb2NrXCIsXCI8UFJFPlwiKX0sYWN0aXZlU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkucXVlcnlGb3JtYXRCbG9ja1N0YXRlKFwicHJlXCIpfX0pLGUoXCJ1bFwiLHtpY29uY2xhc3M6XCJmYSBmYS1saXN0LXVsXCIsdG9vbHRpcHRleHQ6bi51bC50b29sdGlwLGFjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS53cmFwU2VsZWN0aW9uKFwiaW5zZXJ0VW5vcmRlcmVkTGlzdFwiLG51bGwpfSxhY3RpdmVTdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS5xdWVyeUNvbW1hbmRTdGF0ZShcImluc2VydFVub3JkZXJlZExpc3RcIil9fSksZShcIm9sXCIse2ljb25jbGFzczpcImZhIGZhLWxpc3Qtb2xcIix0b29sdGlwdGV4dDpuLm9sLnRvb2x0aXAsYWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVkaXRvcigpLndyYXBTZWxlY3Rpb24oXCJpbnNlcnRPcmRlcmVkTGlzdFwiLG51bGwpfSxhY3RpdmVTdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS5xdWVyeUNvbW1hbmRTdGF0ZShcImluc2VydE9yZGVyZWRMaXN0XCIpfX0pLGUoXCJxdW90ZVwiLHtpY29uY2xhc3M6XCJmYSBmYS1xdW90ZS1yaWdodFwiLHRvb2x0aXB0ZXh0Om4ucXVvdGUudG9vbHRpcCxhY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkud3JhcFNlbGVjdGlvbihcImZvcm1hdEJsb2NrXCIsXCI8QkxPQ0tRVU9URT5cIil9LGFjdGl2ZVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVkaXRvcigpLnF1ZXJ5Rm9ybWF0QmxvY2tTdGF0ZShcImJsb2NrcXVvdGVcIil9fSksZShcInVuZG9cIix7aWNvbmNsYXNzOlwiZmEgZmEtdW5kb1wiLHRvb2x0aXB0ZXh0Om4udW5kby50b29sdGlwLGFjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS53cmFwU2VsZWN0aW9uKFwidW5kb1wiLG51bGwpfX0pLGUoXCJyZWRvXCIse2ljb25jbGFzczpcImZhIGZhLXJlcGVhdFwiLHRvb2x0aXB0ZXh0Om4ucmVkby50b29sdGlwLGFjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS53cmFwU2VsZWN0aW9uKFwicmVkb1wiLG51bGwpfX0pLGUoXCJib2xkXCIse2ljb25jbGFzczpcImZhIGZhLWJvbGRcIix0b29sdGlwdGV4dDpuLmJvbGQudG9vbHRpcCxhY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkud3JhcFNlbGVjdGlvbihcImJvbGRcIixudWxsKX0sYWN0aXZlU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkucXVlcnlDb21tYW5kU3RhdGUoXCJib2xkXCIpfSxjb21tYW5kS2V5Q29kZTo5OH0pLGUoXCJqdXN0aWZ5TGVmdFwiLHtpY29uY2xhc3M6XCJmYSBmYS1hbGlnbi1sZWZ0XCIsdG9vbHRpcHRleHQ6bi5qdXN0aWZ5TGVmdC50b29sdGlwLGFjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS53cmFwU2VsZWN0aW9uKFwianVzdGlmeUxlZnRcIixudWxsKX0sYWN0aXZlU3RhdGU6ZnVuY3Rpb24oZSl7aWYoZSYmXCIjZG9jdW1lbnRcIj09PWUubm9kZU5hbWUpcmV0dXJuITE7dmFyIHQ9ITE7cmV0dXJuIGUmJih0PVwibGVmdFwiPT09ZS5jc3MoXCJ0ZXh0LWFsaWduXCIpfHxcImxlZnRcIj09PWUuYXR0cihcImFsaWduXCIpfHxcInJpZ2h0XCIhPT1lLmNzcyhcInRleHQtYWxpZ25cIikmJlwiY2VudGVyXCIhPT1lLmNzcyhcInRleHQtYWxpZ25cIikmJlwianVzdGlmeVwiIT09ZS5jc3MoXCJ0ZXh0LWFsaWduXCIpJiYhdGhpcy4kZWRpdG9yKCkucXVlcnlDb21tYW5kU3RhdGUoXCJqdXN0aWZ5UmlnaHRcIikmJiF0aGlzLiRlZGl0b3IoKS5xdWVyeUNvbW1hbmRTdGF0ZShcImp1c3RpZnlDZW50ZXJcIikmJiF0aGlzLiRlZGl0b3IoKS5xdWVyeUNvbW1hbmRTdGF0ZShcImp1c3RpZnlGdWxsXCIpKSx0PXR8fHRoaXMuJGVkaXRvcigpLnF1ZXJ5Q29tbWFuZFN0YXRlKFwianVzdGlmeUxlZnRcIil9fSksZShcImp1c3RpZnlSaWdodFwiLHtpY29uY2xhc3M6XCJmYSBmYS1hbGlnbi1yaWdodFwiLHRvb2x0aXB0ZXh0Om4uanVzdGlmeVJpZ2h0LnRvb2x0aXAsYWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVkaXRvcigpLndyYXBTZWxlY3Rpb24oXCJqdXN0aWZ5UmlnaHRcIixudWxsKX0sYWN0aXZlU3RhdGU6ZnVuY3Rpb24oZSl7aWYoZSYmXCIjZG9jdW1lbnRcIj09PWUubm9kZU5hbWUpcmV0dXJuITE7dmFyIHQ9ITE7cmV0dXJuIGUmJih0PVwicmlnaHRcIj09PWUuY3NzKFwidGV4dC1hbGlnblwiKSksdD10fHx0aGlzLiRlZGl0b3IoKS5xdWVyeUNvbW1hbmRTdGF0ZShcImp1c3RpZnlSaWdodFwiKX19KSxlKFwianVzdGlmeUZ1bGxcIix7aWNvbmNsYXNzOlwiZmEgZmEtYWxpZ24tanVzdGlmeVwiLHRvb2x0aXB0ZXh0Om4uanVzdGlmeUZ1bGwudG9vbHRpcCxhY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkud3JhcFNlbGVjdGlvbihcImp1c3RpZnlGdWxsXCIsbnVsbCl9LGFjdGl2ZVN0YXRlOmZ1bmN0aW9uKGUpe3ZhciB0PSExO3JldHVybiBlJiYodD1cImp1c3RpZnlcIj09PWUuY3NzKFwidGV4dC1hbGlnblwiKSksdD10fHx0aGlzLiRlZGl0b3IoKS5xdWVyeUNvbW1hbmRTdGF0ZShcImp1c3RpZnlGdWxsXCIpfX0pLGUoXCJqdXN0aWZ5Q2VudGVyXCIse2ljb25jbGFzczpcImZhIGZhLWFsaWduLWNlbnRlclwiLHRvb2x0aXB0ZXh0Om4uanVzdGlmeUNlbnRlci50b29sdGlwLGFjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS53cmFwU2VsZWN0aW9uKFwianVzdGlmeUNlbnRlclwiLG51bGwpfSxhY3RpdmVTdGF0ZTpmdW5jdGlvbihlKXtpZihlJiZcIiNkb2N1bWVudFwiPT09ZS5ub2RlTmFtZSlyZXR1cm4hMTt2YXIgdD0hMTtyZXR1cm4gZSYmKHQ9XCJjZW50ZXJcIj09PWUuY3NzKFwidGV4dC1hbGlnblwiKSksdD10fHx0aGlzLiRlZGl0b3IoKS5xdWVyeUNvbW1hbmRTdGF0ZShcImp1c3RpZnlDZW50ZXJcIil9fSksZShcImluZGVudFwiLHtpY29uY2xhc3M6XCJmYSBmYS1pbmRlbnRcIix0b29sdGlwdGV4dDpuLmluZGVudC50b29sdGlwLGFjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS53cmFwU2VsZWN0aW9uKFwiaW5kZW50XCIsbnVsbCl9LGFjdGl2ZVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVkaXRvcigpLnF1ZXJ5Rm9ybWF0QmxvY2tTdGF0ZShcImJsb2NrcXVvdGVcIil9LGNvbW1hbmRLZXlDb2RlOlwiVGFiS2V5XCJ9KSxlKFwib3V0ZGVudFwiLHtpY29uY2xhc3M6XCJmYSBmYS1vdXRkZW50XCIsdG9vbHRpcHRleHQ6bi5vdXRkZW50LnRvb2x0aXAsYWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVkaXRvcigpLndyYXBTZWxlY3Rpb24oXCJvdXRkZW50XCIsbnVsbCl9LGFjdGl2ZVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuITF9LGNvbW1hbmRLZXlDb2RlOlwiU2hpZnRUYWJLZXlcIn0pLGUoXCJpdGFsaWNzXCIse2ljb25jbGFzczpcImZhIGZhLWl0YWxpY1wiLHRvb2x0aXB0ZXh0Om4uaXRhbGljLnRvb2x0aXAsYWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVkaXRvcigpLndyYXBTZWxlY3Rpb24oXCJpdGFsaWNcIixudWxsKX0sYWN0aXZlU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkucXVlcnlDb21tYW5kU3RhdGUoXCJpdGFsaWNcIil9LGNvbW1hbmRLZXlDb2RlOjEwNX0pLGUoXCJ1bmRlcmxpbmVcIix7aWNvbmNsYXNzOlwiZmEgZmEtdW5kZXJsaW5lXCIsdG9vbHRpcHRleHQ6bi51bmRlcmxpbmUudG9vbHRpcCxhY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZWRpdG9yKCkud3JhcFNlbGVjdGlvbihcInVuZGVybGluZVwiLG51bGwpfSxhY3RpdmVTdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS5xdWVyeUNvbW1hbmRTdGF0ZShcInVuZGVybGluZVwiKX0sY29tbWFuZEtleUNvZGU6MTE3fSksZShcInN0cmlrZVRocm91Z2hcIix7aWNvbmNsYXNzOlwiZmEgZmEtc3RyaWtldGhyb3VnaFwiLHRvb2x0aXB0ZXh0Om4uc3RyaWtlVGhyb3VnaC50b29sdGlwLGFjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlZGl0b3IoKS53cmFwU2VsZWN0aW9uKFwic3RyaWtlVGhyb3VnaFwiLG51bGwpfSxhY3RpdmVTdGF0ZTpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZShcInN0cmlrZVRocm91Z2hcIil9fSksZShcImNsZWFyXCIse2ljb25jbGFzczpcImZhIGZhLWJhblwiLHRvb2x0aXB0ZXh0Om4uY2xlYXIudG9vbHRpcCxhY3Rpb246ZnVuY3Rpb24oZSx0KXt2YXIgbjt0aGlzLiRlZGl0b3IoKS53cmFwU2VsZWN0aW9uKFwicmVtb3ZlRm9ybWF0XCIsbnVsbCk7dmFyIG89YW5ndWxhci5lbGVtZW50KGEuZ2V0U2VsZWN0aW9uRWxlbWVudCgpKSxyPWZ1bmN0aW9uKGUpe2U9YW5ndWxhci5lbGVtZW50KGUpO3ZhciB0PWU7YW5ndWxhci5mb3JFYWNoKGUuY2hpbGRyZW4oKSxmdW5jdGlvbihlKXt2YXIgbj1hbmd1bGFyLmVsZW1lbnQoXCI8cD48L3A+XCIpO24uaHRtbChhbmd1bGFyLmVsZW1lbnQoZSkuaHRtbCgpKSx0LmFmdGVyKG4pLHQ9bn0pLGUucmVtb3ZlKCl9O2lmKGFuZ3VsYXIuZm9yRWFjaChvLmZpbmQoXCJ1bFwiKSxyKSxhbmd1bGFyLmZvckVhY2goby5maW5kKFwib2xcIiksciksXCJsaVwiPT09b1swXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpe3ZhciBsPW9bMF0ucGFyZW50Tm9kZS5jaGlsZE5vZGVzLGk9W10scz1bXSxkPSExO2ZvcihuPTA7bjxsLmxlbmd0aDtuKyspbFtuXT09PW9bMF0/ZD0hMDpkP3MucHVzaChsW25dKTppLnB1c2gobFtuXSk7dmFyIHU9YW5ndWxhci5lbGVtZW50KG9bMF0ucGFyZW50Tm9kZSksYz1hbmd1bGFyLmVsZW1lbnQoXCI8cD48L3A+XCIpO2lmKGMuaHRtbChhbmd1bGFyLmVsZW1lbnQob1swXSkuaHRtbCgpKSwwPT09aS5sZW5ndGh8fDA9PT1zLmxlbmd0aCkwPT09cy5sZW5ndGg/dS5hZnRlcihjKTp1WzBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNbMF0sdVswXSksMD09PWkubGVuZ3RoJiYwPT09cy5sZW5ndGg/dS5yZW1vdmUoKTphbmd1bGFyLmVsZW1lbnQob1swXSkucmVtb3ZlKCk7ZWxzZXt2YXIgcD1hbmd1bGFyLmVsZW1lbnQoXCI8XCIrdVswXS50YWdOYW1lK1wiPjwvXCIrdVswXS50YWdOYW1lK1wiPlwiKSxmPWFuZ3VsYXIuZWxlbWVudChcIjxcIit1WzBdLnRhZ05hbWUrXCI+PC9cIit1WzBdLnRhZ05hbWUrXCI+XCIpO2ZvcihuPTA7bjxpLmxlbmd0aDtuKyspcC5hcHBlbmQoYW5ndWxhci5lbGVtZW50KGlbbl0pKTtmb3Iobj0wO248cy5sZW5ndGg7bisrKWYuYXBwZW5kKGFuZ3VsYXIuZWxlbWVudChzW25dKSk7dS5hZnRlcihmKSx1LmFmdGVyKGMpLHUuYWZ0ZXIocCksdS5yZW1vdmUoKX1hLnNldFNlbGVjdGlvblRvRWxlbWVudEVuZChjWzBdKX12YXIgbT10aGlzLiRlZGl0b3IoKSxnPWZ1bmN0aW9uKGUpe2U9YW5ndWxhci5lbGVtZW50KGUpLGVbMF0hPT1tLmRpc3BsYXlFbGVtZW50cy50ZXh0WzBdJiZlLnJlbW92ZUF0dHIoXCJjbGFzc1wiKSxhbmd1bGFyLmZvckVhY2goZS5jaGlsZHJlbigpLGcpfTthbmd1bGFyLmZvckVhY2gobyxnKSxcImxpXCIhPT1vWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmXCJvbFwiIT09b1swXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJlwidWxcIiE9PW9bMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZ0aGlzLiRlZGl0b3IoKS53cmFwU2VsZWN0aW9uKFwiZm9ybWF0QmxvY2tcIixcImRlZmF1bHRcIiksdCgpfX0pLGUoXCJpbnNlcnRJbWFnZVwiLHtpY29uY2xhc3M6XCJmYSBmYS1waWN0dXJlLW9cIix0b29sdGlwdGV4dDpuLmluc2VydEltYWdlLnRvb2x0aXAsYWN0aW9uOmZ1bmN0aW9uKCl7dmFyIGU7aWYoZT10LnByb21wdChuLmluc2VydEltYWdlLmRpYWxvZ1Byb21wdCxcImh0dHA6Ly9cIiksZSYmXCJcIiE9PWUmJlwiaHR0cDovL1wiIT09ZSl7XCJhXCI9PT1hLmdldFNlbGVjdGlvbkVsZW1lbnQoKS50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJmEuc2V0U2VsZWN0aW9uQWZ0ZXJFbGVtZW50KGEuZ2V0U2VsZWN0aW9uRWxlbWVudCgpKTt2YXIgbz0nPGltZyBzcmM9XCInK2UrJ1wiPic7cmV0dXJuIHRoaXMuJGVkaXRvcigpLndyYXBTZWxlY3Rpb24oXCJpbnNlcnRIVE1MXCIsbywhMCl9fSxvbkVsZW1lbnRTZWxlY3Q6e2VsZW1lbnQ6XCJpbWdcIixhY3Rpb246by5pbWdPblNlbGVjdEFjdGlvbn19KSxlKFwiaW5zZXJ0VmlkZW9cIix7aWNvbmNsYXNzOlwiZmEgZmEteW91dHViZS1wbGF5XCIsdG9vbHRpcHRleHQ6bi5pbnNlcnRWaWRlby50b29sdGlwLGFjdGlvbjpmdW5jdGlvbigpe3ZhciBlO2lmKGU9dC5wcm9tcHQobi5pbnNlcnRWaWRlby5kaWFsb2dQcm9tcHQsXCJodHRwczovL1wiKSxlJiZcIlwiIT09ZSYmXCJodHRwczovL1wiIT09ZSYmKHZpZGVvSWQ9by5leHRyYWN0WW91dHViZVZpZGVvSWQoZSksdmlkZW9JZCkpe3ZhciByPVwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvXCIrdmlkZW9JZCxsPSc8aW1nIGNsYXNzPVwidGEtaW5zZXJ0LXZpZGVvXCIgc3JjPVwiaHR0cHM6Ly9pbWcueW91dHViZS5jb20vdmkvJyt2aWRlb0lkKycvaHFkZWZhdWx0LmpwZ1wiIHRhLWluc2VydC12aWRlbz1cIicrcisnXCIgY29udGVudGVkaXRhYmxlPVwiZmFsc2VcIiBhbGxvd2Z1bGxzY3JlZW49XCJ0cnVlXCIgZnJhbWVib3JkZXI9XCIwXCIgLz4nO3JldHVyblwiYVwiPT09YS5nZXRTZWxlY3Rpb25FbGVtZW50KCkudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZhLnNldFNlbGVjdGlvbkFmdGVyRWxlbWVudChhLmdldFNlbGVjdGlvbkVsZW1lbnQoKSksdGhpcy4kZWRpdG9yKCkud3JhcFNlbGVjdGlvbihcImluc2VydEhUTUxcIixsLCEwKX19LG9uRWxlbWVudFNlbGVjdDp7ZWxlbWVudDpcImltZ1wiLG9ubHlXaXRoQXR0cnM6W1widGEtaW5zZXJ0LXZpZGVvXCJdLGFjdGlvbjpvLmltZ09uU2VsZWN0QWN0aW9ufX0pLGUoXCJpbnNlcnRMaW5rXCIse3Rvb2x0aXB0ZXh0Om4uaW5zZXJ0TGluay50b29sdGlwLGljb25jbGFzczpcImZhIGZhLWxpbmtcIixhY3Rpb246ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZT10LnByb21wdChuLmluc2VydExpbmsuZGlhbG9nUHJvbXB0LFwiaHR0cDovL1wiKSxlJiZcIlwiIT09ZSYmXCJodHRwOi8vXCIhPT1lP3RoaXMuJGVkaXRvcigpLndyYXBTZWxlY3Rpb24oXCJjcmVhdGVMaW5rXCIsZSwhMCk6dm9pZCAwfSxhY3RpdmVTdGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4hIWUmJlwiQVwiPT09ZVswXS50YWdOYW1lfSxvbkVsZW1lbnRTZWxlY3Q6e2VsZW1lbnQ6XCJhXCIsYWN0aW9uOm8uYU9uU2VsZWN0QWN0aW9ufX0pLGUoXCJ3b3JkY291bnRcIix7ZGlzcGxheTonPGRpdiBpZD1cInRvb2xiYXJXQ1wiIHN0eWxlPVwiZGlzcGxheTpibG9jazsgbWluLXdpZHRoOjEwMHB4O1wiPldvcmRzOiA8c3BhbiBuZy1iaW5kPVwid29yZGNvdW50XCI+PC9zcGFuPjwvZGl2PicsZGlzYWJsZWQ6ITAsd29yZGNvdW50OjAsYWN0aXZlU3RhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLiRlZGl0b3IoKS5kaXNwbGF5RWxlbWVudHMudGV4dCx0PWVbMF0uaW5uZXJIVE1MfHxcIlwiLG49MDtyZXR1cm5cIlwiIT09dC5yZXBsYWNlKC9cXHMqPFtePl0qPz5cXHMqL2csXCJcIikmJihuPXQucmVwbGFjZSgvPFxcLz8oYnxpfGVtfHN0cm9uZ3xzcGFufHV8c3RyaWtldGhyb3VnaHxhfGltZ3xzbWFsbHxzdWJ8c3VwfGxhYmVsKSggW14+Kj9dKT8+L2dpLFwiXCIpLnJlcGxhY2UoLyg8W14+XSo/Plxccyo8W14+XSo/PikvZ2ksXCIgXCIpLnJlcGxhY2UoLyg8W14+XSo/PikvZ2ksXCJcIikucmVwbGFjZSgvXFxzKy9naSxcIiBcIikubWF0Y2goL1xcUysvZykubGVuZ3RoKSx0aGlzLndvcmRjb3VudD1uLHRoaXMuJGVkaXRvcigpLndvcmRjb3VudD1uLCExfX0pLGUoXCJjaGFyY291bnRcIix7ZGlzcGxheTonPGRpdiBpZD1cInRvb2xiYXJDQ1wiIHN0eWxlPVwiZGlzcGxheTpibG9jazsgbWluLXdpZHRoOjEyMHB4O1wiPkNoYXJhY3RlcnM6IDxzcGFuIG5nLWJpbmQ9XCJjaGFyY291bnRcIj48L3NwYW4+PC9kaXY+JyxkaXNhYmxlZDohMCxjaGFyY291bnQ6MCxhY3RpdmVTdGF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuJGVkaXRvcigpLmRpc3BsYXlFbGVtZW50cy50ZXh0LHQ9ZVswXS5pbm5lclRleHR8fGVbMF0udGV4dENvbnRlbnQsbj10LnJlcGxhY2UoLyhcXHJcXG58XFxufFxccikvZ20sXCJcIikucmVwbGFjZSgvXlxccysvZyxcIiBcIikucmVwbGFjZSgvXFxzKyQvZyxcIiBcIikubGVuZ3RoO3JldHVybiB0aGlzLmNoYXJjb3VudD1uLHRoaXMuJGVkaXRvcigpLmNoYXJjb3VudD1uLCExfX0pfV0pO3ZhciBvPXtpZTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTMsbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGE9bi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlcIik7bi5pbm5lckhUTUw9XCI8IS0tW2lmIGd0IElFIFwiKyArK3QrXCJdPjxpPjwvaT48IVtlbmRpZl0tLT5cIixhWzBdOyk7cmV0dXJuIHQ+ND90OmV9KCksd2Via2l0Oi9BcHBsZVdlYktpdFxcLyhbXFxkLl0rKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LHI9L14oYWRkcmVzc3xhcnRpY2xlfGFzaWRlfGF1ZGlvfGJsb2NrcXVvdGV8Y2FudmFzfGRkfGRpdnxkbHxmaWVsZHNldHxmaWdjYXB0aW9ufGZpZ3VyZXxmb290ZXJ8Zm9ybXxoMXxoMnxoM3xoNHxoNXxoNnxoZWFkZXJ8aGdyb3VwfGhyfG5vc2NyaXB0fG9sfG91dHB1dHxwfHByZXxzZWN0aW9ufHRhYmxlfHRmb290fHVsfHZpZGVvKSQvaSxsPS9eKHVsfGxpfG9sKSQvaSxpPS9eKGFkZHJlc3N8YXJ0aWNsZXxhc2lkZXxhdWRpb3xibG9ja3F1b3RlfGNhbnZhc3xkZHxkaXZ8ZGx8ZmllbGRzZXR8ZmlnY2FwdGlvbnxmaWd1cmV8Zm9vdGVyfGZvcm18aDF8aDJ8aDN8aDR8aDV8aDZ8aGVhZGVyfGhncm91cHxocnxub3NjcmlwdHxvbHxvdXRwdXR8cHxwcmV8c2VjdGlvbnx0YWJsZXx0Zm9vdHx1bHx2aWRlb3xsaSkkL2k7U3RyaW5nLnByb3RvdHlwZS50cmltfHwoU3RyaW5nLnByb3RvdHlwZS50cmltPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKX0pO3ZhciBzLGQsdSxjLHAsZjtpZihvLmllPjh8fHZvaWQgMD09PW8uaWUpe2Zvcih2YXIgbT1kb2N1bWVudC5zdHlsZVNoZWV0cyxnPTA7ZzxtLmxlbmd0aDtnKyspaWYoKDA9PT1tW2ddLm1lZGlhLmxlbmd0aHx8bVtnXS5tZWRpYS5tZWRpYVRleHQubWF0Y2goLyhhbGx8c2NyZWVuKS9naSkpJiZtW2ddLmhyZWYmJm1bZ10uaHJlZi5tYXRjaCgvdGV4dGFuZ3VsYXJcXC4obWluXFwufCljc3MvZ2kpKXtzPW1bZ107YnJlYWt9c3x8KHM9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7cmV0dXJuIG8ud2Via2l0JiZlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpKSxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQoZSksZS5zaGVldH0oKSksZD1mdW5jdGlvbihlLHQpe3JldHVybiBjKHMsZSx0KX0sYz1mdW5jdGlvbihlLHQsbil7dmFyIGEsbztyZXR1cm4gZS5jc3NSdWxlcz9hPU1hdGgubWF4KGUuY3NzUnVsZXMubGVuZ3RoLTEsMCk6ZS5ydWxlcyYmKGE9TWF0aC5tYXgoZS5ydWxlcy5sZW5ndGgtMSwwKSksZS5pbnNlcnRSdWxlP2UuaW5zZXJ0UnVsZSh0K1wie1wiK24rXCJ9XCIsYSk6ZS5hZGRSdWxlKHQsbixhKSxzLnJ1bGVzP289cy5ydWxlc1thXTpzLmNzc1J1bGVzJiYobz1zLmNzc1J1bGVzW2FdKSxvfSxmPWZ1bmN0aW9uKGUsdCl7dmFyIG4sYTtmb3Iobj0wO248dC5sZW5ndGg7bisrKWlmKHRbbl0uY3NzVGV4dD09PWUuY3NzVGV4dCl7YT1uO2JyZWFrfXJldHVybiBhfSx1PWZ1bmN0aW9uKGUpe3AocyxlKX0scD1mdW5jdGlvbihlLHQpe3ZhciBuPWUuY3NzUnVsZXN8fGUucnVsZXM7aWYobiYmMCE9PW4ubGVuZ3RoKXt2YXIgYT1mKHQsbik7ZS5yZW1vdmVSdWxlP2UucmVtb3ZlUnVsZShhKTplLmRlbGV0ZVJ1bGUoYSl9fX1hbmd1bGFyLm1vZHVsZShcInRleHRBbmd1bGFyLmZhY3Rvcmllc1wiLFtdKS5mYWN0b3J5KFwidGFCcm93c2VyVGFnXCIsW2Z1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlP1wiXCI9PT1lP3ZvaWQgMD09PW8uaWU/XCJkaXZcIjpvLmllPD04P1wiUFwiOlwicFwiOm8uaWU8PTg/ZS50b1VwcGVyQ2FzZSgpOmU6by5pZTw9OD9cIlBcIjpcInBcIn19XSkuZmFjdG9yeShcInRhQXBwbHlDdXN0b21SZW5kZXJlcnNcIixbXCJ0YUN1c3RvbVJlbmRlcmVyc1wiLFwidGFET01cIixmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgYT1hbmd1bGFyLmVsZW1lbnQoXCI8ZGl2PjwvZGl2PlwiKTtyZXR1cm4gYVswXS5pbm5lckhUTUw9bixhbmd1bGFyLmZvckVhY2goZSxmdW5jdGlvbihlKXt2YXIgbj1bXTtlLnNlbGVjdG9yJiZcIlwiIT09ZS5zZWxlY3Rvcj9uPWEuZmluZChlLnNlbGVjdG9yKTplLmN1c3RvbUF0dHJpYnV0ZSYmXCJcIiE9PWUuY3VzdG9tQXR0cmlidXRlJiYobj10LmdldEJ5QXR0cmlidXRlKGEsZS5jdXN0b21BdHRyaWJ1dGUpKSxhbmd1bGFyLmZvckVhY2gobixmdW5jdGlvbih0KXt0PWFuZ3VsYXIuZWxlbWVudCh0KSxlLnNlbGVjdG9yJiZcIlwiIT09ZS5zZWxlY3RvciYmZS5jdXN0b21BdHRyaWJ1dGUmJlwiXCIhPT1lLmN1c3RvbUF0dHJpYnV0ZT92b2lkIDAhPT10LmF0dHIoZS5jdXN0b21BdHRyaWJ1dGUpJiZlLnJlbmRlckxvZ2ljKHQpOmUucmVuZGVyTG9naWModCl9KX0pLGFbMF0uaW5uZXJIVE1MfX1dKS5mYWN0b3J5KFwidGFGaXhDaHJvbWVcIixmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUpe2lmKCFlfHwhYW5ndWxhci5pc1N0cmluZyhlKXx8ZS5sZW5ndGg8PTApcmV0dXJuIGU7Zm9yKHZhciB0LG4sYSxvLHI9LzwoW14+XFwvXSs/KXN0eWxlPShcIihbXlxcXCJdKylcInwnKFteJ10rKScpKFtePl0qKT4vZ2ksbD0vPHNwYW4gY2xhc3M9XCJBcHBsZS1jb252ZXJ0ZWQtc3BhY2VcIj4oW148XSspPFxcL3NwYW4+L2dpLGk9XCJcIixzPTA7dD1sLmV4ZWMoZSk7KWE9dFsxXSxhPWEucmVwbGFjZSgvJm5ic3A7L2dpLFwiIFwiKSxpKz1lLnN1YnN0cmluZyhzLHQuaW5kZXgpK2Escz10LmluZGV4K3RbMF0ubGVuZ3RoO2ZvcihzJiYoZT1pLGk9XCJcIixzPTApO3Q9ci5leGVjKGUpOyluPXRbM118fHRbNF0sbiYmbi5tYXRjaCgvbGluZS1oZWlnaHQ6IDEuWzAtOV17MywxMn07fGNvbG9yOiBpbmhlcml0OyBsaW5lLWhlaWdodDogMS4xO3xjb2xvcjogcmdiXFwoXFxkezEsM30sIFxcZHsxLDN9LCBcXGR7MSwzfVxcKTt8YmFja2dyb3VuZC1jb2xvcjogcmdiXFwoXFxkezEsM30sIFxcZHsxLDN9LCBcXGR7MSwzfVxcKTsvaSkmJihuPW4ucmVwbGFjZSgvKCB8KWZvbnQtZmFtaWx5OiBpbmhlcml0O3woIHwpbGluZS1oZWlnaHQ6IDEuWzAtOV17MywxMn07fCggfCljb2xvcjogaW5oZXJpdDt8KCB8KWNvbG9yOiByZ2JcXChcXGR7MSwzfSwgXFxkezEsM30sIFxcZHsxLDN9XFwpO3woIHwpYmFja2dyb3VuZC1jb2xvcjogcmdiXFwoXFxkezEsM30sIFxcZHsxLDN9LCBcXGR7MSwzfVxcKTsvZ2ksXCJcIiksbz1cIjxcIit0WzFdLnRyaW0oKSxuLnRyaW0oKS5sZW5ndGg+MCYmKG8rPVwiIHN0eWxlPVwiK3RbMl0uc3Vic3RyaW5nKDAsMSkrbit0WzJdLnN1YnN0cmluZygwLDEpKSxvKz10WzVdLnRyaW0oKStcIj5cIixpKz1lLnN1YnN0cmluZyhzLHQuaW5kZXgpK28scz10LmluZGV4K3RbMF0ubGVuZ3RoKTtyZXR1cm4gaSs9ZS5zdWJzdHJpbmcocykscz4wP2kucmVwbGFjZSgvPHNwYW5cXHM/PiguKj8pPFxcL3NwYW4+KDxicihcXC98KT58KS9naSxcIiQxXCIpOmV9O3JldHVybiBlfSkuZmFjdG9yeShcInRhU2FuaXRpemVcIixbXCIkc2FuaXRpemVcIixmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCl7Zm9yKHZhciBuLGE9MCxvPTAscj0vPFtePl0qPi9naTtuPXIuZXhlYyhlKTspaWYobz1uLmluZGV4LFwiL1wiPT09blswXS5zdWJzdHIoMSwxKSl7aWYoMD09PWEpYnJlYWs7YS0tfWVsc2UgYSsrO3JldHVybiB0K2Uuc3Vic3RyaW5nKDAsbykrYW5ndWxhci5lbGVtZW50KHQpWzBdLm91dGVySFRNTC5zdWJzdHJpbmcodC5sZW5ndGgpK2Uuc3Vic3RyaW5nKG8pfWZ1bmN0aW9uIG4oZSl7aWYoIWV8fCFhbmd1bGFyLmlzU3RyaW5nKGUpfHxlLmxlbmd0aDw9MClyZXR1cm4gZTtmb3IodmFyIGEscixsLGkscyx1LGM9LzwoW14+XFwvXSs/KXN0eWxlPShcIihbXlwiXSspXCJ8JyhbXiddKyknKShbXj5dKik+L2dpLHA9XCJcIixmPVwiXCIsbT0wO3I9Yy5leGVjKGUpOyl7aT1yWzNdfHxyWzRdO3ZhciBnPW5ldyBSZWdFeHAoZCxcImlcIik7aWYoYW5ndWxhci5pc1N0cmluZyhpKSYmZy50ZXN0KGkpKXtzPVwiXCI7Zm9yKHZhciBoPW5ldyBSZWdFeHAoZCxcImlnXCIpO2w9aC5leGVjKGkpOylmb3IoYT0wO2E8by5sZW5ndGg7YSsrKWxbMiphKzJdJiYocys9XCI8XCIrb1thXS50YWcrXCI+XCIpO3U9bihlLnN1YnN0cmluZyhtLHIuaW5kZXgpKSxmKz1wLmxlbmd0aD4wP3QodSxwKTp1LGk9aS5yZXBsYWNlKG5ldyBSZWdFeHAoZCxcImlnXCIpLFwiXCIpLGYrPVwiPFwiK3JbMV0udHJpbSgpLGkubGVuZ3RoPjAmJihmKz0nIHN0eWxlPVwiJytpKydcIicpLGYrPXJbNV0rXCI+XCIsbT1yLmluZGV4K3JbMF0ubGVuZ3RoLHA9c319cmV0dXJuIGYrPXAubGVuZ3RoPjA/dChlLnN1YnN0cmluZyhtKSxwKTplLnN1YnN0cmluZyhtKX1mdW5jdGlvbiBhKGUpe2lmKCFlfHwhYW5ndWxhci5pc1N0cmluZyhlKXx8ZS5sZW5ndGg8PTApcmV0dXJuIGU7Zm9yKHZhciB0LG49LzwoW14+XFwvXSs/KWFsaWduPShcIihbXlwiXSspXCJ8JyhbXiddKyknKShbXj5dKik+L2dpLGE9XCJcIixvPTA7dD1uLmV4ZWMoZSk7KXthKz1lLnN1YnN0cmluZyhvLHQuaW5kZXgpLG89dC5pbmRleCt0WzBdLmxlbmd0aDt2YXIgcj1cIjxcIit0WzFdK3RbNV07L3N0eWxlPShcIihbXlwiXSspXCJ8JyhbXiddKyknKS9naS50ZXN0KHIpP3I9ci5yZXBsYWNlKC9zdHlsZT0oXCIoW15cIl0rKVwifCcoW14nXSspJykvaSwnc3R5bGU9XCIkMiQzIHRleHQtYWxpZ246JysodFszXXx8dFs0XSkrJztcIicpOnIrPScgc3R5bGU9XCJ0ZXh0LWFsaWduOicrKHRbM118fHRbNF0pKyc7XCInLHIrPVwiPlwiLGErPXJ9cmV0dXJuIGErZS5zdWJzdHJpbmcobyl9Zm9yKHZhciBvPVt7cHJvcGVydHk6XCJmb250LXdlaWdodFwiLHZhbHVlczpbXCJib2xkXCJdLHRhZzpcImJcIn0se3Byb3BlcnR5OlwiZm9udC1zdHlsZVwiLHZhbHVlczpbXCJpdGFsaWNcIl0sdGFnOlwiaVwifV0scj1bXSxsPTA7bDxvLmxlbmd0aDtsKyspe2Zvcih2YXIgaT1cIihcIitvW2xdLnByb3BlcnR5K1wiOlxcXFxzKihcIixzPTA7czxvW2xdLnZhbHVlcy5sZW5ndGg7cysrKXM+MCYmKGkrPVwifFwiKSxpKz1vW2xdLnZhbHVlc1tzXTtpKz1cIik7KVwiLHIucHVzaChpKX12YXIgZD1cIihcIityLmpvaW4oXCJ8XCIpK1wiKVwiO3JldHVybiBmdW5jdGlvbih0LG8scil7aWYoIXIpdHJ5e3Q9bih0KX1jYXRjaChlKXt9dD1hKHQpO3ZhciBsO3RyeXtsPWUodCksciYmKGw9dCl9Y2F0Y2goZSl7bD1vfHxcIlwifXZhciBpLHM9bC5tYXRjaCgvKDxwcmVbXj5dKj4uKj88XFwvcHJlW14+XSo+KS9naSksZD1sLnJlcGxhY2UoLygmIyg5fDEwKTspKi9naSxcIlwiKSx1PS88cHJlW14+XSo+Lio/PFxcL3ByZVtePl0qPi9naSxjPTAscD0wO2ZvcihsPVwiXCI7bnVsbCE9PShpPXUuZXhlYyhkKSkmJmM8cy5sZW5ndGg7KWwrPWQuc3Vic3RyaW5nKHAsaS5pbmRleCkrc1tjXSxwPWkuaW5kZXgraVswXS5sZW5ndGgsYysrO3JldHVybiBsK2Quc3Vic3RyaW5nKHApfX1dKS5mYWN0b3J5KFwidGFUb29sRXhlY3V0ZUFjdGlvblwiLFtcIiRxXCIsXCIkbG9nXCIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24obil7dm9pZCAwIT09biYmKHRoaXMuJGVkaXRvcj1mdW5jdGlvbigpe3JldHVybiBufSk7dmFyIGEsbz1lLmRlZmVyKCkscj1vLnByb21pc2UsbD10aGlzLiRlZGl0b3IoKTt0cnl7YT10aGlzLmFjdGlvbihvLGwuc3RhcnRBY3Rpb24oKSksci5maW5hbGx5KGZ1bmN0aW9uKCl7bC5lbmRBY3Rpb24uY2FsbChsKX0pfWNhdGNoKGUpe3QuZXJyb3IoZSl9KGF8fHZvaWQgMD09PWEpJiZvLnJlc29sdmUoKX19XSksYW5ndWxhci5tb2R1bGUoXCJ0ZXh0QW5ndWxhci5ET01cIixbXCJ0ZXh0QW5ndWxhci5mYWN0b3JpZXNcIl0pLmZhY3RvcnkoXCJ0YUV4ZWNDb21tYW5kXCIsW1widGFTZWxlY3Rpb25cIixcInRhQnJvd3NlclRhZ1wiLFwiJGRvY3VtZW50XCIsZnVuY3Rpb24odCxuLGEpe3ZhciBvPWZ1bmN0aW9uKGUsbil7dmFyIGEsbyxyPWUuZmluZChcImxpXCIpO2ZvcihvPXIubGVuZ3RoLTE7bz49MDtvLS0pYT1hbmd1bGFyLmVsZW1lbnQoXCI8XCIrbitcIj5cIityW29dLmlubmVySFRNTCtcIjwvXCIrbitcIj5cIiksZS5hZnRlcihhKTtlLnJlbW92ZSgpLHQuc2V0U2VsZWN0aW9uVG9FbGVtZW50RW5kKGFbMF0pfSxpPWZ1bmN0aW9uKGUpey8oPGJyKHxcXC8pPikkL2kudGVzdChlLmlubmVySFRNTC50cmltKCkpP3Quc2V0U2VsZWN0aW9uQmVmb3JlRWxlbWVudChhbmd1bGFyLmVsZW1lbnQoZSkuZmluZChcImJyXCIpWzBdKTp0LnNldFNlbGVjdGlvblRvRWxlbWVudEVuZChlKX0scz1mdW5jdGlvbihlLHQpe3ZhciBuPWFuZ3VsYXIuZWxlbWVudChcIjxcIit0K1wiPlwiK2VbMF0uaW5uZXJIVE1MK1wiPC9cIit0K1wiPlwiKTtlLmFmdGVyKG4pLGUucmVtb3ZlKCksaShuLmZpbmQoXCJsaVwiKVswXSl9LGQ9ZnVuY3Rpb24oZSx0LGEpe2Zvcih2YXIgbz1cIlwiLHI9MDtyPGUubGVuZ3RoO3IrKylvKz1cIjxcIituKFwibGlcIikrXCI+XCIrZVtyXS5pbm5lckhUTUwrXCI8L1wiK24oXCJsaVwiKStcIj5cIjt2YXIgbD1hbmd1bGFyLmVsZW1lbnQoXCI8XCIrYStcIj5cIitvK1wiPC9cIithK1wiPlwiKTt0LmFmdGVyKGwpLHQucmVtb3ZlKCksaShsLmZpbmQoXCJsaVwiKVswXSl9O3JldHVybiBmdW5jdGlvbihpLHUpe3JldHVybiBpPW4oaSksZnVuY3Rpb24oYyxwLGYsbSl7dmFyIGcsaCx2LGIseSx4LEUsUz1hbmd1bGFyLmVsZW1lbnQoXCI8XCIraStcIj5cIik7dHJ5e0U9dC5nZXRTZWxlY3Rpb25FbGVtZW50KCl9Y2F0Y2goZSl7fXZhciB3PWFuZ3VsYXIuZWxlbWVudChFKTtpZih2b2lkIDAhPT1FKXt2YXIgVD1FLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtpZihcImluc2VydG9yZGVyZWRsaXN0XCI9PT1jLnRvTG93ZXJDYXNlKCl8fFwiaW5zZXJ0dW5vcmRlcmVkbGlzdFwiPT09Yy50b0xvd2VyQ2FzZSgpKXt2YXIgQz1uKFwiaW5zZXJ0b3JkZXJlZGxpc3RcIj09PWMudG9Mb3dlckNhc2UoKT9cIm9sXCI6XCJ1bFwiKTtpZihUPT09QylyZXR1cm4gbyh3LGkpO2lmKFwibGlcIj09PVQmJncucGFyZW50KClbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpPT09QyYmMT09PXcucGFyZW50KCkuY2hpbGRyZW4oKS5sZW5ndGgpcmV0dXJuIG8ody5wYXJlbnQoKSxpKTtpZihcImxpXCI9PT1UJiZ3LnBhcmVudCgpWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSE9PUMmJjE9PT13LnBhcmVudCgpLmNoaWxkcmVuKCkubGVuZ3RoKXJldHVybiBzKHcucGFyZW50KCksQyk7aWYoVC5tYXRjaChyKSYmIXcuaGFzQ2xhc3MoXCJ0YS1iaW5kXCIpKXtpZihcIm9sXCI9PT1UfHxcInVsXCI9PT1UKXJldHVybiBzKHcsQyk7dmFyICQ9ITE7cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaCh3LmNoaWxkcmVuKCksZnVuY3Rpb24oZSl7ZS50YWdOYW1lLm1hdGNoKHIpJiYoJD0hMCl9KSwkP2Qody5jaGlsZHJlbigpLHcsQyk6ZChbYW5ndWxhci5lbGVtZW50KFwiPGRpdj5cIitFLmlubmVySFRNTCtcIjwvZGl2PlwiKVswXV0sdyxDKX1pZihULm1hdGNoKHIpKXtpZihiPXQuZ2V0T25seVNlbGVjdGVkRWxlbWVudHMoKSwwPT09Yi5sZW5ndGgpaD1hbmd1bGFyLmVsZW1lbnQoXCI8XCIrQytcIj48bGk+XCIrRS5pbm5lckhUTUwrXCI8L2xpPjwvXCIrQytcIj5cIiksdy5odG1sKFwiXCIpLHcuYXBwZW5kKGgpO2Vsc2V7aWYoMT09PWIubGVuZ3RoJiYoXCJvbFwiPT09YlswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCl8fFwidWxcIj09PWJbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpKSlyZXR1cm4gYlswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1DP28oYW5ndWxhci5lbGVtZW50KGJbMF0pLGkpOnMoYW5ndWxhci5lbGVtZW50KGJbMF0pLEMpO3Y9XCJcIjt2YXIgTj1bXTtmb3IoZz0wO2c8Yi5sZW5ndGg7ZysrKWlmKDMhPT1iW2ddLm5vZGVUeXBlKXt2YXIgTD1hbmd1bGFyLmVsZW1lbnQoYltnXSk7aWYoXCJsaVwiPT09YltnXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpY29udGludWU7dis9XCJvbFwiPT09YltnXS50YWdOYW1lLnRvTG93ZXJDYXNlKCl8fFwidWxcIj09PWJbZ10udGFnTmFtZS50b0xvd2VyQ2FzZSgpP0xbMF0uaW5uZXJIVE1MOlwic3BhblwiIT09YltnXS50YWdOYW1lLnRvTG93ZXJDYXNlKCl8fFwib2xcIiE9PWJbZ10uY2hpbGROb2Rlc1swXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJlwidWxcIiE9PWJbZ10uY2hpbGROb2Rlc1swXS50YWdOYW1lLnRvTG93ZXJDYXNlKCk/XCI8XCIrbihcImxpXCIpK1wiPlwiK0xbMF0uaW5uZXJIVE1MK1wiPC9cIituKFwibGlcIikrXCI+XCI6TFswXS5jaGlsZE5vZGVzWzBdLmlubmVySFRNTCxOLnVuc2hpZnQoTCl9aD1hbmd1bGFyLmVsZW1lbnQoXCI8XCIrQytcIj5cIit2K1wiPC9cIitDK1wiPlwiKSxOLnBvcCgpLnJlcGxhY2VXaXRoKGgpLGFuZ3VsYXIuZm9yRWFjaChOLGZ1bmN0aW9uKGUpe2UucmVtb3ZlKCl9KX1yZXR1cm4gdm9pZCB0LnNldFNlbGVjdGlvblRvRWxlbWVudEVuZChoWzBdKX19ZWxzZXtpZihcImZvcm1hdGJsb2NrXCI9PT1jLnRvTG93ZXJDYXNlKCkpe2Zvcih4PWYudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bPD5dL2dpLFwiXCIpLFwiZGVmYXVsdFwiPT09eC50cmltKCkmJih4PWksZj1cIjxcIitpK1wiPlwiKSxoPVwibGlcIj09PVQ/dy5wYXJlbnQoKTp3OyFoWzBdLnRhZ05hbWV8fCFoWzBdLnRhZ05hbWUubWF0Y2gocikmJiFoLnBhcmVudCgpLmF0dHIoXCJjb250ZW50ZWRpdGFibGVcIik7KWg9aC5wYXJlbnQoKSxUPShoWzBdLnRhZ05hbWV8fFwiXCIpLnRvTG93ZXJDYXNlKCk7aWYoVD09PXgpe2I9aC5jaGlsZHJlbigpO3ZhciBrPSExO2ZvcihnPTA7ZzxiLmxlbmd0aDtnKyspaz1rfHxiW2ddLnRhZ05hbWUubWF0Y2gocik7az8oaC5hZnRlcihiKSx5PWgubmV4dCgpLGgucmVtb3ZlKCksaD15KTooUy5hcHBlbmQoaFswXS5jaGlsZE5vZGVzKSxoLmFmdGVyKFMpLGgucmVtb3ZlKCksaD1TKX1lbHNlIGlmKGgucGFyZW50KClbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpIT09eHx8aC5wYXJlbnQoKS5oYXNDbGFzcyhcInRhLWJpbmRcIikpaWYoVC5tYXRjaChsKSloLndyYXAoZik7ZWxzZXtmb3IoYj10LmdldE9ubHlTZWxlY3RlZEVsZW1lbnRzKCksMD09PWIubGVuZ3RoJiYoYj1baFswXV0pLGc9MDtnPGIubGVuZ3RoO2crKylpZigzPT09YltnXS5ub2RlVHlwZXx8IWJbZ10udGFnTmFtZS5tYXRjaChyKSlmb3IoOzM9PT1iW2ddLm5vZGVUeXBlfHwhYltnXS50YWdOYW1lfHwhYltnXS50YWdOYW1lLm1hdGNoKHIpOyliW2ddPWJbZ10ucGFyZW50Tm9kZTtpZihiPWIuZmlsdGVyKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbi5pbmRleE9mKGUpPT09dH0pLGFuZ3VsYXIuZWxlbWVudChiWzBdKS5oYXNDbGFzcyhcInRhLWJpbmRcIikpaD1hbmd1bGFyLmVsZW1lbnQoZiksaFswXS5pbm5lckhUTUw9YlswXS5pbm5lckhUTUwsYlswXS5pbm5lckhUTUw9aFswXS5vdXRlckhUTUw7ZWxzZSBpZihcImJsb2NrcXVvdGVcIj09PXgpe2Zvcih2PVwiXCIsZz0wO2c8Yi5sZW5ndGg7ZysrKXYrPWJbZ10ub3V0ZXJIVE1MO2ZvcihoPWFuZ3VsYXIuZWxlbWVudChmKSxoWzBdLmlubmVySFRNTD12LGJbMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaFswXSxiWzBdKSxnPWIubGVuZ3RoLTE7Zz49MDtnLS0pYltnXS5wYXJlbnROb2RlJiZiW2ddLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYltnXSl9ZWxzZSBmb3IoZz0wO2c8Yi5sZW5ndGg7ZysrKWg9YW5ndWxhci5lbGVtZW50KGYpLGhbMF0uaW5uZXJIVE1MPWJbZ10uaW5uZXJIVE1MLGJbZ10ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaFswXSxiW2ddKSxiW2ddLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYltnXSl9ZWxzZXt2YXIgQT1oLnBhcmVudCgpLE09QS5jb250ZW50cygpO2ZvcihnPTA7ZzxNLmxlbmd0aDtnKyspQS5wYXJlbnQoKS5oYXNDbGFzcyhcInRhLWJpbmRcIikmJjM9PT1NW2ddLm5vZGVUeXBlJiYoUz1hbmd1bGFyLmVsZW1lbnQoXCI8XCIraStcIj5cIiksU1swXS5pbm5lckhUTUw9TVtnXS5vdXRlckhUTUwsTVtnXT1TWzBdKSxBLnBhcmVudCgpWzBdLmluc2VydEJlZm9yZShNW2ddLEFbMF0pO0EucmVtb3ZlKCl9cmV0dXJuIHZvaWQgdC5zZXRTZWxlY3Rpb25Ub0VsZW1lbnRFbmQoaFswXSl9aWYoXCJjcmVhdGVsaW5rXCI9PT1jLnRvTG93ZXJDYXNlKCkpe3ZhciBEPSc8YSBocmVmPVwiJytmKydcIiB0YXJnZXQ9XCInKyhtLmEudGFyZ2V0P20uYS50YXJnZXQ6XCJcIikrJ1wiPicsSD1cIjwvYT5cIixCPXQuZ2V0U2VsZWN0aW9uKCk7aWYoQi5jb2xsYXBzZWQpdC5pbnNlcnRIdG1sKEQrZitILHUpO2Vsc2UgaWYoZS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZUF0KDApLmNhblN1cnJvdW5kQ29udGVudHMoKSl7dmFyIFI9YW5ndWxhci5lbGVtZW50KEQrSClbMF07ZS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZUF0KDApLnN1cnJvdW5kQ29udGVudHMoUil9cmV0dXJufWlmKFwiaW5zZXJ0aHRtbFwiPT09Yy50b0xvd2VyQ2FzZSgpKXJldHVybiB2b2lkIHQuaW5zZXJ0SHRtbChmLHUpfX10cnl7YVswXS5leGVjQ29tbWFuZChjLHAsZil9Y2F0Y2goZSl7fX19fV0pLnNlcnZpY2UoXCJ0YVNlbGVjdGlvblwiLFtcIiRkb2N1bWVudFwiLFwidGFET01cIixmdW5jdGlvbih0LG4pe3ZhciBhPXRbMF0sbz1mdW5jdGlvbihlLHQpe3JldHVybiBlLnRhZ05hbWUmJmUudGFnTmFtZS5tYXRjaCgvXmJyJC9pKSYmMD09PXQmJiFlLnByZXZpb3VzU2libGluZz97ZWxlbWVudDplLnBhcmVudE5vZGUsb2Zmc2V0OjB9OntlbGVtZW50OmUsb2Zmc2V0OnR9fSxsPXtnZXRTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgdD1lLmdldFNlbGVjdGlvbigpLmdldFJhbmdlQXQoMCksbj10LmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyLGE9e3N0YXJ0Om8odC5zdGFydENvbnRhaW5lcix0LnN0YXJ0T2Zmc2V0KSxlbmQ6byh0LmVuZENvbnRhaW5lcix0LmVuZE9mZnNldCksY29sbGFwc2VkOnQuY29sbGFwc2VkfTtyZXR1cm4gbj0zPT09bi5ub2RlVHlwZT9uLnBhcmVudE5vZGU6bixuLnBhcmVudE5vZGU9PT1hLnN0YXJ0LmVsZW1lbnR8fG4ucGFyZW50Tm9kZT09PWEuZW5kLmVsZW1lbnQ/YS5jb250YWluZXI9bi5wYXJlbnROb2RlOmEuY29udGFpbmVyPW4sYX0sZ2V0T25seVNlbGVjdGVkRWxlbWVudHM6ZnVuY3Rpb24oKXt2YXIgdD1lLmdldFNlbGVjdGlvbigpLmdldFJhbmdlQXQoMCksbj10LmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO3JldHVybiBuPTM9PT1uLm5vZGVUeXBlP24ucGFyZW50Tm9kZTpuLHQuZ2V0Tm9kZXMoWzFdLGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmVudE5vZGU9PT1ufSl9LGdldFNlbGVjdGlvbkVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbC5nZXRTZWxlY3Rpb24oKS5jb250YWluZXJ9LHNldFNlbGVjdGlvbjpmdW5jdGlvbih0LG4sYSl7dmFyIG89ZS5jcmVhdGVSYW5nZSgpO28uc2V0U3RhcnQodCxuKSxvLnNldEVuZCh0LGEpLGUuZ2V0U2VsZWN0aW9uKCkuc2V0U2luZ2xlUmFuZ2Uobyl9LHNldFNlbGVjdGlvbkJlZm9yZUVsZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIG49ZS5jcmVhdGVSYW5nZSgpO24uc2VsZWN0Tm9kZSh0KSxuLmNvbGxhcHNlKCEwKSxlLmdldFNlbGVjdGlvbigpLnNldFNpbmdsZVJhbmdlKG4pfSxzZXRTZWxlY3Rpb25BZnRlckVsZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIG49ZS5jcmVhdGVSYW5nZSgpO24uc2VsZWN0Tm9kZSh0KSxuLmNvbGxhcHNlKCExKSxlLmdldFNlbGVjdGlvbigpLnNldFNpbmdsZVJhbmdlKG4pfSxzZXRTZWxlY3Rpb25Ub0VsZW1lbnRTdGFydDpmdW5jdGlvbih0KXt2YXIgbj1lLmNyZWF0ZVJhbmdlKCk7bi5zZWxlY3ROb2RlQ29udGVudHModCksbi5jb2xsYXBzZSghMCksZS5nZXRTZWxlY3Rpb24oKS5zZXRTaW5nbGVSYW5nZShuKX0sc2V0U2VsZWN0aW9uVG9FbGVtZW50RW5kOmZ1bmN0aW9uKHQpe3ZhciBuPWUuY3JlYXRlUmFuZ2UoKTtuLnNlbGVjdE5vZGVDb250ZW50cyh0KSxuLmNvbGxhcHNlKCExKSx0LmNoaWxkTm9kZXMmJnQuY2hpbGROb2Rlc1t0LmNoaWxkTm9kZXMubGVuZ3RoLTFdJiZcImJyXCI9PT10LmNoaWxkTm9kZXNbdC5jaGlsZE5vZGVzLmxlbmd0aC0xXS5ub2RlTmFtZSYmKG4uc3RhcnRPZmZzZXQ9bi5lbmRPZmZzZXQ9bi5zdGFydE9mZnNldC0xKSxlLmdldFNlbGVjdGlvbigpLnNldFNpbmdsZVJhbmdlKG4pfSxpbnNlcnRIdG1sOmZ1bmN0aW9uKHQsbyl7dmFyIHMsZCx1LGMscCxmLG0sZz1hbmd1bGFyLmVsZW1lbnQoXCI8ZGl2PlwiK3QrXCI8L2Rpdj5cIiksaD1lLmdldFNlbGVjdGlvbigpLmdldFJhbmdlQXQoMCksdj1hLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxiPWdbMF0uY2hpbGROb2Rlcyx5PSEwO2lmKGIubGVuZ3RoPjApe2ZvcihjPVtdLHU9MDt1PGIubGVuZ3RoO3UrKylcInBcIj09PWJbdV0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmXCJcIj09PWJbdV0uaW5uZXJIVE1MLnRyaW0oKXx8Mz09PWJbdV0ubm9kZVR5cGUmJlwiXCI9PT1iW3VdLm5vZGVWYWx1ZS50cmltKCl8fCh5PXkmJiFyLnRlc3QoYlt1XS5ub2RlTmFtZSksYy5wdXNoKGJbdV0pKTtmb3IodmFyIHg9MDt4PGMubGVuZ3RoO3grKylmPXYuYXBwZW5kQ2hpbGQoY1t4XSk7IXkmJmguY29sbGFwc2VkJiYvXih8PGJyKHxcXC8pPikkL2kudGVzdChoLnN0YXJ0Q29udGFpbmVyLmlubmVySFRNTCkmJmguc2VsZWN0Tm9kZShoLnN0YXJ0Q29udGFpbmVyKX1lbHNlIHk9ITAsZj12PWEuY3JlYXRlVGV4dE5vZGUodCk7aWYoeSloLmRlbGV0ZUNvbnRlbnRzKCk7ZWxzZSBpZihoLmNvbGxhcHNlZCYmaC5zdGFydENvbnRhaW5lciE9PW8paWYoaC5zdGFydENvbnRhaW5lci5pbm5lckhUTUwmJmguc3RhcnRDb250YWluZXIuaW5uZXJIVE1MLm1hdGNoKC9ePFtePl0qPiQvaSkpcz1oLnN0YXJ0Q29udGFpbmVyLDE9PT1oLnN0YXJ0T2Zmc2V0PyhoLnNldFN0YXJ0QWZ0ZXIocyksaC5zZXRFbmRBZnRlcihzKSk6KGguc2V0U3RhcnRCZWZvcmUocyksaC5zZXRFbmRCZWZvcmUocykpO2Vsc2V7aWYoMz09PWguc3RhcnRDb250YWluZXIubm9kZVR5cGUmJmguc3RhcnRDb250YWluZXIucGFyZW50Tm9kZSE9PW8pZm9yKHM9aC5zdGFydENvbnRhaW5lci5wYXJlbnROb2RlLGQ9cy5jbG9uZU5vZGUoKSxuLnNwbGl0Tm9kZXMocy5jaGlsZE5vZGVzLHMsZCxoLnN0YXJ0Q29udGFpbmVyLGguc3RhcnRPZmZzZXQpOyFpLnRlc3Qocy5ub2RlTmFtZSk7KXthbmd1bGFyLmVsZW1lbnQocykuYWZ0ZXIoZCkscz1zLnBhcmVudE5vZGU7dmFyIEU9ZDtkPXMuY2xvbmVOb2RlKCksbi5zcGxpdE5vZGVzKHMuY2hpbGROb2RlcyxzLGQsRSl9ZWxzZSBzPWguc3RhcnRDb250YWluZXIsZD1zLmNsb25lTm9kZSgpLG4uc3BsaXROb2RlcyhzLmNoaWxkTm9kZXMscyxkLHZvaWQgMCx2b2lkIDAsaC5zdGFydE9mZnNldCk7aWYoYW5ndWxhci5lbGVtZW50KHMpLmFmdGVyKGQpLGguc2V0U3RhcnRBZnRlcihzKSxoLnNldEVuZEFmdGVyKHMpLC9eKHw8YnIofFxcLyk+KSQvaS50ZXN0KHMuaW5uZXJIVE1MLnRyaW0oKSkmJihoLnNldFN0YXJ0QmVmb3JlKHMpLGguc2V0RW5kQmVmb3JlKHMpLGFuZ3VsYXIuZWxlbWVudChzKS5yZW1vdmUoKSksL14ofDxicih8XFwvKT4pJC9pLnRlc3QoZC5pbm5lckhUTUwudHJpbSgpKSYmYW5ndWxhci5lbGVtZW50KGQpLnJlbW92ZSgpLFwibGlcIj09PXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Zm9yKG09YS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscD0wO3A8di5jaGlsZE5vZGVzLmxlbmd0aDtwKyspZz1hbmd1bGFyLmVsZW1lbnQoXCI8bGk+XCIpLG4udHJhbnNmZXJDaGlsZE5vZGVzKHYuY2hpbGROb2Rlc1twXSxnWzBdKSxuLnRyYW5zZmVyTm9kZUF0dHJpYnV0ZXModi5jaGlsZE5vZGVzW3BdLGdbMF0pLG0uYXBwZW5kQ2hpbGQoZ1swXSk7dj1tLGYmJihmPXYuY2hpbGROb2Rlc1t2LmNoaWxkTm9kZXMubGVuZ3RoLTFdLGY9Zi5jaGlsZE5vZGVzW2YuY2hpbGROb2Rlcy5sZW5ndGgtMV0pfX1lbHNlIGguZGVsZXRlQ29udGVudHMoKTtoLmluc2VydE5vZGUodiksZiYmbC5zZXRTZWxlY3Rpb25Ub0VsZW1lbnRFbmQoZil9fTtyZXR1cm4gbH1dKS5zZXJ2aWNlKFwidGFET01cIixmdW5jdGlvbigpe3ZhciBlPXtnZXRCeUF0dHJpYnV0ZTpmdW5jdGlvbih0LG4pe3ZhciBhPVtdLG89dC5jaGlsZHJlbigpO3JldHVybiBvLmxlbmd0aCYmYW5ndWxhci5mb3JFYWNoKG8sZnVuY3Rpb24odCl7YT1hLmNvbmNhdChlLmdldEJ5QXR0cmlidXRlKGFuZ3VsYXIuZWxlbWVudCh0KSxuKSl9KSx2b2lkIDAhPT10LmF0dHIobikmJmEucHVzaCh0KSxhfSx0cmFuc2ZlckNoaWxkTm9kZXM6ZnVuY3Rpb24oZSx0KXtmb3IodC5pbm5lckhUTUw9XCJcIjtlLmNoaWxkTm9kZXMubGVuZ3RoPjA7KXQuYXBwZW5kQ2hpbGQoZS5jaGlsZE5vZGVzWzBdKTtyZXR1cm4gdH0sc3BsaXROb2RlczpmdW5jdGlvbih0LG4sYSxvLHIsbCl7aWYoIW8mJmlzTmFOKGwpKXRocm93IG5ldyBFcnJvcihcInRhRE9NLnNwbGl0Tm9kZXMgcmVxdWlyZXMgYSBzcGxpdE5vZGUgb3Igc3BsaXRJbmRleFwiKTtmb3IodmFyIGk9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHM9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGQ9MDt0Lmxlbmd0aD4wJiYoaXNOYU4obCl8fGwhPT1kKSYmdFswXSE9PW87KWkuYXBwZW5kQ2hpbGQodFswXSksZCsrO2ZvcighaXNOYU4ocikmJnI+PTAmJnRbMF0mJihpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRbMF0ubm9kZVZhbHVlLnN1YnN0cmluZygwLHIpKSksdFswXS5ub2RlVmFsdWU9dFswXS5ub2RlVmFsdWUuc3Vic3RyaW5nKHIpKTt0Lmxlbmd0aD4wOylzLmFwcGVuZENoaWxkKHRbMF0pO2UudHJhbnNmZXJDaGlsZE5vZGVzKGksbiksZS50cmFuc2ZlckNoaWxkTm9kZXMocyxhKX0sdHJhbnNmZXJOb2RlQXR0cmlidXRlczpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248ZS5hdHRyaWJ1dGVzLmxlbmd0aDtuKyspdC5zZXRBdHRyaWJ1dGUoZS5hdHRyaWJ1dGVzW25dLm5hbWUsZS5hdHRyaWJ1dGVzW25dLnZhbHVlKTtyZXR1cm4gdH19O3JldHVybiBlfSksYW5ndWxhci5tb2R1bGUoXCJ0ZXh0QW5ndWxhci52YWxpZGF0b3JzXCIsW10pLmRpcmVjdGl2ZShcInRhTWF4VGV4dFwiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6XCJuZ01vZGVsXCIsbGluazpmdW5jdGlvbihlLHQsbixhKXt2YXIgbz1wYXJzZUludChlLiRldmFsKG4udGFNYXhUZXh0KSk7aWYoaXNOYU4obykpdGhyb3dcIk1heCB0ZXh0IG11c3QgYmUgYW4gaW50ZWdlclwiO24uJG9ic2VydmUoXCJ0YU1heFRleHRcIixmdW5jdGlvbihlKXtpZihvPXBhcnNlSW50KGUpLGlzTmFOKG8pKXRocm93XCJNYXggdGV4dCBtdXN0IGJlIGFuIGludGVnZXJcIjthLiRkaXJ0eSYmYS4kdmFsaWRhdGUoKX0pLGEuJHZhbGlkYXRvcnMudGFNYXhUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0PWFuZ3VsYXIuZWxlbWVudChcIjxkaXYvPlwiKTtyZXR1cm4gdC5odG1sKGUpLHQudGV4dCgpLmxlbmd0aDw9b319fX0pLmRpcmVjdGl2ZShcInRhTWluVGV4dFwiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLFxucmVxdWlyZTpcIm5nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKGUsdCxuLGEpe3ZhciBvPXBhcnNlSW50KGUuJGV2YWwobi50YU1pblRleHQpKTtpZihpc05hTihvKSl0aHJvd1wiTWluIHRleHQgbXVzdCBiZSBhbiBpbnRlZ2VyXCI7bi4kb2JzZXJ2ZShcInRhTWluVGV4dFwiLGZ1bmN0aW9uKGUpe2lmKG89cGFyc2VJbnQoZSksaXNOYU4obykpdGhyb3dcIk1pbiB0ZXh0IG11c3QgYmUgYW4gaW50ZWdlclwiO2EuJGRpcnR5JiZhLiR2YWxpZGF0ZSgpfSksYS4kdmFsaWRhdG9ycy50YU1pblRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YW5ndWxhci5lbGVtZW50KFwiPGRpdi8+XCIpO3JldHVybiB0Lmh0bWwoZSksIXQudGV4dCgpLmxlbmd0aHx8dC50ZXh0KCkubGVuZ3RoPj1vfX19fSksYW5ndWxhci5tb2R1bGUoXCJ0ZXh0QW5ndWxhci50YUJpbmRcIixbXCJ0ZXh0QW5ndWxhci5mYWN0b3JpZXNcIixcInRleHRBbmd1bGFyLkRPTVwiXSkuc2VydmljZShcIl90YUJsYW5rVGVzdFwiLFtmdW5jdGlvbigpe3ZhciBlPS88KGF8YWJicnxhY3JvbnltfGJkaXxiZG98YmlnfGNpdGV8Y29kZXxkZWx8ZGZufGltZ3xpbnN8a2JkfGxhYmVsfG1hcHxtYXJrfHF8cnVieXxycHxydHxzfHNhbXB8dGltZXx0dHx2YXIpW14+XSooPnwkKS9pO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24obil7aWYoIW4pcmV0dXJuITA7dmFyIGEsbz0vKF5bXjxdfD4pW148XS9pLmV4ZWMobik7cmV0dXJuIG8/YT1vLmluZGV4OihuPW4udG9TdHJpbmcoKS5yZXBsYWNlKC89XCJbXlwiXSpcIi9pLFwiXCIpLnJlcGxhY2UoLz1cIlteXCJdKlwiL2ksXCJcIikucmVwbGFjZSgvPVwiW15cIl0qXCIvaSxcIlwiKS5yZXBsYWNlKC89XCJbXlwiXSpcIi9pLFwiXCIpLGE9bi5pbmRleE9mKFwiPlwiKSksbj1uLnRyaW0oKS5zdWJzdHJpbmcoYSxhKzEwMCksIS9eW148Pl0rJC9pLnRlc3QobikmJighKDAhPT1uLmxlbmd0aCYmbiE9PXQmJiEvXj4oXFxzfCZuYnNwOykqPFxcL1tePl0rPiQvZ2kudGVzdChuKSl8fCEvPlxccypbXlxcczxdL2kudGVzdChuKSYmIWUudGVzdChuKSl9fX1dKS5kaXJlY3RpdmUoXCJ0YUJ1dHRvblwiLFtmdW5jdGlvbigpe3JldHVybntsaW5rOmZ1bmN0aW9uKGUsdCxuKXt0LmF0dHIoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLHQub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihlLHQpe3JldHVybiB0JiZhbmd1bGFyLmV4dGVuZChlLHQpLGUucHJldmVudERlZmF1bHQoKSwhMX0pfX19XSkuZGlyZWN0aXZlKFwidGFCaW5kXCIsW1widGFTYW5pdGl6ZVwiLFwiJHRpbWVvdXRcIixcIiRkb2N1bWVudFwiLFwidGFGaXhDaHJvbWVcIixcInRhQnJvd3NlclRhZ1wiLFwidGFTZWxlY3Rpb25cIixcInRhU2VsZWN0YWJsZUVsZW1lbnRzXCIsXCJ0YUFwcGx5Q3VzdG9tUmVuZGVyZXJzXCIsXCJ0YU9wdGlvbnNcIixcIl90YUJsYW5rVGVzdFwiLFwiJHBhcnNlXCIsXCJ0YURPTVwiLFwidGV4dEFuZ3VsYXJNYW5hZ2VyXCIsZnVuY3Rpb24odCxuLGEsbCxzLGMscCxmLG0sZyx2LGIseSl7cmV0dXJue3ByaW9yaXR5OjIscmVxdWlyZTpbXCJuZ01vZGVsXCIsXCI/bmdNb2RlbE9wdGlvbnNcIl0sbGluazpmdW5jdGlvbihzLHgsRSxTKXtmdW5jdGlvbiB3KGUpe3ZhciB0O3JldHVybiBGLmZvckVhY2goZnVuY3Rpb24obil7aWYobi5rZXlDb2RlPT09ZS5rZXlDb2RlKXt2YXIgYT0oZS5tZXRhS2V5P0s6MCkrKGUuY3RybEtleT9fOjApKyhlLnNoaWZ0S2V5P086MCkrKGUuYWx0S2V5P3o6MCk7aWYobi5mb3JiaWRkZW5Nb2RpZmllcnMmYSlyZXR1cm47bi5tdXN0SGF2ZU1vZGlmaWVycy5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gYSZlfSkmJih0PW4uc3BlY2lhbEtleSl9fSksdH12YXIgVCxDLCQsTixMPVNbMF0saz1TWzFdfHx7fSxBPXZvaWQgMCE9PXguYXR0cihcImNvbnRlbnRlZGl0YWJsZVwiKSYmeC5hdHRyKFwiY29udGVudGVkaXRhYmxlXCIpLE09QXx8XCJ0ZXh0YXJlYVwiPT09eFswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiaW5wdXRcIj09PXhbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpLEQ9ITEsSD0hMSxCPSExLFI9RS50YVVuc2FmZVNhbml0aXplcnx8bS5kaXNhYmxlU2FuaXRpemVyLFc9L14oOXwxOXwyMHwyN3wzM3wzNHwzNXwzNnwzN3wzOHwzOXw0MHw0NXwxMTJ8MTEzfDExNHwxMTV8MTE2fDExN3wxMTh8MTE5fDEyMHwxMjF8MTIyfDEyM3wxNDR8MTQ1KSQvaSxxPS9eKDh8MTN8MzJ8NDZ8NTl8NjF8MTA3fDEwOXwxNzN8MTg2fDE4N3wxODh8MTg5fDE5MHwxOTF8MTkyfDIxOXwyMjB8MjIxfDIyMikkL2ksXz0xLEs9Mix6PTQsTz04LEY9W3tzcGVjaWFsS2V5OlwiVW5kb0tleVwiLGZvcmJpZGRlbk1vZGlmaWVyczp6K08sbXVzdEhhdmVNb2RpZmllcnM6W0srX10sa2V5Q29kZTo5MH0se3NwZWNpYWxLZXk6XCJSZWRvS2V5XCIsZm9yYmlkZGVuTW9kaWZpZXJzOnosbXVzdEhhdmVNb2RpZmllcnM6W0srXyxPXSxrZXlDb2RlOjkwfSx7c3BlY2lhbEtleTpcIlJlZG9LZXlcIixmb3JiaWRkZW5Nb2RpZmllcnM6eitPLG11c3RIYXZlTW9kaWZpZXJzOltLK19dLGtleUNvZGU6ODl9LHtzcGVjaWFsS2V5OlwiVGFiS2V5XCIsZm9yYmlkZGVuTW9kaWZpZXJzOksrTyt6K18sbXVzdEhhdmVNb2RpZmllcnM6W10sa2V5Q29kZTo5fSx7c3BlY2lhbEtleTpcIlNoaWZ0VGFiS2V5XCIsZm9yYmlkZGVuTW9kaWZpZXJzOksreitfLG11c3RIYXZlTW9kaWZpZXJzOltPXSxrZXlDb2RlOjl9XTt2b2lkIDA9PT1FLnRhRGVmYXVsdFdyYXAmJihFLnRhRGVmYXVsdFdyYXA9XCJwXCIpLFwiXCI9PT1FLnRhRGVmYXVsdFdyYXA/KCQ9XCJcIixOPXZvaWQgMD09PW8uaWU/XCI8ZGl2Pjxicj48L2Rpdj5cIjpvLmllPj0xMT9cIjxwPjxicj48L3A+XCI6by5pZTw9OD9cIjxQPiZuYnNwOzwvUD5cIjpcIjxwPiZuYnNwOzwvcD5cIik6KCQ9dm9pZCAwPT09by5pZXx8by5pZT49MTE/XCI8XCIrRS50YURlZmF1bHRXcmFwK1wiPjxicj48L1wiK0UudGFEZWZhdWx0V3JhcCtcIj5cIjpvLmllPD04P1wiPFwiK0UudGFEZWZhdWx0V3JhcC50b1VwcGVyQ2FzZSgpK1wiPjwvXCIrRS50YURlZmF1bHRXcmFwLnRvVXBwZXJDYXNlKCkrXCI+XCI6XCI8XCIrRS50YURlZmF1bHRXcmFwK1wiPjwvXCIrRS50YURlZmF1bHRXcmFwK1wiPlwiLE49dm9pZCAwPT09by5pZXx8by5pZT49MTE/XCI8XCIrRS50YURlZmF1bHRXcmFwK1wiPjxicj48L1wiK0UudGFEZWZhdWx0V3JhcCtcIj5cIjpvLmllPD04P1wiPFwiK0UudGFEZWZhdWx0V3JhcC50b1VwcGVyQ2FzZSgpK1wiPiZuYnNwOzwvXCIrRS50YURlZmF1bHRXcmFwLnRvVXBwZXJDYXNlKCkrXCI+XCI6XCI8XCIrRS50YURlZmF1bHRXcmFwK1wiPiZuYnNwOzwvXCIrRS50YURlZmF1bHRXcmFwK1wiPlwiKSxrLiRvcHRpb25zfHwoay4kb3B0aW9ucz17fSk7dmFyIEk9ZyhOKSxQPWZ1bmN0aW9uKGUpe2lmKEkoZSkpcmV0dXJuIGU7dmFyIHQ9YW5ndWxhci5lbGVtZW50KFwiPGRpdj5cIitlK1wiPC9kaXY+XCIpO2lmKDA9PT10LmNoaWxkcmVuKCkubGVuZ3RoKWU9XCI8XCIrRS50YURlZmF1bHRXcmFwK1wiPlwiK2UrXCI8L1wiK0UudGFEZWZhdWx0V3JhcCtcIj5cIjtlbHNle3ZhciBuLGE9dFswXS5jaGlsZE5vZGVzLG89ITE7Zm9yKG49MDtuPGEubGVuZ3RoJiYhKG89YVtuXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLm1hdGNoKHIpKTtuKyspO2lmKG8pZm9yKGU9XCJcIixuPTA7bjxhLmxlbmd0aDtuKyspe3ZhciBsPWFbbl0saT1sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoXCIjY29tbWVudFwiPT09aSllKz1cIjwhLS1cIitsLm5vZGVWYWx1ZStcIi0tPlwiO2Vsc2UgaWYoXCIjdGV4dFwiPT09aSl7dmFyIHM9bC50ZXh0Q29udGVudDtlKz1zLnRyaW0oKT9cIjxcIitFLnRhRGVmYXVsdFdyYXArXCI+XCIrcytcIjwvXCIrRS50YURlZmF1bHRXcmFwK1wiPlwiOnN9ZWxzZSBpZihpLm1hdGNoKHIpKWUrPWwub3V0ZXJIVE1MO2Vsc2V7dmFyIGQ9bC5vdXRlckhUTUx8fGwubm9kZVZhbHVlO2UrPVwiXCIhPT1kLnRyaW0oKT9cIjxcIitFLnRhRGVmYXVsdFdyYXArXCI+XCIrZCtcIjwvXCIrRS50YURlZmF1bHRXcmFwK1wiPlwiOmR9fWVsc2UgZT1cIjxcIitFLnRhRGVmYXVsdFdyYXArXCI+XCIrZStcIjwvXCIrRS50YURlZmF1bHRXcmFwK1wiPlwifXJldHVybiBlfTtFLnRhUGFzdGUmJihDPXYoRS50YVBhc3RlKSkseC5hZGRDbGFzcyhcInRhLWJpbmRcIik7dmFyIFY7c1tcIiR1bmRvTWFuYWdlclwiKyhFLmlkfHxcIlwiKV09TC4kdW5kb01hbmFnZXI9e19zdGFjazpbXSxfaW5kZXg6MCxfbWF4OjFlMyxwdXNoOmZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBlfHxudWxsPT09ZXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMuY3VycmVudCgpJiZudWxsIT09dGhpcy5jdXJyZW50KCkmJmU9PT10aGlzLmN1cnJlbnQoKT9lOih0aGlzLl9pbmRleDx0aGlzLl9zdGFjay5sZW5ndGgtMSYmKHRoaXMuX3N0YWNrPXRoaXMuX3N0YWNrLnNsaWNlKDAsdGhpcy5faW5kZXgrMSkpLHRoaXMuX3N0YWNrLnB1c2goZSksViYmbi5jYW5jZWwoViksdGhpcy5fc3RhY2subGVuZ3RoPnRoaXMuX21heCYmdGhpcy5fc3RhY2suc2hpZnQoKSx0aGlzLl9pbmRleD10aGlzLl9zdGFjay5sZW5ndGgtMSxlKX0sdW5kbzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldFRvSW5kZXgodGhpcy5faW5kZXgtMSl9LHJlZG86ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRUb0luZGV4KHRoaXMuX2luZGV4KzEpfSxzZXRUb0luZGV4OmZ1bmN0aW9uKGUpe3JldHVybiAwPmV8fGU+dGhpcy5fc3RhY2subGVuZ3RoLTE/dm9pZCAwOih0aGlzLl9pbmRleD1lLHRoaXMuY3VycmVudCgpKX0sY3VycmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGFja1t0aGlzLl9pbmRleF19fTt2YXIgVSxqPXNbXCIkdW5kb1RhQmluZFwiKyhFLmlkfHxcIlwiKV09ZnVuY3Rpb24oKXtpZighRCYmQSl7dmFyIGU9TC4kdW5kb01hbmFnZXIudW5kbygpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBlJiZudWxsIT09ZSYmKGRlKGUpLEooZSwhMSksVSYmbi5jYW5jZWwoVSksVT1uKGZ1bmN0aW9uKCl7eFswXS5mb2N1cygpLGMuc2V0U2VsZWN0aW9uVG9FbGVtZW50RW5kKHhbMF0pfSwxKSl9fSxHPXNbXCIkcmVkb1RhQmluZFwiKyhFLmlkfHxcIlwiKV09ZnVuY3Rpb24oKXtpZighRCYmQSl7dmFyIGU9TC4kdW5kb01hbmFnZXIucmVkbygpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBlJiZudWxsIT09ZSYmKGRlKGUpLEooZSwhMSksVSYmbi5jYW5jZWwoVSksVT1uKGZ1bmN0aW9uKCl7eFswXS5mb2N1cygpLGMuc2V0U2VsZWN0aW9uVG9FbGVtZW50RW5kKHhbMF0pfSwxKSl9fSxZPWZ1bmN0aW9uKCl7aWYoQSlyZXR1cm4geFswXS5pbm5lckhUTUw7aWYoTSlyZXR1cm4geC52YWwoKTt0aHJvd1widGV4dEFuZ3VsYXIgRXJyb3I6IGF0dGVtcHRpbmcgdG8gdXBkYXRlIG5vbi1lZGl0YWJsZSB0YUJpbmRcIn0sSj1mdW5jdGlvbihlLHQsbil7Qj1ufHwhMSwoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHR8fG51bGw9PT10KSYmKHQ9QSksKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlfHxudWxsPT09ZSkmJihlPVkoKSksSShlKT8oXCJcIiE9PUwuJHZpZXdWYWx1ZSYmTC4kc2V0Vmlld1ZhbHVlKFwiXCIpLHQmJlwiXCIhPT1MLiR1bmRvTWFuYWdlci5jdXJyZW50KCkmJkwuJHVuZG9NYW5hZ2VyLnB1c2goXCJcIikpOihzZSgpLEwuJHZpZXdWYWx1ZSE9PWUmJihMLiRzZXRWaWV3VmFsdWUoZSksdCYmTC4kdW5kb01hbmFnZXIucHVzaChlKSkpLEwuJHJlbmRlcigpfTtzW1widXBkYXRlVGFCaW5kXCIrKEUuaWR8fFwiXCIpXT1mdW5jdGlvbigpe0R8fEoodm9pZCAwLHZvaWQgMCwhMCl9O3ZhciBRPWZ1bmN0aW9uKGUpe3JldHVybiBMLiRvbGRWaWV3VmFsdWU9dChsKGUpLEwuJG9sZFZpZXdWYWx1ZSxSKX07aWYoeC5hdHRyKFwicmVxdWlyZWRcIikmJihMLiR2YWxpZGF0b3JzLnJlcXVpcmVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIUkoZXx8dCl9KSxMLiRwYXJzZXJzLnB1c2goUSksTC4kcGFyc2Vycy51bnNoaWZ0KFApLEwuJGZvcm1hdHRlcnMucHVzaChRKSxMLiRmb3JtYXR0ZXJzLnVuc2hpZnQoUCksTC4kZm9ybWF0dGVycy51bnNoaWZ0KGZ1bmN0aW9uKGUpe3JldHVybiBMLiR1bmRvTWFuYWdlci5wdXNoKGV8fFwiXCIpfSksTSlpZihzLmV2ZW50cz17fSxBKXt2YXIgWD0hMSxaPWZ1bmN0aW9uKGUpe3ZhciBhPWUubWF0Y2goL2NvbnRlbnQ9W1wiJ10qT25lTm90ZS5GaWxlL2kpO2lmKGUmJmUudHJpbSgpLmxlbmd0aCl7aWYoZS5tYXRjaCgvY2xhc3M9W1wiJ10qTXNvKE5vcm1hbHxMaXN0KS9pKXx8ZS5tYXRjaCgvY29udGVudD1bXCInXSpXb3JkLkRvY3VtZW50L2kpfHxlLm1hdGNoKC9jb250ZW50PVtcIiddKk9uZU5vdGUuRmlsZS9pKSl7dmFyIG89ZS5tYXRjaCgvPCEtLVN0YXJ0RnJhZ21lbnQtLT4oW1xcc1xcU10qPyk8IS0tRW5kRnJhZ21lbnQtLT4vaSk7bz1vP29bMV06ZSxvPW8ucmVwbGFjZSgvPG86cD5bXFxzXFxTXSo/PFxcL286cD4vZ2ksXCJcIikucmVwbGFjZSgvY2xhc3M9KFtcIiddfClNc29Ob3JtYWwoW1wiJ118KS9naSxcIlwiKTt2YXIgcj1hbmd1bGFyLmVsZW1lbnQoXCI8ZGl2PlwiK28rXCI8L2Rpdj5cIiksbD1hbmd1bGFyLmVsZW1lbnQoXCI8ZGl2PjwvZGl2PlwiKSxpPXtlbGVtZW50Om51bGwsbGFzdEluZGVudDpbXSxsYXN0TGk6bnVsbCxpc1VsOiExfTtpLmxhc3RJbmRlbnQucGVlaz1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO3JldHVybiBlPjA/dGhpc1tlLTFdOnZvaWQgMH07Zm9yKHZhciBkPWZ1bmN0aW9uKGUpe2kuaXNVbD1lLGkuZWxlbWVudD1hbmd1bGFyLmVsZW1lbnQoZT9cIjx1bD5cIjpcIjxvbD5cIiksaS5sYXN0SW5kZW50PVtdLGkubGFzdEluZGVudC5wZWVrPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZW5ndGg7cmV0dXJuIGU+MD90aGlzW2UtMV06dm9pZCAwfSxpLmxhc3RMZXZlbE1hdGNoPW51bGx9LHU9MDt1PD1yWzBdLmNoaWxkTm9kZXMubGVuZ3RoO3UrKylpZihyWzBdLmNoaWxkTm9kZXNbdV0mJlwiI3RleHRcIiE9PXJbMF0uY2hpbGROb2Rlc1t1XS5ub2RlTmFtZSl7dmFyIHA9clswXS5jaGlsZE5vZGVzW3VdLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtpZihcInBcIj09PXB8fFwiaDFcIj09PXB8fFwiaDJcIj09PXB8fFwiaDNcIj09PXB8fFwiaDRcIj09PXB8fFwiaDVcIj09PXB8fFwiaDZcIj09PXApe3ZhciBmPWFuZ3VsYXIuZWxlbWVudChyWzBdLmNoaWxkTm9kZXNbdV0pLG09KGYuYXR0cihcImNsYXNzXCIpfHxcIlwiKS5tYXRjaCgvTXNvTGlzdChCdWxsZXR8TnVtYmVyfFBhcmFncmFwaCkoQ3hTcChGaXJzdHxNaWRkbGV8TGFzdCl8KS9pKTtpZihtKXtpZihmWzBdLmNoaWxkTm9kZXMubGVuZ3RoPDJ8fGZbMF0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzLmxlbmd0aDwxKWNvbnRpbnVlO3ZhciBnPVwiYnVsbGV0XCI9PT1tWzFdLnRvTG93ZXJDYXNlKCl8fFwibnVtYmVyXCIhPT1tWzFdLnRvTG93ZXJDYXNlKCkmJiEoL15bXjAtOWEtejxdKlswLTlhLXpdK1teMC05YS16PD5dPC9pLnRlc3QoZlswXS5jaGlsZE5vZGVzWzFdLmlubmVySFRNTCl8fC9eW14wLTlhLXo8XSpbMC05YS16XStbXjAtOWEtejw+XTwvaS50ZXN0KGZbMF0uY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzBdLmlubmVySFRNTCkpLGg9KGYuYXR0cihcInN0eWxlXCIpfHxcIlwiKS5tYXRjaCgvbWFyZ2luLWxlZnQ6KFtcXC1cXC4wLTldKikvaSksdj1wYXJzZUZsb2F0KGg/aFsxXTowKSx5PShmLmF0dHIoXCJzdHlsZVwiKXx8XCJcIikubWF0Y2goL21zby1saXN0OmwoWzAtOV0rKSBsZXZlbChbMC05XSspIGxmb1swLTkrXSgkfDspL2kpO2lmKHkmJnlbMl0mJih2PXBhcnNlSW50KHlbMl0pKSx5JiYoIWkubGFzdExldmVsTWF0Y2h8fHlbMV0hPT1pLmxhc3RMZXZlbE1hdGNoWzFdKXx8IW1bM118fFwiZmlyc3RcIj09PW1bM10udG9Mb3dlckNhc2UoKXx8bnVsbD09PWkubGFzdEluZGVudC5wZWVrKCl8fGkuaXNVbCE9PWcmJmkubGFzdEluZGVudC5wZWVrKCk9PT12KWQoZyksbC5hcHBlbmQoaS5lbGVtZW50KTtlbHNlIGlmKG51bGwhPWkubGFzdEluZGVudC5wZWVrKCkmJmkubGFzdEluZGVudC5wZWVrKCk8dilpLmVsZW1lbnQ9YW5ndWxhci5lbGVtZW50KGc/XCI8dWw+XCI6XCI8b2w+XCIpLGkubGFzdExpLmFwcGVuZChpLmVsZW1lbnQpO2Vsc2UgaWYobnVsbCE9aS5sYXN0SW5kZW50LnBlZWsoKSYmaS5sYXN0SW5kZW50LnBlZWsoKT52KXtmb3IoO251bGwhPWkubGFzdEluZGVudC5wZWVrKCkmJmkubGFzdEluZGVudC5wZWVrKCk+djspaWYoXCJsaVwiIT09aS5lbGVtZW50LnBhcmVudCgpWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSl7aWYoIS9bdW9dbC9pLnRlc3QoaS5lbGVtZW50LnBhcmVudCgpWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkpYnJlYWs7aS5lbGVtZW50PWkuZWxlbWVudC5wYXJlbnQoKSxpLmxhc3RJbmRlbnQucG9wKCl9ZWxzZSBpLmVsZW1lbnQ9aS5lbGVtZW50LnBhcmVudCgpO2kuaXNVbD1cInVsXCI9PT1pLmVsZW1lbnRbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpLGchPT1pLmlzVWwmJihkKGcpLGwuYXBwZW5kKGkuZWxlbWVudCkpfWkubGFzdExldmVsTWF0Y2g9eSx2IT09aS5sYXN0SW5kZW50LnBlZWsoKSYmaS5sYXN0SW5kZW50LnB1c2godiksaS5sYXN0TGk9YW5ndWxhci5lbGVtZW50KFwiPGxpPlwiKSxpLmVsZW1lbnQuYXBwZW5kKGkubGFzdExpKSxpLmxhc3RMaS5odG1sKGYuaHRtbCgpLnJlcGxhY2UoLzwhKC0tfClcXFtpZiAhc3VwcG9ydExpc3RzXFxdKC0tfCk+W1xcc1xcU10qPzwhKC0tfClcXFtlbmRpZlxcXSgtLXwpPi9naSxcIlwiKSksZi5yZW1vdmUoKX1lbHNlIGQoITEpLGwuYXBwZW5kKGYpfX12YXIgRT1mdW5jdGlvbihlKXtlPWFuZ3VsYXIuZWxlbWVudChlKTtmb3IodmFyIHQ9ZVswXS5jaGlsZE5vZGVzLmxlbmd0aC0xO3Q+PTA7dC0tKWUuYWZ0ZXIoZVswXS5jaGlsZE5vZGVzW3RdKTtlLnJlbW92ZSgpfTthbmd1bGFyLmZvckVhY2gobC5maW5kKFwic3BhblwiKSxmdW5jdGlvbihlKXtlLnJlbW92ZUF0dHJpYnV0ZShcImxhbmdcIiksZS5hdHRyaWJ1dGVzLmxlbmd0aDw9MCYmRShlKX0pLGFuZ3VsYXIuZm9yRWFjaChsLmZpbmQoXCJmb250XCIpLEUpLGU9bC5odG1sKCksYSYmKGU9bC5odG1sKCl8fHIuaHRtbCgpKX1lbHNle2lmKGU9ZS5yZXBsYWNlKC88KHxcXC8pbWV0YVtePl0qPz4vZ2ksXCJcIiksZS5tYXRjaCgvPFtePl0qPyh0YS1iaW5kKVtePl0qPz4vKSl7aWYoZS5tYXRjaCgvPFtePl0qPyh0ZXh0LWFuZ3VsYXIpW14+XSo/Pi8pKXt2YXIgUz1hbmd1bGFyLmVsZW1lbnQoXCI8ZGl2PlwiK2UrXCI8L2Rpdj5cIik7Uy5maW5kKFwidGV4dGFyZWFcIikucmVtb3ZlKCk7Zm9yKHZhciB3PWIuZ2V0QnlBdHRyaWJ1dGUoUyxcInRhLWJpbmRcIiksVD0wO1Q8dy5sZW5ndGg7VCsrKXtmb3IodmFyICQ9d1tUXVswXS5wYXJlbnROb2RlLnBhcmVudE5vZGUsTj0wO048d1tUXVswXS5jaGlsZE5vZGVzLmxlbmd0aDtOKyspJC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh3W1RdWzBdLmNoaWxkTm9kZXNbTl0sJCk7JC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCQpfWU9Uy5odG1sKCkucmVwbGFjZSgnPGJyIGNsYXNzPVwiQXBwbGUtaW50ZXJjaGFuZ2UtbmV3bGluZVwiPicsXCJcIil9fWVsc2UgZS5tYXRjaCgvXjxzcGFuLykmJihlLm1hdGNoKC88c3BhbiBjbGFzcz0oXFxcIkFwcGxlLWNvbnZlcnRlZC1zcGFjZVxcXCJ8XFwnQXBwbGUtY29udmVydGVkLXNwYWNlXFwnKT4uPFxcL3NwYW4+L2dpKXx8KGU9ZS5yZXBsYWNlKC88KHxcXC8pc3BhbltePl0qPz4vZ2ksXCJcIikpKTtlPWUucmVwbGFjZSgvPGJyIGNsYXNzPVwiQXBwbGUtaW50ZXJjaGFuZ2UtbmV3bGluZVwiW14+XSo/Pi9naSxcIlwiKS5yZXBsYWNlKC88c3BhbiBjbGFzcz1cIkFwcGxlLWNvbnZlcnRlZC1zcGFjZVwiPiggfCZuYnNwOyk8XFwvc3Bhbj4vZ2ksXCImbmJzcDtcIil9LzxsaShcXHMuKik/Pi9pLnRlc3QoZSkmJi8oPHVsKFxccy4qKT8+fDxvbChcXHMuKik/PikuKjxsaShcXHMuKik/Pi9pLnRlc3QoZSk9PT0hMSYmKGU9ZS5yZXBsYWNlKC88bGkoXFxzLiopPz4uKjxcXC9saShcXHMuKik/Pi9pLFwiPHVsPiQmPC91bD5cIikpLGU9ZS5yZXBsYWNlKC9eWyB8XFx1MDBBMF0rL2dtLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1cIlwiLG49MDtuPGUubGVuZ3RoO24rKyl0Kz1cIiZuYnNwO1wiO3JldHVybiB0fSkucmVwbGFjZSgvXFxufFxcclxcbnxcXHIvZyxcIjxiciAvPlwiKS5yZXBsYWNlKC9cXHQvZyxcIiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwO1wiKSxDJiYoZT1DKHMseyRodG1sOmV9KXx8ZSksZT10KGUsXCJcIixSKSxjLmluc2VydEh0bWwoZSx4WzBdKSxuKGZ1bmN0aW9uKCl7TC4kc2V0Vmlld1ZhbHVlKFkoKSksWD0hMSx4LnJlbW92ZUNsYXNzKFwicHJvY2Vzc2luZy1wYXN0ZVwiKX0sMCl9ZWxzZSBYPSExLHgucmVtb3ZlQ2xhc3MoXCJwcm9jZXNzaW5nLXBhc3RlXCIpfTt4Lm9uKFwicGFzdGVcIixzLmV2ZW50cy5wYXN0ZT1mdW5jdGlvbih0LG8pe2lmKG8mJmFuZ3VsYXIuZXh0ZW5kKHQsbyksRHx8WClyZXR1cm4gdC5zdG9wUHJvcGFnYXRpb24oKSx0LnByZXZlbnREZWZhdWx0KCksITE7WD0hMCx4LmFkZENsYXNzKFwicHJvY2Vzc2luZy1wYXN0ZVwiKTt2YXIgcixsPSh0Lm9yaWdpbmFsRXZlbnR8fHQpLmNsaXBib2FyZERhdGE7aWYobCYmbC5nZXREYXRhJiZsLnR5cGVzLmxlbmd0aD4wKXtmb3IodmFyIGk9XCJcIixzPTA7czxsLnR5cGVzLmxlbmd0aDtzKyspaSs9XCIgXCIrbC50eXBlc1tzXTtyZXR1cm4vdGV4dFxcL2h0bWwvaS50ZXN0KGkpP3I9bC5nZXREYXRhKFwidGV4dC9odG1sXCIpOi90ZXh0XFwvcGxhaW4vaS50ZXN0KGkpJiYocj1sLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpKSxaKHIpLHQuc3RvcFByb3BhZ2F0aW9uKCksdC5wcmV2ZW50RGVmYXVsdCgpLCExfXZhciBkPWUuc2F2ZVNlbGVjdGlvbigpLHU9YW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwidGEtaGlkZGVuLWlucHV0XCIgY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiPjwvZGl2PicpO2EuZmluZChcImJvZHlcIikuYXBwZW5kKHUpLHVbMF0uZm9jdXMoKSxuKGZ1bmN0aW9uKCl7ZS5yZXN0b3JlU2VsZWN0aW9uKGQpLFoodVswXS5pbm5lckhUTUwpLHhbMF0uZm9jdXMoKSx1LnJlbW92ZSgpfSwwKX0pLHgub24oXCJjdXRcIixzLmV2ZW50cy5jdXQ9ZnVuY3Rpb24oZSl7RD9lLnByZXZlbnREZWZhdWx0KCk6bihmdW5jdGlvbigpe0wuJHNldFZpZXdWYWx1ZShZKCkpfSwwKX0pLHgub24oXCJrZXlkb3duXCIscy5ldmVudHMua2V5ZG93bj1mdW5jdGlvbihlLHQpe3QmJmFuZ3VsYXIuZXh0ZW5kKGUsdCksZS5zcGVjaWFsS2V5PXcoZSk7dmFyIG47aWYobS5rZXlNYXBwaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2Uuc3BlY2lhbEtleT09PXQuY29tbWFuZEtleUNvZGUmJihlLnNwZWNpYWxLZXk9dm9pZCAwKSx0LnRlc3RGb3JLZXkoZSkmJihuPXQuY29tbWFuZEtleUNvZGUpLChcIlVuZG9LZXlcIj09PXQuY29tbWFuZEtleUNvZGV8fFwiUmVkb0tleVwiPT09dC5jb21tYW5kS2V5Q29kZSkmJih0LmVuYWJsZVByb3BhZ2F0aW9ufHxlLnByZXZlbnREZWZhdWx0KCkpfSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG4mJihlLnNwZWNpYWxLZXk9biksXCJ1bmRlZmluZWRcIj09dHlwZW9mIGUuc3BlY2lhbEtleXx8XCJVbmRvS2V5XCI9PT1lLnNwZWNpYWxLZXkmJlwiUmVkb0tleVwiPT09ZS5zcGVjaWFsS2V5fHwoZS5wcmV2ZW50RGVmYXVsdCgpLHkuc2VuZEtleUNvbW1hbmQocyxlKSksIUQmJihcIlVuZG9LZXlcIj09PWUuc3BlY2lhbEtleSYmKGooKSxlLnByZXZlbnREZWZhdWx0KCkpLFwiUmVkb0tleVwiPT09ZS5zcGVjaWFsS2V5JiYoRygpLGUucHJldmVudERlZmF1bHQoKSksMTM9PT1lLmtleUNvZGUmJiFlLnNoaWZ0S2V5KSl7dmFyIGEsbz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKGVbbl09PT10KXJldHVybiEwO3JldHVybiExfSxyPWMuZ2V0U2VsZWN0aW9uRWxlbWVudCgpO2lmKCFyLnRhZ05hbWUubWF0Y2goaSkpcmV0dXJuO3ZhciBsPWFuZ3VsYXIuZWxlbWVudCgkKSxkPVtcImJsb2NrcXVvdGVcIixcInVsXCIsXCJvbFwiXTtpZihvKGQsci5wYXJlbnROb2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkpe2lmKC9ePGJyKHxcXC8pPiQvaS50ZXN0KHIuaW5uZXJIVE1MLnRyaW0oKSkmJiFyLm5leHRTaWJsaW5nKXthPWFuZ3VsYXIuZWxlbWVudChyKTt2YXIgdT1hLnBhcmVudCgpO3UuYWZ0ZXIobCksYS5yZW1vdmUoKSwwPT09dS5jaGlsZHJlbigpLmxlbmd0aCYmdS5yZW1vdmUoKSxjLnNldFNlbGVjdGlvblRvRWxlbWVudFN0YXJ0KGxbMF0pLGUucHJldmVudERlZmF1bHQoKX0vXjxbXj5dKz48YnIofFxcLyk+PFxcL1tePl0rPiQvaS50ZXN0KHIuaW5uZXJIVE1MLnRyaW0oKSkmJihhPWFuZ3VsYXIuZWxlbWVudChyKSxhLmFmdGVyKGwpLGEucmVtb3ZlKCksYy5zZXRTZWxlY3Rpb25Ub0VsZW1lbnRTdGFydChsWzBdKSxlLnByZXZlbnREZWZhdWx0KCkpfX19KTt2YXIgZWU7aWYoeC5vbihcImtleXVwXCIscy5ldmVudHMua2V5dXA9ZnVuY3Rpb24oZSx0KXtpZih0JiZhbmd1bGFyLmV4dGVuZChlLHQpLDk9PT1lLmtleUNvZGUpe3ZhciBhPWMuZ2V0U2VsZWN0aW9uKCk7cmV0dXJuIHZvaWQoYS5zdGFydC5lbGVtZW50PT09eFswXSYmeC5jaGlsZHJlbigpLmxlbmd0aCYmYy5zZXRTZWxlY3Rpb25Ub0VsZW1lbnRTdGFydCh4LmNoaWxkcmVuKClbMF0pKX1pZihWJiZuLmNhbmNlbChWKSwhRCYmIVcudGVzdChlLmtleUNvZGUpKXtpZihcIlwiIT09JCYmMTM9PT1lLmtleUNvZGUmJiFlLnNoaWZ0S2V5KXtmb3IodmFyIG89Yy5nZXRTZWxlY3Rpb25FbGVtZW50KCk7IW8udGFnTmFtZS5tYXRjaChpKSYmbyE9PXhbMF07KW89by5wYXJlbnROb2RlO2lmKG8udGFnTmFtZS50b0xvd2VyQ2FzZSgpIT09RS50YURlZmF1bHRXcmFwJiZcImxpXCIhPT1vLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmKFwiXCI9PT1vLmlubmVySFRNTC50cmltKCl8fFwiPGJyPlwiPT09by5pbm5lckhUTUwudHJpbSgpKSl7dmFyIHI9YW5ndWxhci5lbGVtZW50KCQpO2FuZ3VsYXIuZWxlbWVudChvKS5yZXBsYWNlV2l0aChyKSxjLnNldFNlbGVjdGlvblRvRWxlbWVudFN0YXJ0KHJbMF0pfX12YXIgbD1ZKCk7XCI8YnI+XCI9PT1sJiYobD1cIlwiKSxcIlwiIT09JCYmXCJcIj09PWwudHJpbSgpPyhkZSgkKSxjLnNldFNlbGVjdGlvblRvRWxlbWVudFN0YXJ0KHguY2hpbGRyZW4oKVswXSkpOlwiPFwiIT09bC5zdWJzdHJpbmcoMCwxKSYmXCJcIiE9PUUudGFEZWZhdWx0V3JhcDt2YXIgcz1UIT09ZS5rZXlDb2RlJiZxLnRlc3QoZS5rZXlDb2RlKTtlZSYmbi5jYW5jZWwoZWUpLGVlPW4oZnVuY3Rpb24oKXtKKGwscywhMCl9LGsuJG9wdGlvbnMuZGVib3VuY2V8fDQwMCksc3x8KFY9bihmdW5jdGlvbigpe0wuJHVuZG9NYW5hZ2VyLnB1c2gobCl9LDI1MCkpLFQ9ZS5rZXlDb2RlfX0pLHgub24oXCJibHVyXCIscy5ldmVudHMuYmx1cj1mdW5jdGlvbigpe0g9ITEsRD8oQj0hMCxMLiRyZW5kZXIoKSk6Sih2b2lkIDAsdm9pZCAwLCEwKX0pLEUucGxhY2Vob2xkZXImJihvLmllPjh8fHZvaWQgMD09PW8uaWUpKXt2YXIgdGU7aWYoIUUuaWQpdGhyb3dcInRleHRBbmd1bGFyIEVycm9yOiBBbiB1bmlxdWUgSUQgaXMgcmVxdWlyZWQgZm9yIHBsYWNlaG9sZGVycyB0byB3b3JrXCI7dGU9ZChcIiNcIitFLmlkK1wiLnBsYWNlaG9sZGVyLXRleHQ6YmVmb3JlXCIsJ2NvbnRlbnQ6IFwiJytFLnBsYWNlaG9sZGVyKydcIicpLHMuJG9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe3UodGUpfSl9eC5vbihcImZvY3VzXCIscy5ldmVudHMuZm9jdXM9ZnVuY3Rpb24oKXtIPSEwLHgucmVtb3ZlQ2xhc3MoXCJwbGFjZWhvbGRlci10ZXh0XCIpLHNlKCl9KSx4Lm9uKFwibW91c2V1cFwiLHMuZXZlbnRzLm1vdXNldXA9ZnVuY3Rpb24oKXt2YXIgZT1jLmdldFNlbGVjdGlvbigpO2Uuc3RhcnQuZWxlbWVudD09PXhbMF0mJnguY2hpbGRyZW4oKS5sZW5ndGgmJmMuc2V0U2VsZWN0aW9uVG9FbGVtZW50U3RhcnQoeC5jaGlsZHJlbigpWzBdKX0pLHgub24oXCJtb3VzZWRvd25cIixzLmV2ZW50cy5tb3VzZWRvd249ZnVuY3Rpb24oZSx0KXt0JiZhbmd1bGFyLmV4dGVuZChlLHQpLGUuc3RvcFByb3BhZ2F0aW9uKCl9KX1lbHNle3gub24oXCJjaGFuZ2UgYmx1clwiLHMuZXZlbnRzLmNoYW5nZT1zLmV2ZW50cy5ibHVyPWZ1bmN0aW9uKCl7RHx8TC4kc2V0Vmlld1ZhbHVlKFkoKSl9KSx4Lm9uKFwia2V5ZG93blwiLHMuZXZlbnRzLmtleWRvd249ZnVuY3Rpb24oZSx0KXtpZih0JiZhbmd1bGFyLmV4dGVuZChlLHQpLDk9PT1lLmtleUNvZGUpe3ZhciBuPXRoaXMuc2VsZWN0aW9uU3RhcnQsYT10aGlzLnNlbGVjdGlvbkVuZCxvPXgudmFsKCk7aWYoZS5zaGlmdEtleSl7dmFyIHI9by5sYXN0SW5kZXhPZihcIlxcblwiLG4pLGw9by5sYXN0SW5kZXhPZihcIlxcdFwiLG4pOy0xIT09bCYmbD49ciYmKHgudmFsKG8uc3Vic3RyaW5nKDAsbCkrby5zdWJzdHJpbmcobCsxKSksdGhpcy5zZWxlY3Rpb25TdGFydD10aGlzLnNlbGVjdGlvbkVuZD1uLTEpfWVsc2UgeC52YWwoby5zdWJzdHJpbmcoMCxuKStcIlxcdFwiK28uc3Vic3RyaW5nKGEpKSx0aGlzLnNlbGVjdGlvblN0YXJ0PXRoaXMuc2VsZWN0aW9uRW5kPW4rMTtlLnByZXZlbnREZWZhdWx0KCl9fSk7dmFyIG5lPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVwiXCIsYT0wO3Q+YTthKyspbis9ZTtyZXR1cm4gbn0sYWU9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgYT0wO2E8ZS5sZW5ndGg7YSsrKXQuY2FsbChuLGEsZVthXSl9LG9lPWZ1bmN0aW9uKGUsdCl7dmFyIG49XCJcIixhPWUuY2hpbGROb2RlcztyZXR1cm4gdCsrLG4rPW5lKFwiXFx0XCIsdC0xKStlLm91dGVySFRNTC5zdWJzdHJpbmcoMCw0KSxhZShhLGZ1bmN0aW9uKGUsYSl7dmFyIG89YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiI2NvbW1lbnRcIj09PW8/dm9pZChuKz1cIjwhLS1cIithLm5vZGVWYWx1ZStcIi0tPlwiKTpcIiN0ZXh0XCI9PT1vP3ZvaWQobis9YS50ZXh0Q29udGVudCk6dm9pZChhLm91dGVySFRNTCYmKG4rPVwidWxcIj09PW98fFwib2xcIj09PW8/XCJcXG5cIitvZShhLHQpOlwiXFxuXCIrbmUoXCJcXHRcIix0KSthLm91dGVySFRNTCkpfSksbis9XCJcXG5cIituZShcIlxcdFwiLHQtMSkrZS5vdXRlckhUTUwuc3Vic3RyaW5nKGUub3V0ZXJIVE1MLmxhc3RJbmRleE9mKFwiPFwiKSl9O0wuJGZvcm1hdHRlcnMudW5zaGlmdChmdW5jdGlvbihlKXt2YXIgdD1hbmd1bGFyLmVsZW1lbnQoXCI8ZGl2PlwiK2UrXCI8L2Rpdj5cIilbMF0uY2hpbGROb2RlcztyZXR1cm4gdC5sZW5ndGg+MCYmKGU9XCJcIixhZSh0LGZ1bmN0aW9uKHQsbil7dmFyIGE9bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiI2NvbW1lbnRcIj09PWE/dm9pZChlKz1cIjwhLS1cIituLm5vZGVWYWx1ZStcIi0tPlwiKTpcIiN0ZXh0XCI9PT1hP3ZvaWQoZSs9bi50ZXh0Q29udGVudCk6dm9pZChuLm91dGVySFRNTCYmKGUubGVuZ3RoPjAmJihlKz1cIlxcblwiKSxlKz1cInVsXCI9PT1hfHxcIm9sXCI9PT1hP1wiXCIrb2UobiwwKTpcIlwiK24ub3V0ZXJIVE1MKSl9KSksZX0pfXZhciByZSxsZT1mdW5jdGlvbihlKXtyZXR1cm4gcy4kZW1pdChcInRhLWVsZW1lbnQtc2VsZWN0XCIsdGhpcyksZS5wcmV2ZW50RGVmYXVsdCgpLCExfSxpZT1mdW5jdGlvbihlLHQpe2lmKHQmJmFuZ3VsYXIuZXh0ZW5kKGUsdCksIWgmJiFEKXtoPSEwO3ZhciBhO2E9ZS5vcmlnaW5hbEV2ZW50P2Uub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXI6ZS5kYXRhVHJhbnNmZXIscy4kZW1pdChcInRhLWRyb3AtZXZlbnRcIix0aGlzLGUsYSksbihmdW5jdGlvbigpe2g9ITEsSih2b2lkIDAsdm9pZCAwLCEwKX0sMTAwKX19LHNlPXNbXCJyZUFwcGx5T25TZWxlY3RvckhhbmRsZXJzXCIrKEUuaWR8fFwiXCIpXT1mdW5jdGlvbigpe0R8fGFuZ3VsYXIuZm9yRWFjaChwLGZ1bmN0aW9uKGUpe3guZmluZChlKS5vZmYoXCJjbGlja1wiLGxlKS5vbihcImNsaWNrXCIsbGUpfSl9LGRlPWZ1bmN0aW9uKGUpe3hbMF0uaW5uZXJIVE1MPWV9LHVlPSExO0wuJHJlbmRlcj1mdW5jdGlvbigpe2lmKCF1ZSl7dWU9ITA7dmFyIGU9TC4kdmlld1ZhbHVlfHxcIlwiO0J8fChBJiZIJiYoeC5yZW1vdmVDbGFzcyhcInBsYWNlaG9sZGVyLXRleHRcIikscmUmJm4uY2FuY2VsKHJlKSxyZT1uKGZ1bmN0aW9uKCl7SHx8KHhbMF0uZm9jdXMoKSxjLnNldFNlbGVjdGlvblRvRWxlbWVudEVuZCh4LmNoaWxkcmVuKClbeC5jaGlsZHJlbigpLmxlbmd0aC0xXSkpLHJlPXZvaWQgMH0sMSkpLEE/KGRlKEUucGxhY2Vob2xkZXI/XCJcIj09PWU/JDplOlwiXCI9PT1lPyQ6ZSksRD94Lm9mZihcImRyb3BcIixpZSk6KHNlKCkseC5vbihcImRyb3BcIixpZSkpKTpcInRleHRhcmVhXCIhPT14WzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmXCJpbnB1dFwiIT09eFswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCk/ZGUoZihlKSk6eC52YWwoZSkpLEEmJkUucGxhY2Vob2xkZXImJihcIlwiPT09ZT9IP3gucmVtb3ZlQ2xhc3MoXCJwbGFjZWhvbGRlci10ZXh0XCIpOnguYWRkQ2xhc3MoXCJwbGFjZWhvbGRlci10ZXh0XCIpOngucmVtb3ZlQ2xhc3MoXCJwbGFjZWhvbGRlci10ZXh0XCIpKSx1ZT1CPSExfX0sRS50YVJlYWRvbmx5JiYoRD1zLiRldmFsKEUudGFSZWFkb25seSksRD8oeC5hZGRDbGFzcyhcInRhLXJlYWRvbmx5XCIpLChcInRleHRhcmVhXCI9PT14WzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJpbnB1dFwiPT09eFswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpJiZ4LmF0dHIoXCJkaXNhYmxlZFwiLFwiZGlzYWJsZWRcIiksdm9pZCAwIT09eC5hdHRyKFwiY29udGVudGVkaXRhYmxlXCIpJiZ4LmF0dHIoXCJjb250ZW50ZWRpdGFibGVcIikmJngucmVtb3ZlQXR0cihcImNvbnRlbnRlZGl0YWJsZVwiKSk6KHgucmVtb3ZlQ2xhc3MoXCJ0YS1yZWFkb25seVwiKSxcInRleHRhcmVhXCI9PT14WzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJpbnB1dFwiPT09eFswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCk/eC5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik6QSYmeC5hdHRyKFwiY29udGVudGVkaXRhYmxlXCIsXCJ0cnVlXCIpKSxzLiR3YXRjaChFLnRhUmVhZG9ubHksZnVuY3Rpb24oZSx0KXt0IT09ZSYmKGU/KHguYWRkQ2xhc3MoXCJ0YS1yZWFkb25seVwiKSwoXCJ0ZXh0YXJlYVwiPT09eFswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiaW5wdXRcIj09PXhbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpKSYmeC5hdHRyKFwiZGlzYWJsZWRcIixcImRpc2FibGVkXCIpLHZvaWQgMCE9PXguYXR0cihcImNvbnRlbnRlZGl0YWJsZVwiKSYmeC5hdHRyKFwiY29udGVudGVkaXRhYmxlXCIpJiZ4LnJlbW92ZUF0dHIoXCJjb250ZW50ZWRpdGFibGVcIiksYW5ndWxhci5mb3JFYWNoKHAsZnVuY3Rpb24oZSl7eC5maW5kKGUpLm9uKFwiY2xpY2tcIixsZSl9KSx4Lm9mZihcImRyb3BcIixpZSkpOih4LnJlbW92ZUNsYXNzKFwidGEtcmVhZG9ubHlcIiksXCJ0ZXh0YXJlYVwiPT09eFswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiaW5wdXRcIj09PXhbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpP3gucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpOkEmJnguYXR0cihcImNvbnRlbnRlZGl0YWJsZVwiLFwidHJ1ZVwiKSxhbmd1bGFyLmZvckVhY2gocCxmdW5jdGlvbihlKXt4LmZpbmQoZSkub2ZmKFwiY2xpY2tcIixsZSl9KSx4Lm9uKFwiZHJvcFwiLGllKSksRD1lKX0pKSxBJiYhRCYmKGFuZ3VsYXIuZm9yRWFjaChwLGZ1bmN0aW9uKGUpe3guZmluZChlKS5vbihcImNsaWNrXCIsbGUpfSkseC5vbihcImRyb3BcIixpZSkpfX19XSk7dmFyIGg9ITEsdj1hbmd1bGFyLm1vZHVsZShcInRleHRBbmd1bGFyXCIsW1wibmdTYW5pdGl6ZVwiLFwidGV4dEFuZ3VsYXJTZXR1cFwiLFwidGV4dEFuZ3VsYXIuZmFjdG9yaWVzXCIsXCJ0ZXh0QW5ndWxhci5ET01cIixcInRleHRBbmd1bGFyLnZhbGlkYXRvcnNcIixcInRleHRBbmd1bGFyLnRhQmluZFwiXSk7cmV0dXJuIHYuY29uZmlnKFtmdW5jdGlvbigpe2FuZ3VsYXIuZm9yRWFjaChhLGZ1bmN0aW9uKGUsdCl7ZGVsZXRlIGFbdF19KX1dKSx2LmRpcmVjdGl2ZShcInRleHRBbmd1bGFyXCIsW1wiJGNvbXBpbGVcIixcIiR0aW1lb3V0XCIsXCJ0YU9wdGlvbnNcIixcInRhU2VsZWN0aW9uXCIsXCJ0YUV4ZWNDb21tYW5kXCIsXCJ0ZXh0QW5ndWxhck1hbmFnZXJcIixcIiRkb2N1bWVudFwiLFwiJGFuaW1hdGVcIixcIiRsb2dcIixcIiRxXCIsXCIkcGFyc2VcIixmdW5jdGlvbih0LG4sYSxvLHIsbCxpLHMsZCx1LGMpe3JldHVybntyZXF1aXJlOlwiP25nTW9kZWxcIixzY29wZTp7fSxyZXN0cmljdDpcIkVBXCIscHJpb3JpdHk6MixsaW5rOmZ1bmN0aW9uKHAsZixtLGcpe3ZhciBoLHYsYix5LHgsRSxTLHcsVCxDLCQsTj1tLnNlcmlhbD9tLnNlcmlhbDpNYXRoLmZsb29yKDFlMTYqTWF0aC5yYW5kb20oKSk7cC5fbmFtZT1tLm5hbWU/bS5uYW1lOlwidGV4dEFuZ3VsYXJFZGl0b3JcIitOO3ZhciBMPWZ1bmN0aW9uKGUsdCxhKXtuKGZ1bmN0aW9uKCl7dmFyIG49ZnVuY3Rpb24oKXtlLm9mZih0LG4pLGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtlLm9uKHQsbil9LDEwMCl9O2lmKFQ9cihtLnRhRGVmYXVsdFdyYXApLGFuZ3VsYXIuZXh0ZW5kKHAsYW5ndWxhci5jb3B5KGEpLHt3cmFwU2VsZWN0aW9uOmZ1bmN0aW9uKGUsdCxuKXtcInVuZG9cIj09PWUudG9Mb3dlckNhc2UoKT9wW1wiJHVuZG9UYUJpbmR0YVRleHRFbGVtZW50XCIrTl0oKTpcInJlZG9cIj09PWUudG9Mb3dlckNhc2UoKT9wW1wiJHJlZG9UYUJpbmR0YVRleHRFbGVtZW50XCIrTl0oKTooVChlLCExLHQscC5kZWZhdWx0VGFnQXR0cmlidXRlcyksbiYmcFtcInJlQXBwbHlPblNlbGVjdG9ySGFuZGxlcnN0YVRleHRFbGVtZW50XCIrTl0oKSxwLmRpc3BsYXlFbGVtZW50cy50ZXh0WzBdLmZvY3VzKCkpfSxzaG93SHRtbDpwLiRldmFsKG0udGFTaG93SHRtbCl8fCExfSksbS50YUZvY3Vzc2VkQ2xhc3MmJihwLmNsYXNzZXMuZm9jdXNzZWQ9bS50YUZvY3Vzc2VkQ2xhc3MpLG0udGFUZXh0RWRpdG9yQ2xhc3MmJihwLmNsYXNzZXMudGV4dEVkaXRvcj1tLnRhVGV4dEVkaXRvckNsYXNzKSxtLnRhSHRtbEVkaXRvckNsYXNzJiYocC5jbGFzc2VzLmh0bWxFZGl0b3I9bS50YUh0bWxFZGl0b3JDbGFzcyksbS50YURlZmF1bHRUYWdBdHRyaWJ1dGVzKXRyeXthbmd1bGFyLmV4dGVuZChwLmRlZmF1bHRUYWdBdHRyaWJ1dGVzLGFuZ3VsYXIuZnJvbUpzb24obS50YURlZmF1bHRUYWdBdHRyaWJ1dGVzKSl9Y2F0Y2goZSl7ZC5lcnJvcihlKX1tLnRhVGV4dEVkaXRvclNldHVwJiYocC5zZXR1cC50ZXh0RWRpdG9yU2V0dXA9cC4kcGFyZW50LiRldmFsKG0udGFUZXh0RWRpdG9yU2V0dXApKSxtLnRhSHRtbEVkaXRvclNldHVwJiYocC5zZXR1cC5odG1sRWRpdG9yU2V0dXA9cC4kcGFyZW50LiRldmFsKG0udGFIdG1sRWRpdG9yU2V0dXApKSxtLnRhRmlsZURyb3A/cC5maWxlRHJvcEhhbmRsZXI9cC4kcGFyZW50LiRldmFsKG0udGFGaWxlRHJvcCk6cC5maWxlRHJvcEhhbmRsZXI9cC5kZWZhdWx0RmlsZURyb3BIYW5kbGVyLFM9ZlswXS5pbm5lckhUTUwsZlswXS5pbm5lckhUTUw9XCJcIixwLmRpc3BsYXlFbGVtZW50cz17Zm9ybWlucHV0OmFuZ3VsYXIuZWxlbWVudChcIjxpbnB1dCB0eXBlPSdoaWRkZW4nIHRhYmluZGV4PSctMScgc3R5bGU9J2Rpc3BsYXk6IG5vbmU7Jz5cIiksaHRtbDphbmd1bGFyLmVsZW1lbnQoXCI8dGV4dGFyZWE+PC90ZXh0YXJlYT5cIiksdGV4dDphbmd1bGFyLmVsZW1lbnQoXCI8ZGl2PjwvZGl2PlwiKSxzY3JvbGxXaW5kb3c6YW5ndWxhci5lbGVtZW50KFwiPGRpdiBjbGFzcz0ndGEtc2Nyb2xsLXdpbmRvdyc+PC9kaXY+XCIpLHBvcG92ZXI6YW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwicG9wb3ZlciBmYWRlIGJvdHRvbVwiIHN0eWxlPVwibWF4LXdpZHRoOiBub25lOyB3aWR0aDogMzA1cHg7XCI+PC9kaXY+JykscG9wb3ZlckFycm93OmFuZ3VsYXIuZWxlbWVudCgnPGRpdiBjbGFzcz1cImFycm93XCI+PC9kaXY+JykscG9wb3ZlckNvbnRhaW5lcjphbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJwb3BvdmVyLWNvbnRlbnRcIj48L2Rpdj4nKSxyZXNpemU6e292ZXJsYXk6YW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwidGEtcmVzaXplci1oYW5kbGUtb3ZlcmxheVwiPjwvZGl2PicpLGJhY2tncm91bmQ6YW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwidGEtcmVzaXplci1oYW5kbGUtYmFja2dyb3VuZFwiPjwvZGl2PicpLGFuY2hvcnM6W2FuZ3VsYXIuZWxlbWVudCgnPGRpdiBjbGFzcz1cInRhLXJlc2l6ZXItaGFuZGxlLWNvcm5lciB0YS1yZXNpemVyLWhhbmRsZS1jb3JuZXItdGxcIj48L2Rpdj4nKSxhbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJ0YS1yZXNpemVyLWhhbmRsZS1jb3JuZXIgdGEtcmVzaXplci1oYW5kbGUtY29ybmVyLXRyXCI+PC9kaXY+JyksYW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwidGEtcmVzaXplci1oYW5kbGUtY29ybmVyIHRhLXJlc2l6ZXItaGFuZGxlLWNvcm5lci1ibFwiPjwvZGl2PicpLGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBjbGFzcz1cInRhLXJlc2l6ZXItaGFuZGxlLWNvcm5lciB0YS1yZXNpemVyLWhhbmRsZS1jb3JuZXItYnJcIj48L2Rpdj4nKV0saW5mbzphbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJ0YS1yZXNpemVyLWhhbmRsZS1pbmZvXCI+PC9kaXY+Jyl9fSxwLmRpc3BsYXlFbGVtZW50cy5wb3BvdmVyLmFwcGVuZChwLmRpc3BsYXlFbGVtZW50cy5wb3BvdmVyQXJyb3cpLHAuZGlzcGxheUVsZW1lbnRzLnBvcG92ZXIuYXBwZW5kKHAuZGlzcGxheUVsZW1lbnRzLnBvcG92ZXJDb250YWluZXIpLHAuZGlzcGxheUVsZW1lbnRzLnNjcm9sbFdpbmRvdy5hcHBlbmQocC5kaXNwbGF5RWxlbWVudHMucG9wb3ZlcikscC5kaXNwbGF5RWxlbWVudHMucG9wb3Zlci5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQmJmFuZ3VsYXIuZXh0ZW5kKGUsdCksZS5wcmV2ZW50RGVmYXVsdCgpLCExfSkscC5zaG93UG9wb3Zlcj1mdW5jdGlvbihlKXtwLmRpc3BsYXlFbGVtZW50cy5wb3BvdmVyLmNzcyhcImRpc3BsYXlcIixcImJsb2NrXCIpLHAucmVmbG93UG9wb3ZlcihlKSxzLmFkZENsYXNzKHAuZGlzcGxheUVsZW1lbnRzLnBvcG92ZXIsXCJpblwiKSxMKGkuZmluZChcImJvZHlcIiksXCJjbGljayBrZXl1cFwiLGZ1bmN0aW9uKCl7cC5oaWRlUG9wb3ZlcigpfSl9LHAucmVmbG93UG9wb3Zlcj1mdW5jdGlvbihlKXtwLmRpc3BsYXlFbGVtZW50cy50ZXh0WzBdLm9mZnNldEhlaWdodC01MT5lWzBdLm9mZnNldFRvcD8ocC5kaXNwbGF5RWxlbWVudHMucG9wb3Zlci5jc3MoXCJ0b3BcIixlWzBdLm9mZnNldFRvcCtlWzBdLm9mZnNldEhlaWdodCtwLmRpc3BsYXlFbGVtZW50cy5zY3JvbGxXaW5kb3dbMF0uc2Nyb2xsVG9wK1wicHhcIikscC5kaXNwbGF5RWxlbWVudHMucG9wb3Zlci5yZW1vdmVDbGFzcyhcInRvcFwiKS5hZGRDbGFzcyhcImJvdHRvbVwiKSk6KHAuZGlzcGxheUVsZW1lbnRzLnBvcG92ZXIuY3NzKFwidG9wXCIsZVswXS5vZmZzZXRUb3AtNTQrcC5kaXNwbGF5RWxlbWVudHMuc2Nyb2xsV2luZG93WzBdLnNjcm9sbFRvcCtcInB4XCIpLHAuZGlzcGxheUVsZW1lbnRzLnBvcG92ZXIucmVtb3ZlQ2xhc3MoXCJib3R0b21cIikuYWRkQ2xhc3MoXCJ0b3BcIikpO3ZhciB0PXAuZGlzcGxheUVsZW1lbnRzLnRleHRbMF0ub2Zmc2V0V2lkdGgtcC5kaXNwbGF5RWxlbWVudHMucG9wb3ZlclswXS5vZmZzZXRXaWR0aCxuPWVbMF0ub2Zmc2V0TGVmdCtlWzBdLm9mZnNldFdpZHRoLzItcC5kaXNwbGF5RWxlbWVudHMucG9wb3ZlclswXS5vZmZzZXRXaWR0aC8yO3AuZGlzcGxheUVsZW1lbnRzLnBvcG92ZXIuY3NzKFwibGVmdFwiLE1hdGgubWF4KDAsTWF0aC5taW4odCxuKSkrXCJweFwiKSxwLmRpc3BsYXlFbGVtZW50cy5wb3BvdmVyQXJyb3cuY3NzKFwibWFyZ2luLWxlZnRcIixNYXRoLm1pbihuLE1hdGgubWF4KDAsbi10KSktMTErXCJweFwiKX0scC5oaWRlUG9wb3Zlcj1mdW5jdGlvbigpe3AuZGlzcGxheUVsZW1lbnRzLnBvcG92ZXIuY3NzKFwiZGlzcGxheVwiLFwiXCIpLHAuZGlzcGxheUVsZW1lbnRzLnBvcG92ZXJDb250YWluZXIuYXR0cihcInN0eWxlXCIsXCJcIikscC5kaXNwbGF5RWxlbWVudHMucG9wb3ZlckNvbnRhaW5lci5hdHRyKFwiY2xhc3NcIixcInBvcG92ZXItY29udGVudFwiKSxwLmRpc3BsYXlFbGVtZW50cy5wb3BvdmVyLnJlbW92ZUNsYXNzKFwiaW5cIil9LHAuZGlzcGxheUVsZW1lbnRzLnJlc2l6ZS5vdmVybGF5LmFwcGVuZChwLmRpc3BsYXlFbGVtZW50cy5yZXNpemUuYmFja2dyb3VuZCksYW5ndWxhci5mb3JFYWNoKHAuZGlzcGxheUVsZW1lbnRzLnJlc2l6ZS5hbmNob3JzLGZ1bmN0aW9uKGUpe3AuZGlzcGxheUVsZW1lbnRzLnJlc2l6ZS5vdmVybGF5LmFwcGVuZChlKX0pLHAuZGlzcGxheUVsZW1lbnRzLnJlc2l6ZS5vdmVybGF5LmFwcGVuZChwLmRpc3BsYXlFbGVtZW50cy5yZXNpemUuaW5mbykscC5kaXNwbGF5RWxlbWVudHMuc2Nyb2xsV2luZG93LmFwcGVuZChwLmRpc3BsYXlFbGVtZW50cy5yZXNpemUub3ZlcmxheSkscC5yZWZsb3dSZXNpemVPdmVybGF5PWZ1bmN0aW9uKGUpe2U9YW5ndWxhci5lbGVtZW50KGUpWzBdLHAuZGlzcGxheUVsZW1lbnRzLnJlc2l6ZS5vdmVybGF5LmNzcyh7ZGlzcGxheTpcImJsb2NrXCIsbGVmdDplLm9mZnNldExlZnQtNStcInB4XCIsdG9wOmUub2Zmc2V0VG9wLTUrXCJweFwiLHdpZHRoOmUub2Zmc2V0V2lkdGgrMTArXCJweFwiLGhlaWdodDplLm9mZnNldEhlaWdodCsxMCtcInB4XCJ9KSxwLmRpc3BsYXlFbGVtZW50cy5yZXNpemUuaW5mby50ZXh0KGUub2Zmc2V0V2lkdGgrXCIgeCBcIitlLm9mZnNldEhlaWdodCl9LHAuc2hvd1Jlc2l6ZU92ZXJsYXk9ZnVuY3Rpb24oZSl7dmFyIHQ9aS5maW5kKFwiYm9keVwiKTtDPWZ1bmN0aW9uKG4pe3ZhciBhPXt3aWR0aDpwYXJzZUludChlLmF0dHIoXCJ3aWR0aFwiKSksaGVpZ2h0OnBhcnNlSW50KGUuYXR0cihcImhlaWdodFwiKSkseDpuLmNsaWVudFgseTpuLmNsaWVudFl9Oyh2b2lkIDA9PT1hLndpZHRofHxpc05hTihhLndpZHRoKSkmJihhLndpZHRoPWVbMF0ub2Zmc2V0V2lkdGgpLCh2b2lkIDA9PT1hLmhlaWdodHx8aXNOYU4oYS5oZWlnaHQpKSYmKGEuaGVpZ2h0PWVbMF0ub2Zmc2V0SGVpZ2h0KSxwLmhpZGVQb3BvdmVyKCk7dmFyIG89YS5oZWlnaHQvYS53aWR0aCxyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oZSl7cmV0dXJuIE1hdGgucm91bmQoTWF0aC5tYXgoMCxlKSl9dmFyIHI9e3g6TWF0aC5tYXgoMCxhLndpZHRoKyh0LmNsaWVudFgtYS54KSkseTpNYXRoLm1heCgwLGEuaGVpZ2h0Kyh0LmNsaWVudFktYS55KSl9LGw9dm9pZCAwIT09bS50YVJlc2l6ZUZvcmNlQXNwZWN0UmF0aW8saT1tLnRhUmVzaXplTWFpbnRhaW5Bc3BlY3RSYXRpbyxzPWx8fGkmJiF0LnNoaWZ0S2V5O2lmKHMpe3ZhciBkPXIueS9yLng7ci54PW8+ZD9yLng6ci55L28sci55PW8+ZD9yLngqbzpyLnl9dmFyIHU9YW5ndWxhci5lbGVtZW50KGUpO3UuY3NzKFwiaGVpZ2h0XCIsbihyLnkpK1wicHhcIiksdS5jc3MoXCJ3aWR0aFwiLG4oci54KStcInB4XCIpLHAucmVmbG93UmVzaXplT3ZlcmxheShlKX07dC5vbihcIm1vdXNlbW92ZVwiLHIpLEwodCxcIm1vdXNldXBcIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSx0Lm9mZihcIm1vdXNlbW92ZVwiLHIpLHAuJGFwcGx5KGZ1bmN0aW9uKCl7cC5oaWRlUG9wb3ZlcigpLHAudXBkYXRlVGFCaW5kdGFUZXh0RWxlbWVudCgpfSwxMDApfSksbi5zdG9wUHJvcGFnYXRpb24oKSxuLnByZXZlbnREZWZhdWx0KCl9LHAuZGlzcGxheUVsZW1lbnRzLnJlc2l6ZS5hbmNob3JzWzNdLm9mZihcIm1vdXNlZG93blwiKSxwLmRpc3BsYXlFbGVtZW50cy5yZXNpemUuYW5jaG9yc1szXS5vbihcIm1vdXNlZG93blwiLEMpLHAucmVmbG93UmVzaXplT3ZlcmxheShlKSxMKHQsXCJjbGlja1wiLGZ1bmN0aW9uKCl7cC5oaWRlUmVzaXplT3ZlcmxheSgpfSl9LHAuaGlkZVJlc2l6ZU92ZXJsYXk9ZnVuY3Rpb24oKXtwLmRpc3BsYXlFbGVtZW50cy5yZXNpemUuYW5jaG9yc1szXS5vZmYoXCJtb3VzZWRvd25cIixDKSxwLmRpc3BsYXlFbGVtZW50cy5yZXNpemUub3ZlcmxheS5jc3MoXCJkaXNwbGF5XCIsXCJcIil9LHAuc2V0dXAuaHRtbEVkaXRvclNldHVwKHAuZGlzcGxheUVsZW1lbnRzLmh0bWwpLHAuc2V0dXAudGV4dEVkaXRvclNldHVwKHAuZGlzcGxheUVsZW1lbnRzLnRleHQpLHAuZGlzcGxheUVsZW1lbnRzLmh0bWwuYXR0cih7aWQ6XCJ0YUh0bWxFbGVtZW50XCIrTixcIm5nLXNob3dcIjpcInNob3dIdG1sXCIsXCJ0YS1iaW5kXCI6XCJ0YS1iaW5kXCIsXCJuZy1tb2RlbFwiOlwiaHRtbFwiLFwibmctbW9kZWwtb3B0aW9uc1wiOmYuYXR0cihcIm5nLW1vZGVsLW9wdGlvbnNcIil9KSxwLmRpc3BsYXlFbGVtZW50cy50ZXh0LmF0dHIoe2lkOlwidGFUZXh0RWxlbWVudFwiK04sY29udGVudEVkaXRhYmxlOlwidHJ1ZVwiLFwidGEtYmluZFwiOlwidGEtYmluZFwiLFwibmctbW9kZWxcIjpcImh0bWxcIixcIm5nLW1vZGVsLW9wdGlvbnNcIjpmLmF0dHIoXCJuZy1tb2RlbC1vcHRpb25zXCIpfSkscC5kaXNwbGF5RWxlbWVudHMuc2Nyb2xsV2luZG93LmF0dHIoe1wibmctaGlkZVwiOlwic2hvd0h0bWxcIn0pLG0udGFEZWZhdWx0V3JhcCYmcC5kaXNwbGF5RWxlbWVudHMudGV4dC5hdHRyKFwidGEtZGVmYXVsdC13cmFwXCIsbS50YURlZmF1bHRXcmFwKSxtLnRhVW5zYWZlU2FuaXRpemVyJiYocC5kaXNwbGF5RWxlbWVudHMudGV4dC5hdHRyKFwidGEtdW5zYWZlLXNhbml0aXplclwiLG0udGFVbnNhZmVTYW5pdGl6ZXIpLHAuZGlzcGxheUVsZW1lbnRzLmh0bWwuYXR0cihcInRhLXVuc2FmZS1zYW5pdGl6ZXJcIixtLnRhVW5zYWZlU2FuaXRpemVyKSkscC5kaXNwbGF5RWxlbWVudHMuc2Nyb2xsV2luZG93LmFwcGVuZChwLmRpc3BsYXlFbGVtZW50cy50ZXh0KSxmLmFwcGVuZChwLmRpc3BsYXlFbGVtZW50cy5zY3JvbGxXaW5kb3cpLGYuYXBwZW5kKHAuZGlzcGxheUVsZW1lbnRzLmh0bWwpLHAuZGlzcGxheUVsZW1lbnRzLmZvcm1pbnB1dC5hdHRyKFwibmFtZVwiLHAuX25hbWUpLGYuYXBwZW5kKHAuZGlzcGxheUVsZW1lbnRzLmZvcm1pbnB1dCksbS50YWJpbmRleCYmKGYucmVtb3ZlQXR0cihcInRhYmluZGV4XCIpLHAuZGlzcGxheUVsZW1lbnRzLnRleHQuYXR0cihcInRhYmluZGV4XCIsbS50YWJpbmRleCkscC5kaXNwbGF5RWxlbWVudHMuaHRtbC5hdHRyKFwidGFiaW5kZXhcIixtLnRhYmluZGV4KSksbS5wbGFjZWhvbGRlciYmKHAuZGlzcGxheUVsZW1lbnRzLnRleHQuYXR0cihcInBsYWNlaG9sZGVyXCIsbS5wbGFjZWhvbGRlcikscC5kaXNwbGF5RWxlbWVudHMuaHRtbC5hdHRyKFwicGxhY2Vob2xkZXJcIixtLnBsYWNlaG9sZGVyKSksbS50YURpc2FibGVkJiYocC5kaXNwbGF5RWxlbWVudHMudGV4dC5hdHRyKFwidGEtcmVhZG9ubHlcIixcImRpc2FibGVkXCIpLHAuZGlzcGxheUVsZW1lbnRzLmh0bWwuYXR0cihcInRhLXJlYWRvbmx5XCIsXCJkaXNhYmxlZFwiKSxwLmRpc2FibGVkPXAuJHBhcmVudC4kZXZhbChtLnRhRGlzYWJsZWQpLHAuJHBhcmVudC4kd2F0Y2gobS50YURpc2FibGVkLGZ1bmN0aW9uKGUpe3AuZGlzYWJsZWQ9ZSxwLmRpc2FibGVkP2YuYWRkQ2xhc3MocC5jbGFzc2VzLmRpc2FibGVkKTpmLnJlbW92ZUNsYXNzKHAuY2xhc3Nlcy5kaXNhYmxlZCl9KSksbS50YVBhc3RlJiYocC5fcGFzdGVIYW5kbGVyPWZ1bmN0aW9uKGUpe3JldHVybiBjKG0udGFQYXN0ZSkocC4kcGFyZW50LHskaHRtbDplfSl9LHAuZGlzcGxheUVsZW1lbnRzLnRleHQuYXR0cihcInRhLXBhc3RlXCIsXCJfcGFzdGVIYW5kbGVyKCRodG1sKVwiKSksdChwLmRpc3BsYXlFbGVtZW50cy5zY3JvbGxXaW5kb3cpKHApLHQocC5kaXNwbGF5RWxlbWVudHMuaHRtbCkocCkscC51cGRhdGVUYUJpbmR0YVRleHRFbGVtZW50PXBbXCJ1cGRhdGVUYUJpbmR0YVRleHRFbGVtZW50XCIrTl0scC51cGRhdGVUYUJpbmR0YUh0bWxFbGVtZW50PXBbXCJ1cGRhdGVUYUJpbmR0YUh0bWxFbGVtZW50XCIrTl0sZi5hZGRDbGFzcyhcInRhLXJvb3RcIikscC5kaXNwbGF5RWxlbWVudHMuc2Nyb2xsV2luZG93LmFkZENsYXNzKFwidGEtdGV4dCB0YS1lZGl0b3IgXCIrcC5jbGFzc2VzLnRleHRFZGl0b3IpLHAuZGlzcGxheUVsZW1lbnRzLmh0bWwuYWRkQ2xhc3MoXCJ0YS1odG1sIHRhLWVkaXRvciBcIitwLmNsYXNzZXMuaHRtbEVkaXRvcikscC5fYWN0aW9uUnVubmluZz0hMTt2YXIgaz0hMTtpZihwLnN0YXJ0QWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHAuX2FjdGlvblJ1bm5pbmc9ITAsaz1lLnNhdmVTZWxlY3Rpb24oKSxmdW5jdGlvbigpe2smJmUucmVzdG9yZVNlbGVjdGlvbihrKX19LHAuZW5kQWN0aW9uPWZ1bmN0aW9uKCl7cC5fYWN0aW9uUnVubmluZz0hMSxrJiYocC5zaG93SHRtbD9wLmRpc3BsYXlFbGVtZW50cy5odG1sWzBdLmZvY3VzKCk6cC5kaXNwbGF5RWxlbWVudHMudGV4dFswXS5mb2N1cygpLGUucmVtb3ZlTWFya2VycyhrKSksaz0hMSxwLnVwZGF0ZVNlbGVjdGVkU3R5bGVzKCkscC5zaG93SHRtbHx8cFtcInVwZGF0ZVRhQmluZHRhVGV4dEVsZW1lbnRcIitOXSgpfSx4PWZ1bmN0aW9uKCl7cC5mb2N1c3NlZD0hMCxmLmFkZENsYXNzKHAuY2xhc3Nlcy5mb2N1c3NlZCksdy5mb2N1cygpLGYudHJpZ2dlckhhbmRsZXIoXCJmb2N1c1wiKX0scC5kaXNwbGF5RWxlbWVudHMuaHRtbC5vbihcImZvY3VzXCIseCkscC5kaXNwbGF5RWxlbWVudHMudGV4dC5vbihcImZvY3VzXCIseCksRT1mdW5jdGlvbihlKXtyZXR1cm4gcC5fYWN0aW9uUnVubmluZ3x8aVswXS5hY3RpdmVFbGVtZW50PT09cC5kaXNwbGF5RWxlbWVudHMuaHRtbFswXXx8aVswXS5hY3RpdmVFbGVtZW50PT09cC5kaXNwbGF5RWxlbWVudHMudGV4dFswXXx8KGYucmVtb3ZlQ2xhc3MocC5jbGFzc2VzLmZvY3Vzc2VkKSx3LnVuZm9jdXMoKSxuKGZ1bmN0aW9uKCl7cC5fYlVwZGF0ZVNlbGVjdGVkU3R5bGVzPSExLGYudHJpZ2dlckhhbmRsZXIoXCJibHVyXCIpLHAuZm9jdXNzZWQ9ITF9LDApKSxlLnByZXZlbnREZWZhdWx0KCksITF9LHAuZGlzcGxheUVsZW1lbnRzLmh0bWwub24oXCJibHVyXCIsRSkscC5kaXNwbGF5RWxlbWVudHMudGV4dC5vbihcImJsdXJcIixFKSxwLmRpc3BsYXlFbGVtZW50cy50ZXh0Lm9uKFwicGFzdGVcIixmdW5jdGlvbihlKXtmLnRyaWdnZXJIYW5kbGVyKFwicGFzdGVcIixlKX0pLHAucXVlcnlGb3JtYXRCbG9ja1N0YXRlPWZ1bmN0aW9uKGUpe3JldHVybiFwLnNob3dIdG1sJiZlLnRvTG93ZXJDYXNlKCk9PT1pWzBdLnF1ZXJ5Q29tbWFuZFZhbHVlKFwiZm9ybWF0QmxvY2tcIikudG9Mb3dlckNhc2UoKX0scC5xdWVyeUNvbW1hbmRTdGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gcC5zaG93SHRtbD9cIlwiOmlbMF0ucXVlcnlDb21tYW5kU3RhdGUoZSl9LHAuc3dpdGNoVmlldz1mdW5jdGlvbigpe3Auc2hvd0h0bWw9IXAuc2hvd0h0bWwscy5lbmFibGVkKCExLHAuZGlzcGxheUVsZW1lbnRzLmh0bWwpLHMuZW5hYmxlZCghMSxwLmRpc3BsYXlFbGVtZW50cy50ZXh0KSxwLnNob3dIdG1sP24oZnVuY3Rpb24oKXtyZXR1cm4gcy5lbmFibGVkKCEwLHAuZGlzcGxheUVsZW1lbnRzLmh0bWwpLHMuZW5hYmxlZCghMCxwLmRpc3BsYXlFbGVtZW50cy50ZXh0KSxwLmRpc3BsYXlFbGVtZW50cy5odG1sWzBdLmZvY3VzKCl9LDEwMCk6bihmdW5jdGlvbigpe3JldHVybiBzLmVuYWJsZWQoITAscC5kaXNwbGF5RWxlbWVudHMuaHRtbCkscy5lbmFibGVkKCEwLHAuZGlzcGxheUVsZW1lbnRzLnRleHQpLHAuZGlzcGxheUVsZW1lbnRzLnRleHRbMF0uZm9jdXMoKX0sMTAwKX0sbS5uZ01vZGVsKXt2YXIgQT0hMDtnLiRyZW5kZXI9ZnVuY3Rpb24oKXtpZihBKXtBPSExO3ZhciBlPXAuJHBhcmVudC4kZXZhbChtLm5nTW9kZWwpO3ZvaWQgMCE9PWUmJm51bGwhPT1lfHwhU3x8XCJcIj09PVN8fGcuJHNldFZpZXdWYWx1ZShTKX1wLmRpc3BsYXlFbGVtZW50cy5mb3JtaW5wdXQudmFsKGcuJHZpZXdWYWx1ZSkscC5odG1sPWcuJHZpZXdWYWx1ZXx8XCJcIn0sZi5hdHRyKFwicmVxdWlyZWRcIikmJihnLiR2YWxpZGF0b3JzLnJlcXVpcmVkPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZXx8dDtyZXR1cm4hKCFufHxcIlwiPT09bi50cmltKCkpfSl9ZWxzZSBwLmRpc3BsYXlFbGVtZW50cy5mb3JtaW5wdXQudmFsKFMpLHAuaHRtbD1TO2lmKHAuJHdhdGNoKFwiaHRtbFwiLGZ1bmN0aW9uKGUsdCl7ZSE9PXQmJihtLm5nTW9kZWwmJmcuJHZpZXdWYWx1ZSE9PWUmJmcuJHNldFZpZXdWYWx1ZShlKSxwLmRpc3BsYXlFbGVtZW50cy5mb3JtaW5wdXQudmFsKGUpKX0pLG0udGFUYXJnZXRUb29sYmFycyl3PWwucmVnaXN0ZXJFZGl0b3IocC5fbmFtZSxwLG0udGFUYXJnZXRUb29sYmFycy5zcGxpdChcIixcIikpO2Vsc2V7dmFyIE09YW5ndWxhci5lbGVtZW50KCc8ZGl2IHRleHQtYW5ndWxhci10b29sYmFyIG5hbWU9XCJ0ZXh0QW5ndWxhclRvb2xiYXInK04rJ1wiPicpO20udGFUb29sYmFyJiZNLmF0dHIoXCJ0YS10b29sYmFyXCIsbS50YVRvb2xiYXIpLG0udGFUb29sYmFyQ2xhc3MmJk0uYXR0cihcInRhLXRvb2xiYXItY2xhc3NcIixtLnRhVG9vbGJhckNsYXNzKSxtLnRhVG9vbGJhckdyb3VwQ2xhc3MmJk0uYXR0cihcInRhLXRvb2xiYXItZ3JvdXAtY2xhc3NcIixtLnRhVG9vbGJhckdyb3VwQ2xhc3MpLG0udGFUb29sYmFyQnV0dG9uQ2xhc3MmJk0uYXR0cihcInRhLXRvb2xiYXItYnV0dG9uLWNsYXNzXCIsbS50YVRvb2xiYXJCdXR0b25DbGFzcyksbS50YVRvb2xiYXJBY3RpdmVCdXR0b25DbGFzcyYmTS5hdHRyKFwidGEtdG9vbGJhci1hY3RpdmUtYnV0dG9uLWNsYXNzXCIsbS50YVRvb2xiYXJBY3RpdmVCdXR0b25DbGFzcyksbS50YUZvY3Vzc2VkQ2xhc3MmJk0uYXR0cihcInRhLWZvY3Vzc2VkLWNsYXNzXCIsbS50YUZvY3Vzc2VkQ2xhc3MpLGYucHJlcGVuZChNKSx0KE0pKHAuJHBhcmVudCksdz1sLnJlZ2lzdGVyRWRpdG9yKHAuX25hbWUscCxbXCJ0ZXh0QW5ndWxhclRvb2xiYXJcIitOXSl9cC4kb24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7bC51bnJlZ2lzdGVyRWRpdG9yKHAuX25hbWUpLGFuZ3VsYXIuZWxlbWVudCh3aW5kb3cpLm9mZihcImJsdXJcIil9KSxwLiRvbihcInRhLWVsZW1lbnQtc2VsZWN0XCIsZnVuY3Rpb24oZSx0KXt3LnRyaWdnZXJFbGVtZW50U2VsZWN0KGUsdCkmJnBbXCJyZUFwcGx5T25TZWxlY3RvckhhbmRsZXJzdGFUZXh0RWxlbWVudFwiK05dKCl9KSxwLiRvbihcInRhLWRyb3AtZXZlbnRcIixmdW5jdGlvbihlLHQsYSxvKXtwLmRpc3BsYXlFbGVtZW50cy50ZXh0WzBdLmZvY3VzKCksbyYmby5maWxlcyYmby5maWxlcy5sZW5ndGg+MD8oYW5ndWxhci5mb3JFYWNoKG8uZmlsZXMsZnVuY3Rpb24oZSl7dHJ5e3Uud2hlbihwLmZpbGVEcm9wSGFuZGxlcihlLHAud3JhcFNlbGVjdGlvbil8fHAuZmlsZURyb3BIYW5kbGVyIT09cC5kZWZhdWx0RmlsZURyb3BIYW5kbGVyJiZ1LndoZW4ocC5kZWZhdWx0RmlsZURyb3BIYW5kbGVyKGUscC53cmFwU2VsZWN0aW9uKSkpLnRoZW4oZnVuY3Rpb24oKXtwW1widXBkYXRlVGFCaW5kdGFUZXh0RWxlbWVudFwiK05dKCl9KX1jYXRjaChlKXtkLmVycm9yKGUpfX0pLGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpKTpuKGZ1bmN0aW9uKCl7cFtcInVwZGF0ZVRhQmluZHRhVGV4dEVsZW1lbnRcIitOXSgpfSwwKX0pLHAuX2JVcGRhdGVTZWxlY3RlZFN0eWxlcz0hMSxhbmd1bGFyLmVsZW1lbnQod2luZG93KS5vbihcImJsdXJcIixmdW5jdGlvbigpe3AuX2JVcGRhdGVTZWxlY3RlZFN0eWxlcz0hMSxwLmZvY3Vzc2VkPSExfSkscC51cGRhdGVTZWxlY3RlZFN0eWxlcz1mdW5jdGlvbigpe3ZhciBlOyQmJm4uY2FuY2VsKCQpLHZvaWQgMCE9PShlPW8uZ2V0U2VsZWN0aW9uRWxlbWVudCgpKSYmZS5wYXJlbnROb2RlIT09cC5kaXNwbGF5RWxlbWVudHMudGV4dFswXT93LnVwZGF0ZVNlbGVjdGVkU3R5bGVzKGFuZ3VsYXIuZWxlbWVudChlKSk6dy51cGRhdGVTZWxlY3RlZFN0eWxlcygpLHAuX2JVcGRhdGVTZWxlY3RlZFN0eWxlcyYmKCQ9bihwLnVwZGF0ZVNlbGVjdGVkU3R5bGVzLDIwMCkpfSxoPWZ1bmN0aW9uKCl7cmV0dXJuIHAuZm9jdXNzZWQ/dm9pZChwLl9iVXBkYXRlU2VsZWN0ZWRTdHlsZXN8fChwLl9iVXBkYXRlU2VsZWN0ZWRTdHlsZXM9ITAscC4kYXBwbHkoZnVuY3Rpb24oKXtwLnVwZGF0ZVNlbGVjdGVkU3R5bGVzKCl9KSkpOnZvaWQocC5fYlVwZGF0ZVNlbGVjdGVkU3R5bGVzPSExKX0scC5kaXNwbGF5RWxlbWVudHMuaHRtbC5vbihcImtleWRvd25cIixoKSxwLmRpc3BsYXlFbGVtZW50cy50ZXh0Lm9uKFwia2V5ZG93blwiLGgpLHY9ZnVuY3Rpb24oKXtwLl9iVXBkYXRlU2VsZWN0ZWRTdHlsZXM9ITF9LHAuZGlzcGxheUVsZW1lbnRzLmh0bWwub24oXCJrZXl1cFwiLHYpLHAuZGlzcGxheUVsZW1lbnRzLnRleHQub24oXCJrZXl1cFwiLHYpLGI9ZnVuY3Rpb24oZSx0KXt0JiZhbmd1bGFyLmV4dGVuZChlLHQpLHAuJGFwcGx5KGZ1bmN0aW9uKCl7cmV0dXJuIHcuc2VuZEtleUNvbW1hbmQoZSk/KHAuX2JVcGRhdGVTZWxlY3RlZFN0eWxlc3x8cC51cGRhdGVTZWxlY3RlZFN0eWxlcygpLGUucHJldmVudERlZmF1bHQoKSwhMSk6dm9pZCAwfSl9LHAuZGlzcGxheUVsZW1lbnRzLmh0bWwub24oXCJrZXlwcmVzc1wiLGIpLHAuZGlzcGxheUVsZW1lbnRzLnRleHQub24oXCJrZXlwcmVzc1wiLGIpLHk9ZnVuY3Rpb24oKXtwLl9iVXBkYXRlU2VsZWN0ZWRTdHlsZXM9ITEscC4kYXBwbHkoZnVuY3Rpb24oKXtwLnVwZGF0ZVNlbGVjdGVkU3R5bGVzKCl9KX0scC5kaXNwbGF5RWxlbWVudHMuaHRtbC5vbihcIm1vdXNldXBcIix5KSxwLmRpc3BsYXlFbGVtZW50cy50ZXh0Lm9uKFwibW91c2V1cFwiLHkpfX19XSksdi5zZXJ2aWNlKFwidGV4dEFuZ3VsYXJNYW5hZ2VyXCIsW1widGFUb29sRXhlY3V0ZUFjdGlvblwiLFwidGFUb29sc1wiLFwidGFSZWdpc3RlclRvb2xcIixmdW5jdGlvbihlLHQsbil7dmFyIGE9e30sbz17fTtyZXR1cm57cmVnaXN0ZXJFZGl0b3I6ZnVuY3Rpb24obixyLGwpe2lmKCFufHxcIlwiPT09bil0aHJvd1widGV4dEFuZ3VsYXIgRXJyb3I6IEFuIGVkaXRvciByZXF1aXJlcyBhIG5hbWVcIjtpZighcil0aHJvd1widGV4dEFuZ3VsYXIgRXJyb3I6IEFuIGVkaXRvciByZXF1aXJlcyBhIHNjb3BlXCI7aWYob1tuXSl0aHJvdyd0ZXh0QW5ndWxhciBFcnJvcjogQW4gRWRpdG9yIHdpdGggbmFtZSBcIicrbisnXCIgYWxyZWFkeSBleGlzdHMnO3ZhciBpPVtdO3JldHVybiBhbmd1bGFyLmZvckVhY2gobCxmdW5jdGlvbihlKXthW2VdJiZpLnB1c2goYVtlXSl9KSxvW25dPXtzY29wZTpyLHRvb2xiYXJzOmwsX3JlZ2lzdGVyVG9vbGJhcjpmdW5jdGlvbihlKXt0aGlzLnRvb2xiYXJzLmluZGV4T2YoZS5uYW1lKT49MCYmaS5wdXNoKGUpfSxlZGl0b3JGdW5jdGlvbnM6e2Rpc2FibGU6ZnVuY3Rpb24oKXthbmd1bGFyLmZvckVhY2goaSxmdW5jdGlvbihlKXtlLmRpc2FibGVkPSEwfSl9LGVuYWJsZTpmdW5jdGlvbigpe2FuZ3VsYXIuZm9yRWFjaChpLGZ1bmN0aW9uKGUpe2UuZGlzYWJsZWQ9ITF9KX0sZm9jdXM6ZnVuY3Rpb24oKXthbmd1bGFyLmZvckVhY2goaSxmdW5jdGlvbihlKXtlLl9wYXJlbnQ9cixlLmRpc2FibGVkPSExLGUuZm9jdXNzZWQ9ITAsci5mb2N1c3NlZD0hMH0pfSx1bmZvY3VzOmZ1bmN0aW9uKCl7YW5ndWxhci5mb3JFYWNoKGksZnVuY3Rpb24oZSl7ZS5kaXNhYmxlZD0hMCxlLmZvY3Vzc2VkPSExfSksci5mb2N1c3NlZD0hMX0sdXBkYXRlU2VsZWN0ZWRTdHlsZXM6ZnVuY3Rpb24oZSl7YW5ndWxhci5mb3JFYWNoKGksZnVuY3Rpb24odCl7YW5ndWxhci5mb3JFYWNoKHQudG9vbHMsZnVuY3Rpb24obil7bi5hY3RpdmVTdGF0ZSYmKHQuX3BhcmVudD1yLG4uYWN0aXZlPW4uYWN0aXZlU3RhdGUoZSkpfSl9KX0sc2VuZEtleUNvbW1hbmQ6ZnVuY3Rpb24obil7dmFyIGE9ITE7cmV0dXJuKG4uY3RybEtleXx8bi5tZXRhS2V5fHxuLnNwZWNpYWxLZXkpJiZhbmd1bGFyLmZvckVhY2godCxmdW5jdGlvbih0LG8pe2lmKHQuY29tbWFuZEtleUNvZGUmJih0LmNvbW1hbmRLZXlDb2RlPT09bi53aGljaHx8dC5jb21tYW5kS2V5Q29kZT09PW4uc3BlY2lhbEtleSkpZm9yKHZhciBsPTA7bDxpLmxlbmd0aDtsKyspaWYodm9pZCAwIT09aVtsXS50b29sc1tvXSl7ZS5jYWxsKGlbbF0udG9vbHNbb10sciksYT0hMDticmVha319KSxhfSx0cmlnZ2VyRWxlbWVudFNlbGVjdDpmdW5jdGlvbihlLG4pe3ZhciBhPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPSEwLGE9MDthPHQubGVuZ3RoO2ErKyluPW4mJmUuYXR0cih0W2FdKTtyZXR1cm4gbn0sbz1bXSxsPXt9LHM9ITE7bj1hbmd1bGFyLmVsZW1lbnQobik7dmFyIGQ9ITE7aWYoYW5ndWxhci5mb3JFYWNoKHQsZnVuY3Rpb24oZSx0KXtlLm9uRWxlbWVudFNlbGVjdCYmZS5vbkVsZW1lbnRTZWxlY3QuZWxlbWVudCYmZS5vbkVsZW1lbnRTZWxlY3QuZWxlbWVudC50b0xvd2VyQ2FzZSgpPT09blswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJighZS5vbkVsZW1lbnRTZWxlY3QuZmlsdGVyfHxlLm9uRWxlbWVudFNlbGVjdC5maWx0ZXIobikpJiYoZD1kfHxhbmd1bGFyLmlzQXJyYXkoZS5vbkVsZW1lbnRTZWxlY3Qub25seVdpdGhBdHRycykmJmEobixlLm9uRWxlbWVudFNlbGVjdC5vbmx5V2l0aEF0dHJzKSwoIWUub25FbGVtZW50U2VsZWN0Lm9ubHlXaXRoQXR0cnN8fGEobixlLm9uRWxlbWVudFNlbGVjdC5vbmx5V2l0aEF0dHJzKSkmJihsW3RdPWUpKX0pLGQ/KGFuZ3VsYXIuZm9yRWFjaChsLGZ1bmN0aW9uKGUsdCl7ZS5vbkVsZW1lbnRTZWxlY3Qub25seVdpdGhBdHRycyYmYShuLGUub25FbGVtZW50U2VsZWN0Lm9ubHlXaXRoQXR0cnMpJiZvLnB1c2goe1xubmFtZTp0LHRvb2w6ZX0pfSksby5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudG9vbC5vbkVsZW1lbnRTZWxlY3Qub25seVdpdGhBdHRycy5sZW5ndGgtZS50b29sLm9uRWxlbWVudFNlbGVjdC5vbmx5V2l0aEF0dHJzLmxlbmd0aH0pKTphbmd1bGFyLmZvckVhY2gobCxmdW5jdGlvbihlLHQpe28ucHVzaCh7bmFtZTp0LHRvb2w6ZX0pfSksby5sZW5ndGg+MClmb3IodmFyIHU9MDt1PG8ubGVuZ3RoO3UrKyl7Zm9yKHZhciBjPW9bdV0udG9vbCxwPW9bdV0ubmFtZSxmPTA7ZjxpLmxlbmd0aDtmKyspaWYodm9pZCAwIT09aVtmXS50b29sc1twXSl7Yy5vbkVsZW1lbnRTZWxlY3QuYWN0aW9uLmNhbGwoaVtmXS50b29sc1twXSxlLG4scikscz0hMDticmVha31pZihzKWJyZWFrfXJldHVybiBzfX19LG9bbl0uZWRpdG9yRnVuY3Rpb25zfSxyZXRyaWV2ZUVkaXRvcjpmdW5jdGlvbihlKXtyZXR1cm4gb1tlXX0sdW5yZWdpc3RlckVkaXRvcjpmdW5jdGlvbihlKXtkZWxldGUgb1tlXX0scmVnaXN0ZXJUb29sYmFyOmZ1bmN0aW9uKGUpe2lmKCFlKXRocm93XCJ0ZXh0QW5ndWxhciBFcnJvcjogQSB0b29sYmFyIHJlcXVpcmVzIGEgc2NvcGVcIjtpZighZS5uYW1lfHxcIlwiPT09ZS5uYW1lKXRocm93XCJ0ZXh0QW5ndWxhciBFcnJvcjogQSB0b29sYmFyIHJlcXVpcmVzIGEgbmFtZVwiO2lmKGFbZS5uYW1lXSl0aHJvdyd0ZXh0QW5ndWxhciBFcnJvcjogQSB0b29sYmFyIHdpdGggbmFtZSBcIicrZS5uYW1lKydcIiBhbHJlYWR5IGV4aXN0cyc7YVtlLm5hbWVdPWUsYW5ndWxhci5mb3JFYWNoKG8sZnVuY3Rpb24odCl7dC5fcmVnaXN0ZXJUb29sYmFyKGUpfSl9LHJldHJpZXZlVG9vbGJhcjpmdW5jdGlvbihlKXtyZXR1cm4gYVtlXX0scmV0cmlldmVUb29sYmFyc1ZpYUVkaXRvcjpmdW5jdGlvbihlKXt2YXIgdD1bXSxuPXRoaXM7cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaCh0aGlzLnJldHJpZXZlRWRpdG9yKGUpLnRvb2xiYXJzLGZ1bmN0aW9uKGUpe3QucHVzaChuLnJldHJpZXZlVG9vbGJhcihlKSl9KSx0fSx1bnJlZ2lzdGVyVG9vbGJhcjpmdW5jdGlvbihlKXtkZWxldGUgYVtlXX0sdXBkYXRlVG9vbHNEaXNwbGF5OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7YW5ndWxhci5mb3JFYWNoKGUsZnVuY3Rpb24oZSxuKXt0LnVwZGF0ZVRvb2xEaXNwbGF5KG4sZSl9KX0scmVzZXRUb29sc0Rpc3BsYXk6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2FuZ3VsYXIuZm9yRWFjaCh0LGZ1bmN0aW9uKHQsbil7ZS5yZXNldFRvb2xEaXNwbGF5KG4pfSl9LHVwZGF0ZVRvb2xEaXNwbGF5OmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpczthbmd1bGFyLmZvckVhY2goYSxmdW5jdGlvbihhLG8pe24udXBkYXRlVG9vbGJhclRvb2xEaXNwbGF5KG8sZSx0KX0pfSxyZXNldFRvb2xEaXNwbGF5OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7YW5ndWxhci5mb3JFYWNoKGEsZnVuY3Rpb24obixhKXt0LnJlc2V0VG9vbGJhclRvb2xEaXNwbGF5KGEsZSl9KX0sdXBkYXRlVG9vbGJhclRvb2xEaXNwbGF5OmZ1bmN0aW9uKGUsdCxuKXtpZighYVtlXSl0aHJvdyd0ZXh0QW5ndWxhciBFcnJvcjogTm8gVG9vbGJhciB3aXRoIG5hbWUgXCInK2UrJ1wiIGV4aXN0cyc7YVtlXS51cGRhdGVUb29sRGlzcGxheSh0LG4pfSxyZXNldFRvb2xiYXJUb29sRGlzcGxheTpmdW5jdGlvbihlLG4pe2lmKCFhW2VdKXRocm93J3RleHRBbmd1bGFyIEVycm9yOiBObyBUb29sYmFyIHdpdGggbmFtZSBcIicrZSsnXCIgZXhpc3RzJzthW2VdLnVwZGF0ZVRvb2xEaXNwbGF5KG4sdFtuXSwhMCl9LHJlbW92ZVRvb2w6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRbZV0sYW5ndWxhci5mb3JFYWNoKGEsZnVuY3Rpb24odCl7ZGVsZXRlIHQudG9vbHNbZV07Zm9yKHZhciBuPTA7bjx0LnRvb2xiYXIubGVuZ3RoO24rKyl7Zm9yKHZhciBhLG89MDtvPHQudG9vbGJhcltuXS5sZW5ndGg7bysrKXtpZih0LnRvb2xiYXJbbl1bb109PT1lKXthPXtncm91cDpuLGluZGV4Om99O2JyZWFrfWlmKHZvaWQgMCE9PWEpYnJlYWt9dm9pZCAwIT09YSYmKHQudG9vbGJhclthLmdyb3VwXS5zbGljZShhLmluZGV4LDEpLHQuXyRlbGVtZW50LmNoaWxkcmVuKCkuZXEoYS5ncm91cCkuY2hpbGRyZW4oKS5lcShhLmluZGV4KS5yZW1vdmUoKSl9fSl9LGFkZFRvb2w6ZnVuY3Rpb24oZSx0LG8scil7bihlLHQpLGFuZ3VsYXIuZm9yRWFjaChhLGZ1bmN0aW9uKG4pe24uYWRkVG9vbChlLHQsbyxyKX0pfSxhZGRUb29sVG9Ub29sYmFyOmZ1bmN0aW9uKGUsdCxvLHIsbCl7bihlLHQpLGFbb10uYWRkVG9vbChlLHQscixsKX0scmVmcmVzaEVkaXRvcjpmdW5jdGlvbihlKXtpZighb1tlXSl0aHJvdyd0ZXh0QW5ndWxhciBFcnJvcjogTm8gRWRpdG9yIHdpdGggbmFtZSBcIicrZSsnXCIgZXhpc3RzJztvW2VdLnNjb3BlLnVwZGF0ZVRhQmluZHRhVGV4dEVsZW1lbnQoKSxvW2VdLnNjb3BlLiQkcGhhc2V8fG9bZV0uc2NvcGUuJGRpZ2VzdCgpfSxzZW5kS2V5Q29tbWFuZDpmdW5jdGlvbihlLHQpe3ZhciBuPW9bZS5fbmFtZV07cmV0dXJuIG4mJm4uZWRpdG9yRnVuY3Rpb25zLnNlbmRLZXlDb21tYW5kKHQpPyhlLl9iVXBkYXRlU2VsZWN0ZWRTdHlsZXN8fGUudXBkYXRlU2VsZWN0ZWRTdHlsZXMoKSx0LnByZXZlbnREZWZhdWx0KCksITEpOnZvaWQgMH19fV0pLHYuZGlyZWN0aXZlKFwidGV4dEFuZ3VsYXJUb29sYmFyXCIsW1wiJGNvbXBpbGVcIixcInRleHRBbmd1bGFyTWFuYWdlclwiLFwidGFPcHRpb25zXCIsXCJ0YVRvb2xzXCIsXCJ0YVRvb2xFeGVjdXRlQWN0aW9uXCIsXCIkd2luZG93XCIsZnVuY3Rpb24oZSx0LG4sYSxvLHIpe3JldHVybntzY29wZTp7bmFtZTpcIkBcIn0scmVzdHJpY3Q6XCJFQVwiLGxpbms6ZnVuY3Rpb24obCxpLHMpe2lmKCFsLm5hbWV8fFwiXCI9PT1sLm5hbWUpdGhyb3dcInRleHRBbmd1bGFyIEVycm9yOiBBIHRvb2xiYXIgcmVxdWlyZXMgYSBuYW1lXCI7YW5ndWxhci5leHRlbmQobCxhbmd1bGFyLmNvcHkobikpLHMudGFUb29sYmFyJiYobC50b29sYmFyPWwuJHBhcmVudC4kZXZhbChzLnRhVG9vbGJhcikpLHMudGFUb29sYmFyQ2xhc3MmJihsLmNsYXNzZXMudG9vbGJhcj1zLnRhVG9vbGJhckNsYXNzKSxzLnRhVG9vbGJhckdyb3VwQ2xhc3MmJihsLmNsYXNzZXMudG9vbGJhckdyb3VwPXMudGFUb29sYmFyR3JvdXBDbGFzcykscy50YVRvb2xiYXJCdXR0b25DbGFzcyYmKGwuY2xhc3Nlcy50b29sYmFyQnV0dG9uPXMudGFUb29sYmFyQnV0dG9uQ2xhc3MpLHMudGFUb29sYmFyQWN0aXZlQnV0dG9uQ2xhc3MmJihsLmNsYXNzZXMudG9vbGJhckJ1dHRvbkFjdGl2ZT1zLnRhVG9vbGJhckFjdGl2ZUJ1dHRvbkNsYXNzKSxzLnRhRm9jdXNzZWRDbGFzcyYmKGwuY2xhc3Nlcy5mb2N1c3NlZD1zLnRhRm9jdXNzZWRDbGFzcyksbC5kaXNhYmxlZD0hMCxsLmZvY3Vzc2VkPSExLGwuXyRlbGVtZW50PWksaVswXS5pbm5lckhUTUw9XCJcIixpLmFkZENsYXNzKFwidGEtdG9vbGJhciBcIitsLmNsYXNzZXMudG9vbGJhciksbC4kd2F0Y2goXCJmb2N1c3NlZFwiLGZ1bmN0aW9uKCl7bC5mb2N1c3NlZD9pLmFkZENsYXNzKGwuY2xhc3Nlcy5mb2N1c3NlZCk6aS5yZW1vdmVDbGFzcyhsLmNsYXNzZXMuZm9jdXNzZWQpfSk7dmFyIGQ9ZnVuY3Rpb24odCxuKXt2YXIgYTtpZihhPXQmJnQuZGlzcGxheT9hbmd1bGFyLmVsZW1lbnQodC5kaXNwbGF5KTphbmd1bGFyLmVsZW1lbnQoXCI8YnV0dG9uIHR5cGU9J2J1dHRvbic+XCIpLHQmJnQuY2xhc3M/YS5hZGRDbGFzcyh0LmNsYXNzKTphLmFkZENsYXNzKGwuY2xhc3Nlcy50b29sYmFyQnV0dG9uKSxhLmF0dHIoXCJuYW1lXCIsbi5uYW1lKSxhLmF0dHIoXCJ0YS1idXR0b25cIixcInRhLWJ1dHRvblwiKSxhLmF0dHIoXCJuZy1kaXNhYmxlZFwiLFwiaXNEaXNhYmxlZCgpXCIpLGEuYXR0cihcInRhYmluZGV4XCIsXCItMVwiKSxhLmF0dHIoXCJuZy1jbGlja1wiLFwiZXhlY3V0ZUFjdGlvbigpXCIpLGEuYXR0cihcIm5nLWNsYXNzXCIsXCJkaXNwbGF5QWN0aXZlVG9vbENsYXNzKGFjdGl2ZSlcIiksdCYmdC50b29sdGlwdGV4dCYmYS5hdHRyKFwidGl0bGVcIix0LnRvb2x0aXB0ZXh0KSx0JiYhdC5kaXNwbGF5JiYhbi5fZGlzcGxheSYmKGFbMF0uaW5uZXJIVE1MPVwiXCIsdC5idXR0b250ZXh0JiYoYVswXS5pbm5lckhUTUw9dC5idXR0b250ZXh0KSx0Lmljb25jbGFzcykpe3ZhciBvPWFuZ3VsYXIuZWxlbWVudChcIjxpPlwiKSxyPWFbMF0uaW5uZXJIVE1MO28uYWRkQ2xhc3ModC5pY29uY2xhc3MpLGFbMF0uaW5uZXJIVE1MPVwiXCIsYS5hcHBlbmQobyksciYmXCJcIiE9PXImJmEuYXBwZW5kKFwiJm5ic3A7XCIrcil9cmV0dXJuIG4uX2xhc3RUb29sRGVmaW5pdGlvbj1hbmd1bGFyLmNvcHkodCksZShhKShuKX07bC50b29scz17fSxsLl9wYXJlbnQ9e2Rpc2FibGVkOiEwLHNob3dIdG1sOiExLHF1ZXJ5Rm9ybWF0QmxvY2tTdGF0ZTpmdW5jdGlvbigpe3JldHVybiExfSxxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbigpe3JldHVybiExfX07dmFyIHU9eyR3aW5kb3c6ciwkZWRpdG9yOmZ1bmN0aW9uKCl7cmV0dXJuIGwuX3BhcmVudH0saXNEaXNhYmxlZDpmdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXMuJGV2YWwoXCJkaXNhYmxlZFwiKSYmdGhpcy4kZXZhbChcImRpc2FibGVkXCIpfHx0aGlzLiRldmFsKFwiZGlzYWJsZWQoKVwiKXx8XCJodG1sXCIhPT10aGlzLm5hbWUmJnRoaXMuJGVkaXRvcigpLnNob3dIdG1sfHx0aGlzLiRwYXJlbnQuZGlzYWJsZWR8fHRoaXMuJGVkaXRvcigpLmRpc2FibGVkfSxkaXNwbGF5QWN0aXZlVG9vbENsYXNzOmZ1bmN0aW9uKGUpe3JldHVybiBlP2wuY2xhc3Nlcy50b29sYmFyQnV0dG9uQWN0aXZlOlwiXCJ9LGV4ZWN1dGVBY3Rpb246b307YW5ndWxhci5mb3JFYWNoKGwudG9vbGJhcixmdW5jdGlvbihlKXt2YXIgdD1hbmd1bGFyLmVsZW1lbnQoXCI8ZGl2PlwiKTt0LmFkZENsYXNzKGwuY2xhc3Nlcy50b29sYmFyR3JvdXApLGFuZ3VsYXIuZm9yRWFjaChlLGZ1bmN0aW9uKGUpe2wudG9vbHNbZV09YW5ndWxhci5leHRlbmQobC4kbmV3KCEwKSxhW2VdLHUse25hbWU6ZX0pLGwudG9vbHNbZV0uJGVsZW1lbnQ9ZChhW2VdLGwudG9vbHNbZV0pLHQuYXBwZW5kKGwudG9vbHNbZV0uJGVsZW1lbnQpfSksaS5hcHBlbmQodCl9KSxsLnVwZGF0ZVRvb2xEaXNwbGF5PWZ1bmN0aW9uKGUsdCxuKXt2YXIgYT1sLnRvb2xzW2VdO2lmKGEpe2lmKGEuX2xhc3RUb29sRGVmaW5pdGlvbiYmIW4mJih0PWFuZ3VsYXIuZXh0ZW5kKHt9LGEuX2xhc3RUb29sRGVmaW5pdGlvbix0KSksbnVsbD09PXQuYnV0dG9udGV4dCYmbnVsbD09PXQuaWNvbmNsYXNzJiZudWxsPT09dC5kaXNwbGF5KXRocm93J3RleHRBbmd1bGFyIEVycm9yOiBUb29sIERlZmluaXRpb24gZm9yIHVwZGF0aW5nIFwiJytlKydcIiBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgZGlzcGxheS9pY29uY2xhc3MvYnV0dG9udGV4dCB2YWx1ZSc7bnVsbD09PXQuYnV0dG9udGV4dCYmZGVsZXRlIHQuYnV0dG9udGV4dCxudWxsPT09dC5pY29uY2xhc3MmJmRlbGV0ZSB0Lmljb25jbGFzcyxudWxsPT09dC5kaXNwbGF5JiZkZWxldGUgdC5kaXNwbGF5O3ZhciBvPWQodCxhKTthLiRlbGVtZW50LnJlcGxhY2VXaXRoKG8pLGEuJGVsZW1lbnQ9b319LGwuYWRkVG9vbD1mdW5jdGlvbihlLHQsbixvKXtsLnRvb2xzW2VdPWFuZ3VsYXIuZXh0ZW5kKGwuJG5ldyghMCksYVtlXSx1LHtuYW1lOmV9KSxsLnRvb2xzW2VdLiRlbGVtZW50PWQoYVtlXSxsLnRvb2xzW2VdKTt2YXIgcjt2b2lkIDA9PT1uJiYobj1sLnRvb2xiYXIubGVuZ3RoLTEpLHI9YW5ndWxhci5lbGVtZW50KGkuY2hpbGRyZW4oKVtuXSksdm9pZCAwPT09bz8oci5hcHBlbmQobC50b29sc1tlXS4kZWxlbWVudCksbC50b29sYmFyW25dW2wudG9vbGJhcltuXS5sZW5ndGgtMV09ZSk6KHIuY2hpbGRyZW4oKS5lcShvKS5hZnRlcihsLnRvb2xzW2VdLiRlbGVtZW50KSxsLnRvb2xiYXJbbl1bb109ZSl9LHQucmVnaXN0ZXJUb29sYmFyKGwpLGwuJG9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe3QudW5yZWdpc3RlclRvb2xiYXIobC5uYW1lKX0pfX19XSksdi5uYW1lfSk7XG5cInVzZSBzdHJpY3RcIjt2YXIgYXBwPWFuZ3VsYXIubW9kdWxlKFwibmdGbGFzaFwiLFtdKTthcHAucnVuKFtcIiRyb290U2NvcGVcIixmdW5jdGlvbih0KXtyZXR1cm4gdC5mbGFzaGVzPVtdfV0pLGFwcC5kaXJlY3RpdmUoXCJkeW5hbWljXCIsW1wiJGNvbXBpbGVcIixmdW5jdGlvbih0KXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVwbGFjZTohMCxsaW5rOmZ1bmN0aW9uKGUscyxpKXtyZXR1cm4gZS4kd2F0Y2goaS5keW5hbWljLGZ1bmN0aW9uKGkpe3JldHVybiBzLmh0bWwoaSksdChzLmNvbnRlbnRzKCkpKGUpfSl9fX1dKSxhcHAuZGlyZWN0aXZlKFwiYXBwbHl0cmFuc2NsdWRlXCIsW1wiJGNvbXBpbGVcIixmdW5jdGlvbih0KXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsbGluazpmdW5jdGlvbih0LGUscyl7dC5fdHJhbnNjbHVkZSh0LGZ1bmN0aW9uKHQscyl7ZS5lbXB0eSgpLmFwcGVuZCh0KX0pfX19XSksYXBwLmRpcmVjdGl2ZShcImNsb3NlRmxhc2hcIixbXCIkY29tcGlsZVwiLFwiJHJvb3RTY29wZVwiLFwiRmxhc2hcIixmdW5jdGlvbih0LGUscyl7cmV0dXJue2xpbms6ZnVuY3Rpb24odCxpLG4pe3JldHVybiBpLm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe3ZhciB0PXBhcnNlSW50KG4uY2xvc2VGbGFzaCwxMCk7cy5kaXNtaXNzKHQpLGUuJGFwcGx5KCl9KX19fV0pLGFwcC5kaXJlY3RpdmUoXCJmbGFzaE1lc3NhZ2VcIixbXCJGbGFzaFwiLGZ1bmN0aW9uKHQpe3JldHVybntyZXN0cmljdDpcIkVcIixzY29wZTp7ZHVyYXRpb246XCI9XCIsc2hvd0Nsb3NlOlwiPVwiLG9uRGlzbWlzczpcIiZcIn0sbGluazpmdW5jdGlvbihlLHMsaSxuLG8pe2Z1bmN0aW9uIGEodCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbkRpc21pc3MmJmUub25EaXNtaXNzKHtmbGFzaDp0fSl9dC5zZXRUaW1lb3V0KGUuZHVyYXRpb24pLHQuc2V0U2hvd0Nsb3NlKGUuc2hvd0Nsb3NlKSx0LnNldE9uRGlzbWlzcyhhKSx0LmNvbmZpZy50ZW1wbGF0ZVRyYW5zY2x1ZGUmJihlLl90cmFuc2NsdWRlPW8pfSx0cmFuc2NsdWRlOnQuY29uZmlnLnRlbXBsYXRlVHJhbnNjbHVkZSx0ZW1wbGF0ZTonXFxuICAgICAgICAgICAgICAgIDxkaXYgbmctcmVwZWF0PVwiZmxhc2ggaW4gJHJvb3QuZmxhc2hlcyB0cmFjayBieSAkaW5kZXhcIj5cXG4gICAgICAgICAgICAgICAgICAgICcrdC5jb25maWcudGVtcGxhdGUrXCJcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgXCJ9fV0pLGFwcC5wcm92aWRlcihcIkZsYXNoXCIsZnVuY3Rpb24oKXt2YXIgdD17fSxlPXtib290c3RyYXA6e2h0bWw6J1xcbiAgICAgICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiIGlkPVwie3tmbGFzaC5jb25maWcuaWR9fVwiXFxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImFsZXJ0IHt7Zmxhc2guY29uZmlnLmNsYXNzfX0gYWxlcnQte3tmbGFzaC50eXBlfX0gYWxlcnQtZGlzbWlzc2libGUgYWxlcnRJbiBhbGVydE91dFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIG5nLXNob3c9XCJmbGFzaC5zaG93Q2xvc2VcIiBjbG9zZS1mbGFzaD1cInt7Zmxhc2guaWR9fVwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+Q2xvc2U8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGR5bmFtaWM9XCJmbGFzaC50ZXh0XCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj4nLHRyYW5zY2x1ZGU6ITF9LHRyYW5zY2x1ZGU6e2h0bWw6XCI8ZGl2IGFwcGx5dHJhbnNjbHVkZT48L2Rpdj5cIix0cmFuc2NsdWRlOiEwfX07dGhpcy5zZXRUaW1lb3V0PWZ1bmN0aW9uKGUpe1wibnVtYmVyXCI9PXR5cGVvZiBlJiYodC50aW1lb3V0PWUpfSx0aGlzLnNldFNob3dDbG9zZT1mdW5jdGlvbihlKXtcImJvb2xlYW5cIj09dHlwZW9mIGUmJih0LnNob3dDbG9zZT1lKX0sdGhpcy5zZXRUZW1wbGF0ZT1mdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKHQudGVtcGxhdGU9ZSl9LHRoaXMuc2V0VGVtcGxhdGVQcmVzZXQ9ZnVuY3Rpb24ocyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHMmJnMgaW4gZSl7dmFyIGk9ZVtzXTt0aGlzLnNldFRlbXBsYXRlKGkuaHRtbCksdC50ZW1wbGF0ZVRyYW5zY2x1ZGU9aS50cmFuc2NsdWRlfX0sdGhpcy5zZXRPbkRpc21pc3M9ZnVuY3Rpb24oZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKHQub25EaXNtaXNzPWUpfSx0aGlzLnNldFRpbWVvdXQoNWUzKSx0aGlzLnNldFNob3dDbG9zZSghMCksdGhpcy5zZXRUZW1wbGF0ZVByZXNldChcImJvb3RzdHJhcFwiKSx0aGlzLiRnZXQ9W1wiJHJvb3RTY29wZVwiLFwiJHRpbWVvdXRcIixmdW5jdGlvbihlLHMpe2Z1bmN0aW9uIGkodCl7cmV0dXJuIGUuZmxhc2hlcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KS5pbmRleE9mKHQpfXZhciBuPXt9LG89MDtyZXR1cm4gbi5zZXRUaW1lb3V0PXRoaXMuc2V0VGltZW91dCxuLnNldFNob3dDbG9zZT10aGlzLnNldFNob3dDbG9zZSxuLnNldE9uRGlzbWlzcz10aGlzLnNldE9uRGlzbWlzcyxuLmNvbmZpZz10LG4uY3JlYXRlPWZ1bmN0aW9uKGksbixhLGwscil7dmFyIGM9dm9pZCAwLHU9dm9pZCAwO3JldHVybiBjPXRoaXMsdT17dHlwZTppLHRleHQ6bixjb25maWc6bCxpZDpvKyt9LHUuc2hvd0Nsb3NlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiByP3I6dC5zaG93Q2xvc2UsdC50aW1lb3V0JiZcInVuZGVmaW5lZFwiPT10eXBlb2YgYT91LnRpbWVvdXQ9dC50aW1lb3V0OmEmJih1LnRpbWVvdXQ9YSksZS5mbGFzaGVzLnB1c2godSksdS50aW1lb3V0JiYodS50aW1lb3V0T2JqPXMoZnVuY3Rpb24oKXtjLmRpc21pc3ModS5pZCl9LHUudGltZW91dCkpLHUuaWR9LG4ucGF1c2U9ZnVuY3Rpb24odCl7ZS5mbGFzaGVzW3RdLnRpbWVvdXRPYmomJnMuY2FuY2VsKGUuZmxhc2hlc1t0XS50aW1lb3V0T2JqKX0sbi5kaXNtaXNzPWZ1bmN0aW9uKHMpe3ZhciBvPWkocyk7aWYoLTEhPT1vKXt2YXIgYT1lLmZsYXNoZXNbb107bi5wYXVzZShvKSxlLmZsYXNoZXMuc3BsaWNlKG8sMSksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5vbkRpc21pc3MmJnQub25EaXNtaXNzKGEpfX0sbi5jbGVhcj1mdW5jdGlvbigpe2Zvcig7ZS5mbGFzaGVzLmxlbmd0aD4wOyluLmRpc21pc3MoZS5mbGFzaGVzWzBdLmlkKX0sbi5yZXNldD1uLmNsZWFyLG59XX0pO1xuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGV4cG9ydHMmJm1vZHVsZS5leHBvcnRzPT09ZXhwb3J0cyYmKG1vZHVsZS5leHBvcnRzPVwidWkucm91dGVyXCIpLGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCl7cmV0dXJuIEoobmV3KEooZnVuY3Rpb24oKXt9LHtwcm90b3R5cGU6ZX0pKSx0KX1mdW5jdGlvbiBhKGUpe3JldHVybiBMKGFyZ3VtZW50cyxmdW5jdGlvbih0KXt0IT09ZSYmTCh0LGZ1bmN0aW9uKHQscil7ZS5oYXNPd25Qcm9wZXJ0eShyKXx8KGVbcl09dCl9KX0pLGV9ZnVuY3Rpb24gaShlLHQpe3ZhciByPVtdO2Zvcih2YXIgbiBpbiBlLnBhdGgpe2lmKGUucGF0aFtuXSE9PXQucGF0aFtuXSlicmVhaztyLnB1c2goZS5wYXRoW25dKX1yZXR1cm4gcn1mdW5jdGlvbiBvKGUpe2lmKE9iamVjdC5rZXlzKXJldHVybiBPYmplY3Qua2V5cyhlKTt2YXIgdD1bXTtyZXR1cm4gTChlLGZ1bmN0aW9uKGUscil7dC5wdXNoKHIpfSksdH1mdW5jdGlvbiB1KGUsdCl7aWYoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpcmV0dXJuIGUuaW5kZXhPZih0LE51bWJlcihhcmd1bWVudHNbMl0pfHwwKTt2YXIgcj1lLmxlbmd0aD4+PjAsbj1OdW1iZXIoYXJndW1lbnRzWzJdKXx8MDtmb3Iobj1uPDA/TWF0aC5jZWlsKG4pOk1hdGguZmxvb3IobiksbjwwJiYobis9cik7bjxyO24rKylpZihuIGluIGUmJmVbbl09PT10KXJldHVybiBuO3JldHVybi0xfWZ1bmN0aW9uIHMoZSx0LHIsbil7dmFyIGEscz1pKHIsbiksbD17fSxjPVtdO2Zvcih2YXIgZiBpbiBzKWlmKHNbZl0mJnNbZl0ucGFyYW1zJiYoYT1vKHNbZl0ucGFyYW1zKSxhLmxlbmd0aCkpZm9yKHZhciBwIGluIGEpdShjLGFbcF0pPj0wfHwoYy5wdXNoKGFbcF0pLGxbYVtwXV09ZVthW3BdXSk7cmV0dXJuIEooe30sbCx0KX1mdW5jdGlvbiBsKGUsdCxyKXtpZighcil7cj1bXTtmb3IodmFyIG4gaW4gZSlyLnB1c2gobil9Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspe3ZhciBpPXJbYV07aWYoZVtpXSE9dFtpXSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBjKGUsdCl7dmFyIHI9e307cmV0dXJuIEwoZSxmdW5jdGlvbihlKXtyW2VdPXRbZV19KSxyfWZ1bmN0aW9uIGYoZSl7dmFyIHQ9e30scj1BcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KEFycmF5LnByb3RvdHlwZSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpO3JldHVybiBMKHIsZnVuY3Rpb24ocil7ciBpbiBlJiYodFtyXT1lW3JdKX0pLHR9ZnVuY3Rpb24gcChlKXt2YXIgdD17fSxyPUFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoQXJyYXkucHJvdG90eXBlLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSk7Zm9yKHZhciBuIGluIGUpdShyLG4pPT0tMSYmKHRbbl09ZVtuXSk7cmV0dXJuIHR9ZnVuY3Rpb24gaChlLHQpe3ZhciByPXooZSksbj1yP1tdOnt9O3JldHVybiBMKGUsZnVuY3Rpb24oZSxhKXt0KGUsYSkmJihuW3I/bi5sZW5ndGg6YV09ZSl9KSxufWZ1bmN0aW9uICQoZSx0KXt2YXIgcj16KGUpP1tdOnt9O3JldHVybiBMKGUsZnVuY3Rpb24oZSxuKXtyW25dPXQoZSxuKX0pLHJ9ZnVuY3Rpb24gdihlLHQpe3ZhciBuPTEsaT0yLHM9e30sbD1bXSxjPXMsZj1KKGUud2hlbihzKSx7JCRwcm9taXNlczpzLCQkdmFsdWVzOnN9KTt0aGlzLnN0dWR5PWZ1bmN0aW9uKHMpe2Z1bmN0aW9uIGgoZSxyKXtpZihnW3JdIT09aSl7aWYobS5wdXNoKHIpLGdbcl09PT1uKXRocm93IG0uc3BsaWNlKDAsdShtLHIpKSxuZXcgRXJyb3IoXCJDeWNsaWMgZGVwZW5kZW5jeTogXCIrbS5qb2luKFwiIC0+IFwiKSk7aWYoZ1tyXT1uLFUoZSkpZC5wdXNoKHIsW2Z1bmN0aW9uKCl7cmV0dXJuIHQuZ2V0KGUpfV0sbCk7ZWxzZXt2YXIgYT10LmFubm90YXRlKGUpO0woYSxmdW5jdGlvbihlKXtlIT09ciYmcy5oYXNPd25Qcm9wZXJ0eShlKSYmaChzW2VdLGUpfSksZC5wdXNoKHIsZSxhKX1tLnBvcCgpLGdbcl09aX19ZnVuY3Rpb24gJChlKXtyZXR1cm4gVChlKSYmZS50aGVuJiZlLiQkcHJvbWlzZXN9aWYoIVQocykpdGhyb3cgbmV3IEVycm9yKFwiJ2ludm9jYWJsZXMnIG11c3QgYmUgYW4gb2JqZWN0XCIpO3ZhciB2PW8oc3x8e30pLGQ9W10sbT1bXSxnPXt9O3JldHVybiBMKHMsaCkscz1tPWc9bnVsbCxmdW5jdGlvbihuLGksbyl7ZnVuY3Rpb24gdSgpey0td3x8KGJ8fGEoeSxpLiQkdmFsdWVzKSxtLiQkdmFsdWVzPXksbS4kJHByb21pc2VzPW0uJCRwcm9taXNlc3x8ITAsZGVsZXRlIG0uJCRpbmhlcml0ZWRWYWx1ZXMsaC5yZXNvbHZlKHkpKX1mdW5jdGlvbiBzKGUpe20uJCRmYWlsdXJlPWUsaC5yZWplY3QoZSl9ZnVuY3Rpb24gbChyLGEsaSl7ZnVuY3Rpb24gbChlKXtmLnJlamVjdChlKSxzKGUpfWZ1bmN0aW9uIGMoKXtpZighRChtLiQkZmFpbHVyZSkpdHJ5e2YucmVzb2x2ZSh0Lmludm9rZShhLG8seSkpLGYucHJvbWlzZS50aGVuKGZ1bmN0aW9uKGUpe3lbcl09ZSx1KCl9LGwpfWNhdGNoKGUpe2woZSl9fXZhciBmPWUuZGVmZXIoKSxwPTA7TChpLGZ1bmN0aW9uKGUpe2cuaGFzT3duUHJvcGVydHkoZSkmJiFuLmhhc093blByb3BlcnR5KGUpJiYocCsrLGdbZV0udGhlbihmdW5jdGlvbih0KXt5W2VdPXQsLS1wfHxjKCl9LGwpKX0pLHB8fGMoKSxnW3JdPWYucHJvbWlzZX1pZigkKG4pJiZvPT09ciYmKG89aSxpPW4sbj1udWxsKSxuKXtpZighVChuKSl0aHJvdyBuZXcgRXJyb3IoXCInbG9jYWxzJyBtdXN0IGJlIGFuIG9iamVjdFwiKX1lbHNlIG49YztpZihpKXtpZighJChpKSl0aHJvdyBuZXcgRXJyb3IoXCIncGFyZW50JyBtdXN0IGJlIGEgcHJvbWlzZSByZXR1cm5lZCBieSAkcmVzb2x2ZS5yZXNvbHZlKClcIil9ZWxzZSBpPWY7dmFyIGg9ZS5kZWZlcigpLG09aC5wcm9taXNlLGc9bS4kJHByb21pc2VzPXt9LHk9Sih7fSxuKSx3PTErZC5sZW5ndGgvMyxiPSExO2lmKEQoaS4kJGZhaWx1cmUpKXJldHVybiBzKGkuJCRmYWlsdXJlKSxtO2kuJCRpbmhlcml0ZWRWYWx1ZXMmJmEoeSxwKGkuJCRpbmhlcml0ZWRWYWx1ZXMsdikpLEooZyxpLiQkcHJvbWlzZXMpLGkuJCR2YWx1ZXM/KGI9YSh5LHAoaS4kJHZhbHVlcyx2KSksbS4kJGluaGVyaXRlZFZhbHVlcz1wKGkuJCR2YWx1ZXMsdiksdSgpKTooaS4kJGluaGVyaXRlZFZhbHVlcyYmKG0uJCRpbmhlcml0ZWRWYWx1ZXM9cChpLiQkaW5oZXJpdGVkVmFsdWVzLHYpKSxpLnRoZW4odSxzKSk7Zm9yKHZhciBTPTAsRT1kLmxlbmd0aDtTPEU7Uys9MyluLmhhc093blByb3BlcnR5KGRbU10pP3UoKTpsKGRbU10sZFtTKzFdLGRbUysyXSk7cmV0dXJuIG19fSx0aGlzLnJlc29sdmU9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHRoaXMuc3R1ZHkoZSkodCxyLG4pfX1mdW5jdGlvbiBkKGUsdCxyKXt0aGlzLmZyb21Db25maWc9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBEKGUudGVtcGxhdGUpP3RoaXMuZnJvbVN0cmluZyhlLnRlbXBsYXRlLHQpOkQoZS50ZW1wbGF0ZVVybCk/dGhpcy5mcm9tVXJsKGUudGVtcGxhdGVVcmwsdCk6RChlLnRlbXBsYXRlUHJvdmlkZXIpP3RoaXMuZnJvbVByb3ZpZGVyKGUudGVtcGxhdGVQcm92aWRlcix0LHIpOm51bGx9LHRoaXMuZnJvbVN0cmluZz1mdW5jdGlvbihlLHQpe3JldHVybiBGKGUpP2UodCk6ZX0sdGhpcy5mcm9tVXJsPWZ1bmN0aW9uKHIsbil7cmV0dXJuIEYocikmJihyPXIobikpLG51bGw9PXI/bnVsbDplLmdldChyLHtjYWNoZTp0LGhlYWRlcnM6e0FjY2VwdDpcInRleHQvaHRtbFwifX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGF0YX0pfSx0aGlzLmZyb21Qcm92aWRlcj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHIuaW52b2tlKGUsbnVsbCxufHx7cGFyYW1zOnR9KX19ZnVuY3Rpb24gbShlLHQsYSl7ZnVuY3Rpb24gaSh0LHIsbixhKXtpZihkLnB1c2godCksJFt0XSlyZXR1cm4gJFt0XTtpZighL15cXHcrKFstLl0rXFx3KykqKD86XFxbXFxdKT8kLy50ZXN0KHQpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFyYW1ldGVyIG5hbWUgJ1wiK3QrXCInIGluIHBhdHRlcm4gJ1wiK2UrXCInXCIpO2lmKHZbdF0pdGhyb3cgbmV3IEVycm9yKFwiRHVwbGljYXRlIHBhcmFtZXRlciBuYW1lICdcIit0K1wiJyBpbiBwYXR0ZXJuICdcIitlK1wiJ1wiKTtyZXR1cm4gdlt0XT1uZXcgQi5QYXJhbSh0LHIsbixhKSx2W3RdfWZ1bmN0aW9uIG8oZSx0LHIsbil7dmFyIGE9W1wiXCIsXCJcIl0saT1lLnJlcGxhY2UoL1tcXFxcXFxbXFxdXFxeJCorPy4oKXx7fV0vZyxcIlxcXFwkJlwiKTtpZighdClyZXR1cm4gaTtzd2l0Y2gocil7Y2FzZSExOmE9W1wiKFwiLFwiKVwiKyhuP1wiP1wiOlwiXCIpXTticmVhaztjYXNlITA6aT1pLnJlcGxhY2UoL1xcLyQvLFwiXCIpLGE9W1wiKD86LyhcIixcIil8Lyk/XCJdO2JyZWFrO2RlZmF1bHQ6YT1bXCIoXCIrcitcInxcIixcIik/XCJdfXJldHVybiBpK2FbMF0rdCthWzFdfWZ1bmN0aW9uIHUoYSxpKXt2YXIgbyx1LHMsbCxjO3JldHVybiBvPWFbMl18fGFbM10sYz10LnBhcmFtc1tvXSxzPWUuc3Vic3RyaW5nKHAsYS5pbmRleCksdT1pP2FbNF06YVs0XXx8KFwiKlwiPT1hWzFdP1wiLipcIjpudWxsKSx1JiYobD1CLnR5cGUodSl8fG4oQi50eXBlKFwic3RyaW5nXCIpLHtwYXR0ZXJuOm5ldyBSZWdFeHAodSx0LmNhc2VJbnNlbnNpdGl2ZT9cImlcIjpyKX0pKSx7aWQ6byxyZWdleHA6dSxzZWdtZW50OnMsdHlwZTpsLGNmZzpjfX10PUooe3BhcmFtczp7fX0sVCh0KT90Ont9KTt2YXIgcyxsPS8oWzoqXSkoW1xcd1xcW1xcXV0rKXxcXHsoW1xcd1xcW1xcXV0rKSg/OlxcOlxccyooKD86W157fVxcXFxdK3xcXFxcLnxcXHsoPzpbXnt9XFxcXF0rfFxcXFwuKSpcXH0pKykpP1xcfS9nLGM9LyhbOl0/KShbXFx3XFxbXFxdLi1dKyl8XFx7KFtcXHdcXFtcXF0uLV0rKSg/OlxcOlxccyooKD86W157fVxcXFxdK3xcXFxcLnxcXHsoPzpbXnt9XFxcXF0rfFxcXFwuKSpcXH0pKykpP1xcfS9nLGY9XCJeXCIscD0wLGg9dGhpcy5zZWdtZW50cz1bXSwkPWE/YS5wYXJhbXM6e30sdj10aGlzLnBhcmFtcz1hP2EucGFyYW1zLiQkbmV3KCk6bmV3IEIuUGFyYW1TZXQsZD1bXTt0aGlzLnNvdXJjZT1lO2Zvcih2YXIgbSxnLHk7KHM9bC5leGVjKGUpKSYmKG09dShzLCExKSwhKG0uc2VnbWVudC5pbmRleE9mKFwiP1wiKT49MCkpOylnPWkobS5pZCxtLnR5cGUsbS5jZmcsXCJwYXRoXCIpLGYrPW8obS5zZWdtZW50LGcudHlwZS5wYXR0ZXJuLnNvdXJjZSxnLnNxdWFzaCxnLmlzT3B0aW9uYWwpLGgucHVzaChtLnNlZ21lbnQpLHA9bC5sYXN0SW5kZXg7eT1lLnN1YnN0cmluZyhwKTt2YXIgdz15LmluZGV4T2YoXCI/XCIpO2lmKHc+PTApe3ZhciBiPXRoaXMuc291cmNlU2VhcmNoPXkuc3Vic3RyaW5nKHcpO2lmKHk9eS5zdWJzdHJpbmcoMCx3KSx0aGlzLnNvdXJjZVBhdGg9ZS5zdWJzdHJpbmcoMCxwK3cpLGIubGVuZ3RoPjApZm9yKHA9MDtzPWMuZXhlYyhiKTspbT11KHMsITApLGc9aShtLmlkLG0udHlwZSxtLmNmZyxcInNlYXJjaFwiKSxwPWwubGFzdEluZGV4fWVsc2UgdGhpcy5zb3VyY2VQYXRoPWUsdGhpcy5zb3VyY2VTZWFyY2g9XCJcIjtmKz1vKHkpKyh0LnN0cmljdD09PSExP1wiLz9cIjpcIlwiKStcIiRcIixoLnB1c2goeSksdGhpcy5yZWdleHA9bmV3IFJlZ0V4cChmLHQuY2FzZUluc2Vuc2l0aXZlP1wiaVwiOnIpLHRoaXMucHJlZml4PWhbMF0sdGhpcy4kJHBhcmFtTmFtZXM9ZH1mdW5jdGlvbiBnKGUpe0oodGhpcyxlKX1mdW5jdGlvbiB5KCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gbnVsbCE9ZT9lLnRvU3RyaW5nKCkucmVwbGFjZSgvfi9nLFwifn5cIikucmVwbGFjZSgvXFwvL2csXCJ+MkZcIik6ZX1mdW5jdGlvbiBhKGUpe3JldHVybiBudWxsIT1lP2UudG9TdHJpbmcoKS5yZXBsYWNlKC9+MkYvZyxcIi9cIikucmVwbGFjZSgvfn4vZyxcIn5cIik6ZX1mdW5jdGlvbiBpKCl7cmV0dXJue3N0cmljdDp2LGNhc2VJbnNlbnNpdGl2ZTpwfX1mdW5jdGlvbiBzKGUpe3JldHVybiBGKGUpfHx6KGUpJiZGKGVbZS5sZW5ndGgtMV0pfWZ1bmN0aW9uIGwoKXtmb3IoO1MubGVuZ3RoOyl7dmFyIGU9Uy5zaGlmdCgpO2lmKGUucGF0dGVybil0aHJvdyBuZXcgRXJyb3IoXCJZb3UgY2Fubm90IG92ZXJyaWRlIGEgdHlwZSdzIC5wYXR0ZXJuIGF0IHJ1bnRpbWUuXCIpO3QuZXh0ZW5kKHdbZS5uYW1lXSxmLmludm9rZShlLmRlZikpfX1mdW5jdGlvbiBjKGUpe0oodGhpcyxlfHx7fSl9Qj10aGlzO3ZhciBmLHA9ITEsdj0hMCxkPSExLHc9e30sYj0hMCxTPVtdLEU9e3N0cmluZzp7ZW5jb2RlOmUsZGVjb2RlOmEsaXM6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWV8fCFEKGUpfHxcInN0cmluZ1wiPT10eXBlb2YgZX0scGF0dGVybjovW15cXC9dKi99LGludDp7ZW5jb2RlOmUsZGVjb2RlOmZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlLDEwKX0saXM6ZnVuY3Rpb24oZSl7cmV0dXJuIEQoZSkmJnRoaXMuZGVjb2RlKGUudG9TdHJpbmcoKSk9PT1lfSxwYXR0ZXJuOi9cXGQrL30sYm9vbDp7ZW5jb2RlOmZ1bmN0aW9uKGUpe3JldHVybiBlPzE6MH0sZGVjb2RlOmZ1bmN0aW9uKGUpe3JldHVybiAwIT09cGFyc2VJbnQoZSwxMCl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09ITB8fGU9PT0hMX0scGF0dGVybjovMHwxL30sZGF0ZTp7ZW5jb2RlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlzKGUpP1tlLmdldEZ1bGxZZWFyKCksKFwiMFwiKyhlLmdldE1vbnRoKCkrMSkpLnNsaWNlKC0yKSwoXCIwXCIrZS5nZXREYXRlKCkpLnNsaWNlKC0yKV0uam9pbihcIi1cIik6cn0sZGVjb2RlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuaXMoZSkpcmV0dXJuIGU7dmFyIHQ9dGhpcy5jYXB0dXJlLmV4ZWMoZSk7cmV0dXJuIHQ/bmV3IERhdGUodFsxXSx0WzJdLTEsdFszXSk6cn0saXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBEYXRlJiYhaXNOYU4oZS52YWx1ZU9mKCkpfSxlcXVhbHM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5pcyhlKSYmdGhpcy5pcyh0KSYmZS50b0lTT1N0cmluZygpPT09dC50b0lTT1N0cmluZygpfSxwYXR0ZXJuOi9bMC05XXs0fS0oPzowWzEtOV18MVswLTJdKS0oPzowWzEtOV18WzEtMl1bMC05XXwzWzAtMV0pLyxjYXB0dXJlOi8oWzAtOV17NH0pLSgwWzEtOV18MVswLTJdKS0oMFsxLTldfFsxLTJdWzAtOV18M1swLTFdKS99LGpzb246e2VuY29kZTp0LnRvSnNvbixkZWNvZGU6dC5mcm9tSnNvbixpczp0LmlzT2JqZWN0LGVxdWFsczp0LmVxdWFscyxwYXR0ZXJuOi9bXlxcL10qL30sYW55OntlbmNvZGU6dC5pZGVudGl0eSxkZWNvZGU6dC5pZGVudGl0eSxlcXVhbHM6dC5lcXVhbHMscGF0dGVybjovLiovfX07eS4kJGdldERlZmF1bHRWYWx1ZT1mdW5jdGlvbihlKXtpZighcyhlLnZhbHVlKSlyZXR1cm4gZS52YWx1ZTtpZighZil0aHJvdyBuZXcgRXJyb3IoXCJJbmplY3RhYmxlIGZ1bmN0aW9ucyBjYW5ub3QgYmUgY2FsbGVkIGF0IGNvbmZpZ3VyYXRpb24gdGltZVwiKTtyZXR1cm4gZi5pbnZva2UoZS52YWx1ZSl9LHRoaXMuY2FzZUluc2Vuc2l0aXZlPWZ1bmN0aW9uKGUpe3JldHVybiBEKGUpJiYocD1lKSxwfSx0aGlzLnN0cmljdE1vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIEQoZSkmJih2PWUpLHZ9LHRoaXMuZGVmYXVsdFNxdWFzaFBvbGljeT1mdW5jdGlvbihlKXtpZighRChlKSlyZXR1cm4gZDtpZihlIT09ITAmJmUhPT0hMSYmIVUoZSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzcXVhc2ggcG9saWN5OiBcIitlK1wiLiBWYWxpZCBwb2xpY2llczogZmFsc2UsIHRydWUsIGFyYml0cmFyeS1zdHJpbmdcIik7cmV0dXJuIGQ9ZSxlfSx0aGlzLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IG0oZSxKKGkoKSx0KSl9LHRoaXMuaXNNYXRjaGVyPWZ1bmN0aW9uKGUpe2lmKCFUKGUpKXJldHVybiExO3ZhciB0PSEwO3JldHVybiBMKG0ucHJvdG90eXBlLGZ1bmN0aW9uKHIsbil7RihyKSYmKHQ9dCYmRChlW25dKSYmRihlW25dKSl9KSx0fSx0aGlzLnR5cGU9ZnVuY3Rpb24oZSx0LHIpe2lmKCFEKHQpKXJldHVybiB3W2VdO2lmKHcuaGFzT3duUHJvcGVydHkoZSkpdGhyb3cgbmV3IEVycm9yKFwiQSB0eXBlIG5hbWVkICdcIitlK1wiJyBoYXMgYWxyZWFkeSBiZWVuIGRlZmluZWQuXCIpO3JldHVybiB3W2VdPW5ldyBnKEooe25hbWU6ZX0sdCkpLHImJihTLnB1c2goe25hbWU6ZSxkZWY6cn0pLGJ8fGwoKSksdGhpc30sTChFLGZ1bmN0aW9uKGUsdCl7d1t0XT1uZXcgZyhKKHtuYW1lOnR9LGUpKX0pLHc9bih3LHt9KSx0aGlzLiRnZXQ9W1wiJGluamVjdG9yXCIsZnVuY3Rpb24oZSl7cmV0dXJuIGY9ZSxiPSExLGwoKSxMKEUsZnVuY3Rpb24oZSx0KXt3W3RdfHwod1t0XT1uZXcgZyhlKSl9KSx0aGlzfV0sdGhpcy5QYXJhbT1mdW5jdGlvbihlLG4sYSxpKXtmdW5jdGlvbiBsKGUpe3ZhciB0PVQoZSk/byhlKTpbXSxyPXUodCxcInZhbHVlXCIpPT09LTEmJnUodCxcInR5cGVcIik9PT0tMSYmdSh0LFwic3F1YXNoXCIpPT09LTEmJnUodCxcImFycmF5XCIpPT09LTE7cmV0dXJuIHImJihlPXt2YWx1ZTplfSksZS4kJGZuPXMoZS52YWx1ZSk/ZS52YWx1ZTpmdW5jdGlvbigpe3JldHVybiBlLnZhbHVlfSxlfWZ1bmN0aW9uIGMocixuLGEpe2lmKHIudHlwZSYmbil0aHJvdyBuZXcgRXJyb3IoXCJQYXJhbSAnXCIrZStcIicgaGFzIHR3byB0eXBlIGNvbmZpZ3VyYXRpb25zLlwiKTtyZXR1cm4gbj9uOnIudHlwZT90LmlzU3RyaW5nKHIudHlwZSk/d1tyLnR5cGVdOnIudHlwZSBpbnN0YW5jZW9mIGc/ci50eXBlOm5ldyBnKHIudHlwZSk6XCJjb25maWdcIj09PWE/dy5hbnk6dy5zdHJpbmd9ZnVuY3Rpb24gcCgpe3ZhciB0PXthcnJheTpcInNlYXJjaFwiPT09aSYmXCJhdXRvXCJ9LHI9ZS5tYXRjaCgvXFxbXFxdJC8pP3thcnJheTohMH06e307cmV0dXJuIEoodCxyLGEpLmFycmF5fWZ1bmN0aW9uIHYoZSx0KXt2YXIgcj1lLnNxdWFzaDtpZighdHx8cj09PSExKXJldHVybiExO2lmKCFEKHIpfHxudWxsPT1yKXJldHVybiBkO2lmKHI9PT0hMHx8VShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNxdWFzaCBwb2xpY3k6ICdcIityK1wiJy4gVmFsaWQgcG9saWNpZXM6IGZhbHNlLCB0cnVlLCBvciBhcmJpdHJhcnkgc3RyaW5nXCIpfWZ1bmN0aW9uIG0oZSx0LG4sYSl7dmFyIGksbyxzPVt7ZnJvbTpcIlwiLHRvOm58fHQ/cjpcIlwifSx7ZnJvbTpudWxsLHRvOm58fHQ/cjpcIlwifV07cmV0dXJuIGk9eihlLnJlcGxhY2UpP2UucmVwbGFjZTpbXSxVKGEpJiZpLnB1c2goe2Zyb206YSx0bzpyfSksbz0kKGksZnVuY3Rpb24oZSl7cmV0dXJuIGUuZnJvbX0pLGgocyxmdW5jdGlvbihlKXtyZXR1cm4gdShvLGUuZnJvbSk9PT0tMX0pLmNvbmNhdChpKX1mdW5jdGlvbiB5KCl7aWYoIWYpdGhyb3cgbmV3IEVycm9yKFwiSW5qZWN0YWJsZSBmdW5jdGlvbnMgY2Fubm90IGJlIGNhbGxlZCBhdCBjb25maWd1cmF0aW9uIHRpbWVcIik7dmFyIGU9Zi5pbnZva2UoYS4kJGZuKTtpZihudWxsIT09ZSYmZSE9PXImJiFFLnR5cGUuaXMoZSkpdGhyb3cgbmV3IEVycm9yKFwiRGVmYXVsdCB2YWx1ZSAoXCIrZStcIikgZm9yIHBhcmFtZXRlciAnXCIrRS5pZCtcIicgaXMgbm90IGFuIGluc3RhbmNlIG9mIFR5cGUgKFwiK0UudHlwZS5uYW1lK1wiKVwiKTtyZXR1cm4gZX1mdW5jdGlvbiBiKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0LmZyb209PT1lfX1mdW5jdGlvbiByKGUpe3ZhciByPSQoaChFLnJlcGxhY2UsdChlKSksZnVuY3Rpb24oZSl7cmV0dXJuIGUudG99KTtyZXR1cm4gci5sZW5ndGg/clswXTplfXJldHVybiBlPXIoZSksRChlKT9FLnR5cGUuJG5vcm1hbGl6ZShlKTp5KCl9ZnVuY3Rpb24gUygpe3JldHVyblwie1BhcmFtOlwiK2UrXCIgXCIrbitcIiBzcXVhc2g6ICdcIitqK1wiJyBvcHRpb25hbDogXCIrUCtcIn1cIn12YXIgRT10aGlzO2E9bChhKSxuPWMoYSxuLGkpO3ZhciB4PXAoKTtuPXg/bi4kYXNBcnJheSh4LFwic2VhcmNoXCI9PT1pKTpuLFwic3RyaW5nXCIhPT1uLm5hbWV8fHh8fFwicGF0aFwiIT09aXx8YS52YWx1ZSE9PXJ8fChhLnZhbHVlPVwiXCIpO3ZhciBQPWEudmFsdWUhPT1yLGo9dihhLFApLEE9bShhLHgsUCxqKTtKKHRoaXMse2lkOmUsdHlwZTpuLGxvY2F0aW9uOmksYXJyYXk6eCxzcXVhc2g6aixyZXBsYWNlOkEsaXNPcHRpb25hbDpQLHZhbHVlOmIsZHluYW1pYzpyLGNvbmZpZzphLHRvU3RyaW5nOlN9KX0sYy5wcm90b3R5cGU9eyQkbmV3OmZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcyxKKG5ldyBjLHskJHBhcmVudDp0aGlzfSkpfSwkJGtleXM6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD1bXSxyPXRoaXMsbj1vKGMucHJvdG90eXBlKTtyOyl0LnB1c2gocikscj1yLiQkcGFyZW50O3JldHVybiB0LnJldmVyc2UoKSxMKHQsZnVuY3Rpb24odCl7TChvKHQpLGZ1bmN0aW9uKHQpe3UoZSx0KT09PS0xJiZ1KG4sdCk9PT0tMSYmZS5wdXNoKHQpfSl9KSxlfSwkJHZhbHVlczpmdW5jdGlvbihlKXt2YXIgdD17fSxyPXRoaXM7cmV0dXJuIEwoci4kJGtleXMoKSxmdW5jdGlvbihuKXt0W25dPXJbbl0udmFsdWUoZSYmZVtuXSl9KSx0fSwkJGVxdWFsczpmdW5jdGlvbihlLHQpe3ZhciByPSEwLG49dGhpcztyZXR1cm4gTChuLiQka2V5cygpLGZ1bmN0aW9uKGEpe3ZhciBpPWUmJmVbYV0sbz10JiZ0W2FdO25bYV0udHlwZS5lcXVhbHMoaSxvKXx8KHI9ITEpfSkscn0sJCR2YWxpZGF0ZXM6ZnVuY3Rpb24oZSl7dmFyIG4sYSxpLG8sdSxzPXRoaXMuJCRrZXlzKCk7Zm9yKG49MDtuPHMubGVuZ3RoJiYoYT10aGlzW3Nbbl1dLGk9ZVtzW25dXSxpIT09ciYmbnVsbCE9PWl8fCFhLmlzT3B0aW9uYWwpO24rKyl7aWYobz1hLnR5cGUuJG5vcm1hbGl6ZShpKSwhYS50eXBlLmlzKG8pKXJldHVybiExO2lmKHU9YS50eXBlLmVuY29kZShvKSx0LmlzU3RyaW5nKHUpJiYhYS50eXBlLnBhdHRlcm4uZXhlYyh1KSlyZXR1cm4hMX1yZXR1cm4hMH0sJCRwYXJlbnQ6cn0sdGhpcy5QYXJhbVNldD1jfWZ1bmN0aW9uIHcoZSxuKXtmdW5jdGlvbiBhKGUpe3ZhciB0PS9eXFxeKCg/OlxcXFxbXmEtekEtWjAtOV18W15cXFxcXFxbXFxdXFxeJCorPy4oKXx7fV0rKSopLy5leGVjKGUuc291cmNlKTtyZXR1cm4gbnVsbCE9dD90WzFdLnJlcGxhY2UoL1xcXFwoLikvZyxcIiQxXCIpOlwiXCJ9ZnVuY3Rpb24gaShlLHQpe3JldHVybiBlLnJlcGxhY2UoL1xcJChcXCR8XFxkezEsMn0pLyxmdW5jdGlvbihlLHIpe3JldHVybiB0W1wiJFwiPT09cj8wOk51bWJlcihyKV19KX1mdW5jdGlvbiBvKGUsdCxyKXtpZighcilyZXR1cm4hMTt2YXIgbj1lLmludm9rZSh0LHQseyRtYXRjaDpyfSk7cmV0dXJuIUQobil8fG59ZnVuY3Rpb24gdShuLGEsaSxvLHUpe2Z1bmN0aW9uIHAoZSx0LHIpe3JldHVyblwiL1wiPT09ZD9lOnQ/ZC5zbGljZSgwLC0xKStlOnI/ZC5zbGljZSgxKStlOmV9ZnVuY3Rpb24gaChlKXtmdW5jdGlvbiB0KGUpe3ZhciB0PWUoaSxuKTtyZXR1cm4hIXQmJihVKHQpJiZuLnJlcGxhY2UoKS51cmwodCksITApfWlmKCFlfHwhZS5kZWZhdWx0UHJldmVudGVkKXt2JiZuLnVybCgpPT09djt2PXI7dmFyIGEsbz1sLmxlbmd0aDtmb3IoYT0wO2E8bzthKyspaWYodChsW2FdKSlyZXR1cm47YyYmdChjKX19ZnVuY3Rpb24gJCgpe3JldHVybiBzPXN8fGEuJG9uKFwiJGxvY2F0aW9uQ2hhbmdlU3VjY2Vzc1wiLGgpfXZhciB2LGQ9by5iYXNlSHJlZigpLG09bi51cmwoKTtyZXR1cm4gZnx8JCgpLHtzeW5jOmZ1bmN0aW9uKCl7aCgpfSxsaXN0ZW46ZnVuY3Rpb24oKXtyZXR1cm4gJCgpfSx1cGRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dm9pZChtPW4udXJsKCkpOnZvaWQobi51cmwoKSE9PW0mJihuLnVybChtKSxuLnJlcGxhY2UoKSkpfSxwdXNoOmZ1bmN0aW9uKGUsdCxhKXt2YXIgaT1lLmZvcm1hdCh0fHx7fSk7bnVsbCE9PWkmJnQmJnRbXCIjXCJdJiYoaSs9XCIjXCIrdFtcIiNcIl0pLG4udXJsKGkpLHY9YSYmYS4kJGF2b2lkUmVzeW5jP24udXJsKCk6cixhJiZhLnJlcGxhY2UmJm4ucmVwbGFjZSgpfSxocmVmOmZ1bmN0aW9uKHIsYSxpKXtpZighci52YWxpZGF0ZXMoYSkpcmV0dXJuIG51bGw7dmFyIG89ZS5odG1sNU1vZGUoKTt0LmlzT2JqZWN0KG8pJiYobz1vLmVuYWJsZWQpLG89byYmdS5oaXN0b3J5O3ZhciBzPXIuZm9ybWF0KGEpO2lmKGk9aXx8e30sb3x8bnVsbD09PXN8fChzPVwiI1wiK2UuaGFzaFByZWZpeCgpK3MpLG51bGwhPT1zJiZhJiZhW1wiI1wiXSYmKHMrPVwiI1wiK2FbXCIjXCJdKSxzPXAocyxvLGkuYWJzb2x1dGUpLCFpLmFic29sdXRlfHwhcylyZXR1cm4gczt2YXIgbD0hbyYmcz9cIi9cIjpcIlwiLGM9bi5wb3J0KCk7cmV0dXJuIGM9ODA9PT1jfHw0NDM9PT1jP1wiXCI6XCI6XCIrYyxbbi5wcm90b2NvbCgpLFwiOi8vXCIsbi5ob3N0KCksYyxsLHNdLmpvaW4oXCJcIil9fX12YXIgcyxsPVtdLGM9bnVsbCxmPSExO3RoaXMucnVsZT1mdW5jdGlvbihlKXtpZighRihlKSl0aHJvdyBuZXcgRXJyb3IoXCIncnVsZScgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3JldHVybiBsLnB1c2goZSksdGhpc30sdGhpcy5vdGhlcndpc2U9ZnVuY3Rpb24oZSl7aWYoVShlKSl7dmFyIHQ9ZTtlPWZ1bmN0aW9uKCl7cmV0dXJuIHR9fWVsc2UgaWYoIUYoZSkpdGhyb3cgbmV3IEVycm9yKFwiJ3J1bGUnIG11c3QgYmUgYSBmdW5jdGlvblwiKTtyZXR1cm4gYz1lLHRoaXN9LHRoaXMud2hlbj1mdW5jdGlvbihlLHQpe3ZhciByLHU9VSh0KTtpZihVKGUpJiYoZT1uLmNvbXBpbGUoZSkpLCF1JiYhRih0KSYmIXoodCkpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCAnaGFuZGxlcicgaW4gd2hlbigpXCIpO3ZhciBzPXttYXRjaGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHUmJihyPW4uY29tcGlsZSh0KSx0PVtcIiRtYXRjaFwiLGZ1bmN0aW9uKGUpe3JldHVybiByLmZvcm1hdChlKX1dKSxKKGZ1bmN0aW9uKHIsbil7cmV0dXJuIG8ocix0LGUuZXhlYyhuLnBhdGgoKSxuLnNlYXJjaCgpKSl9LHtwcmVmaXg6VShlLnByZWZpeCk/ZS5wcmVmaXg6XCJcIn0pfSxyZWdleDpmdW5jdGlvbihlLHQpe2lmKGUuZ2xvYmFsfHxlLnN0aWNreSl0aHJvdyBuZXcgRXJyb3IoXCJ3aGVuKCkgUmVnRXhwIG11c3Qgbm90IGJlIGdsb2JhbCBvciBzdGlja3lcIik7cmV0dXJuIHUmJihyPXQsdD1bXCIkbWF0Y2hcIixmdW5jdGlvbihlKXtyZXR1cm4gaShyLGUpfV0pLEooZnVuY3Rpb24ocixuKXtyZXR1cm4gbyhyLHQsZS5leGVjKG4ucGF0aCgpKSl9LHtwcmVmaXg6YShlKX0pfX0sbD17bWF0Y2hlcjpuLmlzTWF0Y2hlcihlKSxyZWdleDplIGluc3RhbmNlb2YgUmVnRXhwfTtmb3IodmFyIGMgaW4gbClpZihsW2NdKXJldHVybiB0aGlzLnJ1bGUoc1tjXShlLHQpKTt0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkICd3aGF0JyBpbiB3aGVuKClcIil9LHRoaXMuZGVmZXJJbnRlcmNlcHQ9ZnVuY3Rpb24oZSl7ZT09PXImJihlPSEwKSxmPWV9LHRoaXMuJGdldD11LHUuJGluamVjdD1bXCIkbG9jYXRpb25cIixcIiRyb290U2NvcGVcIixcIiRpbmplY3RvclwiLFwiJGJyb3dzZXJcIixcIiRzbmlmZmVyXCJdfWZ1bmN0aW9uIGIoZSxhKXtmdW5jdGlvbiBpKGUpe3JldHVybiAwPT09ZS5pbmRleE9mKFwiLlwiKXx8MD09PWUuaW5kZXhPZihcIl5cIil9ZnVuY3Rpb24gcChlLHQpe2lmKCFlKXJldHVybiByO3ZhciBuPVUoZSksYT1uP2U6ZS5uYW1lLG89aShhKTtpZihvKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJObyByZWZlcmVuY2UgcG9pbnQgZ2l2ZW4gZm9yIHBhdGggJ1wiK2ErXCInXCIpO3Q9cCh0KTtmb3IodmFyIHU9YS5zcGxpdChcIi5cIikscz0wLGw9dS5sZW5ndGgsYz10O3M8bDtzKyspaWYoXCJcIiE9PXVbc118fDAhPT1zKXtpZihcIl5cIiE9PXVbc10pYnJlYWs7aWYoIWMucGFyZW50KXRocm93IG5ldyBFcnJvcihcIlBhdGggJ1wiK2ErXCInIG5vdCB2YWxpZCBmb3Igc3RhdGUgJ1wiK3QubmFtZStcIidcIik7Yz1jLnBhcmVudH1lbHNlIGM9dDt1PXUuc2xpY2Uocykuam9pbihcIi5cIiksYT1jLm5hbWUrKGMubmFtZSYmdT9cIi5cIjpcIlwiKSt1fXZhciBmPVBbYV07cmV0dXJuIWZ8fCFuJiYobnx8ZiE9PWUmJmYuc2VsZiE9PWUpP3I6Zn1mdW5jdGlvbiBoKGUsdCl7altlXXx8KGpbZV09W10pLGpbZV0ucHVzaCh0KX1mdW5jdGlvbiB2KGUpe2Zvcih2YXIgdD1qW2VdfHxbXTt0Lmxlbmd0aDspZCh0LnNoaWZ0KCkpfWZ1bmN0aW9uIGQodCl7dD1uKHQse3NlbGY6dCxyZXNvbHZlOnQucmVzb2x2ZXx8e30sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lfX0pO3ZhciByPXQubmFtZTtpZighVShyKXx8ci5pbmRleE9mKFwiQFwiKT49MCl0aHJvdyBuZXcgRXJyb3IoXCJTdGF0ZSBtdXN0IGhhdmUgYSB2YWxpZCBuYW1lXCIpO2lmKFAuaGFzT3duUHJvcGVydHkocikpdGhyb3cgbmV3IEVycm9yKFwiU3RhdGUgJ1wiK3IrXCInIGlzIGFscmVhZHkgZGVmaW5lZFwiKTt2YXIgYT1yLmluZGV4T2YoXCIuXCIpIT09LTE/ci5zdWJzdHJpbmcoMCxyLmxhc3RJbmRleE9mKFwiLlwiKSk6VSh0LnBhcmVudCk/dC5wYXJlbnQ6VCh0LnBhcmVudCkmJlUodC5wYXJlbnQubmFtZSk/dC5wYXJlbnQubmFtZTpcIlwiO2lmKGEmJiFQW2FdKXJldHVybiBoKGEsdC5zZWxmKTtmb3IodmFyIGkgaW4gTylGKE9baV0pJiYodFtpXT1PW2ldKHQsTy4kZGVsZWdhdGVzW2ldKSk7cmV0dXJuIFBbcl09dCwhdFtBXSYmdC51cmwmJmUud2hlbih0LnVybCxbXCIkbWF0Y2hcIixcIiRzdGF0ZVBhcmFtc1wiLGZ1bmN0aW9uKGUscil7eC4kY3VycmVudC5uYXZpZ2FibGU9PXQmJmwoZSxyKXx8eC50cmFuc2l0aW9uVG8odCxlLHtpbmhlcml0OiEwLGxvY2F0aW9uOiExfSl9XSksdihyKSx0fWZ1bmN0aW9uIG0oZSl7cmV0dXJuIGUuaW5kZXhPZihcIipcIik+LTF9ZnVuY3Rpb24gZyhlKXtmb3IodmFyIHQ9ZS5zcGxpdChcIi5cIikscj14LiRjdXJyZW50Lm5hbWUuc3BsaXQoXCIuXCIpLG49MCxhPXQubGVuZ3RoO248YTtuKyspXCIqXCI9PT10W25dJiYocltuXT1cIipcIik7cmV0dXJuXCIqKlwiPT09dFswXSYmKHI9ci5zbGljZSh1KHIsdFsxXSkpLHIudW5zaGlmdChcIioqXCIpKSxcIioqXCI9PT10W3QubGVuZ3RoLTFdJiYoci5zcGxpY2UodShyLHRbdC5sZW5ndGgtMl0pKzEsTnVtYmVyLk1BWF9WQUxVRSksci5wdXNoKFwiKipcIikpLHQubGVuZ3RoPT1yLmxlbmd0aCYmci5qb2luKFwiXCIpPT09dC5qb2luKFwiXCIpfWZ1bmN0aW9uIHkoZSx0KXtyZXR1cm4gVShlKSYmIUQodCk/T1tlXTpGKHQpJiZVKGUpPyhPW2VdJiYhTy4kZGVsZWdhdGVzW2VdJiYoTy4kZGVsZWdhdGVzW2VdPU9bZV0pLE9bZV09dCx0aGlzKTp0aGlzfWZ1bmN0aW9uIHcoZSx0KXtyZXR1cm4gVChlKT90PWU6dC5uYW1lPWUsZCh0KSx0aGlzfWZ1bmN0aW9uIGIoZSxhLGksdSxmLGgsdixkLHkpe2Z1bmN0aW9uIHcodCxyLG4saSl7dmFyIG89ZS4kYnJvYWRjYXN0KFwiJHN0YXRlTm90Rm91bmRcIix0LHIsbik7aWYoby5kZWZhdWx0UHJldmVudGVkKXJldHVybiB2LnVwZGF0ZSgpLGs7aWYoIW8ucmV0cnkpcmV0dXJuIG51bGw7aWYoaS4kcmV0cnkpcmV0dXJuIHYudXBkYXRlKCkscTt2YXIgdT14LnRyYW5zaXRpb249YS53aGVuKG8ucmV0cnkpO3JldHVybiB1LnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdSE9PXgudHJhbnNpdGlvbj9qOih0Lm9wdGlvbnMuJHJldHJ5PSEwLHgudHJhbnNpdGlvblRvKHQudG8sdC50b1BhcmFtcyx0Lm9wdGlvbnMpKX0sZnVuY3Rpb24oKXtyZXR1cm4ga30pLHYudXBkYXRlKCksdX1mdW5jdGlvbiBiKGUscixuLG8scyxsKXtmdW5jdGlvbiBwKCl7dmFyIHI9W107cmV0dXJuIEwoZS52aWV3cyxmdW5jdGlvbihuLGEpe3ZhciBvPW4ucmVzb2x2ZSYmbi5yZXNvbHZlIT09ZS5yZXNvbHZlP24ucmVzb2x2ZTp7fTtvLiR0ZW1wbGF0ZT1bZnVuY3Rpb24oKXtyZXR1cm4gaS5sb2FkKGEse3ZpZXc6bixsb2NhbHM6cy5nbG9iYWxzLHBhcmFtczpoLG5vdGlmeTpsLm5vdGlmeX0pfHxcIlwifV0sci5wdXNoKGYucmVzb2x2ZShvLHMuZ2xvYmFscyxzLnJlc29sdmUsZSkudGhlbihmdW5jdGlvbihyKXtpZihGKG4uY29udHJvbGxlclByb3ZpZGVyKXx8eihuLmNvbnRyb2xsZXJQcm92aWRlcikpe3ZhciBpPXQuZXh0ZW5kKHt9LG8scy5nbG9iYWxzKTtyLiQkY29udHJvbGxlcj11Lmludm9rZShuLmNvbnRyb2xsZXJQcm92aWRlcixudWxsLGkpfWVsc2Ugci4kJGNvbnRyb2xsZXI9bi5jb250cm9sbGVyO3IuJCRzdGF0ZT1lLHIuJCRjb250cm9sbGVyQXM9bi5jb250cm9sbGVyQXMsci4kJHJlc29sdmVBcz1uLnJlc29sdmVBcyxzW2FdPXJ9KSl9KSxhLmFsbChyKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHMuZ2xvYmFsc30pfXZhciBoPW4/cjpjKGUucGFyYW1zLiQka2V5cygpLHIpLCQ9eyRzdGF0ZVBhcmFtczpofTtzLnJlc29sdmU9Zi5yZXNvbHZlKGUucmVzb2x2ZSwkLHMucmVzb2x2ZSxlKTt2YXIgdj1bcy5yZXNvbHZlLnRoZW4oZnVuY3Rpb24oZSl7cy5nbG9iYWxzPWV9KV07cmV0dXJuIG8mJnYucHVzaChvKSxhLmFsbCh2KS50aGVuKHApLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHN9KX12YXIgaj1hLnJlamVjdChuZXcgRXJyb3IoXCJ0cmFuc2l0aW9uIHN1cGVyc2VkZWRcIikpLE89YS5yZWplY3QobmV3IEVycm9yKFwidHJhbnNpdGlvbiBwcmV2ZW50ZWRcIikpLGs9YS5yZWplY3QobmV3IEVycm9yKFwidHJhbnNpdGlvbiBhYm9ydGVkXCIpKSxxPWEucmVqZWN0KG5ldyBFcnJvcihcInRyYW5zaXRpb24gZmFpbGVkXCIpKTtyZXR1cm4gRS5sb2NhbHM9e3Jlc29sdmU6bnVsbCxnbG9iYWxzOnskc3RhdGVQYXJhbXM6e319fSx4PXtwYXJhbXM6e30sY3VycmVudDpFLnNlbGYsJGN1cnJlbnQ6RSx0cmFuc2l0aW9uOm51bGx9LHgucmVsb2FkPWZ1bmN0aW9uKGUpe3JldHVybiB4LnRyYW5zaXRpb25Ubyh4LmN1cnJlbnQsaCx7cmVsb2FkOmV8fCEwLGluaGVyaXQ6ITEsbm90aWZ5OiEwfSl9LHguZ289ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB4LnRyYW5zaXRpb25UbyhlLHQsSih7aW5oZXJpdDohMCxyZWxhdGl2ZTp4LiRjdXJyZW50fSxyKSl9LHgudHJhbnNpdGlvblRvPWZ1bmN0aW9uKHQscixpKXtyPXJ8fHt9LGk9Sih7bG9jYXRpb246ITAsaW5oZXJpdDohMSxyZWxhdGl2ZTpudWxsLG5vdGlmeTohMCxyZWxvYWQ6ITEsJHJldHJ5OiExfSxpfHx7fSk7dmFyIG8sbD14LiRjdXJyZW50LGY9eC5wYXJhbXMsJD1sLnBhdGgsZD1wKHQsaS5yZWxhdGl2ZSksbT1yW1wiI1wiXTtpZighRChkKSl7dmFyIGc9e3RvOnQsdG9QYXJhbXM6cixvcHRpb25zOml9LHk9dyhnLGwuc2VsZixmLGkpO2lmKHkpcmV0dXJuIHk7aWYodD1nLnRvLHI9Zy50b1BhcmFtcyxpPWcub3B0aW9ucyxkPXAodCxpLnJlbGF0aXZlKSwhRChkKSl7aWYoIWkucmVsYXRpdmUpdGhyb3cgbmV3IEVycm9yKFwiTm8gc3VjaCBzdGF0ZSAnXCIrdCtcIidcIik7dGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IHJlc29sdmUgJ1wiK3QrXCInIGZyb20gc3RhdGUgJ1wiK2kucmVsYXRpdmUrXCInXCIpfX1pZihkW0FdKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB0cmFuc2l0aW9uIHRvIGFic3RyYWN0IHN0YXRlICdcIit0K1wiJ1wiKTtpZihpLmluaGVyaXQmJihyPXMoaCxyfHx7fSx4LiRjdXJyZW50LGQpKSwhZC5wYXJhbXMuJCR2YWxpZGF0ZXMocikpcmV0dXJuIHE7cj1kLnBhcmFtcy4kJHZhbHVlcyhyKSx0PWQ7dmFyIFA9dC5wYXRoLGs9MCxDPVBba10sST1FLmxvY2FscyxWPVtdO2lmKGkucmVsb2FkKXtpZihVKGkucmVsb2FkKXx8VChpLnJlbG9hZCkpe2lmKFQoaS5yZWxvYWQpJiYhaS5yZWxvYWQubmFtZSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJlbG9hZCBzdGF0ZSBvYmplY3RcIik7dmFyIE09aS5yZWxvYWQ9PT0hMD8kWzBdOnAoaS5yZWxvYWQpO2lmKGkucmVsb2FkJiYhTSl0aHJvdyBuZXcgRXJyb3IoXCJObyBzdWNoIHJlbG9hZCBzdGF0ZSAnXCIrKFUoaS5yZWxvYWQpP2kucmVsb2FkOmkucmVsb2FkLm5hbWUpK1wiJ1wiKTtmb3IoO0MmJkM9PT0kW2tdJiZDIT09TTspST1WW2tdPUMubG9jYWxzLGsrKyxDPVBba119fWVsc2UgZm9yKDtDJiZDPT09JFtrXSYmQy5vd25QYXJhbXMuJCRlcXVhbHMocixmKTspST1WW2tdPUMubG9jYWxzLGsrKyxDPVBba107aWYoUyh0LHIsbCxmLEksaSkpcmV0dXJuIG0mJihyW1wiI1wiXT1tKSx4LnBhcmFtcz1yLEsoeC5wYXJhbXMsaCksSyhjKHQucGFyYW1zLiQka2V5cygpLGgpLHQubG9jYWxzLmdsb2JhbHMuJHN0YXRlUGFyYW1zKSxpLmxvY2F0aW9uJiZ0Lm5hdmlnYWJsZSYmdC5uYXZpZ2FibGUudXJsJiYodi5wdXNoKHQubmF2aWdhYmxlLnVybCxyLHskJGF2b2lkUmVzeW5jOiEwLHJlcGxhY2U6XCJyZXBsYWNlXCI9PT1pLmxvY2F0aW9ufSksdi51cGRhdGUoITApKSx4LnRyYW5zaXRpb249bnVsbCxhLndoZW4oeC5jdXJyZW50KTtpZihyPWModC5wYXJhbXMuJCRrZXlzKCkscnx8e30pLG0mJihyW1wiI1wiXT1tKSxpLm5vdGlmeSYmZS4kYnJvYWRjYXN0KFwiJHN0YXRlQ2hhbmdlU3RhcnRcIix0LnNlbGYscixsLnNlbGYsZixpKS5kZWZhdWx0UHJldmVudGVkKXJldHVybiBlLiRicm9hZGNhc3QoXCIkc3RhdGVDaGFuZ2VDYW5jZWxcIix0LnNlbGYscixsLnNlbGYsZiksbnVsbD09eC50cmFuc2l0aW9uJiZ2LnVwZGF0ZSgpLE87Zm9yKHZhciBOPWEud2hlbihJKSxSPWs7UjxQLmxlbmd0aDtSKyssQz1QW1JdKUk9VltSXT1uKEkpLE49YihDLHIsQz09PXQsTixJLGkpO3ZhciBGPXgudHJhbnNpdGlvbj1OLnRoZW4oZnVuY3Rpb24oKXt2YXIgbixhLG87aWYoeC50cmFuc2l0aW9uIT09RilyZXR1cm4gajtmb3Iobj0kLmxlbmd0aC0xO24+PWs7bi0tKW89JFtuXSxvLnNlbGYub25FeGl0JiZ1Lmludm9rZShvLnNlbGYub25FeGl0LG8uc2VsZixvLmxvY2Fscy5nbG9iYWxzKSxvLmxvY2Fscz1udWxsO2ZvcihuPWs7bjxQLmxlbmd0aDtuKyspYT1QW25dLGEubG9jYWxzPVZbbl0sYS5zZWxmLm9uRW50ZXImJnUuaW52b2tlKGEuc2VsZi5vbkVudGVyLGEuc2VsZixhLmxvY2Fscy5nbG9iYWxzKTtyZXR1cm4geC50cmFuc2l0aW9uIT09Rj9qOih4LiRjdXJyZW50PXQseC5jdXJyZW50PXQuc2VsZix4LnBhcmFtcz1yLEsoeC5wYXJhbXMsaCkseC50cmFuc2l0aW9uPW51bGwsaS5sb2NhdGlvbiYmdC5uYXZpZ2FibGUmJnYucHVzaCh0Lm5hdmlnYWJsZS51cmwsdC5uYXZpZ2FibGUubG9jYWxzLmdsb2JhbHMuJHN0YXRlUGFyYW1zLHskJGF2b2lkUmVzeW5jOiEwLHJlcGxhY2U6XCJyZXBsYWNlXCI9PT1pLmxvY2F0aW9ufSksaS5ub3RpZnkmJmUuJGJyb2FkY2FzdChcIiRzdGF0ZUNoYW5nZVN1Y2Nlc3NcIix0LnNlbGYscixsLnNlbGYsZiksdi51cGRhdGUoITApLHguY3VycmVudCl9KS50aGVuKG51bGwsZnVuY3Rpb24obil7cmV0dXJuIHgudHJhbnNpdGlvbiE9PUY/ajooeC50cmFuc2l0aW9uPW51bGwsbz1lLiRicm9hZGNhc3QoXCIkc3RhdGVDaGFuZ2VFcnJvclwiLHQuc2VsZixyLGwuc2VsZixmLG4pLG8uZGVmYXVsdFByZXZlbnRlZHx8di51cGRhdGUoKSxhLnJlamVjdChuKSl9KTtyZXR1cm4gRn0seC5pcz1mdW5jdGlvbihlLHQsbil7bj1KKHtyZWxhdGl2ZTp4LiRjdXJyZW50fSxufHx7fSk7dmFyIGE9cChlLG4ucmVsYXRpdmUpO3JldHVybiBEKGEpP3guJGN1cnJlbnQ9PT1hJiYoIXR8fGwoYS5wYXJhbXMuJCR2YWx1ZXModCksaCkpOnJ9LHguaW5jbHVkZXM9ZnVuY3Rpb24oZSx0LG4pe2lmKG49Sih7cmVsYXRpdmU6eC4kY3VycmVudH0sbnx8e30pLFUoZSkmJm0oZSkpe2lmKCFnKGUpKXJldHVybiExO2U9eC4kY3VycmVudC5uYW1lfXZhciBhPXAoZSxuLnJlbGF0aXZlKTtyZXR1cm4gRChhKT8hIUQoeC4kY3VycmVudC5pbmNsdWRlc1thLm5hbWVdKSYmKCF0fHxsKGEucGFyYW1zLiQkdmFsdWVzKHQpLGgsbyh0KSkpOnJ9LHguaHJlZj1mdW5jdGlvbihlLHQsbil7bj1KKHtsb3NzeTohMCxpbmhlcml0OiEwLGFic29sdXRlOiExLHJlbGF0aXZlOnguJGN1cnJlbnR9LG58fHt9KTt2YXIgYT1wKGUsbi5yZWxhdGl2ZSk7aWYoIUQoYSkpcmV0dXJuIG51bGw7bi5pbmhlcml0JiYodD1zKGgsdHx8e30seC4kY3VycmVudCxhKSk7dmFyIGk9YSYmbi5sb3NzeT9hLm5hdmlnYWJsZTphO3JldHVybiBpJiZpLnVybCE9PXImJm51bGwhPT1pLnVybD92LmhyZWYoaS51cmwsYyhhLnBhcmFtcy4kJGtleXMoKS5jb25jYXQoXCIjXCIpLHR8fHt9KSx7YWJzb2x1dGU6bi5hYnNvbHV0ZX0pOm51bGx9LHguZ2V0PWZ1bmN0aW9uKGUsdCl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuICQobyhQKSxmdW5jdGlvbihlKXtyZXR1cm4gUFtlXS5zZWxmfSk7dmFyIHI9cChlLHR8fHguJGN1cnJlbnQpO3JldHVybiByJiZyLnNlbGY/ci5zZWxmOm51bGx9LHh9ZnVuY3Rpb24gUyhlLHQscixuLGEsaSl7ZnVuY3Rpb24gbyhlLHQscil7ZnVuY3Rpb24gbih0KXtyZXR1cm5cInNlYXJjaFwiIT1lLnBhcmFtc1t0XS5sb2NhdGlvbn12YXIgYT1lLnBhcmFtcy4kJGtleXMoKS5maWx0ZXIobiksaT1mLmFwcGx5KHt9LFtlLnBhcmFtc10uY29uY2F0KGEpKSxvPW5ldyBCLlBhcmFtU2V0KGkpO3JldHVybiBvLiQkZXF1YWxzKHQscil9aWYoIWkucmVsb2FkJiZlPT09ciYmKGE9PT1yLmxvY2Fsc3x8ZS5zZWxmLnJlbG9hZE9uU2VhcmNoPT09ITEmJm8ocixuLHQpKSlyZXR1cm4hMH12YXIgRSx4LFA9e30saj17fSxBPVwiYWJzdHJhY3RcIixPPXtwYXJlbnQ6ZnVuY3Rpb24oZSl7aWYoRChlLnBhcmVudCkmJmUucGFyZW50KXJldHVybiBwKGUucGFyZW50KTt2YXIgdD0vXiguKylcXC5bXi5dKyQvLmV4ZWMoZS5uYW1lKTtyZXR1cm4gdD9wKHRbMV0pOkV9LGRhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50JiZlLnBhcmVudC5kYXRhJiYoZS5kYXRhPWUuc2VsZi5kYXRhPW4oZS5wYXJlbnQuZGF0YSxlLmRhdGEpKSxlLmRhdGF9LHVybDpmdW5jdGlvbihlKXt2YXIgdD1lLnVybCxyPXtwYXJhbXM6ZS5wYXJhbXN8fHt9fTtpZihVKHQpKXJldHVyblwiXlwiPT10LmNoYXJBdCgwKT9hLmNvbXBpbGUodC5zdWJzdHJpbmcoMSkscik6KGUucGFyZW50Lm5hdmlnYWJsZXx8RSkudXJsLmNvbmNhdCh0LHIpO2lmKCF0fHxhLmlzTWF0Y2hlcih0KSlyZXR1cm4gdDt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHVybCAnXCIrdCtcIicgaW4gc3RhdGUgJ1wiK2UrXCInXCIpfSxuYXZpZ2FibGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudXJsP2U6ZS5wYXJlbnQ/ZS5wYXJlbnQubmF2aWdhYmxlOm51bGx9LG93blBhcmFtczpmdW5jdGlvbihlKXt2YXIgdD1lLnVybCYmZS51cmwucGFyYW1zfHxuZXcgQi5QYXJhbVNldDtyZXR1cm4gTChlLnBhcmFtc3x8e30sZnVuY3Rpb24oZSxyKXt0W3JdfHwodFtyXT1uZXcgQi5QYXJhbShyLG51bGwsZSxcImNvbmZpZ1wiKSl9KSx0fSxwYXJhbXM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZihlLm93blBhcmFtcyxlLm93blBhcmFtcy4kJGtleXMoKSk7cmV0dXJuIGUucGFyZW50JiZlLnBhcmVudC5wYXJhbXM/SihlLnBhcmVudC5wYXJhbXMuJCRuZXcoKSx0KTpuZXcgQi5QYXJhbVNldH0sdmlld3M6ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIEwoRChlLnZpZXdzKT9lLnZpZXdzOntcIlwiOmV9LGZ1bmN0aW9uKHIsbil7bi5pbmRleE9mKFwiQFwiKTwwJiYobis9XCJAXCIrZS5wYXJlbnQubmFtZSksci5yZXNvbHZlQXM9ci5yZXNvbHZlQXN8fGUucmVzb2x2ZUFzfHxcIiRyZXNvbHZlXCIsdFtuXT1yfSksdH0scGF0aDpmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnQ/ZS5wYXJlbnQucGF0aC5jb25jYXQoZSk6W119LGluY2x1ZGVzOmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50P0ooe30sZS5wYXJlbnQuaW5jbHVkZXMpOnt9O3JldHVybiB0W2UubmFtZV09ITAsdH0sJGRlbGVnYXRlczp7fX07RT1kKHtuYW1lOlwiXCIsdXJsOlwiXlwiLHZpZXdzOm51bGwsYWJzdHJhY3Q6ITB9KSxFLm5hdmlnYWJsZT1udWxsLHRoaXMuZGVjb3JhdG9yPXksdGhpcy5zdGF0ZT13LHRoaXMuJGdldD1iLGIuJGluamVjdD1bXCIkcm9vdFNjb3BlXCIsXCIkcVwiLFwiJHZpZXdcIixcIiRpbmplY3RvclwiLFwiJHJlc29sdmVcIixcIiRzdGF0ZVBhcmFtc1wiLFwiJHVybFJvdXRlclwiLFwiJGxvY2F0aW9uXCIsXCIkdXJsTWF0Y2hlckZhY3RvcnlcIl19ZnVuY3Rpb24gUygpe2Z1bmN0aW9uIGUoZSx0KXtyZXR1cm57bG9hZDpmdW5jdGlvbihlLHIpe3ZhciBuLGE9e3RlbXBsYXRlOm51bGwsY29udHJvbGxlcjpudWxsLHZpZXc6bnVsbCxsb2NhbHM6bnVsbCxub3RpZnk6ITAsYXN5bmM6ITAscGFyYW1zOnt9fTtyZXR1cm4gcj1KKGEsciksci52aWV3JiYobj10LmZyb21Db25maWcoci52aWV3LHIucGFyYW1zLHIubG9jYWxzKSksbn19fXRoaXMuJGdldD1lLGUuJGluamVjdD1bXCIkcm9vdFNjb3BlXCIsXCIkdGVtcGxhdGVGYWN0b3J5XCJdfWZ1bmN0aW9uIEUoKXt2YXIgZT0hMTt0aGlzLnVzZUFuY2hvclNjcm9sbD1mdW5jdGlvbigpe2U9ITB9LHRoaXMuJGdldD1bXCIkYW5jaG9yU2Nyb2xsXCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKHQscil7cmV0dXJuIGU/dDpmdW5jdGlvbihlKXtyZXR1cm4gcihmdW5jdGlvbigpe2VbMF0uc2Nyb2xsSW50b1ZpZXcoKX0sMCwhMSl9fV19ZnVuY3Rpb24geChlLHIsbixhLGkpe2Z1bmN0aW9uIG8oKXtyZXR1cm4gci5oYXM/ZnVuY3Rpb24oZSl7cmV0dXJuIHIuaGFzKGUpP3IuZ2V0KGUpOm51bGx9OmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gci5nZXQoZSl9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fX1mdW5jdGlvbiB1KGUscil7dmFyIG49ZnVuY3Rpb24oKXtyZXR1cm57ZW50ZXI6ZnVuY3Rpb24oZSx0LHIpe3QuYWZ0ZXIoZSkscigpfSxsZWF2ZTpmdW5jdGlvbihlLHQpe2UucmVtb3ZlKCksdCgpfX19O2lmKGMpcmV0dXJue2VudGVyOmZ1bmN0aW9uKGUscixuKXt0LnZlcnNpb24ubWlub3I+Mj9jLmVudGVyKGUsbnVsbCxyKS50aGVuKG4pOmMuZW50ZXIoZSxudWxsLHIsbil9LGxlYXZlOmZ1bmN0aW9uKGUscil7dC52ZXJzaW9uLm1pbm9yPjI/Yy5sZWF2ZShlKS50aGVuKHIpOmMubGVhdmUoZSxyKX19O2lmKGwpe3ZhciBhPWwmJmwocixlKTtyZXR1cm57ZW50ZXI6ZnVuY3Rpb24oZSx0LHIpe2EuZW50ZXIoZSxudWxsLHQpLHIoKX0sbGVhdmU6ZnVuY3Rpb24oZSx0KXthLmxlYXZlKGUpLHQoKX19fXJldHVybiBuKCl9dmFyIHM9bygpLGw9cyhcIiRhbmltYXRvclwiKSxjPXMoXCIkYW5pbWF0ZVwiKSxmPXtyZXN0cmljdDpcIkVDQVwiLHRlcm1pbmFsOiEwLHByaW9yaXR5OjQwMCx0cmFuc2NsdWRlOlwiZWxlbWVudFwiLGNvbXBpbGU6ZnVuY3Rpb24ocixvLHMpe3JldHVybiBmdW5jdGlvbihyLG8sbCl7ZnVuY3Rpb24gYygpe2lmKHAmJihwLnJlbW92ZSgpLHA9bnVsbCksJCYmKCQuJGRlc3Ryb3koKSwkPW51bGwpLGgpe3ZhciBlPWguZGF0YShcIiR1aVZpZXdBbmltXCIpO2cubGVhdmUoaCxmdW5jdGlvbigpe2UuJCRhbmltTGVhdmUucmVzb2x2ZSgpLHA9bnVsbH0pLHA9aCxoPW51bGx9fWZ1bmN0aW9uIGYodSl7dmFyIGYscD1qKHIsbCxvLGEpLHk9cCYmZS4kY3VycmVudCYmZS4kY3VycmVudC5sb2NhbHNbcF07aWYodXx8eSE9PXYpe2Y9ci4kbmV3KCksdj1lLiRjdXJyZW50LmxvY2Fsc1twXSxmLiRlbWl0KFwiJHZpZXdDb250ZW50TG9hZGluZ1wiLHApO3ZhciB3PXMoZixmdW5jdGlvbihlKXt2YXIgYT1pLmRlZmVyKCksdT1pLmRlZmVyKCkscz17JGFuaW1FbnRlcjphLnByb21pc2UsJGFuaW1MZWF2ZTp1LnByb21pc2UsJCRhbmltTGVhdmU6dX07ZS5kYXRhKFwiJHVpVmlld0FuaW1cIixzKSxnLmVudGVyKGUsbyxmdW5jdGlvbigpe2EucmVzb2x2ZSgpLCQmJiQuJGVtaXQoXCIkdmlld0NvbnRlbnRBbmltYXRpb25FbmRlZFwiKSwodC5pc0RlZmluZWQobSkmJiFtfHxyLiRldmFsKG0pKSYmbihlKX0pLGMoKX0pO2g9dywkPWYsJC4kZW1pdChcIiR2aWV3Q29udGVudExvYWRlZFwiLHApLCQuJGV2YWwoZCl9fXZhciBwLGgsJCx2LGQ9bC5vbmxvYWR8fFwiXCIsbT1sLmF1dG9zY3JvbGwsZz11KGwscik7by5pbmhlcml0ZWREYXRhKFwiJHVpVmlld1wiKTtyLiRvbihcIiRzdGF0ZUNoYW5nZVN1Y2Nlc3NcIixmdW5jdGlvbigpe2YoITEpfSksZighMCl9fX07cmV0dXJuIGZ9ZnVuY3Rpb24gUChlLHIsbixhKXtyZXR1cm57cmVzdHJpY3Q6XCJFQ0FcIixwcmlvcml0eTotNDAwLGNvbXBpbGU6ZnVuY3Rpb24oaSl7dmFyIG89aS5odG1sKCk7cmV0dXJuIGZ1bmN0aW9uKGksdSxzKXt2YXIgbD1uLiRjdXJyZW50LGM9aihpLHMsdSxhKSxmPWwmJmwubG9jYWxzW2NdO2lmKGYpe3UuZGF0YShcIiR1aVZpZXdcIix7bmFtZTpjLHN0YXRlOmYuJCRzdGF0ZX0pLHUuaHRtbChmLiR0ZW1wbGF0ZT9mLiR0ZW1wbGF0ZTpvKTt2YXIgcD10LmV4dGVuZCh7fSxmKTtpW2YuJCRyZXNvbHZlQXNdPXA7dmFyIGg9ZSh1LmNvbnRlbnRzKCkpO2lmKGYuJCRjb250cm9sbGVyKXtmLiRzY29wZT1pLGYuJGVsZW1lbnQ9dTt2YXIgJD1yKGYuJCRjb250cm9sbGVyLGYpO2YuJCRjb250cm9sbGVyQXMmJihpW2YuJCRjb250cm9sbGVyQXNdPSQsaVtmLiQkY29udHJvbGxlckFzXVtmLiQkcmVzb2x2ZUFzXT1wKSxGKCQuJG9uSW5pdCkmJiQuJG9uSW5pdCgpLHUuZGF0YShcIiRuZ0NvbnRyb2xsZXJDb250cm9sbGVyXCIsJCksdS5jaGlsZHJlbigpLmRhdGEoXCIkbmdDb250cm9sbGVyQ29udHJvbGxlclwiLCQpfWgoaSl9fX19fWZ1bmN0aW9uIGooZSx0LHIsbil7dmFyIGE9bih0LnVpVmlld3x8dC5uYW1lfHxcIlwiKShlKSxpPXIuaW5oZXJpdGVkRGF0YShcIiR1aVZpZXdcIik7cmV0dXJuIGEuaW5kZXhPZihcIkBcIik+PTA/YTphK1wiQFwiKyhpP2kuc3RhdGUubmFtZTpcIlwiKX1mdW5jdGlvbiBBKGUsdCl7dmFyIHIsbj1lLm1hdGNoKC9eXFxzKih7W159XSp9KVxccyokLyk7aWYobiYmKGU9dCtcIihcIituWzFdK1wiKVwiKSxyPWUucmVwbGFjZSgvXFxuL2csXCIgXCIpLm1hdGNoKC9eKFteKF0rPylcXHMqKFxcKCguKilcXCkpPyQvKSwhcnx8NCE9PXIubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdGUgcmVmICdcIitlK1wiJ1wiKTtyZXR1cm57c3RhdGU6clsxXSxwYXJhbUV4cHI6clszXXx8bnVsbH19ZnVuY3Rpb24gTyhlKXt2YXIgdD1lLnBhcmVudCgpLmluaGVyaXRlZERhdGEoXCIkdWlWaWV3XCIpO2lmKHQmJnQuc3RhdGUmJnQuc3RhdGUubmFtZSlyZXR1cm4gdC5zdGF0ZX1mdW5jdGlvbiBrKGUpe3ZhciB0PVwiW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ11cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlLnByb3AoXCJocmVmXCIpKSxyPVwiRk9STVwiPT09ZVswXS5ub2RlTmFtZTtyZXR1cm57YXR0cjpyP1wiYWN0aW9uXCI6dD9cInhsaW5rOmhyZWZcIjpcImhyZWZcIixpc0FuY2hvcjpcIkFcIj09PWUucHJvcChcInRhZ05hbWVcIikudG9VcHBlckNhc2UoKSxjbGlja2FibGU6IXJ9fWZ1bmN0aW9uIHEoZSx0LHIsbixhKXtyZXR1cm4gZnVuY3Rpb24oaSl7dmFyIG89aS53aGljaHx8aS5idXR0b24sdT1hKCk7aWYoIShvPjF8fGkuY3RybEtleXx8aS5tZXRhS2V5fHxpLnNoaWZ0S2V5fHxlLmF0dHIoXCJ0YXJnZXRcIikpKXt2YXIgcz1yKGZ1bmN0aW9uKCl7dC5nbyh1LnN0YXRlLHUucGFyYW1zLHUub3B0aW9ucyl9KTtpLnByZXZlbnREZWZhdWx0KCk7dmFyIGw9bi5pc0FuY2hvciYmIXUuaHJlZj8xOjA7aS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2wtLTw9MCYmci5jYW5jZWwocyl9fX19ZnVuY3Rpb24gQyhlLHQpe3JldHVybntyZWxhdGl2ZTpPKGUpfHx0LiRjdXJyZW50LGluaGVyaXQ6ITB9fWZ1bmN0aW9uIEkoZSxyKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpbXCI/XnVpU3JlZkFjdGl2ZVwiLFwiP151aVNyZWZBY3RpdmVFcVwiXSxsaW5rOmZ1bmN0aW9uKG4sYSxpLG8pe3ZhciB1LHM9QShpLnVpU3JlZixlLmN1cnJlbnQubmFtZSksbD17c3RhdGU6cy5zdGF0ZSxocmVmOm51bGwscGFyYW1zOm51bGx9LGM9ayhhKSxmPW9bMV18fG9bMF0scD1udWxsO2wub3B0aW9ucz1KKEMoYSxlKSxpLnVpU3JlZk9wdHM/bi4kZXZhbChpLnVpU3JlZk9wdHMpOnt9KTt2YXIgaD1mdW5jdGlvbihyKXtyJiYobC5wYXJhbXM9dC5jb3B5KHIpKSxsLmhyZWY9ZS5ocmVmKHMuc3RhdGUsbC5wYXJhbXMsbC5vcHRpb25zKSxwJiZwKCksZiYmKHA9Zi4kJGFkZFN0YXRlSW5mbyhzLnN0YXRlLGwucGFyYW1zKSksbnVsbCE9PWwuaHJlZiYmaS4kc2V0KGMuYXR0cixsLmhyZWYpfTtzLnBhcmFtRXhwciYmKG4uJHdhdGNoKHMucGFyYW1FeHByLGZ1bmN0aW9uKGUpe2UhPT1sLnBhcmFtcyYmaChlKX0sITApLGwucGFyYW1zPXQuY29weShuLiRldmFsKHMucGFyYW1FeHByKSkpLGgoKSxjLmNsaWNrYWJsZSYmKHU9cShhLGUscixjLGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSxhLmJpbmQoXCJjbGlja1wiLHUpLG4uJG9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2EudW5iaW5kKFwiY2xpY2tcIix1KX0pKX19fWZ1bmN0aW9uIFYoZSx0KXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpbXCI/XnVpU3JlZkFjdGl2ZVwiLFwiP151aVNyZWZBY3RpdmVFcVwiXSxsaW5rOmZ1bmN0aW9uKHIsbixhLGkpe2Z1bmN0aW9uIG8odCl7cC5zdGF0ZT10WzBdLHAucGFyYW1zPXRbMV0scC5vcHRpb25zPXRbMl0scC5ocmVmPWUuaHJlZihwLnN0YXRlLHAucGFyYW1zLHAub3B0aW9ucyksaCYmaCgpLGwmJihoPWwuJCRhZGRTdGF0ZUluZm8ocC5zdGF0ZSxwLnBhcmFtcykpLHAuaHJlZiYmYS4kc2V0KHMuYXR0cixwLmhyZWYpfXZhciB1LHM9ayhuKSxsPWlbMV18fGlbMF0sYz1bYS51aVN0YXRlLGEudWlTdGF0ZVBhcmFtc3x8bnVsbCxhLnVpU3RhdGVPcHRzfHxudWxsXSxmPVwiW1wiK2MubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlfHxcIm51bGxcIn0pLmpvaW4oXCIsIFwiKStcIl1cIixwPXtzdGF0ZTpudWxsLHBhcmFtczpudWxsLG9wdGlvbnM6bnVsbCxocmVmOm51bGx9LGg9bnVsbDtyLiR3YXRjaChmLG8sITApLG8oci4kZXZhbChmKSkscy5jbGlja2FibGUmJih1PXEobixlLHQscyxmdW5jdGlvbigpe3JldHVybiBwfSksbi5iaW5kKFwiY2xpY2tcIix1KSxyLiRvbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtuLnVuYmluZChcImNsaWNrXCIsdSl9KSl9fX1mdW5jdGlvbiBNKGUsdCxyKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsY29udHJvbGxlcjpbXCIkc2NvcGVcIixcIiRlbGVtZW50XCIsXCIkYXR0cnNcIixcIiR0aW1lb3V0XCIsZnVuY3Rpb24odCxuLGEsaSl7ZnVuY3Rpb24gbyh0LHIsYSl7dmFyIGk9ZS5nZXQodCxPKG4pKSxvPXUodCxyKSxzPXtzdGF0ZTppfHx7bmFtZTp0fSxwYXJhbXM6cixoYXNoOm99O3JldHVybiB2LnB1c2gocyksZFtvXT1hLGZ1bmN0aW9uKCl7dmFyIGU9di5pbmRleE9mKHMpO2UhPT0tMSYmdi5zcGxpY2UoZSwxKX19ZnVuY3Rpb24gdShlLHIpe2lmKCFVKGUpKXRocm93IG5ldyBFcnJvcihcInN0YXRlIHNob3VsZCBiZSBhIHN0cmluZ1wiKTtyZXR1cm4gVChyKT9lK1kocik6KHI9dC4kZXZhbChyKSxUKHIpP2UrWShyKTplKX1mdW5jdGlvbiBzKCl7Zm9yKHZhciBlPTA7ZTx2Lmxlbmd0aDtlKyspZih2W2VdLnN0YXRlLHZbZV0ucGFyYW1zKT9sKG4sZFt2W2VdLmhhc2hdKTpjKG4sZFt2W2VdLmhhc2hdKSxwKHZbZV0uc3RhdGUsdltlXS5wYXJhbXMpP2wobixoKTpjKG4saCl9ZnVuY3Rpb24gbChlLHQpe2koZnVuY3Rpb24oKXtlLmFkZENsYXNzKHQpfSl9ZnVuY3Rpb24gYyhlLHQpe2UucmVtb3ZlQ2xhc3ModCl9ZnVuY3Rpb24gZih0LHIpe3JldHVybiBlLmluY2x1ZGVzKHQubmFtZSxyKX1mdW5jdGlvbiBwKHQscil7cmV0dXJuIGUuaXModC5uYW1lLHIpfXZhciBoLCQsdj1bXSxkPXt9O2g9cihhLnVpU3JlZkFjdGl2ZUVxfHxcIlwiLCExKSh0KTt0cnl7JD10LiRldmFsKGEudWlTcmVmQWN0aXZlKX1jYXRjaChlKXt9JD0kfHxyKGEudWlTcmVmQWN0aXZlfHxcIlwiLCExKSh0KSxUKCQpJiZMKCQsZnVuY3Rpb24ocixuKXtpZihVKHIpKXt2YXIgYT1BKHIsZS5jdXJyZW50Lm5hbWUpO28oYS5zdGF0ZSx0LiRldmFsKGEucGFyYW1FeHByKSxuKX19KSx0aGlzLiQkYWRkU3RhdGVJbmZvPWZ1bmN0aW9uKGUsdCl7aWYoIShUKCQpJiZ2Lmxlbmd0aD4wKSl7dmFyIHI9byhlLHQsJCk7cmV0dXJuIHMoKSxyfX0sdC4kb24oXCIkc3RhdGVDaGFuZ2VTdWNjZXNzXCIscykscygpfV19fWZ1bmN0aW9uIE4oZSl7dmFyIHQ9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5pcyh0LHIpfTtyZXR1cm4gdC4kc3RhdGVmdWw9ITAsdH1mdW5jdGlvbiBSKGUpe3ZhciB0PWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gZS5pbmNsdWRlcyh0LHIsbil9O3JldHVybiB0LiRzdGF0ZWZ1bD0hMCx0fXZhciBEPXQuaXNEZWZpbmVkLEY9dC5pc0Z1bmN0aW9uLFU9dC5pc1N0cmluZyxUPXQuaXNPYmplY3Qsej10LmlzQXJyYXksTD10LmZvckVhY2gsSj10LmV4dGVuZCxLPXQuY29weSxZPXQudG9Kc29uO3QubW9kdWxlKFwidWkucm91dGVyLnV0aWxcIixbXCJuZ1wiXSksdC5tb2R1bGUoXCJ1aS5yb3V0ZXIucm91dGVyXCIsW1widWkucm91dGVyLnV0aWxcIl0pLHQubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIsW1widWkucm91dGVyLnJvdXRlclwiLFwidWkucm91dGVyLnV0aWxcIl0pLHQubW9kdWxlKFwidWkucm91dGVyXCIsW1widWkucm91dGVyLnN0YXRlXCJdKSx0Lm1vZHVsZShcInVpLnJvdXRlci5jb21wYXRcIixbXCJ1aS5yb3V0ZXJcIl0pLHYuJGluamVjdD1bXCIkcVwiLFwiJGluamVjdG9yXCJdLHQubW9kdWxlKFwidWkucm91dGVyLnV0aWxcIikuc2VydmljZShcIiRyZXNvbHZlXCIsdiksZC4kaW5qZWN0PVtcIiRodHRwXCIsXCIkdGVtcGxhdGVDYWNoZVwiLFwiJGluamVjdG9yXCJdLHQubW9kdWxlKFwidWkucm91dGVyLnV0aWxcIikuc2VydmljZShcIiR0ZW1wbGF0ZUZhY3RvcnlcIixkKTt2YXIgQjttLnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj17Y2FzZUluc2Vuc2l0aXZlOkIuY2FzZUluc2Vuc2l0aXZlKCksc3RyaWN0OkIuc3RyaWN0TW9kZSgpLHNxdWFzaDpCLmRlZmF1bHRTcXVhc2hQb2xpY3koKX07cmV0dXJuIG5ldyBtKHRoaXMuc291cmNlUGF0aCtlK3RoaXMuc291cmNlU2VhcmNoLEoocix0KSx0aGlzKX0sbS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3VyY2V9LG0ucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuIGUuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIil9ZnVuY3Rpb24gcihlKXtyZXR1cm4gZS5yZXBsYWNlKC9cXFxcLS9nLFwiLVwiKX12YXIgbj10KGUpLnNwbGl0KC8tKD8hXFxcXCkvKSxhPSQobix0KTtyZXR1cm4gJChhLHIpLnJldmVyc2UoKX12YXIgbj10aGlzLnJlZ2V4cC5leGVjKGUpO2lmKCFuKXJldHVybiBudWxsO3Q9dHx8e307dmFyIGEsaSxvLHU9dGhpcy5wYXJhbWV0ZXJzKCkscz11Lmxlbmd0aCxsPXRoaXMuc2VnbWVudHMubGVuZ3RoLTEsYz17fTtpZihsIT09bi5sZW5ndGgtMSl0aHJvdyBuZXcgRXJyb3IoXCJVbmJhbGFuY2VkIGNhcHR1cmUgZ3JvdXAgaW4gcm91dGUgJ1wiK3RoaXMuc291cmNlK1wiJ1wiKTt2YXIgZixwO2ZvcihhPTA7YTxsO2ErKyl7Zm9yKG89dVthXSxmPXRoaXMucGFyYW1zW29dLHA9blthKzFdLGk9MDtpPGYucmVwbGFjZS5sZW5ndGg7aSsrKWYucmVwbGFjZVtpXS5mcm9tPT09cCYmKHA9Zi5yZXBsYWNlW2ldLnRvKTtwJiZmLmFycmF5PT09ITAmJihwPXIocCkpLEQocCkmJihwPWYudHlwZS5kZWNvZGUocCkpLGNbb109Zi52YWx1ZShwKX1mb3IoO2E8czthKyspe2ZvcihvPXVbYV0sY1tvXT10aGlzLnBhcmFtc1tvXS52YWx1ZSh0W29dKSxmPXRoaXMucGFyYW1zW29dLHA9dFtvXSxpPTA7aTxmLnJlcGxhY2UubGVuZ3RoO2krKylmLnJlcGxhY2VbaV0uZnJvbT09PXAmJihwPWYucmVwbGFjZVtpXS50byk7RChwKSYmKHA9Zi50eXBlLmRlY29kZShwKSksY1tvXT1mLnZhbHVlKHApfXJldHVybiBjfSxtLnByb3RvdHlwZS5wYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3JldHVybiBEKGUpP3RoaXMucGFyYW1zW2VdfHxudWxsOnRoaXMuJCRwYXJhbU5hbWVzfSxtLnByb3RvdHlwZS52YWxpZGF0ZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyYW1zLiQkdmFsaWRhdGVzKGUpfSxtLnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpLnJlcGxhY2UoLy0vZyxmdW5jdGlvbihlKXtyZXR1cm5cIiU1QyVcIitlLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9KX1lPWV8fHt9O3ZhciByPXRoaXMuc2VnbWVudHMsbj10aGlzLnBhcmFtZXRlcnMoKSxhPXRoaXMucGFyYW1zO2lmKCF0aGlzLnZhbGlkYXRlcyhlKSlyZXR1cm4gbnVsbDt2YXIgaSxvPSExLHU9ci5sZW5ndGgtMSxzPW4ubGVuZ3RoLGw9clswXTtmb3IoaT0wO2k8cztpKyspe3ZhciBjPWk8dSxmPW5baV0scD1hW2ZdLGg9cC52YWx1ZShlW2ZdKSx2PXAuaXNPcHRpb25hbCYmcC50eXBlLmVxdWFscyhwLnZhbHVlKCksaCksZD0hIXYmJnAuc3F1YXNoLG09cC50eXBlLmVuY29kZShoKTtpZihjKXt2YXIgZz1yW2krMV0seT1pKzE9PT11O2lmKGQ9PT0hMSludWxsIT1tJiYobCs9eihtKT8kKG0sdCkuam9pbihcIi1cIik6ZW5jb2RlVVJJQ29tcG9uZW50KG0pKSxsKz1nO2Vsc2UgaWYoZD09PSEwKXt2YXIgdz1sLm1hdGNoKC9cXC8kLyk/L1xcLz8oLiopLzovKC4qKS87bCs9Zy5tYXRjaCh3KVsxXX1lbHNlIFUoZCkmJihsKz1kK2cpO3kmJnAuc3F1YXNoPT09ITAmJlwiL1wiPT09bC5zbGljZSgtMSkmJihsPWwuc2xpY2UoMCwtMSkpfWVsc2V7aWYobnVsbD09bXx8diYmZCE9PSExKWNvbnRpbnVlO2lmKHoobSl8fChtPVttXSksMD09PW0ubGVuZ3RoKWNvbnRpbnVlO209JChtLGVuY29kZVVSSUNvbXBvbmVudCkuam9pbihcIiZcIitmK1wiPVwiKSxsKz0obz9cIiZcIjpcIj9cIikrKGYrXCI9XCIrbSksbz0hMH19cmV0dXJuIGx9LGcucHJvdG90eXBlLmlzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuITB9LGcucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiBlfSxnLnByb3RvdHlwZS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZX0sZy5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PXR9LGcucHJvdG90eXBlLiRzdWJQYXR0ZXJuPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wYXR0ZXJuLnRvU3RyaW5nKCk7cmV0dXJuIGUuc3Vic3RyKDEsZS5sZW5ndGgtMil9LGcucHJvdG90eXBlLnBhdHRlcm49Ly4qLyxnLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwie1R5cGU6XCIrdGhpcy5uYW1lK1wifVwifSxnLnByb3RvdHlwZS4kbm9ybWFsaXplPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlzKGUpP2U6dGhpcy5kZWNvZGUoZSl9LGcucHJvdG90eXBlLiRhc0FycmF5PWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlLHQpe2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZVt0XS5hcHBseShlLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIGEoZSl7cmV0dXJuIHooZSk/ZTpEKGUpP1tlXTpbXX1mdW5jdGlvbiBpKGUpe3N3aXRjaChlLmxlbmd0aCl7Y2FzZSAwOnJldHVybiByO2Nhc2UgMTpyZXR1cm5cImF1dG9cIj09PXQ/ZVswXTplO2RlZmF1bHQ6cmV0dXJuIGV9fWZ1bmN0aW9uIG8oZSl7cmV0dXJuIWV9ZnVuY3Rpb24gdShlLHQpe3JldHVybiBmdW5jdGlvbihyKXtpZih6KHIpJiYwPT09ci5sZW5ndGgpcmV0dXJuIHI7cj1hKHIpO3ZhciBuPSQocixlKTtyZXR1cm4gdD09PSEwPzA9PT1oKG4sbykubGVuZ3RoOmkobil9fWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIG49YSh0KSxpPWEocik7aWYobi5sZW5ndGghPT1pLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKylpZighZShuW29dLGlbb10pKXJldHVybiExO3JldHVybiEwfX10aGlzLmVuY29kZT11KG4oZSxcImVuY29kZVwiKSksdGhpcy5kZWNvZGU9dShuKGUsXCJkZWNvZGVcIikpLHRoaXMuaXM9dShuKGUsXCJpc1wiKSwhMCksdGhpcy5lcXVhbHM9cyhuKGUsXCJlcXVhbHNcIikpLHRoaXMucGF0dGVybj1lLnBhdHRlcm4sdGhpcy4kbm9ybWFsaXplPXUobihlLFwiJG5vcm1hbGl6ZVwiKSksdGhpcy5uYW1lPWUubmFtZSx0aGlzLiRhcnJheU1vZGU9dH1pZighZSlyZXR1cm4gdGhpcztpZihcImF1dG9cIj09PWUmJiF0KXRocm93IG5ldyBFcnJvcihcIidhdXRvJyBhcnJheSBtb2RlIGlzIGZvciBxdWVyeSBwYXJhbWV0ZXJzIG9ubHlcIik7cmV0dXJuIG5ldyBuKHRoaXMsZSl9LHQubW9kdWxlKFwidWkucm91dGVyLnV0aWxcIikucHJvdmlkZXIoXCIkdXJsTWF0Y2hlckZhY3RvcnlcIix5KSx0Lm1vZHVsZShcInVpLnJvdXRlci51dGlsXCIpLnJ1bihbXCIkdXJsTWF0Y2hlckZhY3RvcnlcIixmdW5jdGlvbihlKXt9XSksdy4kaW5qZWN0PVtcIiRsb2NhdGlvblByb3ZpZGVyXCIsXCIkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlclwiXSx0Lm1vZHVsZShcInVpLnJvdXRlci5yb3V0ZXJcIikucHJvdmlkZXIoXCIkdXJsUm91dGVyXCIsdyksYi4kaW5qZWN0PVtcIiR1cmxSb3V0ZXJQcm92aWRlclwiLFwiJHVybE1hdGNoZXJGYWN0b3J5UHJvdmlkZXJcIl0sdC5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikuZmFjdG9yeShcIiRzdGF0ZVBhcmFtc1wiLGZ1bmN0aW9uKCl7cmV0dXJue319KS5jb25zdGFudChcIiRzdGF0ZS5ydW50aW1lXCIse2F1dG9pbmplY3Q6ITB9KS5wcm92aWRlcihcIiRzdGF0ZVwiLGIpLnJ1bihbXCIkaW5qZWN0b3JcIixmdW5jdGlvbihlKXtlLmdldChcIiRzdGF0ZS5ydW50aW1lXCIpLmF1dG9pbmplY3QmJmUuZ2V0KFwiJHN0YXRlXCIpO1xufV0pLFMuJGluamVjdD1bXSx0Lm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5wcm92aWRlcihcIiR2aWV3XCIsUyksdC5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikucHJvdmlkZXIoXCIkdWlWaWV3U2Nyb2xsXCIsRSkseC4kaW5qZWN0PVtcIiRzdGF0ZVwiLFwiJGluamVjdG9yXCIsXCIkdWlWaWV3U2Nyb2xsXCIsXCIkaW50ZXJwb2xhdGVcIixcIiRxXCJdLFAuJGluamVjdD1bXCIkY29tcGlsZVwiLFwiJGNvbnRyb2xsZXJcIixcIiRzdGF0ZVwiLFwiJGludGVycG9sYXRlXCJdLHQubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLmRpcmVjdGl2ZShcInVpVmlld1wiLHgpLHQubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLmRpcmVjdGl2ZShcInVpVmlld1wiLFApLEkuJGluamVjdD1bXCIkc3RhdGVcIixcIiR0aW1lb3V0XCJdLFYuJGluamVjdD1bXCIkc3RhdGVcIixcIiR0aW1lb3V0XCJdLE0uJGluamVjdD1bXCIkc3RhdGVcIixcIiRzdGF0ZVBhcmFtc1wiLFwiJGludGVycG9sYXRlXCJdLHQubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLmRpcmVjdGl2ZShcInVpU3JlZlwiLEkpLmRpcmVjdGl2ZShcInVpU3JlZkFjdGl2ZVwiLE0pLmRpcmVjdGl2ZShcInVpU3JlZkFjdGl2ZUVxXCIsTSkuZGlyZWN0aXZlKFwidWlTdGF0ZVwiLFYpLE4uJGluamVjdD1bXCIkc3RhdGVcIl0sUi4kaW5qZWN0PVtcIiRzdGF0ZVwiXSx0Lm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5maWx0ZXIoXCJpc1N0YXRlXCIsTikuZmlsdGVyKFwiaW5jbHVkZWRCeVN0YXRlXCIsUil9KHdpbmRvdyx3aW5kb3cuYW5ndWxhcik7XG52YXIgYXBwPWFuZ3VsYXIubW9kdWxlKFwieWFuZ3VsYXItZ3JpZFwiLFtdKTthcHAuZmFjdG9yeShcImFnU29ydEZhY3RvcnlcIixmdW5jdGlvbihlKXt2YXIgdCxuLGEscixvLGk9e307cmV0dXJuIGkuc2V0VXJsPWZ1bmN0aW9uKGUpe3Q9ZX0saS5zZXRRdWVyeXN0cmluZ05hbWVzPWZ1bmN0aW9uKGUsdCxpLHMpe249ZSxhPXQscj1pLG89c30saS5nZXRSb3dzT25Mb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIGUuZ2V0KHQpfSxpLmdldFJvd3M9ZnVuY3Rpb24oaSl7cmV0dXJuIGUuZ2V0KHQrXCI/XCIrbitcIj1cIitpLnNvcnQrXCImXCIrYStcIj1cIitpLm9yZGVyK1wiJlwiK3IrXCI9XCIraS5wYWdlK1wiJlwiK28rXCI9XCIraS5zaXplKX0saX0pLmRpcmVjdGl2ZShcInlhZ1wiLGZ1bmN0aW9uKGUpe3JldHVybntyZXN0cmljdDpcIkVcIixyZXBsYWNlOiEwLHRlbXBsYXRlOic8ZGl2IGlkPVwieWFnXCI+PGRpdj48ZGl2IGNsYXNzPVwiZm9ybS1pbmxpbmVcIj48ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlNob3cgPHNlbGVjdCBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5nLW1vZGVsPVwic2l6ZVwiIG5nLWNoYW5nZT1cImNoYW5nZVNpemUoKVwiPjxvcHRpb24gdmFsdWU9XCIxMFwiPjEwPC9vcHRpb24+PG9wdGlvbiB2YWx1ZT1cIjIwXCI+MjA8L29wdGlvbj48b3B0aW9uIHZhbHVlPVwiMzBcIj4zMDwvb3B0aW9uPjwvc2VsZWN0PiAgcGVyIHBhZ2U8L2Rpdj48L2Rpdj48L2Rpdj48YnIvPjx0YWJsZSBjbGFzcz1cInRhYmxlIHRhYmxlLXJlc3BvbnNpdmUgdGFibGUtYm9yZGVyZWQgdGFibGUtc3RyaXBlZFwiPjx0aGVhZD48dHIgeWFnLXNvcnQtaGVhZD48dGggbmctcmVwZWF0PVwiY29sIGluIGNvbmZpZy5jb2x1bW5zXCIgY2xhc3M9XCJ7e2NvbC5jc3NDbGFzc319XCI+PGEgeWFnLXNvcnQgZGF0YS1uYW1lPVwie3tjb2wua2V5fX1cIiBkYXRhLW9yZGVyPVwiYXNjXCI+e3tjb2wubmFtZX19IDxpIG5nLWNsYXNzPVwie2dseXBoaWNvbiA6IGNvbC5rZXkgPT09IHNvcnQsXFwnZ2x5cGhpY29uLXNvcnQtYnktYXR0cmlidXRlc1xcJyA6IGNvbC5rZXkgPT09IHNvcnQgfVwiPjwvaT48L2E+PC90aD48L3RyPjwvdGhlYWQ+PHRib2R5Pjx0ciBuZy1yZXBlYXQ9XCJyb3cgaW4gcm93c1wiIG5nLWNsaWNrPVwicm93Q2xpY2socm93KVwiPjx0ZCBuZy1yZXBlYXQ9XCJjb2wgaW4gY29uZmlnLmNvbHVtbnNcIj48aSBuZy1jbGFzcz1cImNvbC5yZW5kZXJDbGFzcyhyb3dbY29sLmtleV0pXCI+PC9pPjxzcGFuIG5nLWlmPVwiIWNvbC5yZW5kZXJcIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiBkYXRhLXBsYWNlbWVudD1cInRvcFwiIHRpdGxlPVwie3tyb3dbY29sLmtleV19fVwiPnt7cm93W2NvbC5rZXldfX08L3NwYW4+PHNwYW4gbmctaWY9XCJjb2wucmVuZGVyXCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgZGF0YS1wbGFjZW1lbnQ9XCJ0b3BcIiB0aXRsZT1cInt7Y29sLnJlbmRlcihyb3dbY29sLmtleV0pfX1cIj57e2NvbC5yZW5kZXIocm93W2NvbC5rZXldKX19PC9zcGFuPjwvdGQ+PC90cj48L3Rib2R5Pjx0Zm9vdD48dHI+PHRkIGNvbHNwYW49XCJ7e2NvbmZpZy5jb2x1bW5zLmxlbmd0aH19XCI+PGRpdj48c3BhbiBuZy1pZj1cInNpemUgKiBjdXJyZW50UGFnZSA8IGNvdW50XCIgY2xhc3M9XCJ0ZXh0LWluZm9cIj5TaG93aW5nIHt7c2l6ZSAqIChjdXJyZW50UGFnZSAtIDEpICsgMX19IHRvIHt7c2l6ZSAqIGN1cnJlbnRQYWdlfX0gb2Yge3tjb3VudH19PC9zcGFuPjxzcGFuIG5nLWlmPVwic2l6ZSAqIGN1cnJlbnRQYWdlID4gY291bnRcIiBjbGFzcz1cInRleHQtaW5mb1wiPlNob3dpbmcge3tzaXplICogKGN1cnJlbnRQYWdlIC0gMSkgKyAxfX0gdG8ge3tjb3VudH19IG9mIHt7Y291bnR9fTwvc3Bhbj48L2Rpdj48L3RkPjwvdHI+PC90Zm9vdD48L3RhYmxlPjxuYXY+PHVsIGNsYXNzPVwicGFnaW5hdGlvblwiPjxsaSBjbGFzcz1cInBhZ2UtaXRlbVwiIG5nLWNsYXNzPVwie2Rpc2FibGVkIDogY3VycmVudFBhZ2UgPT09IDF9XCIgbmctY2xpY2s9XCJwcmV2aW91cygpXCI+PGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBhcmlhLWxhYmVsPVwiUHJldmlvdXNcIj48c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mbGFxdW87PC9zcGFuPjxzcGFuIGNsYXNzPVwic3Itb25seVwiPlByZXZpb3VzPC9zcGFuPjwvYT48L2xpPjxsaSBjbGFzcz1cInBhZ2UtaXRlbVwiIG5nLXJlcGVhdD1cInBhZ2UgaW4gZ2V0UGFnZUxpc3QoKSB0cmFjayBieSAkaW5kZXhcIiBuZy1jbGFzcz1cInsgYWN0aXZlIDogY3VycmVudFBhZ2UgPT0gJGluZGV4KzEgfVwiIG5nLWNsaWNrPVwicGFnZU51bWJlckNsaWNrKCRpbmRleCsxKVwiPjxhIGNsYXNzPVwicGFnZS1saW5rXCI+e3skaW5kZXgrMX19PC9hPjwvbGk+PGxpIGNsYXNzPVwicGFnZS1pdGVtXCIgbmctY2xhc3M9XCJ7ZGlzYWJsZWQgOiBjdXJyZW50UGFnZSA9PT0gdG90YWxQYWdlc31cIiBuZy1jbGljaz1cIm5leHQoKVwiPjxhIGNsYXNzPVwicGFnZS1saW5rXCIgYXJpYS1sYWJlbD1cIk5leHRcIj48c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mcmFxdW87PC9zcGFuPjxzcGFuIGNsYXNzPVwic3Itb25seVwiPk5leHQ8L3NwYW4+PC9hPjwvbGk+PC91bD48L25hdj48ZGl2Picsc2NvcGU6e2NvbmZpZzpcIj1cIn0sY29udHJvbGxlcjpmdW5jdGlvbih0LG4sYSl7ZS5zZXRVcmwodC5jb25maWcudXJsKSxlLnNldFF1ZXJ5c3RyaW5nTmFtZXModC5jb25maWcuc29ydFF1ZXJ5c3RyaW5nUGFyYW0sdC5jb25maWcub3JkZXJRdWVyeXN0cmluZ1BhcmFtLHQuY29uZmlnLnBhZ2VRdWVyeXN0cmluZ1BhcmFtLHQuY29uZmlnLnNpemVRdWVyeXN0cmluZ1BhcmFtKSx0aGlzLnNldE9yZGVyPWZ1bmN0aW9uKGUpe3Qub3JkZXI9ZX0sdGhpcy5zZXRTb3J0PWZ1bmN0aW9uKGUpe3Quc29ydD1lfSx0aGlzLnNldFJvd3M9ZnVuY3Rpb24oZSl7dC5yb3dzPWV9LHRoaXMuZ2V0Q3VycmVudFBhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jdXJyZW50UGFnZX0sdGhpcy5nZXRQYWdlU2l6ZT1mdW5jdGlvbigpe3JldHVybiB0LnNpemV9LHRoaXMuZ2V0Um93T2JqZWN0TmFtZT1mdW5jdGlvbigpe3JldHVybiB0LmNvbmZpZy5vYmplY3ROYW1lfSx0LnNpemU9XCIxMFwiLGUuZ2V0Um93c09uTG9hZCgpLnRoZW4oZnVuY3Rpb24oZSl7cihlKSx0LnJvd3MubGVuZ3RoPjAmJih0Lm9yZGVyPVwiYXNjXCIsdC5zb3J0PVwiaWRcIil9KSx0LmdldFBhZ2VMaXN0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBBcnJheSh0LnRvdGFsUGFnZXMpfSx0Lm5leHQ9ZnVuY3Rpb24oKXt0LmN1cnJlbnRQYWdlIT09dC50b3RhbFBhZ2VzJiZlLmdldFJvd3Moe29yZGVyOnQub3JkZXIsc29ydDp0LnNvcnQscGFnZTp0LmN1cnJlbnRQYWdlKzEsc2l6ZTp0LnNpemV9KS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KX0sdC5wcmV2aW91cz1mdW5jdGlvbigpezEhPT10LmN1cnJlbnRQYWdlJiZlLmdldFJvd3Moe29yZGVyOnQub3JkZXIsc29ydDp0LnNvcnQscGFnZTp0LmN1cnJlbnRQYWdlLTEsc2l6ZTp0LnNpemV9KS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KX0sdC5wYWdlTnVtYmVyQ2xpY2s9ZnVuY3Rpb24obil7biE9PXQuY3VycmVudFBhZ2UmJmUuZ2V0Um93cyh7b3JkZXI6dC5vcmRlcixzb3J0OnQuc29ydCxwYWdlOm4sc2l6ZTp0LnNpemV9KS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KX0sdC5jaGFuZ2VTaXplPWZ1bmN0aW9uKCl7dC5jdXJyZW50UGFnZT0xLGUuZ2V0Um93cyh7b3JkZXI6dC5vcmRlcixzb3J0OnQuc29ydCxwYWdlOnQuY3VycmVudFBhZ2Usc2l6ZTp0LnNpemV9KS50aGVuKGZ1bmN0aW9uKGUpe3IoZSl9KX0sdC5yb3dDbGljaz1mdW5jdGlvbihlKXt0LmNvbmZpZy5vblJvd0NsaWNrJiZ0LmNvbmZpZy5vblJvd0NsaWNrKGUpfTt2YXIgcj1mdW5jdGlvbihlKXt0LnJvd3M9ZS5kYXRhW3QuY29uZmlnLm9iamVjdE5hbWVdLHQuY291bnQ9ZS5kYXRhLmNvdW50LHQuY3VycmVudFBhZ2U9ZS5kYXRhLnBhZ2UsdC5zaXplPWUuZGF0YS5zaXplLnRvU3RyaW5nKCksdC50b3RhbFBhZ2VzPU1hdGguY2VpbCh0LmNvdW50L3Quc2l6ZSl9fX19KS5kaXJlY3RpdmUoXCJ5YWdTb3J0SGVhZFwiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLGNvbnRyb2xsZXI6ZnVuY3Rpb24oZSx0LG4pe3RoaXMuYWRkQ3NzQ2xhc3M9ZnVuY3Rpb24oZSxuKXtmb3IodmFyIGE9XCJhc2NcIj09PW4/XCJnbHlwaGljb24gZ2x5cGhpY29uLXNvcnQtYnktYXR0cmlidXRlc1wiOlwiZ2x5cGhpY29uIGdseXBoaWNvbi1zb3J0LWJ5LWF0dHJpYnV0ZXMtYWx0XCIscj10LmZpbmQoXCJhXCIpLG89MDtvPHIubGVuZ3RoO28rKylyW29dLmdldEF0dHJpYnV0ZShcImRhdGEtbmFtZVwiKT09PWU/KHJbb10uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpXCIpWzBdLmNsYXNzTmFtZT1cIlwiLHJbb10uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpXCIpWzBdLmNsYXNzTmFtZT1hKTpyW29dLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaVwiKVswXS5jbGFzc05hbWU9XCJcIn19fX0pLmRpcmVjdGl2ZShcInlhZ1NvcnRcIixmdW5jdGlvbihlKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpbXCJeeWFnU29ydEhlYWRcIixcIl5eeWFnXCJdLHNjb3BlOntjb25maWc6XCI9XCJ9LGxpbms6ZnVuY3Rpb24odCxuLGEscil7dmFyIG89clswXSxpPXJbMV07bi5iaW5kKFwiY2xpY2tcIixmdW5jdGlvbigpe3ZhciB0PWEub3JkZXIsbj1hLm5hbWU7dD1cImFzY1wiPT09dD9cImRlc2NcIjpcImFzY1wiLGUuZ2V0Um93cyh7b3JkZXI6dCxzb3J0Om4scGFnZTppLmdldEN1cnJlbnRQYWdlKCksc2l6ZTppLmdldFBhZ2VTaXplKCl9KS50aGVuKGZ1bmN0aW9uKGUpe2kuc2V0Um93cyhlLmRhdGFbaS5nZXRSb3dPYmplY3ROYW1lKCldKSxhLiRzZXQoXCJvcmRlclwiLHQpLG8uYWRkQ3NzQ2xhc3Mobix0KSxpLnNldE9yZGVyKHQpLGkuc2V0U29ydChuKX0pfSl9fX0pO1xudmFyIGFwcD1hbmd1bGFyLm1vZHVsZShcInlnLW1vZGFsXCIsW10pO2FwcC5mYWN0b3J5KFwiWWdNb2RhbFwiLGZ1bmN0aW9uKCl7dmFyIHQ9e30sbz17fTtyZXR1cm4gby5pc09wZW49ITEsdC5vcGVuPWZ1bmN0aW9uKHQsbil7by50aXRsZT10LG8uYm9keT1uLG8uaXNPcGVuPSEwfSx0LmNsb3NlPWZ1bmN0aW9uKCl7by5pc09wZW49ITF9LHQuZ2V0TW9kYWxTdGF0ZT1mdW5jdGlvbigpe3JldHVybiBvfSx0LmNvbmZpcm09ZnVuY3Rpb24odCl7by5jYWxsYmFjaz10fSx0fSksYXBwLmRpcmVjdGl2ZShcInlnTW9kYWxcIixmdW5jdGlvbih0KXtyZXR1cm57cmVzdHJpY3Q6XCJFXCIsc2NvcGU6e30sdGVtcGxhdGU6JzxkaXYgY2xhc3M9XCJ5Zy1tb2RhbC1vdmVybGF5XCIgbmctY2xhc3M9XCJ7XFwnaXMtb3BlblxcJyA6IGlzb3BlbiA9PT0gdHJ1ZX1cIj48ZGl2IGNsYXNzPVwieWctbW9kYWxcIj48ZGl2IGNsYXNzPVwieWctbW9kYWwtaGVhZGVyXCI+e3t0aXRsZX19PGRpdiBjbGFzcz1cInlnLW1vZGFsLWNsb3NlXCIgbmctY2xpY2s9XCJjbG9zZSgpXCI+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cInlnLW1vZGFsLWJvZHlcIj57e2JvZHl9fTxkaXYgY2xhc3M9XCJ5Zy1tb2RhbC1idXR0b25zXCI+PGJ1dHRvbiBjbGFzcz1cImNvbmZpcm1cIiBuZy1jbGljaz1cImNvbmZpcm0oKVwiPk9LPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImNhbmNlbFwiIG5nLWNsaWNrPVwiY2xvc2UoKVwiPkNhbmNlbDwvYnV0dG9uPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PicsY29udHJvbGxlcjpmdW5jdGlvbihvLG4sYyl7by5zdGF0ZT10LmdldE1vZGFsU3RhdGUsby4kd2F0Y2goXCJzdGF0ZSgpLmlzT3BlblwiLGZ1bmN0aW9uKG4sYyl7by50aXRsZT1vLnN0YXRlKCkudGl0bGUsby5ib2R5PW8uc3RhdGUoKS5ib2R5LG8uY29uZmlybT1mdW5jdGlvbigpe28uY2xvc2UoKSxvLnN0YXRlKCkuY2FsbGJhY2soKX0sbj09PSEwP28uaXNvcGVuPSEwOm8uaXNvcGVuPSExLG8uY2xvc2U9ZnVuY3Rpb24oKXt0LmNsb3NlKCksby5pc29wZW49ITF9fSl9fX0pOyJdLCJmaWxlIjoiZGVwZW5kZW5jaWVzLm1pbi5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
