angular.module("ticketSystem",["ngRoute","textAngular","yangular-grid","yg-modal","ngFlash","ui.router"]).service("authInterceptor",function(t,e,r){return{response:function(e){return 401===e.status&&r.clearUser(),e||t.when(e)},responseError:function(l){return 401===l.status&&(r.clearUser(),e.get("$state").go("users-login.login")),403===l.status&&e.get("$state").go("ticket.my-tickets"),t.reject(l)}}}).config(function(t,e,r){r.otherwise("/ticket/my-tickets"),e.state("ticket",{url:"/ticket",controller:"TicketsCtrl",templateUrl:"templates/tickets/tickets.html"}).state("ticket.my-tickets",{url:"/my-tickets",controller:"TicketsCtrl",templateUrl:"templates/tickets/view-my-tickets.html"}).state("ticket.to-me-tickets",{url:"/tome-tickets",controller:"TicketsCtrl",templateUrl:"templates/tickets/view-tome-tickets.html"}).state("ticket.all-tickets",{url:"/all-tickets",controller:"TicketsCtrl",templateUrl:"templates/tickets/view-all-tickets.html"}).state("ticket-new",{url:"/ticket/new",controller:"NewTicketCtrl",templateUrl:"templates/tickets/new-ticket.html"}).state("ticket-view",{url:"/ticket/view/:id",controller:"ViewTicketCtrl",templateUrl:"templates/tickets/view-ticket.html"}).state("ticket-edit",{url:"/ticket/edit/:id",controller:"EditTicketCtrl",templateUrl:"templates/tickets/edit-ticket.html"}).state("users-login",{url:"/users",controller:"MainLoginCtrl",templateUrl:"templates/users/user-login.html"}).state("users-login.login",{url:"/login",controller:"LoginCtrl",templateUrl:"templates/users/login.html"}).state("users-login.register",{url:"/register",controller:"RegisterCtrl",templateUrl:"templates/users/register.html"}).state("users-profile",{url:"/users/profile",controller:"ProfileCtrl",templateUrl:"templates/users/profile.html"}).state("users-register",{url:"/users/register",controller:"RegisterCtrl",templateUrl:"templates/users/register.html"}).state("admin-user-management",{url:"/admin/user-management",controller:"ManageUsersCtrl",templateUrl:"templates/admin/manage-users.html"}).state("auth-google",{url:"/auth/google/:id/:email",controller:"SetUserCtrl",templateUrl:"templates/users/set-username.html"}).state("admin-edit",{url:"/admin/edit/:username",controller:"ManageUsersCtrl",templateUrl:"templates/admin/edit-user.html"}).state("admin-reset-password",{url:"/admin/reset-password/:id",controller:"ManageUsersCtrl",templateUrl:"templates/admin/reset-password.html"}),t.interceptors.push("authInterceptor")});
angular.module("ticketSystem").directive("ygToggle",function(){return{restrict:"E",scope:{toggle:"="},replace:!0,template:'<div ng-show="loaded" class="toggle-button"><div class="toggle"></div></div>',link:function(e,t,l){var o=function(l){e.loaded=!0,l?t.addClass("is-active"):t.removeClass("is-active")};e.$watch("toggle.value",function(e,t){"undefined"!=typeof e&&o(e)}),t.on("click",function(){e.toggle.value=!e.toggle.value,o(e.toggle.value)})}}});
angular.module("ticketSystem").factory("TicketFactory",function(t){var e={};return e.createNewTicket=function(e){return t.post("tickets/new",e)},e.updateTicket=function(e,n){return t.put("tickets/"+e,n)},e.getTicketById=function(e){return t.get("tickets/"+e)},e.addComment=function(e,n){return t.post("tickets/addComment/"+e,n)},e.deleteComment=function(e,n){return t.delete("tickets/deleteComment/"+e._id+"?commentId="+n._id)},e.getInitialTicketData=function(e){return t.get("tickets/edit-ticket/initial-load/"+e)},e});
angular.module("ticketSystem").controller("TaskCtrl",function(t,a){t.getTask=a.getTask,t.task={},t.commentPartial="templates/partials/comments-partial.html",t.$watch("getTask()",function(a,s){switch(t.task.name="templates/partials/"+a+"-partial.html",a){case"comment":t.task.showTaskPanel=!0,t.task.title="Add new comment",t.task.showMainPanel=!1,t.task.showCommentsPanel=!0;break;case"assign":t.task.showTaskPanel=!0,t.task.title="Assign ticket",t.task.showMainPanel=!0,t.task.showCommentsPanel=!0}})});
angular.module("ticketSystem").controller("ViewTicketCtrl",function(e,t,r,i,c,n){e.ticket={},e.renderDate=function(e){return new Date(Date.parse(e)).toLocaleDateString()},e.edit=function(){r.go("ticket-edit",{id:e.ticket.id})},i.getTicketById(t.id).then(function(t){t.data.errors?(r.go("ticket.my-tickets"),c.create("danger",t.data.errors[0].msg,4e3,{},!1)):(e.ticket=t.data,e.ticket.assignee=e.ticket.assignee?e.ticket.assignee:"Unassigned",e.ticket.createdDate=e.renderDate(e.ticket.createdDate),e.ticket.currentUser=n.getUser().username)}).catch(function(e){console.log(e),c.create("danger","An error occurred while trying to get ticket details. Please try again later.",5e3,{},!1)})}).controller("CommentCtrl",function(e,t,r,i,c){});
angular.module("ticketSystem").controller("EditTicketCtrl",function(t,e,a,r,i,c,s,n){t.toolbarConfig=[["h1","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],[],["insertLink"]],t.cancel=function(){a.go("ticket-view",{id:t.ticket.id})},t.renderDate=function(t){return new Date(Date.parse(t)).toLocaleDateString()},r.getTicketById(e.id).then(function(e){if(e.data.errors){a.go("ticket.my-tickets");var n=c.createErrorMessage(e.data.errors);i.create("danger",n,4e3,{},!1)}else t.ticket=e.data,t.ticket.currentUser=s.getUser().username,r.getInitialTicketData(t.ticket.status).then(function(e){t.priorities=e.data.priorities.values,t.types=e.data.types.values,t.users=e.data.users,c.setAllUsers(t.users),t.statuses=e.data.statuses}).catch(function(t){console.log(t),i.create("danger","An error occurred while trying to detch the static data.",5e3,{},!1)})}).catch(function(t){console.log(t),i.create("danger","An error occurred while trying to get ticket details. Please try again later.",5e3,{},!1)}),t.update=function(){r.updateTicket(t.ticket._id,t.ticket).then(function(e){t.ticket=e.data,i.create("success","Ticket updated successfully.",5e3,{},!1),a.go("ticket-view",{id:e.data.id})}).catch(function(t){console.log(t),i.create("danger","An error occurred while trying to update ticket details. Please try again later.",5e3,{},!1)})},t.taskpartial="templates/partials/task-partial.html",t.comment=function(){n.setTask("assign")}});
angular.module("ticketSystem").controller("MainCtrl",function(e,i,t,n,r,o){var s=function(){var i=t.getUser();i.role.indexOf("Admin")>-1?e.isAdmin=!0:e.isAdmin=!1,e.isRegularUser=!0,(t.getUser().role.indexOf("Support")>-1||t.getUser().role.indexOf("Admin")>-1)&&(e.isRegularUser=!1)};e.init=function(){var i=t.getUser();i&&(i.role.indexOf("Admin")>-1?e.isAdmin=!0:e.isAdmin=!1)},e.getUser=t.getUser,e.isAuthenticated=t.getIsAuthenticated,e.logout=function(){n.logout().then(function(){t.clearUser(),i.go("users-login.login")})},e.$on("successful-login",s),e.getProfile=function(){i.go("users-profile")},r.app={},r.app.auth=function(e,n){""!==e?o.create("danger",e.toString(),5e3,{},!1):n.username&&""!==n.username?n&&(t.setUser(n),s(),i.go("ticket.my-tickets")):i.go("auth-google",{id:n._id.toString(),email:n.email})}});
angular.module("ticketSystem").controller("ProfileCtrl",function(e,r,t,a,s,n){e.user={},e.init=function(){a.getUserByUsername(t.getUser().username).then(function(t){if(t.data.errors){var a=s.createErrorMessage(t.data.errors);n.create("danger",a,5e3,{},!1),r.go("ticket.my-tickets")}else e.user.firstname=t.data.user.firstname;e.user.lastname=t.data.user.lastname,e.user.username=t.data.user.username,e.user.email=t.data.user.email})},e.update=function(){a.updateProfile(e.user).then(function(a){e.user.firstname=a.data.user.firstname,e.user.lastname=a.data.user.lastname,e.user.username=a.data.user.username,e.user.email=a.data.user.email,t.setUser(e.user),n.create("success","User details have been updated successfully",5e3,{},!1),r.go("/")}).catch(function(e){n.create("danger","There was some error trying to update user details. Please try again after some time.",5e3,{},!1)})}}).controller("LoginCtrl",function(e,r,t,a,s){e.error=!1,e.message="",e.login=function(){a.login(e.username,e.password,e.remember).then(function(t){t.data.isAuthenticated?(s.setUser(t.data.user),e.$emit("successful-login"),r.go("ticket.my-tickets")):(e.error=!0,e.message=t.data.msg)}).catch(function(r){e.error=!0,e.message="An error occurred while trying to log you in. Please try again later"})},e.googleLogin=function(){var e="accounts/auth/google",r=600,a=450,s=(window.outerHeight-a)/2,n=(window.outerWidth-r)/2;t.open(e,"facebook_login","width="+r+",height="+a+",scrollbars=0,top="+s+",left="+n)}}).controller("RegisterCtrl",function(e,r,t,a,s){e.newUser={},e.register=function(){t.registerUser(e.newUser).then(function(e){if(e.data.errors){var t=a.createErrorMessage(e.data.errors);s.create("danger",t,5e3,{},!1)}else s.create("success","User has been created successfully. You can now login.",5e3,{},!1),r.go("users-login.login")}).catch(function(e){s.create("danger","There was some error trying to create the user. Please try again after some time.",5e3,{},!1)})}}).controller("SetUserCtrl",function(e,r,t,a,s,n){var o=r.id,i=r.email;e.setUsername={},e.setUsername.email=i,e.saveUsername=function(){a.setUsername({id:o,username:e.setUsername.username}).then(function(r){if(r.data.errors){var a=HelperFactory.createErrorMessage(r.data.errors);s.create("danger",a,5e3,{},!1)}else n.setUser(r.data.user),e.$emit("successful-login"),t.go("ticket.my-tickets"),s.create("success","Username has been set successfully.",5e3,{},!1)}).catch(function(e){s.create("danger","There was some error trying to set the username. Please try again after some time.",5e3,{},!1)})}}).controller("MainLoginCtrl",function(e,r,t){r.statename=t.current.name,e.$on("$stateChangeStart",function(e,t,a,s,n){r.statename=t.name})});
angular.module("ticketSystem").controller("ManageUsersCtrl",function(e,s,a,r,i,t,n){var u=function(){return""},c=function(e){return e===!0?"fa fa-check":"fa fa-remove"},o=function(){return""},l=function(e){return e.indexOf("Admin")>-1?"fa fa-check":"fa fa-remove"};e.config={},e.config.url="/admin/users-details",e.config.columns=[],e.config.columns.push({key:"username",name:"Username",cssClass:"col-md-6"}),e.config.columns.push({key:"isActive",name:"Is Active",cssClass:"col-md-3",render:u,renderClass:c}),e.config.columns.push({key:"role",name:"Is Admin",cssClass:"col-md-3",render:o,renderClass:l}),e.config.sortQuerystringParam="sort",e.config.orderQuerystringParam="order",e.config.pageQuerystringParam="page",e.config.sizeQuerystringParam="size",e.config.objectName="users",e.config.onRowClick=function(e){s.go("admin-edit",{username:e.username})},e.isActive={},e.isAdmin={},e.userDetails={},e.userDetails.getUserDetails=function(){var s=a.username;t.getUserDetails(s).then(function(s){e.userDetails.username=s.data.user.username,e.userDetails.firstname=s.data.user.firstname,e.userDetails.lastname=s.data.user.lastname,e.userDetails.id=s.data.user._id;var a=s.data.user.role;a.indexOf("Admin")>-1?e.userDetails.isAdmin=!0:e.userDetails.isAdmin=!1,e.userDetails.isActive=s.data.user.isActive,e.userDetails.email=s.data.user.email,e.isActive.key="isActive",e.isActive.value=e.userDetails.isActive,e.isAdmin.key="isAdmin",e.isAdmin.value=e.userDetails.isAdmin}).catch(function(e){n.create("danger","There was some error trying to fetch user details. Please try again after some time.",5e3,{},!1)})},e.userDetails.update=function(){e.userDetails.isAdmin=e.isAdmin.value,e.userDetails.isActive=e.isActive.value,t.updateUserDetails(e.userDetails.username,e.userDetails).then(function(e){n.create("success","User details updated successfully",5e3,{},!1)}).catch(function(e){n.create("danger","There was some error trying to update user details. Please try again after some time.",5e3,{},!1)})},e.resetPassword={},e.resetPassword.reset=function(){var r=a.id;t.resetPassword(r,e.resetPassword).then(function(e){if(e.data.errors){var a=i.createErrorMessage(e.data.errors);n.create("danger",a,5e3,{},!1)}else n.create("success","Password has been reset successfully",5e3,{},!1),s.go("admin-user-management")}).catch(function(e){n.create("danger","The request could not ben made successfully. Please try later",5e3,{},!1)})}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtYWluLm1pbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZShcInRpY2tldFN5c3RlbVwiLFtcIm5nUm91dGVcIixcInRleHRBbmd1bGFyXCIsXCJ5YW5ndWxhci1ncmlkXCIsXCJ5Zy1tb2RhbFwiLFwibmdGbGFzaFwiLFwidWkucm91dGVyXCJdKS5zZXJ2aWNlKFwiYXV0aEludGVyY2VwdG9yXCIsZnVuY3Rpb24odCxlLHIpe3JldHVybntyZXNwb25zZTpmdW5jdGlvbihlKXtyZXR1cm4gNDAxPT09ZS5zdGF0dXMmJnIuY2xlYXJVc2VyKCksZXx8dC53aGVuKGUpfSxyZXNwb25zZUVycm9yOmZ1bmN0aW9uKGwpe3JldHVybiA0MDE9PT1sLnN0YXR1cyYmKHIuY2xlYXJVc2VyKCksZS5nZXQoXCIkc3RhdGVcIikuZ28oXCJ1c2Vycy1sb2dpbi5sb2dpblwiKSksNDAzPT09bC5zdGF0dXMmJmUuZ2V0KFwiJHN0YXRlXCIpLmdvKFwidGlja2V0Lm15LXRpY2tldHNcIiksdC5yZWplY3QobCl9fX0pLmNvbmZpZyhmdW5jdGlvbih0LGUscil7ci5vdGhlcndpc2UoXCIvdGlja2V0L215LXRpY2tldHNcIiksZS5zdGF0ZShcInRpY2tldFwiLHt1cmw6XCIvdGlja2V0XCIsY29udHJvbGxlcjpcIlRpY2tldHNDdHJsXCIsdGVtcGxhdGVVcmw6XCJ0ZW1wbGF0ZXMvdGlja2V0cy90aWNrZXRzLmh0bWxcIn0pLnN0YXRlKFwidGlja2V0Lm15LXRpY2tldHNcIix7dXJsOlwiL215LXRpY2tldHNcIixjb250cm9sbGVyOlwiVGlja2V0c0N0cmxcIix0ZW1wbGF0ZVVybDpcInRlbXBsYXRlcy90aWNrZXRzL3ZpZXctbXktdGlja2V0cy5odG1sXCJ9KS5zdGF0ZShcInRpY2tldC50by1tZS10aWNrZXRzXCIse3VybDpcIi90b21lLXRpY2tldHNcIixjb250cm9sbGVyOlwiVGlja2V0c0N0cmxcIix0ZW1wbGF0ZVVybDpcInRlbXBsYXRlcy90aWNrZXRzL3ZpZXctdG9tZS10aWNrZXRzLmh0bWxcIn0pLnN0YXRlKFwidGlja2V0LmFsbC10aWNrZXRzXCIse3VybDpcIi9hbGwtdGlja2V0c1wiLGNvbnRyb2xsZXI6XCJUaWNrZXRzQ3RybFwiLHRlbXBsYXRlVXJsOlwidGVtcGxhdGVzL3RpY2tldHMvdmlldy1hbGwtdGlja2V0cy5odG1sXCJ9KS5zdGF0ZShcInRpY2tldC1uZXdcIix7dXJsOlwiL3RpY2tldC9uZXdcIixjb250cm9sbGVyOlwiTmV3VGlja2V0Q3RybFwiLHRlbXBsYXRlVXJsOlwidGVtcGxhdGVzL3RpY2tldHMvbmV3LXRpY2tldC5odG1sXCJ9KS5zdGF0ZShcInRpY2tldC12aWV3XCIse3VybDpcIi90aWNrZXQvdmlldy86aWRcIixjb250cm9sbGVyOlwiVmlld1RpY2tldEN0cmxcIix0ZW1wbGF0ZVVybDpcInRlbXBsYXRlcy90aWNrZXRzL3ZpZXctdGlja2V0Lmh0bWxcIn0pLnN0YXRlKFwidGlja2V0LWVkaXRcIix7dXJsOlwiL3RpY2tldC9lZGl0LzppZFwiLGNvbnRyb2xsZXI6XCJFZGl0VGlja2V0Q3RybFwiLHRlbXBsYXRlVXJsOlwidGVtcGxhdGVzL3RpY2tldHMvZWRpdC10aWNrZXQuaHRtbFwifSkuc3RhdGUoXCJ1c2Vycy1sb2dpblwiLHt1cmw6XCIvdXNlcnNcIixjb250cm9sbGVyOlwiTWFpbkxvZ2luQ3RybFwiLHRlbXBsYXRlVXJsOlwidGVtcGxhdGVzL3VzZXJzL3VzZXItbG9naW4uaHRtbFwifSkuc3RhdGUoXCJ1c2Vycy1sb2dpbi5sb2dpblwiLHt1cmw6XCIvbG9naW5cIixjb250cm9sbGVyOlwiTG9naW5DdHJsXCIsdGVtcGxhdGVVcmw6XCJ0ZW1wbGF0ZXMvdXNlcnMvbG9naW4uaHRtbFwifSkuc3RhdGUoXCJ1c2Vycy1sb2dpbi5yZWdpc3RlclwiLHt1cmw6XCIvcmVnaXN0ZXJcIixjb250cm9sbGVyOlwiUmVnaXN0ZXJDdHJsXCIsdGVtcGxhdGVVcmw6XCJ0ZW1wbGF0ZXMvdXNlcnMvcmVnaXN0ZXIuaHRtbFwifSkuc3RhdGUoXCJ1c2Vycy1wcm9maWxlXCIse3VybDpcIi91c2Vycy9wcm9maWxlXCIsY29udHJvbGxlcjpcIlByb2ZpbGVDdHJsXCIsdGVtcGxhdGVVcmw6XCJ0ZW1wbGF0ZXMvdXNlcnMvcHJvZmlsZS5odG1sXCJ9KS5zdGF0ZShcInVzZXJzLXJlZ2lzdGVyXCIse3VybDpcIi91c2Vycy9yZWdpc3RlclwiLGNvbnRyb2xsZXI6XCJSZWdpc3RlckN0cmxcIix0ZW1wbGF0ZVVybDpcInRlbXBsYXRlcy91c2Vycy9yZWdpc3Rlci5odG1sXCJ9KS5zdGF0ZShcImFkbWluLXVzZXItbWFuYWdlbWVudFwiLHt1cmw6XCIvYWRtaW4vdXNlci1tYW5hZ2VtZW50XCIsY29udHJvbGxlcjpcIk1hbmFnZVVzZXJzQ3RybFwiLHRlbXBsYXRlVXJsOlwidGVtcGxhdGVzL2FkbWluL21hbmFnZS11c2Vycy5odG1sXCJ9KS5zdGF0ZShcImF1dGgtZ29vZ2xlXCIse3VybDpcIi9hdXRoL2dvb2dsZS86aWQvOmVtYWlsXCIsY29udHJvbGxlcjpcIlNldFVzZXJDdHJsXCIsdGVtcGxhdGVVcmw6XCJ0ZW1wbGF0ZXMvdXNlcnMvc2V0LXVzZXJuYW1lLmh0bWxcIn0pLnN0YXRlKFwiYWRtaW4tZWRpdFwiLHt1cmw6XCIvYWRtaW4vZWRpdC86dXNlcm5hbWVcIixjb250cm9sbGVyOlwiTWFuYWdlVXNlcnNDdHJsXCIsdGVtcGxhdGVVcmw6XCJ0ZW1wbGF0ZXMvYWRtaW4vZWRpdC11c2VyLmh0bWxcIn0pLnN0YXRlKFwiYWRtaW4tcmVzZXQtcGFzc3dvcmRcIix7dXJsOlwiL2FkbWluL3Jlc2V0LXBhc3N3b3JkLzppZFwiLGNvbnRyb2xsZXI6XCJNYW5hZ2VVc2Vyc0N0cmxcIix0ZW1wbGF0ZVVybDpcInRlbXBsYXRlcy9hZG1pbi9yZXNldC1wYXNzd29yZC5odG1sXCJ9KSx0LmludGVyY2VwdG9ycy5wdXNoKFwiYXV0aEludGVyY2VwdG9yXCIpfSk7XG5hbmd1bGFyLm1vZHVsZShcInRpY2tldFN5c3RlbVwiKS5kaXJlY3RpdmUoXCJ5Z1RvZ2dsZVwiLGZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiRVwiLHNjb3BlOnt0b2dnbGU6XCI9XCJ9LHJlcGxhY2U6ITAsdGVtcGxhdGU6JzxkaXYgbmctc2hvdz1cImxvYWRlZFwiIGNsYXNzPVwidG9nZ2xlLWJ1dHRvblwiPjxkaXYgY2xhc3M9XCJ0b2dnbGVcIj48L2Rpdj48L2Rpdj4nLGxpbms6ZnVuY3Rpb24oZSx0LGwpe3ZhciBvPWZ1bmN0aW9uKGwpe2UubG9hZGVkPSEwLGw/dC5hZGRDbGFzcyhcImlzLWFjdGl2ZVwiKTp0LnJlbW92ZUNsYXNzKFwiaXMtYWN0aXZlXCIpfTtlLiR3YXRjaChcInRvZ2dsZS52YWx1ZVwiLGZ1bmN0aW9uKGUsdCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUmJm8oZSl9KSx0Lm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe2UudG9nZ2xlLnZhbHVlPSFlLnRvZ2dsZS52YWx1ZSxvKGUudG9nZ2xlLnZhbHVlKX0pfX19KTtcbmFuZ3VsYXIubW9kdWxlKFwidGlja2V0U3lzdGVtXCIpLmZhY3RvcnkoXCJUaWNrZXRGYWN0b3J5XCIsZnVuY3Rpb24odCl7dmFyIGU9e307cmV0dXJuIGUuY3JlYXRlTmV3VGlja2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0LnBvc3QoXCJ0aWNrZXRzL25ld1wiLGUpfSxlLnVwZGF0ZVRpY2tldD1mdW5jdGlvbihlLG4pe3JldHVybiB0LnB1dChcInRpY2tldHMvXCIrZSxuKX0sZS5nZXRUaWNrZXRCeUlkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmdldChcInRpY2tldHMvXCIrZSl9LGUuYWRkQ29tbWVudD1mdW5jdGlvbihlLG4pe3JldHVybiB0LnBvc3QoXCJ0aWNrZXRzL2FkZENvbW1lbnQvXCIrZSxuKX0sZS5kZWxldGVDb21tZW50PWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuZGVsZXRlKFwidGlja2V0cy9kZWxldGVDb21tZW50L1wiK2UuX2lkK1wiP2NvbW1lbnRJZD1cIituLl9pZCl9LGUuZ2V0SW5pdGlhbFRpY2tldERhdGE9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZ2V0KFwidGlja2V0cy9lZGl0LXRpY2tldC9pbml0aWFsLWxvYWQvXCIrZSl9LGV9KTtcbmFuZ3VsYXIubW9kdWxlKFwidGlja2V0U3lzdGVtXCIpLmNvbnRyb2xsZXIoXCJUYXNrQ3RybFwiLGZ1bmN0aW9uKHQsYSl7dC5nZXRUYXNrPWEuZ2V0VGFzayx0LnRhc2s9e30sdC5jb21tZW50UGFydGlhbD1cInRlbXBsYXRlcy9wYXJ0aWFscy9jb21tZW50cy1wYXJ0aWFsLmh0bWxcIix0LiR3YXRjaChcImdldFRhc2soKVwiLGZ1bmN0aW9uKGEscyl7c3dpdGNoKHQudGFzay5uYW1lPVwidGVtcGxhdGVzL3BhcnRpYWxzL1wiK2ErXCItcGFydGlhbC5odG1sXCIsYSl7Y2FzZVwiY29tbWVudFwiOnQudGFzay5zaG93VGFza1BhbmVsPSEwLHQudGFzay50aXRsZT1cIkFkZCBuZXcgY29tbWVudFwiLHQudGFzay5zaG93TWFpblBhbmVsPSExLHQudGFzay5zaG93Q29tbWVudHNQYW5lbD0hMDticmVhaztjYXNlXCJhc3NpZ25cIjp0LnRhc2suc2hvd1Rhc2tQYW5lbD0hMCx0LnRhc2sudGl0bGU9XCJBc3NpZ24gdGlja2V0XCIsdC50YXNrLnNob3dNYWluUGFuZWw9ITAsdC50YXNrLnNob3dDb21tZW50c1BhbmVsPSEwfX0pfSk7XG5hbmd1bGFyLm1vZHVsZShcInRpY2tldFN5c3RlbVwiKS5jb250cm9sbGVyKFwiVmlld1RpY2tldEN0cmxcIixmdW5jdGlvbihlLHQscixpLGMsbil7ZS50aWNrZXQ9e30sZS5yZW5kZXJEYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRGF0ZShEYXRlLnBhcnNlKGUpKS50b0xvY2FsZURhdGVTdHJpbmcoKX0sZS5lZGl0PWZ1bmN0aW9uKCl7ci5nbyhcInRpY2tldC1lZGl0XCIse2lkOmUudGlja2V0LmlkfSl9LGkuZ2V0VGlja2V0QnlJZCh0LmlkKS50aGVuKGZ1bmN0aW9uKHQpe3QuZGF0YS5lcnJvcnM/KHIuZ28oXCJ0aWNrZXQubXktdGlja2V0c1wiKSxjLmNyZWF0ZShcImRhbmdlclwiLHQuZGF0YS5lcnJvcnNbMF0ubXNnLDRlMyx7fSwhMSkpOihlLnRpY2tldD10LmRhdGEsZS50aWNrZXQuYXNzaWduZWU9ZS50aWNrZXQuYXNzaWduZWU/ZS50aWNrZXQuYXNzaWduZWU6XCJVbmFzc2lnbmVkXCIsZS50aWNrZXQuY3JlYXRlZERhdGU9ZS5yZW5kZXJEYXRlKGUudGlja2V0LmNyZWF0ZWREYXRlKSxlLnRpY2tldC5jdXJyZW50VXNlcj1uLmdldFVzZXIoKS51c2VybmFtZSl9KS5jYXRjaChmdW5jdGlvbihlKXtjb25zb2xlLmxvZyhlKSxjLmNyZWF0ZShcImRhbmdlclwiLFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIGdldCB0aWNrZXQgZGV0YWlscy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIiw1ZTMse30sITEpfSl9KS5jb250cm9sbGVyKFwiQ29tbWVudEN0cmxcIixmdW5jdGlvbihlLHQscixpLGMpe30pO1xuYW5ndWxhci5tb2R1bGUoXCJ0aWNrZXRTeXN0ZW1cIikuY29udHJvbGxlcihcIkVkaXRUaWNrZXRDdHJsXCIsZnVuY3Rpb24odCxlLGEscixpLGMscyxuKXt0LnRvb2xiYXJDb25maWc9W1tcImgxXCIsXCJwXCIsXCJwcmVcIixcInF1b3RlXCJdLFtcImJvbGRcIixcIml0YWxpY3NcIixcInVuZGVybGluZVwiLFwic3RyaWtlVGhyb3VnaFwiLFwidWxcIixcIm9sXCIsXCJyZWRvXCIsXCJ1bmRvXCIsXCJjbGVhclwiXSxbXSxbXCJpbnNlcnRMaW5rXCJdXSx0LmNhbmNlbD1mdW5jdGlvbigpe2EuZ28oXCJ0aWNrZXQtdmlld1wiLHtpZDp0LnRpY2tldC5pZH0pfSx0LnJlbmRlckRhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBEYXRlKERhdGUucGFyc2UodCkpLnRvTG9jYWxlRGF0ZVN0cmluZygpfSxyLmdldFRpY2tldEJ5SWQoZS5pZCkudGhlbihmdW5jdGlvbihlKXtpZihlLmRhdGEuZXJyb3JzKXthLmdvKFwidGlja2V0Lm15LXRpY2tldHNcIik7dmFyIG49Yy5jcmVhdGVFcnJvck1lc3NhZ2UoZS5kYXRhLmVycm9ycyk7aS5jcmVhdGUoXCJkYW5nZXJcIixuLDRlMyx7fSwhMSl9ZWxzZSB0LnRpY2tldD1lLmRhdGEsdC50aWNrZXQuY3VycmVudFVzZXI9cy5nZXRVc2VyKCkudXNlcm5hbWUsci5nZXRJbml0aWFsVGlja2V0RGF0YSh0LnRpY2tldC5zdGF0dXMpLnRoZW4oZnVuY3Rpb24oZSl7dC5wcmlvcml0aWVzPWUuZGF0YS5wcmlvcml0aWVzLnZhbHVlcyx0LnR5cGVzPWUuZGF0YS50eXBlcy52YWx1ZXMsdC51c2Vycz1lLmRhdGEudXNlcnMsYy5zZXRBbGxVc2Vycyh0LnVzZXJzKSx0LnN0YXR1c2VzPWUuZGF0YS5zdGF0dXNlc30pLmNhdGNoKGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKHQpLGkuY3JlYXRlKFwiZGFuZ2VyXCIsXCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSB0cnlpbmcgdG8gZGV0Y2ggdGhlIHN0YXRpYyBkYXRhLlwiLDVlMyx7fSwhMSl9KX0pLmNhdGNoKGZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKHQpLGkuY3JlYXRlKFwiZGFuZ2VyXCIsXCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSB0cnlpbmcgdG8gZ2V0IHRpY2tldCBkZXRhaWxzLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiLDVlMyx7fSwhMSl9KSx0LnVwZGF0ZT1mdW5jdGlvbigpe3IudXBkYXRlVGlja2V0KHQudGlja2V0Ll9pZCx0LnRpY2tldCkudGhlbihmdW5jdGlvbihlKXt0LnRpY2tldD1lLmRhdGEsaS5jcmVhdGUoXCJzdWNjZXNzXCIsXCJUaWNrZXQgdXBkYXRlZCBzdWNjZXNzZnVsbHkuXCIsNWUzLHt9LCExKSxhLmdvKFwidGlja2V0LXZpZXdcIix7aWQ6ZS5kYXRhLmlkfSl9KS5jYXRjaChmdW5jdGlvbih0KXtjb25zb2xlLmxvZyh0KSxpLmNyZWF0ZShcImRhbmdlclwiLFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIHVwZGF0ZSB0aWNrZXQgZGV0YWlscy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIiw1ZTMse30sITEpfSl9LHQudGFza3BhcnRpYWw9XCJ0ZW1wbGF0ZXMvcGFydGlhbHMvdGFzay1wYXJ0aWFsLmh0bWxcIix0LmNvbW1lbnQ9ZnVuY3Rpb24oKXtuLnNldFRhc2soXCJhc3NpZ25cIil9fSk7XG5hbmd1bGFyLm1vZHVsZShcInRpY2tldFN5c3RlbVwiKS5jb250cm9sbGVyKFwiTWFpbkN0cmxcIixmdW5jdGlvbihlLGksdCxuLHIsbyl7dmFyIHM9ZnVuY3Rpb24oKXt2YXIgaT10LmdldFVzZXIoKTtpLnJvbGUuaW5kZXhPZihcIkFkbWluXCIpPi0xP2UuaXNBZG1pbj0hMDplLmlzQWRtaW49ITEsZS5pc1JlZ3VsYXJVc2VyPSEwLCh0LmdldFVzZXIoKS5yb2xlLmluZGV4T2YoXCJTdXBwb3J0XCIpPi0xfHx0LmdldFVzZXIoKS5yb2xlLmluZGV4T2YoXCJBZG1pblwiKT4tMSkmJihlLmlzUmVndWxhclVzZXI9ITEpfTtlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgaT10LmdldFVzZXIoKTtpJiYoaS5yb2xlLmluZGV4T2YoXCJBZG1pblwiKT4tMT9lLmlzQWRtaW49ITA6ZS5pc0FkbWluPSExKX0sZS5nZXRVc2VyPXQuZ2V0VXNlcixlLmlzQXV0aGVudGljYXRlZD10LmdldElzQXV0aGVudGljYXRlZCxlLmxvZ291dD1mdW5jdGlvbigpe24ubG9nb3V0KCkudGhlbihmdW5jdGlvbigpe3QuY2xlYXJVc2VyKCksaS5nbyhcInVzZXJzLWxvZ2luLmxvZ2luXCIpfSl9LGUuJG9uKFwic3VjY2Vzc2Z1bC1sb2dpblwiLHMpLGUuZ2V0UHJvZmlsZT1mdW5jdGlvbigpe2kuZ28oXCJ1c2Vycy1wcm9maWxlXCIpfSxyLmFwcD17fSxyLmFwcC5hdXRoPWZ1bmN0aW9uKGUsbil7XCJcIiE9PWU/by5jcmVhdGUoXCJkYW5nZXJcIixlLnRvU3RyaW5nKCksNWUzLHt9LCExKTpuLnVzZXJuYW1lJiZcIlwiIT09bi51c2VybmFtZT9uJiYodC5zZXRVc2VyKG4pLHMoKSxpLmdvKFwidGlja2V0Lm15LXRpY2tldHNcIikpOmkuZ28oXCJhdXRoLWdvb2dsZVwiLHtpZDpuLl9pZC50b1N0cmluZygpLGVtYWlsOm4uZW1haWx9KX19KTtcbmFuZ3VsYXIubW9kdWxlKFwidGlja2V0U3lzdGVtXCIpLmNvbnRyb2xsZXIoXCJQcm9maWxlQ3RybFwiLGZ1bmN0aW9uKGUscix0LGEscyxuKXtlLnVzZXI9e30sZS5pbml0PWZ1bmN0aW9uKCl7YS5nZXRVc2VyQnlVc2VybmFtZSh0LmdldFVzZXIoKS51c2VybmFtZSkudGhlbihmdW5jdGlvbih0KXtpZih0LmRhdGEuZXJyb3JzKXt2YXIgYT1zLmNyZWF0ZUVycm9yTWVzc2FnZSh0LmRhdGEuZXJyb3JzKTtuLmNyZWF0ZShcImRhbmdlclwiLGEsNWUzLHt9LCExKSxyLmdvKFwidGlja2V0Lm15LXRpY2tldHNcIil9ZWxzZSBlLnVzZXIuZmlyc3RuYW1lPXQuZGF0YS51c2VyLmZpcnN0bmFtZTtlLnVzZXIubGFzdG5hbWU9dC5kYXRhLnVzZXIubGFzdG5hbWUsZS51c2VyLnVzZXJuYW1lPXQuZGF0YS51c2VyLnVzZXJuYW1lLGUudXNlci5lbWFpbD10LmRhdGEudXNlci5lbWFpbH0pfSxlLnVwZGF0ZT1mdW5jdGlvbigpe2EudXBkYXRlUHJvZmlsZShlLnVzZXIpLnRoZW4oZnVuY3Rpb24oYSl7ZS51c2VyLmZpcnN0bmFtZT1hLmRhdGEudXNlci5maXJzdG5hbWUsZS51c2VyLmxhc3RuYW1lPWEuZGF0YS51c2VyLmxhc3RuYW1lLGUudXNlci51c2VybmFtZT1hLmRhdGEudXNlci51c2VybmFtZSxlLnVzZXIuZW1haWw9YS5kYXRhLnVzZXIuZW1haWwsdC5zZXRVc2VyKGUudXNlciksbi5jcmVhdGUoXCJzdWNjZXNzXCIsXCJVc2VyIGRldGFpbHMgaGF2ZSBiZWVuIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIsNWUzLHt9LCExKSxyLmdvKFwiL1wiKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24uY3JlYXRlKFwiZGFuZ2VyXCIsXCJUaGVyZSB3YXMgc29tZSBlcnJvciB0cnlpbmcgdG8gdXBkYXRlIHVzZXIgZGV0YWlscy4gUGxlYXNlIHRyeSBhZ2FpbiBhZnRlciBzb21lIHRpbWUuXCIsNWUzLHt9LCExKX0pfX0pLmNvbnRyb2xsZXIoXCJMb2dpbkN0cmxcIixmdW5jdGlvbihlLHIsdCxhLHMpe2UuZXJyb3I9ITEsZS5tZXNzYWdlPVwiXCIsZS5sb2dpbj1mdW5jdGlvbigpe2EubG9naW4oZS51c2VybmFtZSxlLnBhc3N3b3JkLGUucmVtZW1iZXIpLnRoZW4oZnVuY3Rpb24odCl7dC5kYXRhLmlzQXV0aGVudGljYXRlZD8ocy5zZXRVc2VyKHQuZGF0YS51c2VyKSxlLiRlbWl0KFwic3VjY2Vzc2Z1bC1sb2dpblwiKSxyLmdvKFwidGlja2V0Lm15LXRpY2tldHNcIikpOihlLmVycm9yPSEwLGUubWVzc2FnZT10LmRhdGEubXNnKX0pLmNhdGNoKGZ1bmN0aW9uKHIpe2UuZXJyb3I9ITAsZS5tZXNzYWdlPVwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIGxvZyB5b3UgaW4uIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXJcIn0pfSxlLmdvb2dsZUxvZ2luPWZ1bmN0aW9uKCl7dmFyIGU9XCJhY2NvdW50cy9hdXRoL2dvb2dsZVwiLHI9NjAwLGE9NDUwLHM9KHdpbmRvdy5vdXRlckhlaWdodC1hKS8yLG49KHdpbmRvdy5vdXRlcldpZHRoLXIpLzI7dC5vcGVuKGUsXCJmYWNlYm9va19sb2dpblwiLFwid2lkdGg9XCIrcitcIixoZWlnaHQ9XCIrYStcIixzY3JvbGxiYXJzPTAsdG9wPVwiK3MrXCIsbGVmdD1cIituKX19KS5jb250cm9sbGVyKFwiUmVnaXN0ZXJDdHJsXCIsZnVuY3Rpb24oZSxyLHQsYSxzKXtlLm5ld1VzZXI9e30sZS5yZWdpc3Rlcj1mdW5jdGlvbigpe3QucmVnaXN0ZXJVc2VyKGUubmV3VXNlcikudGhlbihmdW5jdGlvbihlKXtpZihlLmRhdGEuZXJyb3JzKXt2YXIgdD1hLmNyZWF0ZUVycm9yTWVzc2FnZShlLmRhdGEuZXJyb3JzKTtzLmNyZWF0ZShcImRhbmdlclwiLHQsNWUzLHt9LCExKX1lbHNlIHMuY3JlYXRlKFwic3VjY2Vzc1wiLFwiVXNlciBoYXMgYmVlbiBjcmVhdGVkIHN1Y2Nlc3NmdWxseS4gWW91IGNhbiBub3cgbG9naW4uXCIsNWUzLHt9LCExKSxyLmdvKFwidXNlcnMtbG9naW4ubG9naW5cIil9KS5jYXRjaChmdW5jdGlvbihlKXtzLmNyZWF0ZShcImRhbmdlclwiLFwiVGhlcmUgd2FzIHNvbWUgZXJyb3IgdHJ5aW5nIHRvIGNyZWF0ZSB0aGUgdXNlci4gUGxlYXNlIHRyeSBhZ2FpbiBhZnRlciBzb21lIHRpbWUuXCIsNWUzLHt9LCExKX0pfX0pLmNvbnRyb2xsZXIoXCJTZXRVc2VyQ3RybFwiLGZ1bmN0aW9uKGUscix0LGEscyxuKXt2YXIgbz1yLmlkLGk9ci5lbWFpbDtlLnNldFVzZXJuYW1lPXt9LGUuc2V0VXNlcm5hbWUuZW1haWw9aSxlLnNhdmVVc2VybmFtZT1mdW5jdGlvbigpe2Euc2V0VXNlcm5hbWUoe2lkOm8sdXNlcm5hbWU6ZS5zZXRVc2VybmFtZS51c2VybmFtZX0pLnRoZW4oZnVuY3Rpb24ocil7aWYoci5kYXRhLmVycm9ycyl7dmFyIGE9SGVscGVyRmFjdG9yeS5jcmVhdGVFcnJvck1lc3NhZ2Uoci5kYXRhLmVycm9ycyk7cy5jcmVhdGUoXCJkYW5nZXJcIixhLDVlMyx7fSwhMSl9ZWxzZSBuLnNldFVzZXIoci5kYXRhLnVzZXIpLGUuJGVtaXQoXCJzdWNjZXNzZnVsLWxvZ2luXCIpLHQuZ28oXCJ0aWNrZXQubXktdGlja2V0c1wiKSxzLmNyZWF0ZShcInN1Y2Nlc3NcIixcIlVzZXJuYW1lIGhhcyBiZWVuIHNldCBzdWNjZXNzZnVsbHkuXCIsNWUzLHt9LCExKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3MuY3JlYXRlKFwiZGFuZ2VyXCIsXCJUaGVyZSB3YXMgc29tZSBlcnJvciB0cnlpbmcgdG8gc2V0IHRoZSB1c2VybmFtZS4gUGxlYXNlIHRyeSBhZ2FpbiBhZnRlciBzb21lIHRpbWUuXCIsNWUzLHt9LCExKX0pfX0pLmNvbnRyb2xsZXIoXCJNYWluTG9naW5DdHJsXCIsZnVuY3Rpb24oZSxyLHQpe3Iuc3RhdGVuYW1lPXQuY3VycmVudC5uYW1lLGUuJG9uKFwiJHN0YXRlQ2hhbmdlU3RhcnRcIixmdW5jdGlvbihlLHQsYSxzLG4pe3Iuc3RhdGVuYW1lPXQubmFtZX0pfSk7XG5hbmd1bGFyLm1vZHVsZShcInRpY2tldFN5c3RlbVwiKS5jb250cm9sbGVyKFwiTWFuYWdlVXNlcnNDdHJsXCIsZnVuY3Rpb24oZSxzLGEscixpLHQsbil7dmFyIHU9ZnVuY3Rpb24oKXtyZXR1cm5cIlwifSxjPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09ITA/XCJmYSBmYS1jaGVja1wiOlwiZmEgZmEtcmVtb3ZlXCJ9LG89ZnVuY3Rpb24oKXtyZXR1cm5cIlwifSxsPWZ1bmN0aW9uKGUpe3JldHVybiBlLmluZGV4T2YoXCJBZG1pblwiKT4tMT9cImZhIGZhLWNoZWNrXCI6XCJmYSBmYS1yZW1vdmVcIn07ZS5jb25maWc9e30sZS5jb25maWcudXJsPVwiL2FkbWluL3VzZXJzLWRldGFpbHNcIixlLmNvbmZpZy5jb2x1bW5zPVtdLGUuY29uZmlnLmNvbHVtbnMucHVzaCh7a2V5OlwidXNlcm5hbWVcIixuYW1lOlwiVXNlcm5hbWVcIixjc3NDbGFzczpcImNvbC1tZC02XCJ9KSxlLmNvbmZpZy5jb2x1bW5zLnB1c2goe2tleTpcImlzQWN0aXZlXCIsbmFtZTpcIklzIEFjdGl2ZVwiLGNzc0NsYXNzOlwiY29sLW1kLTNcIixyZW5kZXI6dSxyZW5kZXJDbGFzczpjfSksZS5jb25maWcuY29sdW1ucy5wdXNoKHtrZXk6XCJyb2xlXCIsbmFtZTpcIklzIEFkbWluXCIsY3NzQ2xhc3M6XCJjb2wtbWQtM1wiLHJlbmRlcjpvLHJlbmRlckNsYXNzOmx9KSxlLmNvbmZpZy5zb3J0UXVlcnlzdHJpbmdQYXJhbT1cInNvcnRcIixlLmNvbmZpZy5vcmRlclF1ZXJ5c3RyaW5nUGFyYW09XCJvcmRlclwiLGUuY29uZmlnLnBhZ2VRdWVyeXN0cmluZ1BhcmFtPVwicGFnZVwiLGUuY29uZmlnLnNpemVRdWVyeXN0cmluZ1BhcmFtPVwic2l6ZVwiLGUuY29uZmlnLm9iamVjdE5hbWU9XCJ1c2Vyc1wiLGUuY29uZmlnLm9uUm93Q2xpY2s9ZnVuY3Rpb24oZSl7cy5nbyhcImFkbWluLWVkaXRcIix7dXNlcm5hbWU6ZS51c2VybmFtZX0pfSxlLmlzQWN0aXZlPXt9LGUuaXNBZG1pbj17fSxlLnVzZXJEZXRhaWxzPXt9LGUudXNlckRldGFpbHMuZ2V0VXNlckRldGFpbHM9ZnVuY3Rpb24oKXt2YXIgcz1hLnVzZXJuYW1lO3QuZ2V0VXNlckRldGFpbHMocykudGhlbihmdW5jdGlvbihzKXtlLnVzZXJEZXRhaWxzLnVzZXJuYW1lPXMuZGF0YS51c2VyLnVzZXJuYW1lLGUudXNlckRldGFpbHMuZmlyc3RuYW1lPXMuZGF0YS51c2VyLmZpcnN0bmFtZSxlLnVzZXJEZXRhaWxzLmxhc3RuYW1lPXMuZGF0YS51c2VyLmxhc3RuYW1lLGUudXNlckRldGFpbHMuaWQ9cy5kYXRhLnVzZXIuX2lkO3ZhciBhPXMuZGF0YS51c2VyLnJvbGU7YS5pbmRleE9mKFwiQWRtaW5cIik+LTE/ZS51c2VyRGV0YWlscy5pc0FkbWluPSEwOmUudXNlckRldGFpbHMuaXNBZG1pbj0hMSxlLnVzZXJEZXRhaWxzLmlzQWN0aXZlPXMuZGF0YS51c2VyLmlzQWN0aXZlLGUudXNlckRldGFpbHMuZW1haWw9cy5kYXRhLnVzZXIuZW1haWwsZS5pc0FjdGl2ZS5rZXk9XCJpc0FjdGl2ZVwiLGUuaXNBY3RpdmUudmFsdWU9ZS51c2VyRGV0YWlscy5pc0FjdGl2ZSxlLmlzQWRtaW4ua2V5PVwiaXNBZG1pblwiLGUuaXNBZG1pbi52YWx1ZT1lLnVzZXJEZXRhaWxzLmlzQWRtaW59KS5jYXRjaChmdW5jdGlvbihlKXtuLmNyZWF0ZShcImRhbmdlclwiLFwiVGhlcmUgd2FzIHNvbWUgZXJyb3IgdHJ5aW5nIHRvIGZldGNoIHVzZXIgZGV0YWlscy4gUGxlYXNlIHRyeSBhZ2FpbiBhZnRlciBzb21lIHRpbWUuXCIsNWUzLHt9LCExKX0pfSxlLnVzZXJEZXRhaWxzLnVwZGF0ZT1mdW5jdGlvbigpe2UudXNlckRldGFpbHMuaXNBZG1pbj1lLmlzQWRtaW4udmFsdWUsZS51c2VyRGV0YWlscy5pc0FjdGl2ZT1lLmlzQWN0aXZlLnZhbHVlLHQudXBkYXRlVXNlckRldGFpbHMoZS51c2VyRGV0YWlscy51c2VybmFtZSxlLnVzZXJEZXRhaWxzKS50aGVuKGZ1bmN0aW9uKGUpe24uY3JlYXRlKFwic3VjY2Vzc1wiLFwiVXNlciBkZXRhaWxzIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIsNWUzLHt9LCExKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24uY3JlYXRlKFwiZGFuZ2VyXCIsXCJUaGVyZSB3YXMgc29tZSBlcnJvciB0cnlpbmcgdG8gdXBkYXRlIHVzZXIgZGV0YWlscy4gUGxlYXNlIHRyeSBhZ2FpbiBhZnRlciBzb21lIHRpbWUuXCIsNWUzLHt9LCExKX0pfSxlLnJlc2V0UGFzc3dvcmQ9e30sZS5yZXNldFBhc3N3b3JkLnJlc2V0PWZ1bmN0aW9uKCl7dmFyIHI9YS5pZDt0LnJlc2V0UGFzc3dvcmQocixlLnJlc2V0UGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZS5kYXRhLmVycm9ycyl7dmFyIGE9aS5jcmVhdGVFcnJvck1lc3NhZ2UoZS5kYXRhLmVycm9ycyk7bi5jcmVhdGUoXCJkYW5nZXJcIixhLDVlMyx7fSwhMSl9ZWxzZSBuLmNyZWF0ZShcInN1Y2Nlc3NcIixcIlBhc3N3b3JkIGhhcyBiZWVuIHJlc2V0IHN1Y2Nlc3NmdWxseVwiLDVlMyx7fSwhMSkscy5nbyhcImFkbWluLXVzZXItbWFuYWdlbWVudFwiKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe24uY3JlYXRlKFwiZGFuZ2VyXCIsXCJUaGUgcmVxdWVzdCBjb3VsZCBub3QgYmVuIG1hZGUgc3VjY2Vzc2Z1bGx5LiBQbGVhc2UgdHJ5IGxhdGVyXCIsNWUzLHt9LCExKX0pfX0pOyJdLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
